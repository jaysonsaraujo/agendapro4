const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-C31kVfvP.js","assets/vendor-LjyDQXYX.js","assets/index.es-boT6eSKl.js","assets/ui-CWyxw5ux.js"])))=>i.map(i=>d[i]);
var hue=Object.defineProperty;var wL=t=>{throw TypeError(t)};var mue=(t,e,r)=>e in t?hue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Rt=(t,e,r)=>mue(t,typeof e!="symbol"?e+"":e,r),BC=(t,e,r)=>e.has(t)||wL("Cannot "+r);var Ee=(t,e,r)=>(BC(t,e,"read from private field"),r?r.call(t):e.get(t)),fr=(t,e,r)=>e.has(t)?wL("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Gt=(t,e,r,n)=>(BC(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Yr=(t,e,r)=>(BC(t,e,"access private method"),r);var yS=(t,e,r,n)=>({set _(a){Gt(t,e,a,r)},get _(){return Ee(t,e,n)}});import{c as Ju,a as zW,u as Jn,j as o,B as pue,P as Sr,b as kh,d as ed,e as Er,f as ql,V as VW,R as gue,g as p3,h as Gu,i as vue,C as HW,k as yue,l as xue,T as bue,m as WW,I as qW,F as GW,n as RA,o as YW,p as KW,q as XW,r as ZW,s as QW,D as JW,t as eq,v as tq,w as Wc,A as g3,x as rq,y as LA,z as wue,E as v3,O as y3,G as nq,H as x3,J as Sue,K as aq,L as iq,M as sq,N as _ue,Q as jue,S as Nue,U as Aue,W as Z1,X as Eue,Y as Cue,Z as oq,_ as lq,$ as Tue,a0 as FA,a1 as cq,a2 as uq,a3 as kue,a4 as dq,a5 as fq,a6 as Pue,a7 as hq,a8 as mq,a9 as pq,aa as gq,ab as vq,ac as yq,ad as xq,ae as Due,af as Oue,ag as bq,ah as Iue,ai as wq,aj as Sq,ak as _q,al as jq,am as Nq,an as Mue,ao as Rue}from"./ui-CWyxw5ux.js";import{a as Ph,r as N,R as W,b as Aq,g as Lue,d as Rs,u as ac,e as Ki,f as bn,h as Eq,N as Fue,B as $ue,i as Bue,j as Da}from"./vendor-LjyDQXYX.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Cq,SL=Ph;Cq=SL.createRoot,SL.hydrateRoot;const Uue=1,zue=1e6;let UC=0;function Vue(){return UC=(UC+1)%Number.MAX_SAFE_INTEGER,UC.toString()}const zC=new Map,_L=t=>{if(zC.has(t))return;const e=setTimeout(()=>{zC.delete(t),m1({type:"REMOVE_TOAST",toastId:t})},zue);zC.set(t,e)},Hue=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Uue)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?_L(r):t.toasts.forEach(n=>{_L(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},M_=[];let R_={toasts:[]};function m1(t){R_=Hue(R_,t),M_.forEach(e=>{e(R_)})}function L_({...t}){const e=Vue(),r=a=>m1({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>m1({type:"DISMISS_TOAST",toastId:e});return m1({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function ga(){const[t,e]=N.useState(R_);return N.useEffect(()=>(M_.push(e),()=>{const r=M_.indexOf(e);r>-1&&M_.splice(r,1)}),[t]),{...t,toast:L_,dismiss:r=>m1({type:"DISMISS_TOAST",toastId:r})}}var b3="ToastProvider",[w3,Wue,que]=zW("Toast"),[Tq,ubt]=Ju("Toast",[que]),[Gue,$A]=Tq(b3),kq=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=t,[l,c]=N.useState(null),[u,d]=N.useState(0),f=N.useRef(!1),m=N.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${b3}\`. Expected non-empty \`string\`.`),o.jsx(w3.Provider,{scope:e,children:o.jsx(Gue,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>d(h=>h+1),[]),onToastRemove:N.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:s})})};kq.displayName=b3;var Pq="ToastViewport",Yue=["F8"],hk="toast.viewportPause",mk="toast.viewportResume",Dq=N.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=Yue,label:a="Notifications ({hotkey})",...i}=t,s=$A(Pq,r),l=Wue(r),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),f=N.useRef(null),m=Jn(e,f,s.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=s.toastCount>0;N.useEffect(()=>{const p=y=>{var b;n.length!==0&&n.every(w=>y[w]||y.code===w)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]),N.useEffect(()=>{const p=c.current,y=f.current;if(v&&p&&y){const x=()=>{if(!s.isClosePausedRef.current){const j=new CustomEvent(hk);y.dispatchEvent(j),s.isClosePausedRef.current=!0}},b=()=>{if(s.isClosePausedRef.current){const j=new CustomEvent(mk);y.dispatchEvent(j),s.isClosePausedRef.current=!1}},w=j=>{!p.contains(j.relatedTarget)&&b()},_=()=>{p.contains(document.activeElement)||b()};return p.addEventListener("focusin",x),p.addEventListener("focusout",w),p.addEventListener("pointermove",x),p.addEventListener("pointerleave",_),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{p.removeEventListener("focusin",x),p.removeEventListener("focusout",w),p.removeEventListener("pointermove",x),p.removeEventListener("pointerleave",_),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[v,s.isClosePausedRef]);const g=N.useCallback(({tabbingDirection:p})=>{const x=l().map(b=>{const w=b.ref.current,_=[w,...ode(w)];return p==="forwards"?_:_.reverse()});return(p==="forwards"?x.reverse():x).flat()},[l]);return N.useEffect(()=>{const p=f.current;if(p){const y=x=>{var _,j,A;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const E=document.activeElement,T=x.shiftKey;if(x.target===p&&T){(_=u.current)==null||_.focus();return}const P=g({tabbingDirection:T?"backwards":"forwards"}),I=P.findIndex(L=>L===E);VC(P.slice(I+1))?x.preventDefault():T?(j=u.current)==null||j.focus():(A=d.current)==null||A.focus()}};return p.addEventListener("keydown",y),()=>p.removeEventListener("keydown",y)}},[l,g]),o.jsxs(pue,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(pk,{ref:u,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"forwards"});VC(p)}}),o.jsx(w3.Slot,{scope:r,children:o.jsx(Sr.ol,{tabIndex:-1,...i,ref:m})}),v&&o.jsx(pk,{ref:d,onFocusFromOutsideViewport:()=>{const p=g({tabbingDirection:"backwards"});VC(p)}})]})});Dq.displayName=Pq;var Oq="ToastFocusProxy",pk=N.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=$A(Oq,r);return o.jsx(VW,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});pk.displayName=Oq;var Dw="Toast",Kue="toast.swipeStart",Xue="toast.swipeMove",Zue="toast.swipeCancel",Que="toast.swipeEnd",Iq=N.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=t,[l,c]=kh({prop:n,defaultProp:a??!0,onChange:i,caller:Dw});return o.jsx(ed,{present:r||l,children:o.jsx(tde,{open:l,...s,ref:e,onClose:()=>c(!1),onPause:ql(t.onPause),onResume:ql(t.onResume),onSwipeStart:Er(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Er(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Er(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Er(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Iq.displayName=Dw;var[Jue,ede]=Tq(Dw,{onClose(){}}),tde=N.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...v}=t,g=$A(Dw,r),[p,y]=N.useState(null),x=Jn(e,L=>y(L)),b=N.useRef(null),w=N.useRef(null),_=a||g.duration,j=N.useRef(0),A=N.useRef(_),E=N.useRef(0),{onToastAdd:T,onToastRemove:R}=g,D=ql(()=>{var V;(p==null?void 0:p.contains(document.activeElement))&&((V=g.viewport)==null||V.focus()),s()}),P=N.useCallback(L=>{!L||L===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(D,L))},[D]);N.useEffect(()=>{const L=g.viewport;if(L){const V=()=>{P(A.current),u==null||u()},H=()=>{const q=new Date().getTime()-j.current;A.current=A.current-q,window.clearTimeout(E.current),c==null||c()};return L.addEventListener(hk,H),L.addEventListener(mk,V),()=>{L.removeEventListener(hk,H),L.removeEventListener(mk,V)}}},[g.viewport,_,c,u,P]),N.useEffect(()=>{i&&!g.isClosePausedRef.current&&P(_)},[i,_,g.isClosePausedRef,P]),N.useEffect(()=>(T(),()=>R()),[T,R]);const I=N.useMemo(()=>p?Uq(p):null,[p]);return g.viewport?o.jsxs(o.Fragment,{children:[I&&o.jsx(rde,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),o.jsx(Jue,{scope:r,onClose:D,children:Ph.createPortal(o.jsx(w3.ItemSlot,{scope:r,children:o.jsx(gue,{asChild:!0,onEscapeKeyDown:Er(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Sr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Er(t.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Er(t.onPointerDown,L=>{L.button===0&&(b.current={x:L.clientX,y:L.clientY})}),onPointerMove:Er(t.onPointerMove,L=>{if(!b.current)return;const V=L.clientX-b.current.x,H=L.clientY-b.current.y,q=!!w.current,G=["left","right"].includes(g.swipeDirection),re=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Z=G?re(0,V):0,de=G?0:re(0,H),k=L.pointerType==="touch"?10:2,F={x:Z,y:de},B={originalEvent:L,delta:F};q?(w.current=F,xS(Xue,f,B,{discrete:!1})):jL(F,g.swipeDirection,k)?(w.current=F,xS(Kue,d,B,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(V)>k||Math.abs(H)>k)&&(b.current=null)}),onPointerUp:Er(t.onPointerUp,L=>{const V=w.current,H=L.target;if(H.hasPointerCapture(L.pointerId)&&H.releasePointerCapture(L.pointerId),w.current=null,b.current=null,V){const q=L.currentTarget,G={originalEvent:L,delta:V};jL(V,g.swipeDirection,g.swipeThreshold)?xS(Que,h,G,{discrete:!0}):xS(Zue,m,G,{discrete:!0}),q.addEventListener("click",re=>re.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),rde=t=>{const{__scopeToast:e,children:r,...n}=t,a=$A(Dw,e),[i,s]=N.useState(!1),[l,c]=N.useState(!1);return ide(()=>s(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(p3,{asChild:!0,children:o.jsx(VW,{...n,children:i&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},nde="ToastTitle",Mq=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(Sr.div,{...n,ref:e})});Mq.displayName=nde;var ade="ToastDescription",Rq=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return o.jsx(Sr.div,{...n,ref:e})});Rq.displayName=ade;var Lq="ToastAction",Fq=N.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?o.jsx(Bq,{altText:r,asChild:!0,children:o.jsx(S3,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Lq}\`. Expected non-empty \`string\`.`),null)});Fq.displayName=Lq;var $q="ToastClose",S3=N.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=ede($q,r);return o.jsx(Bq,{asChild:!0,children:o.jsx(Sr.button,{type:"button",...n,ref:e,onClick:Er(t.onClick,a.onClose)})})});S3.displayName=$q;var Bq=N.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return o.jsx(Sr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function Uq(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),sde(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...Uq(n))}}),e}function xS(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?vue(a,i):a.dispatchEvent(i)}var jL=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return e==="left"||e==="right"?i&&n>r:!i&&a>r};function ide(t=()=>{}){const e=ql(t);Gu(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function sde(t){return t.nodeType===t.ELEMENT_NODE}function ode(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function VC(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var lde=kq,zq=Dq,Vq=Iq,Hq=Mq,Wq=Rq,qq=Fq,Gq=S3;function Yq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Yq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Lr(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Yq(t))&&(n&&(n+=" "),n+=e);return n}const NL=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,AL=Lr,Ow=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return AL(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const m=NL(d)||NL(f);return a[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(v=>{let[g,p]=v;return Array.isArray(p)?p.includes({...i,...l}[g]):{...i,...l}[g]===p})?[...u,f,m]:u},[]);return AL(t,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kq=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ude={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>N.createElement("svg",{ref:c,...ude,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Kq("lucide",a),...l},[...s.map(([u,d])=>N.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(t,e)=>{const r=N.forwardRef(({className:n,...a},i)=>N.createElement(dde,{ref:i,iconNode:e,className:Kq(`lucide-${cde(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=ft("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=ft("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=ft("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=ft("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=ft("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=ft("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=ft("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=ft("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=ft("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ft("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=ft("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=ft("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=ft("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=ft("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=ft("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ft("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=ft("ChartColumnIncreasing",[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ft("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=ft("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=ft("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ft("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ft("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=ft("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=ft("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qq=ft("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=ft("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=ft("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=ft("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=ft("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=ft("Clock10",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 8 10",key:"atfzqc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=ft("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=ft("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=ft("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ft("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=ft("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=ft("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=ft("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=ft("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=ft("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=ft("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=ft("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ft("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=ft("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=ft("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=ft("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=ft("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=ft("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=ft("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=ft("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ft("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=ft("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=ft("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=ft("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=ft("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=ft("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ft("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=ft("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=ft("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ft("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dde=ft("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ft("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=ft("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=ft("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=ft("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ft("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=ft("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mde=ft("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ft("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rde=ft("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=ft("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=ft("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=ft("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ft("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=ft("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=ft("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $de=ft("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=ft("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=ft("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=ft("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=ft("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ft("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=ft("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=ft("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=ft("TextQuote",[["path",{d:"M17 6H3",key:"16j9eg"}],["path",{d:"M21 12H8",key:"scolzb"}],["path",{d:"M21 18H8",key:"1wfozv"}],["path",{d:"M3 12v6",key:"fv4c87"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=ft("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=ft("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=ft("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=ft("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=ft("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qde=ft("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=ft("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=ft("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=ft("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=ft("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),T3="-",Xde=t=>{const e=Qde(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const l=s.split(T3);return l[0]===""&&l.length!==1&&l.shift(),sG(l,e)||Zde(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},sG=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?sG(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(T3);return(s=e.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},IL=/^\[(.+)\]$/,Zde=t=>{if(IL.test(t)){const e=IL.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Qde=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return efe(Object.entries(t.classGroups),r).forEach(([i,s])=>{bk(s,n,i,e)}),n},bk=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:ML(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(Jde(a)){bk(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{bk(s,ML(e,i),r,n)})})},ML=(t,e)=>{let r=t;return e.split(T3).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Jde=t=>t.isThemeGetter,efe=(t,e)=>e?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[e+s,l])):i);return[r,a]}):t,tfe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},oG="!",rfe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],i=e.length,s=l=>{const c=[];let u=0,d=0,f;for(let p=0;p<l.length;p++){let y=l[p];if(u===0){if(y===a&&(n||l.slice(p,p+i)===e)){c.push(l.slice(d,p)),d=p+i;continue}if(y==="/"){f=p;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?l:l.substring(d),h=m.startsWith(oG),v=h?m.substring(1):m,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:s}):s},nfe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},afe=t=>({cache:tfe(t.cacheSize),parseClassName:rfe(t),...Xde(t)}),ife=/\s+/,sfe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,i=[],s=t.trim().split(ife);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=r(u);let v=!!h,g=n(v?m.substring(0,h):m);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(m),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const p=nfe(d).join(":"),y=f?p+oG:p,x=y+g;if(i.includes(x))continue;i.push(x);const b=a(g,v);for(let w=0;w<b.length;++w){const _=b[w];i.push(y+_)}l=u+(l.length>0?" "+l:l)}return l};function ofe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=lG(e))&&(n&&(n+=" "),n+=r);return n}const lG=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=lG(t[n]))&&(r&&(r+=" "),r+=e);return r};function lfe(t,...e){let r,n,a,i=s;function s(c){const u=e.reduce((d,f)=>f(d),t());return r=afe(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=sfe(c,r);return a(c,d),d}return function(){return i(ofe.apply(null,arguments))}}const da=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},cG=/^\[(?:([a-z-]+):)?(.+)\]$/i,cfe=/^\d+\/\d+$/,ufe=new Set(["px","full","screen"]),dfe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ffe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hfe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mfe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pfe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ad=t=>R0(t)||ufe.has(t)||cfe.test(t),If=t=>vy(t,"length",_fe),R0=t=>!!t&&!Number.isNaN(Number(t)),HC=t=>vy(t,"number",R0),Ax=t=>!!t&&Number.isInteger(Number(t)),gfe=t=>t.endsWith("%")&&R0(t.slice(0,-1)),Wr=t=>cG.test(t),Mf=t=>dfe.test(t),vfe=new Set(["length","size","percentage"]),yfe=t=>vy(t,vfe,uG),xfe=t=>vy(t,"position",uG),bfe=new Set(["image","url"]),wfe=t=>vy(t,bfe,Nfe),Sfe=t=>vy(t,"",jfe),Ex=()=>!0,vy=(t,e,r)=>{const n=cG.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},_fe=t=>ffe.test(t)&&!hfe.test(t),uG=()=>!1,jfe=t=>mfe.test(t),Nfe=t=>pfe.test(t),Afe=()=>{const t=da("colors"),e=da("spacing"),r=da("blur"),n=da("brightness"),a=da("borderColor"),i=da("borderRadius"),s=da("borderSpacing"),l=da("borderWidth"),c=da("contrast"),u=da("grayscale"),d=da("hueRotate"),f=da("invert"),m=da("gap"),h=da("gradientColorStops"),v=da("gradientColorStopPositions"),g=da("inset"),p=da("margin"),y=da("opacity"),x=da("padding"),b=da("saturate"),w=da("scale"),_=da("sepia"),j=da("skew"),A=da("space"),E=da("translate"),T=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Wr,e],P=()=>[Wr,e],I=()=>["",Ad,If],L=()=>["auto",R0,Wr],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",Wr],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>[R0,Wr];return{cacheSize:500,separator:":",theme:{colors:[Ex],spacing:[Ad,If],blur:["none","",Mf,Wr],brightness:de(),borderColor:[t],borderRadius:["none","","full",Mf,Wr],borderSpacing:P(),borderWidth:I(),contrast:de(),grayscale:re(),hueRotate:de(),invert:re(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[gfe,If],inset:D(),margin:D(),opacity:de(),padding:P(),saturate:de(),scale:de(),sepia:re(),skew:de(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Wr]}],container:["container"],columns:[{columns:[Mf]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),Wr]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ax,Wr]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Wr]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Ax,Wr]}],"grid-cols":[{"grid-cols":[Ex]}],"col-start-end":[{col:["auto",{span:["full",Ax,Wr]},Wr]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Ex]}],"row-start-end":[{row:["auto",{span:[Ax,Wr]},Wr]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Wr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Wr]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Wr,e]}],"min-w":[{"min-w":[Wr,e,"min","max","fit"]}],"max-w":[{"max-w":[Wr,e,"none","full","min","max","fit","prose",{screen:[Mf]},Mf]}],h:[{h:[Wr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Wr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Wr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Wr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Mf,If]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",HC]}],"font-family":[{font:[Ex]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Wr]}],"line-clamp":[{"line-clamp":["none",R0,HC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ad,Wr]}],"list-image":[{"list-image":["none",Wr]}],"list-style-type":[{list:["none","disc","decimal",Wr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ad,If]}],"underline-offset":[{"underline-offset":["auto",Ad,Wr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Wr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Wr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),xfe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yfe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wfe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:H()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Ad,Wr]}],"outline-w":[{outline:[Ad,If]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ad,If]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Mf,Sfe]}],"shadow-color":[{shadow:[Ex]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Mf,Wr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Wr]}],duration:[{duration:de()}],ease:[{ease:["linear","in","out","in-out",Wr]}],delay:[{delay:de()}],animate:[{animate:["none","spin","ping","pulse","bounce",Wr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Ax,Wr]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Wr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Wr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Wr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ad,If,HC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Efe=lfe(Afe);function lr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Yn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function $i(t,e){const r=lr(t);return isNaN(e)?Yn(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function tu(t,e){const r=lr(t);if(isNaN(e))return Yn(t,NaN);if(!e)return r;const n=r.getDate(),a=Yn(t,r.getTime());a.setMonth(r.getMonth()+e+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}function Cfe(t,e){const r=+lr(t);return Yn(t,r+e)}const k3=6048e5,Tfe=864e5,P3=6e4,VA=36e5,kfe=1e3,bS=43200,RL=1440;function Pfe(t,e){return Cfe(t,e*VA)}let Dfe={};function em(){return Dfe}function bl(t,e){var l,c,u,d;const r=em(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=lr(t),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Zd(t){return bl(t,{weekStartsOn:1})}function dG(t){const e=lr(t),r=e.getFullYear(),n=Yn(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Zd(n),i=Yn(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=Zd(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function wv(t){const e=lr(t);return e.setHours(0,0,0,0),e}function Oh(t){const e=lr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Pu(t,e){const r=wv(t),n=wv(e),a=+r-Oh(r),i=+n-Oh(n);return Math.round((a-i)/Tfe)}function Ofe(t){const e=dG(t),r=Yn(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Zd(r)}function wk(t,e){const r=e*7;return $i(t,r)}function Ife(t,e){return tu(t,e*12)}function Mfe(t){let e;return t.forEach(function(r){const n=lr(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function Rfe(t){let e;return t.forEach(r=>{const n=lr(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function F_(t,e){const r=lr(t),n=lr(e),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function fG(t){return Yn(t,Date.now())}function oo(t,e){const r=wv(t),n=wv(e);return+r==+n}function D3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Lfe(t){if(!D3(t)&&typeof t!="number")return!1;const e=lr(t);return!isNaN(Number(e))}function Sv(t,e){const r=lr(t),n=lr(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Ffe(t,e,r){const n=bl(t,r),a=bl(e,r),i=+n-Oh(n),s=+a-Oh(a);return Math.round((i-s)/k3)}function $fe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Bfe(t,e){return+lr(t)-+lr(e)}function Ufe(t){const e=lr(t);return e.setHours(23,59,59,999),e}function Mw(t){const e=lr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function zfe(t){const e=lr(t);return+Ufe(e)==+Mw(e)}function Vfe(t,e){const r=lr(t),n=lr(e),a=F_(r,n),i=Math.abs(Sv(r,n));let s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=F_(r,n)===-a;zfe(lr(t))&&i===1&&F_(t,n)===1&&(l=!1),s=a*(i-Number(l))}return s===0?0:s}function Hfe(t,e,r){const n=Bfe(t,e)/1e3;return $fe(r==null?void 0:r.roundingMethod)(n)}function mo(t){const e=lr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function hG(t){const e=lr(t),r=Yn(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function O3(t,e){var l,c,u,d;const r=em(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=lr(t),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function mG(t){return O3(t,{weekStartsOn:1})}const Wfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qfe=(t,e,r)=>{let n;const a=Wfe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function L0(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Gfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Yfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xfe={date:L0({formats:Gfe,defaultWidth:"full"}),time:L0({formats:Yfe,defaultWidth:"full"}),dateTime:L0({formats:Kfe,defaultWidth:"full"})},Zfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qfe=(t,e,r,n)=>Zfe[t];function Eu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[s]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const Jfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ehe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},the={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rhe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ahe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ihe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},she={ordinalNumber:ihe,era:Eu({values:Jfe,defaultWidth:"wide"}),quarter:Eu({values:ehe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Eu({values:the,defaultWidth:"wide"}),day:Eu({values:rhe,defaultWidth:"wide"}),dayPeriod:Eu({values:nhe,defaultWidth:"wide",formattingValues:ahe,defaultFormattingWidth:"wide"})};function Cu(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const s=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?lhe(l,f=>f.test(s)):ohe(l,f=>f.test(s));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(s.length);return{value:u,rest:d}}}function ohe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function lhe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function pG(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let s=t.valueCallback?t.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=e.slice(a.length);return{value:s,rest:l}}}const che=/^(\d+)(th|st|nd|rd)?/i,uhe=/\d+/i,dhe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fhe={any:[/^b/i,/^(a|c)/i]},hhe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mhe={any:[/1/i,/2/i,/3/i,/4/i]},phe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ghe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vhe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yhe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xhe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},whe={ordinalNumber:pG({matchPattern:che,parsePattern:uhe,valueCallback:t=>parseInt(t,10)}),era:Cu({matchPatterns:dhe,defaultMatchWidth:"wide",parsePatterns:fhe,defaultParseWidth:"any"}),quarter:Cu({matchPatterns:hhe,defaultMatchWidth:"wide",parsePatterns:mhe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cu({matchPatterns:phe,defaultMatchWidth:"wide",parsePatterns:ghe,defaultParseWidth:"any"}),day:Cu({matchPatterns:vhe,defaultMatchWidth:"wide",parsePatterns:yhe,defaultParseWidth:"any"}),dayPeriod:Cu({matchPatterns:xhe,defaultMatchWidth:"any",parsePatterns:bhe,defaultParseWidth:"any"})},HA={code:"en-US",formatDistance:qfe,formatLong:Xfe,formatRelative:Qfe,localize:she,match:whe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function She(t){const e=lr(t);return Pu(e,hG(e))+1}function I3(t){const e=lr(t),r=+Zd(e)-+Ofe(e);return Math.round(r/k3)+1}function M3(t,e){var d,f,m,h;const r=lr(t),n=r.getFullYear(),a=em(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,s=Yn(t,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=bl(s,e),c=Yn(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=bl(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function _he(t,e){var l,c,u,d;const r=em(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=M3(t,e),i=Yn(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),bl(i,e)}function R3(t,e){const r=lr(t),n=+bl(r,e)-+_he(r,e);return Math.round(n/k3)+1}function Ln(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Rf={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ln(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ln(r+1,2)},d(t,e){return Ln(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ln(t.getHours()%12||12,e.length)},H(t,e){return Ln(t.getHours(),e.length)},m(t,e){return Ln(t.getMinutes(),e.length)},s(t,e){return Ln(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ln(a,e.length)}},qg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LL={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Rf.y(t,e)},Y:function(t,e,r,n){const a=M3(t,n),i=a>0?a:1-a;if(e==="YY"){const s=i%100;return Ln(s,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ln(i,e.length)},R:function(t,e){const r=dG(t);return Ln(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ln(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ln(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ln(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Rf.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ln(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=R3(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Ln(a,e.length)},I:function(t,e,r){const n=I3(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ln(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Rf.d(t,e)},D:function(t,e,r){const n=She(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ln(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ln(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ln(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Ln(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=qg.noon:n===0?a=qg.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=qg.evening:n>=12?a=qg.afternoon:n>=4?a=qg.morning:a=qg.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Rf.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Rf.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ln(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ln(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Rf.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Rf.s(t,e)},S:function(t,e){return Rf.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return $L(n);case"XXXX":case"XX":return Fm(n);case"XXXXX":case"XXX":default:return Fm(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return $L(n);case"xxxx":case"xx":return Fm(n);case"xxxxx":case"xxx":default:return Fm(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FL(n,":");case"OOOO":default:return"GMT"+Fm(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FL(n,":");case"zzzz":default:return"GMT"+Fm(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ln(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ln(n,e.length)}};function FL(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+Ln(i,2)}function $L(t,e){return t%60===0?(t>0?"-":"+")+Ln(Math.abs(t)/60,2):Fm(t,e)}function Fm(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Ln(Math.trunc(n/60),2),i=Ln(n%60,2);return r+a+e+i}const BL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},gG=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},jhe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return BL(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",BL(n,e)).replace("{{time}}",gG(a,e))},Sk={p:gG,P:jhe},Nhe=/^D+$/,Ahe=/^Y+$/,Ehe=["D","DD","YY","YYYY"];function vG(t){return Nhe.test(t)}function yG(t){return Ahe.test(t)}function _k(t,e,r){const n=Che(t,e,r);if(console.warn(n),Ehe.includes(t))throw new RangeError(n)}function Che(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const The=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,khe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Phe=/^'([^]*?)'?$/,Dhe=/''/g,Ohe=/[a-zA-Z]/;function wr(t,e,r){var d,f,m,h,v,g,p,y;const n=em(),a=(r==null?void 0:r.locale)??n.locale??HA,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(p=n.locale)==null?void 0:p.options)==null?void 0:y.weekStartsOn)??0,l=lr(t);if(!Lfe(l))throw new RangeError("Invalid time value");let c=e.match(khe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const w=Sk[b];return w(x,a.formatLong)}return x}).join("").match(The).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:Ihe(x)};if(LL[b])return{isToken:!0,value:x};if(b.match(Ohe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&yG(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&vG(b))&&_k(b,e,String(t));const w=LL[b[0]];return w(l,b,a.localize,u)}).join("")}function Ihe(t){const e=t.match(Phe);return e?e[1].replace(Dhe,"'"):t}function Mhe(t,e,r){const n=em(),a=(r==null?void 0:r.locale)??n.locale??HA,i=2520,s=F_(t,e);if(isNaN(s))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let c,u;s>0?(c=lr(e),u=lr(t)):(c=lr(t),u=lr(e));const d=Hfe(u,c),f=(Oh(u)-Oh(c))/1e3,m=Math.round((d-f)/60);let h;if(m<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<RL){const v=Math.round(m/60);return a.formatDistance("aboutXHours",v,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<bS){const v=Math.round(m/RL);return a.formatDistance("xDays",v,l)}else if(m<bS*2)return h=Math.round(m/bS),a.formatDistance("aboutXMonths",h,l)}if(h=Vfe(u,c),h<12){const v=Math.round(m/bS);return a.formatDistance("xMonths",v,l)}else{const v=h%12,g=Math.trunc(h/12);return v<3?a.formatDistance("aboutXYears",g,l):v<9?a.formatDistance("overXYears",g,l):a.formatDistance("almostXYears",g+1,l)}}function UL(t,e){return Mhe(t,fG(t),e)}function Rhe(t){const e=lr(t),r=e.getFullYear(),n=e.getMonth(),a=Yn(t,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Lhe(){return Object.assign({},em())}function Fhe(t){let r=lr(t).getDay();return r===0&&(r=7),r}function $he(t){return lr(t).getMonth()}function Bhe(t){return Math.trunc(+lr(t)/1e3)}function Uhe(t){const e=lr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function zhe(t,e){return Ffe(Uhe(t),mo(t),e)+1}function wS(t){return lr(t).getFullYear()}function jk(t,e){const r=lr(t),n=lr(e);return r.getTime()>n.getTime()}function xG(t,e){const r=lr(t),n=lr(e);return+r<+n}function Vhe(t){return+lr(t)>Date.now()}function Hhe(t,e){const r=e instanceof Date?Yn(e,0):new e(0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}const Whe=10;class bG{constructor(){Rt(this,"subPriority",0)}validate(e,r){return!0}}class qhe extends bG{constructor(e,r,n,a,i){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class Ghe extends bG{constructor(){super(...arguments);Rt(this,"priority",Whe);Rt(this,"subPriority",-1)}set(r,n){return n.timestampIsSet?r:Yn(r,Hhe(r,Date))}}class En{run(e,r,n,a){const i=this.parse(e,r,n,a);return i?{setter:new qhe(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,r,n){return!0}}class Yhe extends En{constructor(){super(...arguments);Rt(this,"priority",140);Rt(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const ri={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Tu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ni(t,e){return t&&{value:e(t.value),rest:t.rest}}function ja(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function ku(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*VA+i*P3+s*kfe),rest:e.slice(r[0].length)}}function wG(t){return ja(ri.anyDigitsSigned,t)}function Ha(t,e){switch(t){case 1:return ja(ri.singleDigit,e);case 2:return ja(ri.twoDigits,e);case 3:return ja(ri.threeDigits,e);case 4:return ja(ri.fourDigits,e);default:return ja(new RegExp("^\\d{1,"+t+"}"),e)}}function mj(t,e){switch(t){case 1:return ja(ri.singleDigitSigned,e);case 2:return ja(ri.twoDigitsSigned,e);case 3:return ja(ri.threeDigitsSigned,e);case 4:return ja(ri.fourDigitsSigned,e);default:return ja(new RegExp("^-?\\d{1,"+t+"}"),e)}}function L3(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function SG(t,e){const r=e>0,n=r?e:1-e;let a;if(n<=50)a=t||100;else{const i=n+50,s=Math.trunc(i/100)*100,l=t>=i%100;a=t+s-(l?100:0)}return r?a:1-a}function _G(t){return t%400===0||t%4===0&&t%100!==0}class Khe extends En{constructor(){super(...arguments);Rt(this,"priority",130);Rt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return ni(Ha(4,r),i);case"yo":return ni(a.ordinalNumber(r,{unit:"year"}),i);default:return ni(Ha(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const l=SG(a.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const s=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class Xhe extends En{constructor(){super(...arguments);Rt(this,"priority",130);Rt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return ni(Ha(4,r),i);case"Yo":return ni(a.ordinalNumber(r,{unit:"year"}),i);default:return ni(Ha(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const s=M3(r,i);if(a.isTwoDigitYear){const c=SG(a.year,s);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),bl(r,i)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),bl(r,i)}}class Zhe extends En{constructor(){super(...arguments);Rt(this,"priority",130);Rt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return mj(n==="R"?4:n.length,r)}set(r,n,a){const i=Yn(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Zd(i)}}class Qhe extends En{constructor(){super(...arguments);Rt(this,"priority",130);Rt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return mj(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class Jhe extends En{constructor(){super(...arguments);Rt(this,"priority",120);Rt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Ha(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class eme extends En{constructor(){super(...arguments);Rt(this,"priority",120);Rt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Ha(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class tme extends En{constructor(){super(...arguments);Rt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Rt(this,"priority",110)}parse(r,n,a){const i=s=>s-1;switch(n){case"M":return ni(ja(ri.month,r),i);case"MM":return ni(Ha(2,r),i);case"Mo":return ni(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class rme extends En{constructor(){super(...arguments);Rt(this,"priority",110);Rt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=s=>s-1;switch(n){case"L":return ni(ja(ri.month,r),i);case"LL":return ni(Ha(2,r),i);case"Lo":return ni(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function nme(t,e,r){const n=lr(t),a=R3(n,r)-e;return n.setDate(n.getDate()-a*7),n}class ame extends En{constructor(){super(...arguments);Rt(this,"priority",100);Rt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return ja(ri.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Ha(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return bl(nme(r,a,i),i)}}function ime(t,e){const r=lr(t),n=I3(r)-e;return r.setDate(r.getDate()-n*7),r}class sme extends En{constructor(){super(...arguments);Rt(this,"priority",100);Rt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return ja(ri.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Ha(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Zd(ime(r,a))}}const ome=[31,28,31,30,31,30,31,31,30,31,30,31],lme=[31,29,31,30,31,30,31,31,30,31,30,31];class cme extends En{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"subPriority",1);Rt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return ja(ri.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Ha(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=_G(a),s=r.getMonth();return i?n>=1&&n<=lme[s]:n>=1&&n<=ome[s]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class ume extends En{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"subpriority",1);Rt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return ja(ri.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Ha(n.length,r)}}validate(r,n){const a=r.getFullYear();return _G(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function F3(t,e,r){var f,m,h,v;const n=em(),a=(r==null?void 0:r.weekStartsOn)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((v=(h=n.locale)==null?void 0:h.options)==null?void 0:v.weekStartsOn)??0,i=lr(t),s=i.getDay(),c=(e%7+7)%7,u=7-a,d=e<0||e>6?e-(s+u)%7:(c+u)%7-(s+u)%7;return $i(i,d)}class dme extends En{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=F3(r,a,i),r.setHours(0,0,0,0),r}}class fme extends En{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const s=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return ni(Ha(n.length,r),s);case"eo":return ni(a.ordinalNumber(r,{unit:"day"}),s);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=F3(r,a,i),r.setHours(0,0,0,0),r}}class hme extends En{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const s=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return ni(Ha(n.length,r),s);case"co":return ni(a.ordinalNumber(r,{unit:"day"}),s);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=F3(r,a,i),r.setHours(0,0,0,0),r}}function mme(t,e){const r=lr(t),n=Fhe(r),a=e-n;return $i(r,a)}class pme extends En{constructor(){super(...arguments);Rt(this,"priority",90);Rt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return Ha(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return ni(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return ni(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return ni(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return ni(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=mme(r,a),r.setHours(0,0,0,0),r}}class gme extends En{constructor(){super(...arguments);Rt(this,"priority",80);Rt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(L3(a),0,0,0),r}}class vme extends En{constructor(){super(...arguments);Rt(this,"priority",80);Rt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(L3(a),0,0,0),r}}class yme extends En{constructor(){super(...arguments);Rt(this,"priority",80);Rt(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(L3(a),0,0,0),r}}class xme extends En{constructor(){super(...arguments);Rt(this,"priority",70);Rt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return ja(ri.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ha(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class bme extends En{constructor(){super(...arguments);Rt(this,"priority",70);Rt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return ja(ri.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ha(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class wme extends En{constructor(){super(...arguments);Rt(this,"priority",70);Rt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return ja(ri.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ha(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class Sme extends En{constructor(){super(...arguments);Rt(this,"priority",70);Rt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return ja(ri.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ha(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class _me extends En{constructor(){super(...arguments);Rt(this,"priority",60);Rt(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return ja(ri.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Ha(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class jme extends En{constructor(){super(...arguments);Rt(this,"priority",50);Rt(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return ja(ri.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Ha(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class Nme extends En{constructor(){super(...arguments);Rt(this,"priority",30);Rt(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return ni(Ha(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class Ame extends En{constructor(){super(...arguments);Rt(this,"priority",10);Rt(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return ku(Tu.basicOptionalMinutes,r);case"XX":return ku(Tu.basic,r);case"XXXX":return ku(Tu.basicOptionalSeconds,r);case"XXXXX":return ku(Tu.extendedOptionalSeconds,r);case"XXX":default:return ku(Tu.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Yn(r,r.getTime()-Oh(r)-a)}}class Eme extends En{constructor(){super(...arguments);Rt(this,"priority",10);Rt(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return ku(Tu.basicOptionalMinutes,r);case"xx":return ku(Tu.basic,r);case"xxxx":return ku(Tu.basicOptionalSeconds,r);case"xxxxx":return ku(Tu.extendedOptionalSeconds,r);case"xxx":default:return ku(Tu.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Yn(r,r.getTime()-Oh(r)-a)}}class Cme extends En{constructor(){super(...arguments);Rt(this,"priority",40);Rt(this,"incompatibleTokens","*")}parse(r){return wG(r)}set(r,n,a){return[Yn(r,a*1e3),{timestampIsSet:!0}]}}class Tme extends En{constructor(){super(...arguments);Rt(this,"priority",20);Rt(this,"incompatibleTokens","*")}parse(r){return wG(r)}set(r,n,a){return[Yn(r,a),{timestampIsSet:!0}]}}const kme={G:new Yhe,y:new Khe,Y:new Xhe,R:new Zhe,u:new Qhe,Q:new Jhe,q:new eme,M:new tme,L:new rme,w:new ame,I:new sme,d:new cme,D:new ume,E:new dme,e:new fme,c:new hme,i:new pme,a:new gme,b:new vme,B:new yme,h:new xme,H:new bme,K:new wme,k:new Sme,m:new _me,s:new jme,S:new Nme,X:new Ame,x:new Eme,t:new Cme,T:new Tme},Pme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ome=/^'([^]*?)'?$/,Ime=/''/g,Mme=/\S/,Rme=/[a-zA-Z]/;function Lme(t,e,r,n){var g,p,y,x;const a=Lhe(),i=a.locale??HA,s=a.firstWeekContainsDate??((p=(g=a.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,l=a.weekStartsOn??((x=(y=a.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??0,c={firstWeekContainsDate:s,weekStartsOn:l,locale:i},u=[new Ghe],d=e.match(Dme).map(b=>{const w=b[0];if(w in Sk){const _=Sk[w];return _(b,i.formatLong)}return b}).join("").match(Pme),f=[];for(let b of d){yG(b)&&_k(b,e,t),vG(b)&&_k(b,e,t);const w=b[0],_=kme[w];if(_){const{incompatibleTokens:j}=_;if(Array.isArray(j)){const E=f.find(T=>j.includes(T.token)||T.token===w);if(E)throw new RangeError(`The format string mustn't contain \`${E.fullToken}\` and \`${b}\` at the same time`)}else if(_.incompatibleTokens==="*"&&f.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);f.push({token:w,fullToken:b});const A=_.run(t,b,i.match,c);if(!A)return Yn(r,NaN);u.push(A.setter),t=A.rest}else{if(w.match(Rme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");if(b==="''"?b="'":w==="'"&&(b=Fme(b)),t.indexOf(b)===0)t=t.slice(b.length);else return Yn(r,NaN)}}if(t.length>0&&Mme.test(t))return Yn(r,NaN);const m=u.map(b=>b.priority).sort((b,w)=>w-b).filter((b,w,_)=>_.indexOf(b)===w).map(b=>u.filter(w=>w.priority===b).sort((w,_)=>_.subPriority-w.subPriority)).map(b=>b[0]);let h=lr(r);if(isNaN(h.getTime()))return Yn(r,NaN);const v={};for(const b of m){if(!b.validate(h,c))return Yn(r,NaN);const w=b.set(h,v,c);Array.isArray(w)?(h=w[0],Object.assign(v,w[1])):h=w}return Yn(r,h)}function Fme(t){return t.match(Ome)[1].replace(Ime,"'")}function $3(t,e){const r=lr(t),n=lr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function $me(t,e){const r=lr(t),n=lr(e);return r.getFullYear()===n.getFullYear()}function zL(t){return oo(t,fG(t))}function p1(t,e){return $i(t,-e)}function Lu(t,e){const n=Vme(t);let a;if(n.date){const c=Hme(n.date,2);a=Wme(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let s=0,l;if(n.time&&(s=qme(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(l=Gme(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+s+l)}const SS={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Bme=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ume=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,zme=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Vme(t){const e={},r=t.split(SS.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],SS.timeZoneDelimiter.test(e.date)&&(e.date=t.split(SS.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=SS.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Hme(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function Wme(t,e){if(e===null)return new Date(NaN);const r=t.match(Bme);if(!r)return new Date(NaN);const n=!!r[4],a=Cx(r[1]),i=Cx(r[2])-1,s=Cx(r[3]),l=Cx(r[4]),c=Cx(r[5])-1;if(n)return Qme(e,l,c)?Yme(e,l,c):new Date(NaN);{const u=new Date(0);return!Xme(e,i,s)||!Zme(e,a)?new Date(NaN):(u.setUTCFullYear(e,i,Math.max(a,s)),u)}}function Cx(t){return t?parseInt(t):1}function qme(t){const e=t.match(Ume);if(!e)return NaN;const r=WC(e[1]),n=WC(e[2]),a=WC(e[3]);return Jme(r,n,a)?r*VA+n*P3+a*1e3:NaN}function WC(t){return t&&parseFloat(t.replace(",","."))||0}function Gme(t){if(t==="Z")return 0;const e=t.match(zme);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return epe(n,a)?r*(n*VA+a*P3):NaN}function Yme(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,i=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Kme=[31,null,31,30,31,30,31,31,30,31,30,31];function jG(t){return t%400===0||t%4===0&&t%100!==0}function Xme(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Kme[e]||(jG(t)?29:28))}function Zme(t,e){return e>=1&&e<=(jG(t)?366:365)}function Qme(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Jme(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function epe(t,e){return e>=0&&e<=59}function qC(t,e){const r=lr(t),n=r.getFullYear(),a=r.getDate(),i=Yn(t,0);i.setFullYear(n,e,15),i.setHours(0,0,0,0);const s=Rhe(i);return r.setMonth(e,Math.min(a,s)),r}function VL(t,e){const r=lr(t);return isNaN(+r)?Yn(t,NaN):(r.setFullYear(e),r)}const tpe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},rpe=(t,e,r)=>{let n;const a=tpe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",String(e)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},npe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},ape={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ipe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},spe={date:L0({formats:npe,defaultWidth:"full"}),time:L0({formats:ape,defaultWidth:"full"}),dateTime:L0({formats:ipe,defaultWidth:"full"})},ope={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},lpe=(t,e,r,n)=>{const a=ope[t];return typeof a=="function"?a(e):a},cpe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},upe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},dpe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},fpe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},hpe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},mpe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},ppe=(t,e)=>{const r=Number(t);return(e==null?void 0:e.unit)==="week"?r+"":r+""},gpe={ordinalNumber:ppe,era:Eu({values:cpe,defaultWidth:"wide"}),quarter:Eu({values:upe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Eu({values:dpe,defaultWidth:"wide"}),day:Eu({values:fpe,defaultWidth:"wide"}),dayPeriod:Eu({values:hpe,defaultWidth:"wide",formattingValues:mpe,defaultFormattingWidth:"wide"})},vpe=/^(\d+)[o]?/i,ype=/\d+/i,xpe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},bpe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},wpe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Spe={any:[/1/i,/2/i,/3/i,/4/i]},_pe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},jpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Npe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Ape={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Epe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Cpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Tpe={ordinalNumber:pG({matchPattern:vpe,parsePattern:ype,valueCallback:t=>parseInt(t,10)}),era:Cu({matchPatterns:xpe,defaultMatchWidth:"wide",parsePatterns:bpe,defaultParseWidth:"any"}),quarter:Cu({matchPatterns:wpe,defaultMatchWidth:"wide",parsePatterns:Spe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cu({matchPatterns:_pe,defaultMatchWidth:"wide",parsePatterns:jpe,defaultParseWidth:"any"}),day:Cu({matchPatterns:Npe,defaultMatchWidth:"wide",parsePatterns:Ape,defaultParseWidth:"any"}),dayPeriod:Cu({matchPatterns:Epe,defaultMatchWidth:"any",parsePatterns:Cpe,defaultParseWidth:"any"})},Kn={code:"pt-BR",formatDistance:rpe,formatLong:spe,formatRelative:lpe,localize:gpe,match:Tpe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kpe(t,e){const r=Mpe(e);return"formatToParts"in r?Dpe(r,t):Ope(r,t)}const Ppe={year:0,month:1,day:2,hour:3,minute:4,second:5};function Dpe(t,e){try{const r=t.formatToParts(e),n=[];for(let a=0;a<r.length;a++){const i=Ppe[r[a].type];i!==void 0&&(n[i]=parseInt(r[a].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function Ope(t,e){const r=t.format(e),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const GC={},HL=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Ipe=HL==="06/25/2014, 00:00:00"||HL==="06/25/2014 00:00:00";function Mpe(t){return GC[t]||(GC[t]=Ipe?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),GC[t]}function NG(t,e,r,n,a,i,s){const l=new Date(0);return l.setUTCFullYear(t,e,r),l.setUTCHours(n,a,i,s),l}const WL=36e5,Rpe=6e4,YC={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function AG(t,e,r){if(!t)return 0;let n=YC.timezoneZ.exec(t);if(n)return 0;let a,i;if(n=YC.timezoneHH.exec(t),n)return a=parseInt(n[1],10),qL(a)?-(a*WL):NaN;if(n=YC.timezoneHHMM.exec(t),n){a=parseInt(n[2],10);const s=parseInt(n[3],10);return qL(a,s)?(i=Math.abs(a)*WL+s*Rpe,n[1]==="+"?-i:i):NaN}if($pe(t)){e=new Date(e||Date.now());const s=r?e:Lpe(e),l=Nk(s,t);return-(r?l:Fpe(e,l,t))}return NaN}function Lpe(t){return NG(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Nk(t,e){const r=kpe(t,e),n=NG(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let a=t.getTime();const i=a%1e3;return a-=i>=0?i:1e3+i,n-a}function Fpe(t,e,r){let a=t.getTime()-e;const i=Nk(new Date(a),r);if(e===i)return e;a-=i-e;const s=Nk(new Date(a),r);return i===s?i:Math.max(i,s)}function qL(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}const GL={};function $pe(t){if(GL[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),GL[t]=!0,!0}catch{return!1}}function YL(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+t-+e}const Bpe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,KC=36e5,KL=6e4,Upe=2,so={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Bpe};function zpe(t,e={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);const r=e.additionalDigits==null?Upe:Number(e.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(Object.prototype.toString.call(t)!=="[object String]")return new Date(NaN);const n=Vpe(t),{year:a,restDateString:i}=Hpe(n.date,r),s=Wpe(i,a);if(s===null||isNaN(s.getTime()))return new Date(NaN);if(s){const l=s.getTime();let c=0,u;if(n.time&&(c=qpe(n.time),c===null||isNaN(c)))return new Date(NaN);if(n.timeZone||e.timeZone){if(u=AG(n.timeZone||e.timeZone,new Date(l+c)),isNaN(u))return new Date(NaN)}else u=YL(new Date(l+c)),u=YL(new Date(l+c+u));return new Date(l+c+u)}else return new Date(NaN)}function Vpe(t){const e={};let r=so.dateTimePattern.exec(t),n;if(r?(e.date=r[1],n=r[3]):(r=so.datePattern.exec(t),r?(e.date=r[1],n=r[2]):(e.date=null,n=t)),n){const a=so.timeZone.exec(n);a?(e.time=n.replace(a[1],""),e.timeZone=a[1].trim()):e.time=n}return e}function Hpe(t,e){if(t){const r=so.YYY[e],n=so.YYYYY[e];let a=so.YYYY.exec(t)||n.exec(t);if(a){const i=a[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(a=so.YY.exec(t)||r.exec(t),a){const i=a[1];return{year:parseInt(i,10)*100,restDateString:t.slice(i.length)}}}return{year:null}}function Wpe(t,e){if(e===null)return null;let r,n,a;if(!t||!t.length)return r=new Date(0),r.setUTCFullYear(e),r;let i=so.MM.exec(t);if(i)return r=new Date(0),n=parseInt(i[1],10)-1,ZL(e,n)?(r.setUTCFullYear(e,n),r):new Date(NaN);if(i=so.DDD.exec(t),i){r=new Date(0);const s=parseInt(i[1],10);return Kpe(e,s)?(r.setUTCFullYear(e,0,s),r):new Date(NaN)}if(i=so.MMDD.exec(t),i){r=new Date(0),n=parseInt(i[1],10)-1;const s=parseInt(i[2],10);return ZL(e,n,s)?(r.setUTCFullYear(e,n,s),r):new Date(NaN)}if(i=so.Www.exec(t),i)return a=parseInt(i[1],10)-1,QL(a)?XL(e,a):new Date(NaN);if(i=so.WwwD.exec(t),i){a=parseInt(i[1],10)-1;const s=parseInt(i[2],10)-1;return QL(a,s)?XL(e,a,s):new Date(NaN)}return null}function qpe(t){let e,r,n=so.HH.exec(t);if(n)return e=parseFloat(n[1].replace(",",".")),XC(e)?e%24*KC:NaN;if(n=so.HHMM.exec(t),n)return e=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),XC(e,r)?e%24*KC+r*KL:NaN;if(n=so.HHMMSS.exec(t),n){e=parseInt(n[1],10),r=parseInt(n[2],10);const a=parseFloat(n[3].replace(",","."));return XC(e,r,a)?e%24*KC+r*KL+a*1e3:NaN}return null}function XL(t,e,r){e=e||0,r=r||0;const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,i=e*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Gpe=[31,28,31,30,31,30,31,31,30,31,30,31],Ype=[31,29,31,30,31,30,31,31,30,31,30,31];function EG(t){return t%400===0||t%4===0&&t%100!==0}function ZL(t,e,r){if(e<0||e>11)return!1;if(r!=null){if(r<1)return!1;const n=EG(t);if(n&&r>Ype[e]||!n&&r>Gpe[e])return!1}return!0}function Kpe(t,e){if(e<1)return!1;const r=EG(t);return!(r&&e>366||!r&&e>365)}function QL(t,e){return!(t<0||t>52||e!=null&&(e<0||e>6))}function XC(t,e,r){return!(t<0||t>=25||e!=null&&(e<0||e>=60)||r!=null&&(r<0||r>=60))}function JL(t,e,r){t=zpe(t,r);const n=AG(e,t,!0),a=new Date(t.getTime()-n),i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}function Ke(...t){return Efe(Lr(t))}const eF="America/Sao_Paulo";function tF(t,e){try{const r=t.split("-").map(Number),n=e.split(":").map(Number),a=new Date(Date.UTC(r[0],r[1]-1,r[2],n[0],n[1])),i=Pfe(a,3),s=JL(i,eF),l=JL(new Date,eF);if(zL(s)){const c=s.getTime()-l.getTime();if(c<0)return"Agendamento j passou";const u=Math.floor(c/(1e3*60*60)),d=Math.floor(c%(1e3*60*60)/(1e3*60));return u>0?`em ${u}h e ${d}min`:`em ${d} minutos`}else return zL($i(s,-1))?"amanh":Vhe(s)?UL(s,{addSuffix:!0,locale:Kn}):UL(s,{addSuffix:!0,locale:Kn})}catch(r){return console.error("Error formatting date:",r),""}}function WA(t){const e=t.replace(/\D/g,"");return e.startsWith("55")&&e.length>=12?e:e.length>=10&&e.length<=11?`55${e}`:e}function Ak(t){const e=t.replace(/\D/g,""),r=e.startsWith("55")?e.substring(2):e;return r.length===11?`(${r.substring(0,2)}) ${r.substring(2,7)}-${r.substring(7)}`:r.length===10?`(${r.substring(0,2)}) ${r.substring(2,6)}-${r.substring(6)}`:t}const Xpe=lde,CG=N.forwardRef(({className:t,...e},r)=>o.jsx(zq,{ref:r,className:Ke("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));CG.displayName=zq.displayName;const Zpe=Ow("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TG=N.forwardRef(({className:t,variant:e,...r},n)=>o.jsx(Vq,{ref:n,className:Ke(Zpe({variant:e}),t),...r}));TG.displayName=Vq.displayName;const Qpe=N.forwardRef(({className:t,...e},r)=>o.jsx(qq,{ref:r,className:Ke("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Qpe.displayName=qq.displayName;const kG=N.forwardRef(({className:t,...e},r)=>o.jsx(Gq,{ref:r,className:Ke("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Dh,{className:"h-4 w-4"})}));kG.displayName=Gq.displayName;const PG=N.forwardRef(({className:t,...e},r)=>o.jsx(Hq,{ref:r,className:Ke("text-sm font-semibold",t),...e}));PG.displayName=Hq.displayName;const DG=N.forwardRef(({className:t,...e},r)=>o.jsx(Wq,{ref:r,className:Ke("text-sm opacity-90",t),...e}));DG.displayName=Wq.displayName;function Jpe(){const{toasts:t}=ga();return o.jsxs(Xpe,{children:[t.map(function({id:e,title:r,description:n,action:a,...i}){return o.jsxs(TG,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(PG,{children:r}),n&&o.jsx(DG,{children:n})]}),a,o.jsx(kG,{})]},e)}),o.jsx(CG,{})]})}var rF=["light","dark"],ege="(prefers-color-scheme: dark)",tge=N.createContext(void 0),rge={setTheme:t=>{},themes:[]},nge=()=>{var t;return(t=N.useContext(tge))!=null?t:rge};N.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?rF.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(v,g=!1,p=!0)=>{let y=s?s[v]:v,x=g?v+"|| ''":`'${y}'`,b="";return a&&p&&!g&&rF.includes(v)&&(b+=`d.style.colorScheme = '${v}';`),r==="class"?g||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},h=t?`!function(){${d}${m(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${ege}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${m(s?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${m(s?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return N.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});var age=t=>{switch(t){case"success":return oge;case"info":return cge;case"warning":return lge;case"error":return uge;default:return null}},ige=Array(12).fill(0),sge=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},ige.map((r,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),oge=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lge=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cge=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uge=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dge=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fge=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Ek=1,hge=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...a}=e,i=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:Ek++,s=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:n}),{...c,...e,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=e instanceof Promise?e:e(),i=n!==void 0,s,l=a.then(async u=>{if(s=["resolve",u],W.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(pge(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:f})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||Ek++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Co=new hge,mge=(t,e)=>{let r=(e==null?void 0:e.id)||Ek++;return Co.addToast({title:t,...e,id:r}),r},pge=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",gge=mge,vge=()=>Co.toasts,yge=()=>Co.getActiveToasts(),Oe=Object.assign(gge,{success:Co.success,info:Co.info,warning:Co.warning,error:Co.error,custom:Co.custom,message:Co.message,promise:Co.promise,dismiss:Co.dismiss,loading:Co.loading},{getHistory:vge,getToasts:yge});function xge(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}xge(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function _S(t){return t.label!==void 0}var bge=3,wge="32px",Sge="16px",nF=4e3,_ge=356,jge=14,Nge=20,Age=200;function gc(...t){return t.filter(Boolean).join(" ")}function Ege(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var Cge=t=>{var e,r,n,a,i,s,l,c,u,d,f;let{invert:m,toast:h,unstyled:v,interacting:g,setHeights:p,visibleToasts:y,heights:x,index:b,toasts:w,expanded:_,removeToast:j,defaultRichColors:A,closeButton:E,style:T,cancelButtonStyle:R,actionButtonStyle:D,className:P="",descriptionClassName:I="",duration:L,position:V,gap:H,loadingIcon:q,expandByDefault:G,classNames:re,icons:Z,closeButtonAriaLabel:de="Close toast",pauseWhenPageIsHidden:k}=t,[F,B]=W.useState(null),[z,ee]=W.useState(null),[le,ge]=W.useState(!1),[se,ie]=W.useState(!1),[we,pe]=W.useState(!1),[Me,he]=W.useState(!1),[oe,X]=W.useState(!1),[Ae,Be]=W.useState(0),[qe,st]=W.useState(0),Pe=W.useRef(h.duration||L||nF),ne=W.useRef(null),ue=W.useRef(null),Ne=b===0,Re=b+1<=y,Fe=h.type,Xe=h.dismissible!==!1,it=h.className||"",vt=h.descriptionClassName||"",Ct=W.useMemo(()=>x.findIndex(Ye=>Ye.toastId===h.id)||0,[x,h.id]),gt=W.useMemo(()=>{var Ye;return(Ye=h.closeButton)!=null?Ye:E},[h.closeButton,E]),Zr=W.useMemo(()=>h.duration||L||nF,[h.duration,L]),ir=W.useRef(0),On=W.useRef(0),zr=W.useRef(0),Fr=W.useRef(null),[ca,Gr]=V.split("-"),xs=W.useMemo(()=>x.reduce((Ye,_t,Nt)=>Nt>=Ct?Ye:Ye+_t.height,0),[x,Ct]),Cn=fge(),Qi=h.invert||m,Ji=Fe==="loading";On.current=W.useMemo(()=>Ct*H+xs,[Ct,xs]),W.useEffect(()=>{Pe.current=Zr},[Zr]),W.useEffect(()=>{ge(!0)},[]),W.useEffect(()=>{let Ye=ue.current;if(Ye){let _t=Ye.getBoundingClientRect().height;return st(_t),p(Nt=>[{toastId:h.id,height:_t,position:h.position},...Nt]),()=>p(Nt=>Nt.filter(pr=>pr.toastId!==h.id))}},[p,h.id]),W.useLayoutEffect(()=>{if(!le)return;let Ye=ue.current,_t=Ye.style.height;Ye.style.height="auto";let Nt=Ye.getBoundingClientRect().height;Ye.style.height=_t,st(Nt),p(pr=>pr.find(kr=>kr.toastId===h.id)?pr.map(kr=>kr.toastId===h.id?{...kr,height:Nt}:kr):[{toastId:h.id,height:Nt,position:h.position},...pr])},[le,h.title,h.description,p,h.id]);let Qr=W.useCallback(()=>{ie(!0),Be(On.current),p(Ye=>Ye.filter(_t=>_t.toastId!==h.id)),setTimeout(()=>{j(h)},Age)},[h,j,p,On]);W.useEffect(()=>{if(h.promise&&Fe==="loading"||h.duration===1/0||h.type==="loading")return;let Ye;return _||g||k&&Cn?(()=>{if(zr.current<ir.current){let _t=new Date().getTime()-ir.current;Pe.current=Pe.current-_t}zr.current=new Date().getTime()})():Pe.current!==1/0&&(ir.current=new Date().getTime(),Ye=setTimeout(()=>{var _t;(_t=h.onAutoClose)==null||_t.call(h,h),Qr()},Pe.current)),()=>clearTimeout(Ye)},[_,g,h,Fe,k,Cn,Qr]),W.useEffect(()=>{h.delete&&Qr()},[Qr,h.delete]);function Ie(){var Ye,_t,Nt;return Z!=null&&Z.loading?W.createElement("div",{className:gc(re==null?void 0:re.loader,(Ye=h==null?void 0:h.classNames)==null?void 0:Ye.loader,"sonner-loader"),"data-visible":Fe==="loading"},Z.loading):q?W.createElement("div",{className:gc(re==null?void 0:re.loader,(_t=h==null?void 0:h.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":Fe==="loading"},q):W.createElement(sge,{className:gc(re==null?void 0:re.loader,(Nt=h==null?void 0:h.classNames)==null?void 0:Nt.loader),visible:Fe==="loading"})}return W.createElement("li",{tabIndex:0,ref:ue,className:gc(P,it,re==null?void 0:re.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,re==null?void 0:re.default,re==null?void 0:re[Fe],(r=h==null?void 0:h.classNames)==null?void 0:r[Fe]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:A,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":le,"data-promise":!!h.promise,"data-swiped":oe,"data-removed":se,"data-visible":Re,"data-y-position":ca,"data-x-position":Gr,"data-index":b,"data-front":Ne,"data-swiping":we,"data-dismissible":Xe,"data-type":Fe,"data-invert":Qi,"data-swipe-out":Me,"data-swipe-direction":z,"data-expanded":!!(_||G&&le),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${se?Ae:On.current}px`,"--initial-height":G?"auto":`${qe}px`,...T,...h.style},onDragEnd:()=>{pe(!1),B(null),Fr.current=null},onPointerDown:Ye=>{Ji||!Xe||(ne.current=new Date,Be(On.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(pe(!0),Fr.current={x:Ye.clientX,y:Ye.clientY}))},onPointerUp:()=>{var Ye,_t,Nt,pr;if(Me||!Xe)return;Fr.current=null;let kr=Number(((Ye=ue.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Qt=Number(((_t=ue.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Wa=new Date().getTime()-((Nt=ne.current)==null?void 0:Nt.getTime()),ta=F==="x"?kr:Qt,ua=Math.abs(ta)/Wa;if(Math.abs(ta)>=Nge||ua>.11){Be(On.current),(pr=h.onDismiss)==null||pr.call(h,h),ee(F==="x"?kr>0?"right":"left":Qt>0?"down":"up"),Qr(),he(!0),X(!1);return}pe(!1),B(null)},onPointerMove:Ye=>{var _t,Nt,pr,kr;if(!Fr.current||!Xe||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;let Qt=Ye.clientY-Fr.current.y,Wa=Ye.clientX-Fr.current.x,ta=(Nt=t.swipeDirections)!=null?Nt:Ege(V);!F&&(Math.abs(Wa)>1||Math.abs(Qt)>1)&&B(Math.abs(Wa)>Math.abs(Qt)?"x":"y");let ua={x:0,y:0};F==="y"?(ta.includes("top")||ta.includes("bottom"))&&(ta.includes("top")&&Qt<0||ta.includes("bottom")&&Qt>0)&&(ua.y=Qt):F==="x"&&(ta.includes("left")||ta.includes("right"))&&(ta.includes("left")&&Wa<0||ta.includes("right")&&Wa>0)&&(ua.x=Wa),(Math.abs(ua.x)>0||Math.abs(ua.y)>0)&&X(!0),(pr=ue.current)==null||pr.style.setProperty("--swipe-amount-x",`${ua.x}px`),(kr=ue.current)==null||kr.style.setProperty("--swipe-amount-y",`${ua.y}px`)}},gt&&!h.jsx?W.createElement("button",{"aria-label":de,"data-disabled":Ji,"data-close-button":!0,onClick:Ji||!Xe?()=>{}:()=>{var Ye;Qr(),(Ye=h.onDismiss)==null||Ye.call(h,h)},className:gc(re==null?void 0:re.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},(i=Z==null?void 0:Z.close)!=null?i:dge):null,h.jsx||N.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:W.createElement(W.Fragment,null,Fe||h.icon||h.promise?W.createElement("div",{"data-icon":"",className:gc(re==null?void 0:re.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ie():null,h.type!=="loading"?h.icon||(Z==null?void 0:Z[Fe])||age(Fe):null):null,W.createElement("div",{"data-content":"",className:gc(re==null?void 0:re.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},W.createElement("div",{"data-title":"",className:gc(re==null?void 0:re.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?W.createElement("div",{"data-description":"",className:gc(I,vt,re==null?void 0:re.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),N.isValidElement(h.cancel)?h.cancel:h.cancel&&_S(h.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||R,onClick:Ye=>{var _t,Nt;_S(h.cancel)&&Xe&&((Nt=(_t=h.cancel).onClick)==null||Nt.call(_t,Ye),Qr())},className:gc(re==null?void 0:re.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,N.isValidElement(h.action)?h.action:h.action&&_S(h.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||D,onClick:Ye=>{var _t,Nt;_S(h.action)&&((Nt=(_t=h.action).onClick)==null||Nt.call(_t,Ye),!Ye.defaultPrevented&&Qr())},className:gc(re==null?void 0:re.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function aF(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Tge(t,e){let r={};return[t,e].forEach((n,a)=>{let i=a===1,s=i?"--mobile-offset":"--offset",l=i?Sge:wge;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var kge=N.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:h,visibleToasts:v=bge,toastOptions:g,dir:p=aF(),gap:y=jge,loadingIcon:x,icons:b,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:_}=t,[j,A]=W.useState([]),E=W.useMemo(()=>Array.from(new Set([n].concat(j.filter(k=>k.position).map(k=>k.position)))),[j,n]),[T,R]=W.useState([]),[D,P]=W.useState(!1),[I,L]=W.useState(!1),[V,H]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=W.useRef(null),G=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),re=W.useRef(null),Z=W.useRef(!1),de=W.useCallback(k=>{A(F=>{var B;return(B=F.find(z=>z.id===k.id))!=null&&B.delete||Co.dismiss(k.id),F.filter(({id:z})=>z!==k.id)})},[]);return W.useEffect(()=>Co.subscribe(k=>{if(k.dismiss){A(F=>F.map(B=>B.id===k.id?{...B,delete:!0}:B));return}setTimeout(()=>{Aq.flushSync(()=>{A(F=>{let B=F.findIndex(z=>z.id===k.id);return B!==-1?[...F.slice(0,B),{...F[B],...k},...F.slice(B+1)]:[k,...F]})})})}),[]),W.useEffect(()=>{if(d!=="system"){H(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let k=window.matchMedia("(prefers-color-scheme: dark)");try{k.addEventListener("change",({matches:F})=>{H(F?"dark":"light")})}catch{k.addListener(({matches:B})=>{try{H(B?"dark":"light")}catch(z){console.error(z)}})}},[d]),W.useEffect(()=>{j.length<=1&&P(!1)},[j]),W.useEffect(()=>{let k=F=>{var B,z;a.every(ee=>F[ee]||F.code===ee)&&(P(!0),(B=q.current)==null||B.focus()),F.code==="Escape"&&(document.activeElement===q.current||(z=q.current)!=null&&z.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[a]),W.useEffect(()=>{if(q.current)return()=>{re.current&&(re.current.focus({preventScroll:!0}),re.current=null,Z.current=!1)}},[q.current]),W.createElement("section",{ref:e,"aria-label":`${w} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((k,F)=>{var B;let[z,ee]=k.split("-");return j.length?W.createElement("ol",{key:k,dir:p==="auto"?aF():p,tabIndex:-1,ref:q,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":z,"data-lifted":D&&j.length>1&&!i,"data-x-position":ee,style:{"--front-toast-height":`${((B=T[0])==null?void 0:B.height)||0}px`,"--width":`${_ge}px`,"--gap":`${y}px`,...h,...Tge(c,u)},onBlur:le=>{Z.current&&!le.currentTarget.contains(le.relatedTarget)&&(Z.current=!1,re.current&&(re.current.focus({preventScroll:!0}),re.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,re.current=le.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{I||P(!1)},onDragEnd:()=>P(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},j.filter(le=>!le.position&&F===0||le.position===k).map((le,ge)=>{var se,ie;return W.createElement(Cge,{key:le.id,icons:b,index:ge,toast:le,defaultRichColors:f,duration:(se=g==null?void 0:g.duration)!=null?se:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(ie=g==null?void 0:g.closeButton)!=null?ie:s,interacting:I,position:k,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:de,toasts:j.filter(we=>we.position==le.position),heights:T.filter(we=>we.position==le.position),setHeights:R,expandByDefault:i,gap:y,loadingIcon:x,expanded:D,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const Pge=({...t})=>{const{theme:e="system"}=nge();return o.jsx(kge,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},pj=yue,Ck=xue,Tk=bue,gj=N.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(HW,{ref:n,sideOffset:e,className:Ke("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));gj.displayName=HW.displayName;var yy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mp=typeof window>"u"||"Deno"in globalThis;function Bl(){}function Dge(t,e){return typeof t=="function"?t(e):t}function kk(t){return typeof t=="number"&&t>=0&&t!==1/0}function OG(t,e){return Math.max(t+(e||0)-Date.now(),0)}function F0(t,e){return typeof t=="function"?t(e):t}function Oc(t,e){return typeof t=="function"?t(e):t}function iF(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:l}=t;if(s){if(n){if(e.queryHash!==B3(s,e.options))return!1}else if(!rb(e.queryKey,s))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||i&&!i(e))}function sF(t,e){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(Rp(e.options.mutationKey)!==Rp(i))return!1}else if(!rb(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function B3(t,e){return((e==null?void 0:e.queryKeyHashFn)||Rp)(t)}function Rp(t){return JSON.stringify(t,(e,r)=>Pk(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function rb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>rb(t[r],e[r])):!1}function IG(t,e){if(t===e)return t;const r=oF(t)&&oF(e);if(r||Pk(t)&&Pk(e)){const n=r?t:Object.keys(t),a=n.length,i=r?e:Object.keys(e),s=i.length,l=r?[]:{};let c=0;for(let u=0;u<s;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=IG(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return a===s&&c===a?t:l}return e}function vj(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function oF(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Pk(t){if(!lF(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!lF(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lF(t){return Object.prototype.toString.call(t)==="[object Object]"}function Oge(t){return new Promise(e=>{setTimeout(e,t)})}function Dk(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?IG(t,e):e}function Ige(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Mge(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var U3=Symbol();function MG(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===U3?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var mp,eh,iv,DW,Rge=(DW=class extends yy{constructor(){super();fr(this,mp);fr(this,eh);fr(this,iv);Gt(this,iv,e=>{if(!Mp&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ee(this,eh)||this.setEventListener(Ee(this,iv))}onUnsubscribe(){var e;this.hasListeners()||((e=Ee(this,eh))==null||e.call(this),Gt(this,eh,void 0))}setEventListener(e){var r;Gt(this,iv,e),(r=Ee(this,eh))==null||r.call(this),Gt(this,eh,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Ee(this,mp)!==e&&(Gt(this,mp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Ee(this,mp)=="boolean"?Ee(this,mp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},mp=new WeakMap,eh=new WeakMap,iv=new WeakMap,DW),z3=new Rge,sv,th,ov,OW,Lge=(OW=class extends yy{constructor(){super();fr(this,sv,!0);fr(this,th);fr(this,ov);Gt(this,ov,e=>{if(!Mp&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ee(this,th)||this.setEventListener(Ee(this,ov))}onUnsubscribe(){var e;this.hasListeners()||((e=Ee(this,th))==null||e.call(this),Gt(this,th,void 0))}setEventListener(e){var r;Gt(this,ov,e),(r=Ee(this,th))==null||r.call(this),Gt(this,th,e(this.setOnline.bind(this)))}setOnline(e){Ee(this,sv)!==e&&(Gt(this,sv,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Ee(this,sv)}},sv=new WeakMap,th=new WeakMap,ov=new WeakMap,OW),yj=new Lge;function Ok(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function Fge(t){return Math.min(1e3*2**t,3e4)}function RG(t){return(t??"online")==="online"?yj.isOnline():!0}var LG=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ZC(t){return t instanceof LG}function FG(t){let e=!1,r=0,n=!1,a;const i=Ok(),s=g=>{var p;n||(m(new LG(g)),(p=t.abort)==null||p.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>z3.isFocused()&&(t.networkMode==="always"||yj.isOnline())&&t.canRun(),d=()=>RG(t.networkMode)&&t.canRun(),f=g=>{var p;n||(n=!0,(p=t.onSuccess)==null||p.call(t,g),a==null||a(),i.resolve(g))},m=g=>{var p;n||(n=!0,(p=t.onError)==null||p.call(t,g),a==null||a(),i.reject(g))},h=()=>new Promise(g=>{var p;a=y=>{(n||u())&&g(y)},(p=t.onPause)==null||p.call(t)}).then(()=>{var g;a=void 0,n||(g=t.onContinue)==null||g.call(t)}),v=()=>{if(n)return;let g;const p=r===0?t.initialPromise:void 0;try{g=p??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var j;if(n)return;const x=t.retry??(Mp?0:3),b=t.retryDelay??Fge,w=typeof b=="function"?b(r,y):b,_=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!_){m(y);return}r++,(j=t.onFail)==null||j.call(t,r,y),Oge(w).then(()=>u()?void 0:h()).then(()=>{e?m(y):v()})})};return{promise:i,cancel:s,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():h().then(v),i)}}var $ge=t=>setTimeout(t,0);function Bge(){let t=[],e=0,r=l=>{l()},n=l=>{l()},a=$ge;const i=l=>{e?t.push(l):a(()=>{r(l)})},s=()=>{const l=t;t=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||s()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Ti=Bge(),pp,IW,$G=(IW=class{constructor(){fr(this,pp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kk(this.gcTime)&&Gt(this,pp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mp?1/0:5*60*1e3))}clearGcTimeout(){Ee(this,pp)&&(clearTimeout(Ee(this,pp)),Gt(this,pp,void 0))}},pp=new WeakMap,IW),lv,cv,$l,gp,Cs,Cw,vp,Cc,Od,MW,Uge=(MW=class extends $G{constructor(e){super();fr(this,Cc);fr(this,lv);fr(this,cv);fr(this,$l);fr(this,gp);fr(this,Cs);fr(this,Cw);fr(this,vp);Gt(this,vp,!1),Gt(this,Cw,e.defaultOptions),this.setOptions(e.options),this.observers=[],Gt(this,gp,e.client),Gt(this,$l,Ee(this,gp).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Gt(this,lv,zge(this.options)),this.state=e.state??Ee(this,lv),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Ee(this,Cs))==null?void 0:e.promise}setOptions(e){this.options={...Ee(this,Cw),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ee(this,$l).remove(this)}setData(e,r){const n=Dk(this.state.data,e,this.options);return Yr(this,Cc,Od).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Yr(this,Cc,Od).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,a;const r=(n=Ee(this,Cs))==null?void 0:n.promise;return(a=Ee(this,Cs))==null||a.cancel(e),r?r.then(Bl).catch(Bl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ee(this,lv))}isActive(){return this.observers.some(e=>Oc(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===U3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!OG(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Ee(this,Cs))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Ee(this,Cs))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Ee(this,$l).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(Ee(this,Cs)&&(Ee(this,vp)?Ee(this,Cs).cancel({revert:!0}):Ee(this,Cs).cancelRetry()),this.scheduleGc()),Ee(this,$l).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yr(this,Cc,Od).call(this,{type:"invalidate"})}fetch(e,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ee(this,Cs))return Ee(this,Cs).continueRetry(),Ee(this,Cs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Gt(this,vp,!0),n.signal)})},i=()=>{const f=MG(this.options,r),m={client:Ee(this,gp),queryKey:this.queryKey,meta:this.meta};return a(m),Gt(this,vp,!1),this.options.persister?this.options.persister(f,m,this):f(m)},s={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Ee(this,gp),state:this.state,fetchFn:i};a(s),(c=this.options.behavior)==null||c.onFetch(s,this),Gt(this,cv,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=s.fetchOptions)==null?void 0:u.meta))&&Yr(this,Cc,Od).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const l=f=>{var m,h,v,g;ZC(f)&&f.silent||Yr(this,Cc,Od).call(this,{type:"error",error:f}),ZC(f)||((h=(m=Ee(this,$l).config).onError)==null||h.call(m,f,this),(g=(v=Ee(this,$l).config).onSettled)==null||g.call(v,this.state.data,f,this)),this.scheduleGc()};return Gt(this,Cs,FG({initialPromise:r==null?void 0:r.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var m,h,v,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(p){l(p);return}(h=(m=Ee(this,$l).config).onSuccess)==null||h.call(m,f,this),(g=(v=Ee(this,$l).config).onSettled)==null||g.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,m)=>{Yr(this,Cc,Od).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Yr(this,Cc,Od).call(this,{type:"pause"})},onContinue:()=>{Yr(this,Cc,Od).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),Ee(this,Cs).start()}},lv=new WeakMap,cv=new WeakMap,$l=new WeakMap,gp=new WeakMap,Cs=new WeakMap,Cw=new WeakMap,vp=new WeakMap,Cc=new WeakSet,Od=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...BG(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return ZC(a)&&a.revert&&Ee(this,cv)?{...Ee(this,cv),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ti.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ee(this,$l).notify({query:this,type:"updated",action:e})})},MW);function BG(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RG(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function zge(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var _u,RW,Vge=(RW=class extends yy{constructor(e={}){super();fr(this,_u);this.config=e,Gt(this,_u,new Map)}build(e,r,n){const a=r.queryKey,i=r.queryHash??B3(a,r);let s=this.get(i);return s||(s=new Uge({client:e,queryKey:a,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(s)),s}add(e){Ee(this,_u).has(e.queryHash)||(Ee(this,_u).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Ee(this,_u).get(e.queryHash);r&&(e.destroy(),r===e&&Ee(this,_u).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ti.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ee(this,_u).get(e)}getAll(){return[...Ee(this,_u).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>iF(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>iF(e,n)):r}notify(e){Ti.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ti.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ti.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_u=new WeakMap,RW),ju,Qs,yp,Nu,Vf,LW,Hge=(LW=class extends $G{constructor(e){super();fr(this,Nu);fr(this,ju);fr(this,Qs);fr(this,yp);this.mutationId=e.mutationId,Gt(this,Qs,e.mutationCache),Gt(this,ju,[]),this.state=e.state||UG(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Ee(this,ju).includes(e)||(Ee(this,ju).push(e),this.clearGcTimeout(),Ee(this,Qs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Gt(this,ju,Ee(this,ju).filter(r=>r!==e)),this.scheduleGc(),Ee(this,Qs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Ee(this,ju).length||(this.state.status==="pending"?this.scheduleGc():Ee(this,Qs).remove(this))}continue(){var e;return((e=Ee(this,yp))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,l,c,u,d,f,m,h,v,g,p,y,x,b,w,_,j,A,E;const r=()=>{Yr(this,Nu,Vf).call(this,{type:"continue"})};Gt(this,yp,FG({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{Yr(this,Nu,Vf).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{Yr(this,Nu,Vf).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ee(this,Qs).canRun(this)}));const n=this.state.status==="pending",a=!Ee(this,yp).canStart();try{if(n)r();else{Yr(this,Nu,Vf).call(this,{type:"pending",variables:e,isPaused:a}),await((s=(i=Ee(this,Qs).config).onMutate)==null?void 0:s.call(i,e,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e));R!==this.state.context&&Yr(this,Nu,Vf).call(this,{type:"pending",context:R,variables:e,isPaused:a})}const T=await Ee(this,yp).start();return await((d=(u=Ee(this,Qs).config).onSuccess)==null?void 0:d.call(u,T,e,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,T,e,this.state.context)),await((v=(h=Ee(this,Qs).config).onSettled)==null?void 0:v.call(h,T,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,T,null,e,this.state.context)),Yr(this,Nu,Vf).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(y=Ee(this,Qs).config).onError)==null?void 0:x.call(y,T,e,this.state.context,this)),await((w=(b=this.options).onError)==null?void 0:w.call(b,T,e,this.state.context)),await((j=(_=Ee(this,Qs).config).onSettled)==null?void 0:j.call(_,void 0,T,this.state.variables,this.state.context,this)),await((E=(A=this.options).onSettled)==null?void 0:E.call(A,void 0,T,e,this.state.context)),T}finally{Yr(this,Nu,Vf).call(this,{type:"error",error:T})}}finally{Ee(this,Qs).runNext(this)}}},ju=new WeakMap,Qs=new WeakMap,yp=new WeakMap,Nu=new WeakSet,Vf=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ti.batch(()=>{Ee(this,ju).forEach(n=>{n.onMutationUpdate(e)}),Ee(this,Qs).notify({mutation:this,type:"updated",action:e})})},LW);function UG(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fd,Tc,Tw,FW,Wge=(FW=class extends yy{constructor(e={}){super();fr(this,Fd);fr(this,Tc);fr(this,Tw);this.config=e,Gt(this,Fd,new Set),Gt(this,Tc,new Map),Gt(this,Tw,0)}build(e,r,n){const a=new Hge({mutationCache:this,mutationId:++yS(this,Tw)._,options:e.defaultMutationOptions(r),state:n});return this.add(a),a}add(e){Ee(this,Fd).add(e);const r=jS(e);if(typeof r=="string"){const n=Ee(this,Tc).get(r);n?n.push(e):Ee(this,Tc).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Ee(this,Fd).delete(e)){const r=jS(e);if(typeof r=="string"){const n=Ee(this,Tc).get(r);if(n)if(n.length>1){const a=n.indexOf(e);a!==-1&&n.splice(a,1)}else n[0]===e&&Ee(this,Tc).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=jS(e);if(typeof r=="string"){const n=Ee(this,Tc).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===e}else return!0}runNext(e){var n;const r=jS(e);if(typeof r=="string"){const a=(n=Ee(this,Tc).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ti.batch(()=>{Ee(this,Fd).forEach(e=>{this.notify({type:"removed",mutation:e})}),Ee(this,Fd).clear(),Ee(this,Tc).clear()})}getAll(){return Array.from(Ee(this,Fd))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>sF(r,n))}findAll(e={}){return this.getAll().filter(r=>sF(e,r))}notify(e){Ti.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Ti.batch(()=>Promise.all(e.map(r=>r.continue().catch(Bl))))}},Fd=new WeakMap,Tc=new WeakMap,Tw=new WeakMap,FW);function jS(t){var e;return(e=t.options.scope)==null?void 0:e.id}function cF(t){return{onFetch:(e,r)=>{var d,f,m,h,v;const n=e.options,a=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((h=e.state.data)==null?void 0:h.pages)||[],s=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=MG(e.options,e.fetchOptions),x=async(b,w,_)=>{if(g)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const j={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};p(j);const A=await y(j),{maxPages:E}=e.options,T=_?Mge:Ige;return{pages:T(b.pages,A,E),pageParams:T(b.pageParams,w,E)}};if(a&&i.length){const b=a==="backward",w=b?qge:uF,_={pages:i,pageParams:s},j=w(n,_);l=await x(_,j,b)}else{const b=t??i.length;do{const w=c===0?s[0]??n.initialPageParam:uF(n,l);if(c>0&&w==null)break;l=await x(l,w),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var g,p;return(p=(g=e.options).persister)==null?void 0:p.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function uF(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function qge(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ma,rh,nh,uv,dv,ah,fv,hv,$W,Gge=($W=class{constructor(t={}){fr(this,Ma);fr(this,rh);fr(this,nh);fr(this,uv);fr(this,dv);fr(this,ah);fr(this,fv);fr(this,hv);Gt(this,Ma,t.queryCache||new Vge),Gt(this,rh,t.mutationCache||new Wge),Gt(this,nh,t.defaultOptions||{}),Gt(this,uv,new Map),Gt(this,dv,new Map),Gt(this,ah,0)}mount(){yS(this,ah)._++,Ee(this,ah)===1&&(Gt(this,fv,z3.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ee(this,Ma).onFocus())})),Gt(this,hv,yj.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ee(this,Ma).onOnline())})))}unmount(){var t,e;yS(this,ah)._--,Ee(this,ah)===0&&((t=Ee(this,fv))==null||t.call(this),Gt(this,fv,void 0),(e=Ee(this,hv))==null||e.call(this),Gt(this,hv,void 0))}isFetching(t){return Ee(this,Ma).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ee(this,rh).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Ee(this,Ma).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=Ee(this,Ma).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(F0(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return Ee(this,Ma).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=Ee(this,Ma).get(n.queryHash),i=a==null?void 0:a.state.data,s=Dge(e,i);if(s!==void 0)return Ee(this,Ma).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(t,e,r){return Ti.batch(()=>Ee(this,Ma).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Ee(this,Ma).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Ee(this,Ma);Ti.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Ee(this,Ma);return Ti.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Ti.batch(()=>Ee(this,Ma).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Bl).catch(Bl)}invalidateQueries(t,e={}){return Ti.batch(()=>(Ee(this,Ma).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Ti.batch(()=>Ee(this,Ma).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Bl)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Bl)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Ee(this,Ma).build(this,e);return r.isStaleByTime(F0(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Bl).catch(Bl)}fetchInfiniteQuery(t){return t.behavior=cF(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Bl).catch(Bl)}ensureInfiniteQueryData(t){return t.behavior=cF(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yj.isOnline()?Ee(this,rh).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ee(this,Ma)}getMutationCache(){return Ee(this,rh)}getDefaultOptions(){return Ee(this,nh)}setDefaultOptions(t){Gt(this,nh,t)}setQueryDefaults(t,e){Ee(this,uv).set(Rp(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ee(this,uv).values()],r={};return e.forEach(n=>{rb(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){Ee(this,dv).set(Rp(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ee(this,dv).values()],r={};return e.forEach(n=>{rb(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ee(this,nh).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=B3(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===U3&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ee(this,nh).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ee(this,Ma).clear(),Ee(this,rh).clear()}},Ma=new WeakMap,rh=new WeakMap,nh=new WeakMap,uv=new WeakMap,dv=new WeakMap,ah=new WeakMap,fv=new WeakMap,hv=new WeakMap,$W),Ao,an,kw,Js,xp,mv,ih,sh,Pw,pv,gv,bp,wp,oh,vv,Dn,t1,Ik,Mk,Rk,Lk,Fk,$k,Bk,zG,BW,Yge=(BW=class extends yy{constructor(e,r){super();fr(this,Dn);fr(this,Ao);fr(this,an);fr(this,kw);fr(this,Js);fr(this,xp);fr(this,mv);fr(this,ih);fr(this,sh);fr(this,Pw);fr(this,pv);fr(this,gv);fr(this,bp);fr(this,wp);fr(this,oh);fr(this,vv,new Set);this.options=r,Gt(this,Ao,e),Gt(this,sh,null),Gt(this,ih,Ok()),this.options.experimental_prefetchInRender||Ee(this,ih).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ee(this,an).addObserver(this),dF(Ee(this,an),this.options)?Yr(this,Dn,t1).call(this):this.updateResult(),Yr(this,Dn,Lk).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Uk(Ee(this,an),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Uk(Ee(this,an),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Yr(this,Dn,Fk).call(this),Yr(this,Dn,$k).call(this),Ee(this,an).removeObserver(this)}setOptions(e){const r=this.options,n=Ee(this,an);if(this.options=Ee(this,Ao).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Oc(this.options.enabled,Ee(this,an))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Yr(this,Dn,Bk).call(this),Ee(this,an).setOptions(this.options),r._defaulted&&!vj(this.options,r)&&Ee(this,Ao).getQueryCache().notify({type:"observerOptionsUpdated",query:Ee(this,an),observer:this});const a=this.hasListeners();a&&fF(Ee(this,an),n,this.options,r)&&Yr(this,Dn,t1).call(this),this.updateResult(),a&&(Ee(this,an)!==n||Oc(this.options.enabled,Ee(this,an))!==Oc(r.enabled,Ee(this,an))||F0(this.options.staleTime,Ee(this,an))!==F0(r.staleTime,Ee(this,an)))&&Yr(this,Dn,Ik).call(this);const i=Yr(this,Dn,Mk).call(this);a&&(Ee(this,an)!==n||Oc(this.options.enabled,Ee(this,an))!==Oc(r.enabled,Ee(this,an))||i!==Ee(this,oh))&&Yr(this,Dn,Rk).call(this,i)}getOptimisticResult(e){const r=Ee(this,Ao).getQueryCache().build(Ee(this,Ao),e),n=this.createResult(r,e);return Xge(this,n)&&(Gt(this,Js,n),Gt(this,mv,this.options),Gt(this,xp,Ee(this,an).state)),n}getCurrentResult(){return Ee(this,Js)}trackResult(e,r){const n={};return Object.keys(e).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),e[a])})}),n}trackProp(e){Ee(this,vv).add(e)}getCurrentQuery(){return Ee(this,an)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=Ee(this,Ao).defaultQueryOptions(e),n=Ee(this,Ao).getQueryCache().build(Ee(this,Ao),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Yr(this,Dn,t1).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Ee(this,Js)))}createResult(e,r){var T;const n=Ee(this,an),a=this.options,i=Ee(this,Js),s=Ee(this,xp),l=Ee(this,mv),u=e!==n?e.state:Ee(this,kw),{state:d}=e;let f={...d},m=!1,h;if(r._optimisticResults){const R=this.hasListeners(),D=!R&&dF(e,r),P=R&&fF(e,n,r,a);(D||P)&&(f={...f,...BG(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:p}=f;h=f.data;let y=!1;if(r.placeholderData!==void 0&&h===void 0&&p==="pending"){let R;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(R=i.data,y=!0):R=typeof r.placeholderData=="function"?r.placeholderData((T=Ee(this,gv))==null?void 0:T.state.data,Ee(this,gv)):r.placeholderData,R!==void 0&&(p="success",h=Dk(i==null?void 0:i.data,R,r),m=!0)}if(r.select&&h!==void 0&&!y)if(i&&h===(s==null?void 0:s.data)&&r.select===Ee(this,Pw))h=Ee(this,pv);else try{Gt(this,Pw,r.select),h=r.select(h),h=Dk(i==null?void 0:i.data,h,r),Gt(this,pv,h),Gt(this,sh,null)}catch(R){Gt(this,sh,R)}Ee(this,sh)&&(v=Ee(this,sh),h=Ee(this,pv),g=Date.now(),p="error");const x=f.fetchStatus==="fetching",b=p==="pending",w=p==="error",_=b&&x,j=h!==void 0,E={status:p,fetchStatus:f.fetchStatus,isPending:b,isSuccess:p==="success",isError:w,isInitialLoading:_,isLoading:_,data:h,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:w&&j,isStale:V3(e,r),refetch:this.refetch,promise:Ee(this,ih)};if(this.options.experimental_prefetchInRender){const R=I=>{E.status==="error"?I.reject(E.error):E.data!==void 0&&I.resolve(E.data)},D=()=>{const I=Gt(this,ih,E.promise=Ok());R(I)},P=Ee(this,ih);switch(P.status){case"pending":e.queryHash===n.queryHash&&R(P);break;case"fulfilled":(E.status==="error"||E.data!==P.value)&&D();break;case"rejected":(E.status!=="error"||E.error!==P.reason)&&D();break}}return E}updateResult(){const e=Ee(this,Js),r=this.createResult(Ee(this,an),this.options);if(Gt(this,xp,Ee(this,an).state),Gt(this,mv,this.options),Ee(this,xp).data!==void 0&&Gt(this,gv,Ee(this,an)),vj(r,e))return;Gt(this,Js,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!Ee(this,vv).size)return!0;const s=new Set(i??Ee(this,vv));return this.options.throwOnError&&s.add("error"),Object.keys(Ee(this,Js)).some(l=>{const c=l;return Ee(this,Js)[c]!==e[c]&&s.has(c)})};Yr(this,Dn,zG).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Yr(this,Dn,Lk).call(this)}},Ao=new WeakMap,an=new WeakMap,kw=new WeakMap,Js=new WeakMap,xp=new WeakMap,mv=new WeakMap,ih=new WeakMap,sh=new WeakMap,Pw=new WeakMap,pv=new WeakMap,gv=new WeakMap,bp=new WeakMap,wp=new WeakMap,oh=new WeakMap,vv=new WeakMap,Dn=new WeakSet,t1=function(e){Yr(this,Dn,Bk).call(this);let r=Ee(this,an).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Bl)),r},Ik=function(){Yr(this,Dn,Fk).call(this);const e=F0(this.options.staleTime,Ee(this,an));if(Mp||Ee(this,Js).isStale||!kk(e))return;const n=OG(Ee(this,Js).dataUpdatedAt,e)+1;Gt(this,bp,setTimeout(()=>{Ee(this,Js).isStale||this.updateResult()},n))},Mk=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ee(this,an)):this.options.refetchInterval)??!1},Rk=function(e){Yr(this,Dn,$k).call(this),Gt(this,oh,e),!(Mp||Oc(this.options.enabled,Ee(this,an))===!1||!kk(Ee(this,oh))||Ee(this,oh)===0)&&Gt(this,wp,setInterval(()=>{(this.options.refetchIntervalInBackground||z3.isFocused())&&Yr(this,Dn,t1).call(this)},Ee(this,oh)))},Lk=function(){Yr(this,Dn,Ik).call(this),Yr(this,Dn,Rk).call(this,Yr(this,Dn,Mk).call(this))},Fk=function(){Ee(this,bp)&&(clearTimeout(Ee(this,bp)),Gt(this,bp,void 0))},$k=function(){Ee(this,wp)&&(clearInterval(Ee(this,wp)),Gt(this,wp,void 0))},Bk=function(){const e=Ee(this,Ao).getQueryCache().build(Ee(this,Ao),this.options);if(e===Ee(this,an))return;const r=Ee(this,an);Gt(this,an,e),Gt(this,kw,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},zG=function(e){Ti.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(Ee(this,Js))}),Ee(this,Ao).getQueryCache().notify({query:Ee(this,an),type:"observerResultsUpdated"})})},BW);function Kge(t,e){return Oc(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function dF(t,e){return Kge(t,e)||t.state.data!==void 0&&Uk(t,e,e.refetchOnMount)}function Uk(t,e,r){if(Oc(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&V3(t,e)}return!1}function fF(t,e,r,n){return(t!==e||Oc(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&V3(t,r)}function V3(t,e){return Oc(e.enabled,t)!==!1&&t.isStaleByTime(F0(e.staleTime,t))}function Xge(t,e){return!vj(t.getCurrentResult(),e)}var lh,ch,Eo,$d,Xd,$_,zk,UW,Zge=(UW=class extends yy{constructor(r,n){super();fr(this,Xd);fr(this,lh);fr(this,ch);fr(this,Eo);fr(this,$d);Gt(this,lh,r),this.setOptions(n),this.bindMethods(),Yr(this,Xd,$_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=Ee(this,lh).defaultMutationOptions(r),vj(this.options,n)||Ee(this,lh).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ee(this,Eo),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Rp(n.mutationKey)!==Rp(this.options.mutationKey)?this.reset():((a=Ee(this,Eo))==null?void 0:a.state.status)==="pending"&&Ee(this,Eo).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Ee(this,Eo))==null||r.removeObserver(this)}onMutationUpdate(r){Yr(this,Xd,$_).call(this),Yr(this,Xd,zk).call(this,r)}getCurrentResult(){return Ee(this,ch)}reset(){var r;(r=Ee(this,Eo))==null||r.removeObserver(this),Gt(this,Eo,void 0),Yr(this,Xd,$_).call(this),Yr(this,Xd,zk).call(this)}mutate(r,n){var a;return Gt(this,$d,n),(a=Ee(this,Eo))==null||a.removeObserver(this),Gt(this,Eo,Ee(this,lh).getMutationCache().build(Ee(this,lh),this.options)),Ee(this,Eo).addObserver(this),Ee(this,Eo).execute(r)}},lh=new WeakMap,ch=new WeakMap,Eo=new WeakMap,$d=new WeakMap,Xd=new WeakSet,$_=function(){var n;const r=((n=Ee(this,Eo))==null?void 0:n.state)??UG();Gt(this,ch,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},zk=function(r){Ti.batch(()=>{var n,a,i,s,l,c,u,d;if(Ee(this,$d)&&this.hasListeners()){const f=Ee(this,ch).variables,m=Ee(this,ch).context;(r==null?void 0:r.type)==="success"?((a=(n=Ee(this,$d)).onSuccess)==null||a.call(n,r.data,f,m),(s=(i=Ee(this,$d)).onSettled)==null||s.call(i,r.data,null,f,m)):(r==null?void 0:r.type)==="error"&&((c=(l=Ee(this,$d)).onError)==null||c.call(l,r.error,f,m),(d=(u=Ee(this,$d)).onSettled)==null||d.call(u,void 0,r.error,f,m))}this.listeners.forEach(f=>{f(Ee(this,ch))})})},UW),VG=N.createContext(void 0),ff=t=>{const e=N.useContext(VG);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Qge=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),o.jsx(VG.Provider,{value:t,children:e})),HG=N.createContext(!1),Jge=()=>N.useContext(HG);HG.Provider;function e0e(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var t0e=N.createContext(e0e()),r0e=()=>N.useContext(t0e);function WG(t,e){return typeof t=="function"?t(...e):!!t}function Vk(){}var n0e=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},a0e=t=>{N.useEffect(()=>{t.clearReset()},[t])},i0e=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||WG(r,[t.error,n])),s0e=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...r)=>Math.max(e(...r),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},o0e=(t,e)=>t.isLoading&&t.isFetching&&!e,l0e=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,hF=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function c0e(t,e,r){var f,m,h,v,g;const n=ff(),a=Jge(),i=r0e(),s=n.defaultQueryOptions(t);(m=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,s),s._optimisticResults=a?"isRestoring":"optimistic",s0e(s),n0e(s,i),a0e(i);const l=!n.getQueryCache().get(s.queryHash),[c]=N.useState(()=>new e(n,s)),u=c.getOptimisticResult(s),d=!a&&t.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(p=>{const y=d?c.subscribe(Ti.batchCalls(p)):Vk;return c.updateResult(),y},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(s)},[s,c]),l0e(s,u))throw hF(s,c,i);if(i0e({result:u,errorResetBoundary:i,throwOnError:s.throwOnError,query:n.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;if((v=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||v.call(h,s,u),s.experimental_prefetchInRender&&!Mp&&o0e(u,a)){const p=l?hF(s,c,i):(g=n.getQueryCache().get(s.queryHash))==null?void 0:g.promise;p==null||p.catch(Vk).finally(()=>{c.updateResult()})}return s.notifyOnChangeProps?u:c.trackResult(u)}function Ih(t,e){return c0e(t,Yge)}function $0(t,e){const r=ff(),[n]=N.useState(()=>new Zge(r,t));N.useEffect(()=>{n.setOptions(t)},[n,t]);const a=N.useSyncExternalStore(N.useCallback(s=>n.subscribe(Ti.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=N.useCallback((s,l)=>{n.mutate(s,l).catch(Vk)},[n]);if(a.error&&WG(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const H3=N.createContext({});function W3(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const q3=typeof window<"u",qG=q3?N.useLayoutEffect:N.useEffect,qA=N.createContext(null),G3=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class u0e extends N.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=n instanceof HTMLElement&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d0e({children:t,isPresent:e,anchorX:r}){const n=N.useId(),a=N.useRef(null),i=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=N.useContext(G3);return N.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:f}=i.current;if(e||!a.current||!l||!c)return;const m=r==="left"?`left: ${d}`:`right: ${f}`;a.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),o.jsx(u0e,{isPresent:e,childRef:a,sizeRef:i,children:N.cloneElement(t,{ref:a})})}const f0e=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:l})=>{const c=W3(h0e),u=N.useId();let d=!0,f=N.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:r,custom:a,onExitComplete:m=>{c.set(m,!0);for(const h of c.values())if(!h)return;n&&n()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[r,c,n]);return i&&d&&(f={...f}),N.useMemo(()=>{c.forEach((m,h)=>c.set(h,!1))},[r]),N.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),s==="popLayout"&&(t=o.jsx(d0e,{isPresent:r,anchorX:l,children:t})),o.jsx(qA.Provider,{value:f,children:t})};function h0e(){return new Map}function GG(t=!0){const e=N.useContext(qA);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=N.useId();N.useEffect(()=>{if(t)return a(i)},[t]);const s=N.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,s]:[!0]}const NS=t=>t.key||"";function mF(t){const e=[];return N.Children.forEach(t,r=>{N.isValidElement(r)&&e.push(r)}),e}const Gi=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:l="left"})=>{const[c,u]=GG(s),d=N.useMemo(()=>mF(t),[t]),f=s&&!c?[]:d.map(NS),m=N.useRef(!0),h=N.useRef(d),v=W3(()=>new Map),[g,p]=N.useState(d),[y,x]=N.useState(d);qG(()=>{m.current=!1,h.current=d;for(let _=0;_<y.length;_++){const j=NS(y[_]);f.includes(j)?v.delete(j):v.get(j)!==!0&&v.set(j,!1)}},[y,f.length,f.join("-")]);const b=[];if(d!==g){let _=[...d];for(let j=0;j<y.length;j++){const A=y[j],E=NS(A);f.includes(E)||(_.splice(j,0,A),b.push(A))}return i==="wait"&&b.length&&(_=b),x(mF(_)),p(d),null}const{forceRender:w}=N.useContext(H3);return o.jsx(o.Fragment,{children:y.map(_=>{const j=NS(_),A=s&&!c?!1:d===y||f.includes(j),E=()=>{if(v.has(j))v.set(j,!0);else return;let T=!0;v.forEach(R=>{R||(T=!1)}),T&&(w==null||w(),x(h.current),s&&(u==null||u()),n&&n())};return o.jsx(f0e,{isPresent:A,initial:!m.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,onExitComplete:A?void 0:E,anchorX:l,children:_},j)})})};function Y3(t,e){t.indexOf(e)===-1&&t.push(e)}function K3(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Qd=(t,e,r)=>r>e?e:r<t?t:r;let X3=()=>{};const Jd={},YG=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),KG=t=>/^0[^.\s]+$/u.test(t);function Z3(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jl=t=>t,m0e=(t,e)=>r=>e(t(r)),Rw=(...t)=>t.reduce(m0e),nb=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class Q3{constructor(){this.subscriptions=[]}add(e){return Y3(this.subscriptions,e),()=>K3(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fu=t=>t*1e3,$u=t=>t/1e3;function XG(t,e){return e?t*(1e3/e):0}const ZG=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,p0e=1e-7,g0e=12;function v0e(t,e,r,n,a){let i,s,l=0;do s=e+(r-e)/2,i=ZG(s,n,a)-t,i>0?r=s:e=s;while(Math.abs(i)>p0e&&++l<g0e);return s}function Lw(t,e,r,n){if(t===e&&r===n)return Jl;const a=i=>v0e(i,0,1,t,r);return i=>i===0||i===1?i:ZG(a(i),e,n)}const QG=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JG=t=>e=>1-t(1-e),eY=Lw(.33,1.53,.69,.99),J3=JG(eY),tY=QG(J3),rY=t=>(t*=2)<1?.5*J3(t):.5*(2-Math.pow(2,-10*(t-1))),eI=t=>1-Math.sin(Math.acos(t)),nY=JG(eI),aY=QG(eI),y0e=Lw(.42,0,1,1),x0e=Lw(0,0,.58,1),iY=Lw(.42,0,.58,1),b0e=t=>Array.isArray(t)&&typeof t[0]!="number",sY=t=>Array.isArray(t)&&typeof t[0]=="number",w0e={linear:Jl,easeIn:y0e,easeInOut:iY,easeOut:x0e,circIn:eI,circInOut:aY,circOut:nY,backIn:J3,backInOut:tY,backOut:eY,anticipate:rY},S0e=t=>typeof t=="string",pF=t=>{if(sY(t)){X3(t.length===4);const[e,r,n,a]=t;return Lw(e,r,n,a)}else if(S0e(t))return w0e[t];return t},AS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],gF={value:null};function _0e(t,e){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){s.has(f)&&(d.schedule(f),t()),c++,f(l)}const d={schedule:(f,m=!1,h=!1)=>{const g=h&&a?r:n;return m&&s.add(f),g.has(f)||g.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(l=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(u),e&&gF.value&&gF.value.frameloop[e].push(c),c=0,r.clear(),a=!1,i&&(i=!1,d.process(f))}};return d}const j0e=40;function oY(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=AS.reduce((b,w)=>(b[w]=_0e(i,e?w:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:h,postRender:v}=s,g=()=>{const b=Jd.useManualTiming?a.timestamp:performance.now();r=!1,Jd.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,j0e),1)),a.timestamp=b,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),m.process(a),h.process(a),v.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(g))},p=()=>{r=!0,n=!0,a.isProcessing||t(g)};return{schedule:AS.reduce((b,w)=>{const _=s[w];return b[w]=(j,A=!1,E=!1)=>(r||p(),_.schedule(j,A,E)),b},{}),cancel:b=>{for(let w=0;w<AS.length;w++)s[AS[w]].cancel(b)},state:a,steps:s}}const{schedule:Ea,cancel:Mh,state:os,steps:QC}=oY(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jl,!0);let B_;function N0e(){B_=void 0}const ko={now:()=>(B_===void 0&&ko.set(os.isProcessing||Jd.useManualTiming?os.timestamp:performance.now()),B_),set:t=>{B_=t,queueMicrotask(N0e)}},lY=t=>e=>typeof e=="string"&&e.startsWith(t),tI=lY("--"),A0e=lY("var(--"),rI=t=>A0e(t)?E0e.test(t.split("/*")[0].trim()):!1,E0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xy={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ab={...xy,transform:t=>Qd(0,1,t)},ES={...xy,default:1},g1=t=>Math.round(t*1e5)/1e5,nI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function C0e(t){return t==null}const T0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,aI=(t,e)=>r=>!!(typeof r=="string"&&T0e.test(r)&&r.startsWith(t)||e&&!C0e(r)&&Object.prototype.hasOwnProperty.call(r,e)),cY=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,l]=n.match(nI);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},k0e=t=>Qd(0,255,t),JC={...xy,transform:t=>Math.round(k0e(t))},ap={test:aI("rgb","red"),parse:cY("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+JC.transform(t)+", "+JC.transform(e)+", "+JC.transform(r)+", "+g1(ab.transform(n))+")"};function P0e(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Hk={test:aI("#"),parse:P0e,transform:ap.transform},Fw=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hf=Fw("deg"),Bu=Fw("%"),Nr=Fw("px"),D0e=Fw("vh"),O0e=Fw("vw"),vF={...Bu,parse:t=>Bu.parse(t)/100,transform:t=>Bu.transform(t*100)},b0={test:aI("hsl","hue"),parse:cY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Bu.transform(g1(e))+", "+Bu.transform(g1(r))+", "+g1(ab.transform(n))+")"},Ts={test:t=>ap.test(t)||Hk.test(t)||b0.test(t),parse:t=>ap.test(t)?ap.parse(t):b0.test(t)?b0.parse(t):Hk.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ap.transform(t):b0.transform(t)},I0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function M0e(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(nI))==null?void 0:e.length)||0)+(((r=t.match(I0e))==null?void 0:r.length)||0)>0}const uY="number",dY="color",R0e="var",L0e="var(",yF="${}",F0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ib(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(F0e,c=>(Ts.test(c)?(n.color.push(i),a.push(dY),r.push(Ts.parse(c))):c.startsWith(L0e)?(n.var.push(i),a.push(R0e),r.push(c)):(n.number.push(i),a.push(uY),r.push(parseFloat(c))),++i,yF)).split(yF);return{values:r,split:l,indexes:n,types:a}}function fY(t){return ib(t).values}function hY(t){const{split:e,types:r}=ib(t),n=e.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=e[s],a[s]!==void 0){const l=r[s];l===uY?i+=g1(a[s]):l===dY?i+=Ts.transform(a[s]):i+=a[s]}return i}}const $0e=t=>typeof t=="number"?0:t;function B0e(t){const e=fY(t);return hY(t)(e.map($0e))}const Rh={test:M0e,parse:fY,createTransformer:hY,getAnimatableNone:B0e};function eT(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function U0e({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,s=0;if(!e)a=i=s=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=eT(c,l,t+1/3),i=eT(c,l,t),s=eT(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function xj(t,e){return r=>r>0?e:t}const Na=(t,e,r)=>t+(e-t)*r,tT=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},z0e=[Hk,ap,b0],V0e=t=>z0e.find(e=>e.test(t));function xF(t){const e=V0e(t);if(!e)return!1;let r=e.parse(t);return e===b0&&(r=U0e(r)),r}const bF=(t,e)=>{const r=xF(t),n=xF(e);if(!r||!n)return xj(t,e);const a={...r};return i=>(a.red=tT(r.red,n.red,i),a.green=tT(r.green,n.green,i),a.blue=tT(r.blue,n.blue,i),a.alpha=Na(r.alpha,n.alpha,i),ap.transform(a))},Wk=new Set(["none","hidden"]);function H0e(t,e){return Wk.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function W0e(t,e){return r=>Na(t,e,r)}function iI(t){return typeof t=="number"?W0e:typeof t=="string"?rI(t)?xj:Ts.test(t)?bF:Y0e:Array.isArray(t)?mY:typeof t=="object"?Ts.test(t)?bF:q0e:xj}function mY(t,e){const r=[...t],n=r.length,a=t.map((i,s)=>iI(i)(i,e[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function q0e(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=iI(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function G0e(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],s=t.indexes[i][n[i]],l=t.values[s]??0;r[a]=l,n[i]++}return r}const Y0e=(t,e)=>{const r=Rh.createTransformer(e),n=ib(t),a=ib(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Wk.has(t)&&!a.values.length||Wk.has(e)&&!n.values.length?H0e(t,e):Rw(mY(G0e(n,a),a.values),r):xj(t,e)};function pY(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Na(t,e,r):iI(t)(t,e)}const K0e=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Ea.update(e,!0),stop:()=>Mh(e),now:()=>os.isProcessing?os.timestamp:ko.now()}},gY=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=t(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},bj=2e4;function sI(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<bj;)e+=r,n=t.next(e);return e>=bj?1/0:e}function X0e(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(sI(n),bj);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:$u(a)}}const Z0e=5;function vY(t,e,r){const n=Math.max(e-Z0e,0);return XG(r-t(n),e-n)}const Fa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wF=.001;function Q0e({duration:t=Fa.duration,bounce:e=Fa.bounce,velocity:r=Fa.velocity,mass:n=Fa.mass}){let a,i,s=1-e;s=Qd(Fa.minDamping,Fa.maxDamping,s),t=Qd(Fa.minDuration,Fa.maxDuration,$u(t)),s<1?(a=u=>{const d=u*s,f=d*t,m=d-r,h=qk(u,s),v=Math.exp(-f);return wF-m/h*v},i=u=>{const f=u*s*t,m=f*r+r,h=Math.pow(s,2)*Math.pow(u,2)*t,v=Math.exp(-f),g=qk(Math.pow(u,2),s);return(-a(u)+wF>0?-1:1)*((m-h)*v)/g}):(a=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-.001+d*f},i=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const l=5/t,c=eve(a,i,l);if(t=Fu(t),isNaN(c))return{stiffness:Fa.stiffness,damping:Fa.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:t}}}const J0e=12;function eve(t,e,r){let n=r;for(let a=1;a<J0e;a++)n=n-t(n)/e(n);return n}function qk(t,e){return t*Math.sqrt(1-e*e)}const tve=["duration","bounce"],rve=["stiffness","damping","mass"];function SF(t,e){return e.some(r=>t[r]!==void 0)}function nve(t){let e={velocity:Fa.velocity,stiffness:Fa.stiffness,damping:Fa.damping,mass:Fa.mass,isResolvedFromDuration:!1,...t};if(!SF(t,rve)&&SF(t,tve))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Qd(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Fa.mass,stiffness:a,damping:i}}else{const r=Q0e(t);e={...e,...r,mass:Fa.mass},e.isResolvedFromDuration=!0}return e}function wj(t=Fa.visualDuration,e=Fa.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:h}=nve({...r,velocity:-$u(r.velocity||0)}),v=m||0,g=u/(2*Math.sqrt(c*d)),p=s-i,y=$u(Math.sqrt(c/d)),x=Math.abs(p)<5;n||(n=x?Fa.restSpeed.granular:Fa.restSpeed.default),a||(a=x?Fa.restDelta.granular:Fa.restDelta.default);let b;if(g<1){const _=qk(y,g);b=j=>{const A=Math.exp(-g*y*j);return s-A*((v+g*y*p)/_*Math.sin(_*j)+p*Math.cos(_*j))}}else if(g===1)b=_=>s-Math.exp(-y*_)*(p+(v+y*p)*_);else{const _=y*Math.sqrt(g*g-1);b=j=>{const A=Math.exp(-g*y*j),E=Math.min(_*j,300);return s-A*((v+g*y*p)*Math.sinh(E)+_*p*Math.cosh(E))/_}}const w={calculatedDuration:h&&f||null,next:_=>{const j=b(_);if(h)l.done=_>=f;else{let A=_===0?v:0;g<1&&(A=_===0?Fu(v):vY(b,_,j));const E=Math.abs(A)<=n,T=Math.abs(s-j)<=a;l.done=E&&T}return l.value=l.done?s:j,l},toString:()=>{const _=Math.min(sI(w),bj),j=gY(A=>w.next(_*A).value,_,30);return _+"ms "+j},toTransition:()=>{}};return w}wj.applyToOptions=t=>{const e=X0e(t,100,wj);return t.ease=e.ease,t.duration=Fu(e.duration),t.type="keyframes",t};function Gk({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},h=E=>l!==void 0&&E<l||c!==void 0&&E>c,v=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let g=r*e;const p=f+g,y=s===void 0?p:s(p);y!==p&&(g=y-f);const x=E=>-g*Math.exp(-E/n),b=E=>y+x(E),w=E=>{const T=x(E),R=b(E);m.done=Math.abs(T)<=u,m.value=m.done?y:R};let _,j;const A=E=>{h(m.value)&&(_=E,j=wj({keyframes:[m.value,v(m.value)],velocity:vY(b,E,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:E=>{let T=!1;return!j&&_===void 0&&(T=!0,w(E),A(E)),_!==void 0&&E>=_?j.next(E-_):(!T&&w(E),m)}}}function ave(t,e,r){const n=[],a=r||Jd.mix||pY,i=t.length-1;for(let s=0;s<i;s++){let l=a(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Jl:e;l=Rw(c,l)}n.push(l)}return n}function ive(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(X3(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=ave(e,n,a),c=l.length,u=d=>{if(s&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const m=nb(t[f],t[f+1],d);return l[f](m)};return r?d=>u(Qd(t[0],t[i-1],d)):u}function sve(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=nb(0,e,n);t.push(Na(r,1,a))}}function ove(t){const e=[0];return sve(e,t.length-1),e}function lve(t,e){return t.map(r=>r*e)}function cve(t,e){return t.map(()=>e||iY).splice(0,t.length-1)}function v1({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=b0e(n)?n.map(pF):pF(n),i={done:!1,value:e[0]},s=lve(r&&r.length===e.length?r:ove(e),t),l=ive(s,e,{ease:Array.isArray(a)?a:cve(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const uve=t=>t!==null;function oI(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(uve),l=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const dve={decay:Gk,inertia:Gk,tween:v1,keyframes:v1,spring:wj};function yY(t){typeof t.type=="string"&&(t.type=dve[t.type])}class lI{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const fve=t=>t/100;class xY extends lI{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;if(r&&r.updatedAt!==ko.now()&&this.tick(ko.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;yY(e);const{type:r=v1,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=e;let{keyframes:l}=e;const c=r||v1;c!==v1&&typeof l[0]!="number"&&(this.mixKeyframes=Rw(fve,pY(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=sI(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:h,type:v,onUpdate:g,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,w=n;if(f){const E=Math.min(this.currentTime,a)/l;let T=Math.floor(E),R=E%1;!R&&E>=1&&(R=1),R===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(m==="reverse"?(R=1-R,h&&(R-=h/l)):m==="mirror"&&(w=s)),b=Qd(0,1,R)*l}const _=x?{done:!1,value:d[0]}:w.next(b);i&&(_.value=i(_.value));let{done:j}=_;!x&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return A&&v!==Gk&&(_.value=oI(d,this.options,p,this.speed)),g&&g(_.value),A&&this.finish(),_}then(e,r){return this.finished.then(e,r)}get duration(){return $u(this.calculatedDuration)}get time(){return $u(this.currentTime)}set time(e){e=Fu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ko.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=$u(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=K0e,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),r&&r();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ko.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function hve(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ip=t=>t*180/Math.PI,Yk=t=>{const e=ip(Math.atan2(t[1],t[0]));return Kk(e)},mve={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Yk,rotateZ:Yk,skewX:t=>ip(Math.atan(t[1])),skewY:t=>ip(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Kk=t=>(t=t%360,t<0&&(t+=360),t),_F=Yk,jF=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),NF=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),pve={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jF,scaleY:NF,scale:t=>(jF(t)+NF(t))/2,rotateX:t=>Kk(ip(Math.atan2(t[6],t[5]))),rotateY:t=>Kk(ip(Math.atan2(-t[2],t[0]))),rotateZ:_F,rotate:_F,skewX:t=>ip(Math.atan(t[4])),skewY:t=>ip(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function AF(t){return t.includes("scale")?1:0}function Xk(t,e){if(!t||t==="none")return AF(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=pve,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=mve,a=l}if(!a)return AF(e);const i=n[e],s=a[1].split(",").map(vve);return typeof i=="function"?i(s):s[i]}const gve=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Xk(r,e)};function vve(t){return parseFloat(t.trim())}const by=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wy=new Set(by),EF=t=>t===xy||t===Nr,yve=new Set(["x","y","z"]),xve=by.filter(t=>!yve.has(t));function bve(t){const e=[];return xve.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const _v={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Xk(e,"x"),y:(t,{transform:e})=>Xk(e,"y")};_v.translateX=_v.x;_v.translateY=_v.y;const Sp=new Set;let Zk=!1,Qk=!1,Jk=!1;function bY(){if(Qk){const t=Array.from(Sp).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=bve(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var l;(l=n.getValue(i))==null||l.set(s)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Qk=!1,Zk=!1,Sp.forEach(t=>t.complete(Jk)),Sp.clear()}function wY(){Sp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qk=!0)})}function wve(){Jk=!0,wY(),bY(),Jk=!1}class cI{constructor(e,r,n,a,i,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Sp.add(this),Zk||(Zk=!0,Ea.read(wY),Ea.resolveKeyframes(bY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),s=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,s);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=s),a&&i===void 0&&a.set(e[0])}hve(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Sp.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Sp.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Sve=t=>t.startsWith("--");function _ve(t,e,r){Sve(e)?t.style.setProperty(e,r):t.style[e]=r}const jve=Z3(()=>window.ScrollTimeline!==void 0),Nve={};function Ave(t,e){const r=Z3(t);return()=>Nve[e]??r()}const SY=Ave(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),r1=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,CF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:r1([0,.65,.55,1]),circOut:r1([.55,0,1,.45]),backIn:r1([.31,.01,.66,-.59]),backOut:r1([.33,1.53,.69,.99])};function _Y(t,e){if(t)return typeof t=="function"?SY()?gY(t,e):"ease-out":sY(t)?r1(t):Array.isArray(t)?t.map(r=>_Y(r,e)||CF.easeOut):CF[t]}function Eve(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[e]:r};c&&(d.offset=c);const f=_Y(l,a);Array.isArray(f)&&(d.easing=f);const m={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),t.animate(d,m)}function jY(t){return typeof t=="function"&&"applyToOptions"in t}function Cve({type:t,...e}){return jY(t)&&SY()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Tve extends lI{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=e,X3(typeof e.type!="string");const u=Cve(e);this.animation=Eve(r,n,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=oI(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):_ve(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return $u(Number(e))}get time(){return $u(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Fu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&jve()?(this.animation.timeline=e,Jl):r(this)}}const NY={anticipate:rY,backInOut:tY,circInOut:aY};function kve(t){return t in NY}function Pve(t){typeof t.ease=="string"&&kve(t.ease)&&(t.ease=NY[t.ease])}const TF=10;class Dve extends Tve{constructor(e){Pve(e),yY(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new xY({...s,autoplay:!1}),c=Fu(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-TF).value,l.sample(c).value,TF),l.stop()}}const kF=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rh.test(t)||t==="0")&&!t.startsWith("url("));function Ove(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Ive(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],s=kF(a,e),l=kF(i,e);return!s||!l?!1:Ove(t)||(r==="spring"||jY(r))&&n}const Mve=new Set(["opacity","clipPath","filter","transform"]),Rve=Z3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Lve(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Rve()&&r&&Mve.has(r)&&(r!=="transform"||!c)&&!l&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const Fve=40;class $ve extends lI{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var v;super(),this.stop=()=>{var g,p;this._animation?(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)):(p=this.keyframeResolver)==null||p.cancel()},this.createdAt=ko.now();const m={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:c,motionValue:u,element:d,...f},h=(d==null?void 0:d.KeyframeResolver)||cI;this.keyframeResolver=new h(l,(g,p,y)=>this.onKeyframesResolved(g,p,m,!y),c,u,d),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=ko.now(),Ive(e,i,s,l)||((Jd.instantAnimations||!c)&&(d==null||d(oI(e,n,r))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Fve?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},h=!u&&Lve(m)?new Dve({...m,element:m.motionValue.owner.current}):new xY(m);h.finished.then(()=>this.notifyFinished()).catch(Jl),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||wve(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const Bve=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Uve(t){const e=Bve.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function AY(t,e,r=1){const[n,a]=Uve(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const s=i.trim();return YG(s)?parseFloat(s):s}return rI(a)?AY(a,e,r+1):a}function uI(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const EY=new Set(["width","height","top","left","right","bottom",...by]),zve={test:t=>t==="auto",parse:t=>t},CY=t=>e=>e.test(t),TY=[xy,Nr,Bu,Hf,O0e,D0e,zve],PF=t=>TY.find(CY(t));function Vve(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||KG(t):!0}const Hve=new Set(["brightness","contrast","saturate","opacity"]);function Wve(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(nI)||[];if(!n)return t;const a=r.replace(n,"");let i=Hve.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const qve=/\b([a-z-]*)\(.*?\)/gu,eP={...Rh,getAnimatableNone:t=>{const e=t.match(qve);return e?e.map(Wve).join(" "):t}},DF={...xy,transform:Math.round},Gve={rotate:Hf,rotateX:Hf,rotateY:Hf,rotateZ:Hf,scale:ES,scaleX:ES,scaleY:ES,scaleZ:ES,skew:Hf,skewX:Hf,skewY:Hf,distance:Nr,translateX:Nr,translateY:Nr,translateZ:Nr,x:Nr,y:Nr,z:Nr,perspective:Nr,transformPerspective:Nr,opacity:ab,originX:vF,originY:vF,originZ:Nr},dI={borderWidth:Nr,borderTopWidth:Nr,borderRightWidth:Nr,borderBottomWidth:Nr,borderLeftWidth:Nr,borderRadius:Nr,radius:Nr,borderTopLeftRadius:Nr,borderTopRightRadius:Nr,borderBottomRightRadius:Nr,borderBottomLeftRadius:Nr,width:Nr,maxWidth:Nr,height:Nr,maxHeight:Nr,top:Nr,right:Nr,bottom:Nr,left:Nr,padding:Nr,paddingTop:Nr,paddingRight:Nr,paddingBottom:Nr,paddingLeft:Nr,margin:Nr,marginTop:Nr,marginRight:Nr,marginBottom:Nr,marginLeft:Nr,backgroundPositionX:Nr,backgroundPositionY:Nr,...Gve,zIndex:DF,fillOpacity:ab,strokeOpacity:ab,numOctaves:DF},Yve={...dI,color:Ts,backgroundColor:Ts,outlineColor:Ts,fill:Ts,stroke:Ts,borderColor:Ts,borderTopColor:Ts,borderRightColor:Ts,borderBottomColor:Ts,borderLeftColor:Ts,filter:eP,WebkitFilter:eP},kY=t=>Yve[t];function PY(t,e){let r=kY(t);return r!==eP&&(r=Rh),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Kve=new Set(["auto","none","0"]);function Xve(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!Kve.has(i)&&ib(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=PY(r,a)}class Zve extends cI{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),rI(u))){const d=AY(u,r.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!EY.has(n)||e.length!==2)return;const[a,i]=e,s=PF(a),l=PF(i);if(s!==l)if(EF(s)&&EF(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||Vve(e[a]))&&n.push(a);n.length&&Xve(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_v[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=_v[r](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Qve(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const{schedule:fI}=oY(queueMicrotask,!1),Nc={x:!1,y:!1};function DY(){return Nc.x||Nc.y}function Jve(t){return t==="x"||t==="y"?Nc[t]?null:(Nc[t]=!0,()=>{Nc[t]=!1}):Nc.x||Nc.y?null:(Nc.x=Nc.y=!0,()=>{Nc.x=Nc.y=!1})}function OY(t,e){const r=Qve(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function OF(t){return!(t.pointerType==="touch"||DY())}function eye(t,e,r={}){const[n,a,i]=OY(t,r),s=l=>{if(!OF(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const d=f=>{OF(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return n.forEach(l=>{l.addEventListener("pointerenter",s,a)}),i}const IY=(t,e)=>e?t===e?!0:IY(t,e.parentElement):!1,hI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rye(t){return tye.has(t.tagName)||t.tabIndex!==-1}const n1=new WeakSet;function IF(t){return e=>{e.key==="Enter"&&t(e)}}function rT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nye=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=IF(()=>{if(n1.has(r))return;rT(r,"down");const a=IF(()=>{rT(r,"up")}),i=()=>rT(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function MF(t){return hI(t)&&!DY()}function aye(t,e,r={}){const[n,a,i]=OY(t,r),s=l=>{const c=l.currentTarget;if(!MF(l)||n1.has(c))return;n1.add(c);const u=e(c,l),d=(h,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!MF(h)||!n1.has(c))&&(n1.delete(c),typeof u=="function"&&u(h,{success:v}))},f=h=>{d(h,c===window||c===document||r.useGlobalTarget||IY(c,h.target))},m=h=>{d(h,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",s,a),l instanceof HTMLElement&&(l.addEventListener("focus",u=>nye(u,a)),!rye(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}const RF=30,iye=t=>!isNaN(parseFloat(t));class sye{constructor(e,r={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,l;const i=ko.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current)),a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ko.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iye(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Q3);const n=this.events[e].add(r);return e==="change"?()=>{n(),Ea.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ko.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RF)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,RF);return XG(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sb(t,e){return new sye(t,e)}const oye=[...TY,Ts,Rh],lye=t=>oye.find(CY(t)),MY=(t,e)=>e&&typeof t=="number"?e.transform(t):t,RY=N.createContext({strict:!1}),LF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jv={};for(const t in LF)jv[t]={isEnabled:e=>LF[t].some(r=>!!e[r])};function cye(t){for(const e in t)jv[e]={...jv[e],...t[e]}}const uye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sj(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uye.has(t)}let LY=t=>!Sj(t);function dye(t){t&&(LY=e=>e.startsWith("on")?!Sj(e):t(e))}try{dye(require("@emotion/is-prop-valid").default)}catch{}function fye(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(LY(a)||r===!0&&Sj(a)||!e&&!Sj(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}function hye(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const GA=N.createContext({});function YA(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ob(t){return typeof t=="string"||Array.isArray(t)}const mI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pI=["initial",...mI];function KA(t){return YA(t.animate)||pI.some(e=>ob(t[e]))}function FY(t){return!!(KA(t)||t.variants)}function mye(t,e){if(KA(t)){const{initial:r,animate:n}=t;return{initial:r===!1||ob(r)?r:void 0,animate:ob(n)?n:void 0}}return t.inherit!==!1?e:{}}function pye(t){const{initial:e,animate:r}=mye(t,N.useContext(GA));return N.useMemo(()=>({initial:e,animate:r}),[FF(e),FF(r)])}function FF(t){return Array.isArray(t)?t.join(" "):t}const gye=Symbol.for("motionComponentSymbol");function w0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vye(t,e,r){return N.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):w0(r)&&(r.current=n))},[e])}const gI=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yye="framerAppearId",$Y="data-"+gI(yye),BY=N.createContext({});function xye(t,e,r,n,a){var g,p;const{visualElement:i}=N.useContext(GA),s=N.useContext(RY),l=N.useContext(qA),c=N.useContext(G3).reducedMotion,u=N.useRef(null);n=n||s.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=N.useContext(BY);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&bye(u.current,r,a,f);const m=N.useRef(!1);N.useInsertionEffect(()=>{d&&m.current&&d.update(r,l)});const h=r[$Y],v=N.useRef(!!h&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,h))&&((p=window.MotionHasOptimisedAnimation)==null?void 0:p.call(window,h)));return qG(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),fI.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),N.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,h)}),v.current=!1))}),d}function bye(t,e,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:UY(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||l&&w0(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function UY(t){if(t)return t.options.allowProjection!==!1?t.projection:UY(t.parent)}function wye({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:a}){t&&cye(t);function i(l,c){let u;const d={...N.useContext(G3),...l,layoutId:Sye(l)},{isStatic:f}=d,m=pye(l),h=n(l,f);if(!f&&q3){_ye();const v=jye(d);u=v.MeasureLayout,m.visualElement=xye(a,h,d,e,v.ProjectionNode)}return o.jsxs(GA.Provider,{value:m,children:[u&&m.visualElement?o.jsx(u,{visualElement:m.visualElement,...d}):null,r(a,l,vye(h,m.visualElement,c),h,f,m.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=N.forwardRef(i);return s[gye]=a,s}function Sye({layoutId:t}){const e=N.useContext(H3).id;return e&&t!==void 0?e+"-"+t:t}function _ye(t,e){N.useContext(RY).strict}function jye(t){const{drag:e,layout:r}=jv;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const lb={};function Nye(t){for(const e in t)lb[e]=t[e],tI(e)&&(lb[e].isCSSVariable=!0)}function zY(t,{layout:e,layoutId:r}){return wy.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!lb[t]||t==="opacity")}const Ls=t=>!!(t&&t.getVelocity),Aye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Eye=by.length;function Cye(t,e,r){let n="",a=!0;for(let i=0;i<Eye;i++){const s=by[i],l=t[s];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(s.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=MY(l,dI[s]);if(!c){a=!1;const d=Aye[s]||s;n+=`${d}(${u}) `}r&&(e[s]=u)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function vI(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let s=!1,l=!1;for(const c in e){const u=e[c];if(wy.has(c)){s=!0;continue}else if(tI(c)){a[c]=u;continue}else{const d=MY(u,dI[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(e.transform||(s||r?n.transform=Cye(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const yI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VY(t,e,r){for(const n in e)!Ls(e[n])&&!zY(n,r)&&(t[n]=e[n])}function Tye({transformTemplate:t},e){return N.useMemo(()=>{const r=yI();return vI(r,e,t),Object.assign({},r.vars,r.style)},[e])}function kye(t,e){const r=t.style||{},n={};return VY(n,r,t),Object.assign(n,Tye(t,e)),n}function Pye(t,e){const r={},n=kye(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Dye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xI(t){return typeof t!="string"||t.includes("-")?!1:!!(Dye.indexOf(t)>-1||/[A-Z]/u.test(t))}const Oye={offset:"stroke-dashoffset",array:"stroke-dasharray"},Iye={offset:"strokeDashoffset",array:"strokeDasharray"};function Mye(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?Oye:Iye;t[i.offset]=Nr.transform(-n);const s=Nr.transform(e),l=Nr.transform(r);t[i.array]=`${s} ${l}`}function HY(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...l},c,u){if(vI(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox="fill-box",delete d.transformBox),e!==void 0&&(d.x=e),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),a!==void 0&&Mye(d,a,i,s,!1)}const WY=()=>({...yI(),attrs:{}}),qY=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Rye(t,e,r,n){const a=N.useMemo(()=>{const i=WY();return HY(i,e,qY(n),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};VY(i,t.style,t),a.style={...i,...a.style}}return a}function Lye(t=!1){return(r,n,a,{latestValues:i},s)=>{const c=(xI(r)?Rye:Pye)(n,i,s,r),u=fye(n,typeof r=="string",t),d=r!==N.Fragment?{...u,...c,ref:a}:{},{children:f}=n,m=N.useMemo(()=>Ls(f)?f.get():f,[f]);return N.createElement(r,{...d,children:m})}}function $F(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function bI(t,e,r,n){if(typeof e=="function"){const[a,i]=$F(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=$F(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function U_(t){return Ls(t)?t.get():t}function Fye({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:$ye(r,n,a,t),renderState:e()}}const GY=t=>(e,r)=>{const n=N.useContext(GA),a=N.useContext(qA),i=()=>Fye(t,e,n,a);return r?i():W3(i)};function $ye(t,e,r,n){const a={},i=n(t,{});for(const m in i)a[m]=U_(i[m]);let{initial:s,animate:l}=t;const c=KA(t),u=FY(t);e&&u&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||s===!1;const f=d?l:s;if(f&&typeof f!="boolean"&&!YA(f)){const m=Array.isArray(f)?f:[f];for(let h=0;h<m.length;h++){const v=bI(t,m[h]);if(v){const{transitionEnd:g,transition:p,...y}=v;for(const x in y){let b=y[x];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(a[x]=b)}for(const x in g)a[x]=g[x]}}}return a}function wI(t,e,r){var i;const{style:n}=t,a={};for(const s in n)(Ls(n[s])||e.style&&Ls(e.style[s])||zY(s,t)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const Bye={useVisualState:GY({scrapeMotionValuesFromProps:wI,createRenderState:yI})};function YY(t,e,r){const n=wI(t,e,r);for(const a in t)if(Ls(t[a])||Ls(e[a])){const i=by.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}const Uye={useVisualState:GY({scrapeMotionValuesFromProps:YY,createRenderState:WY})};function zye(t,e){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...xI(n)?Uye:Bye,preloadedFeatures:t,useRender:Lye(a),createVisualElement:e,Component:n};return wye(s)}}function cb(t,e,r){const n=t.getProps();return bI(n,e,r!==void 0?r:n.custom,t)}const tP=t=>Array.isArray(t);function Vye(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,sb(r))}function Hye(t){return tP(t)?t[t.length-1]||0:t}function Wye(t,e){const r=cb(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const l=Hye(i[s]);Vye(t,s,l)}}function qye(t){return!!(Ls(t)&&t.add)}function rP(t,e){const r=t.getValue("willChange");if(qye(r))return r.add(e);if(!r&&Jd.WillChange){const n=new Jd.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function KY(t){return t.props[$Y]}const Gye=t=>t!==null;function Yye(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(Gye),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Kye={type:"spring",stiffness:500,damping:25,restSpeed:10},Xye=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Zye={type:"keyframes",duration:.8},Qye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Jye=(t,{keyframes:e})=>e.length>2?Zye:wy.has(t)?t.startsWith("scale")?Xye(e[1]):Kye:Qye;function exe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const SI=(t,e,r,n={},a,i)=>s=>{const l=uI(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Fu(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{s(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};exe(l)||Object.assign(d,Jye(t,d)),d.duration&&(d.duration=Fu(d.duration)),d.repeatDelay&&(d.repeatDelay=Fu(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(Jd.instantAnimations||Jd.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&e.get()!==void 0){const m=Yye(d.keyframes,l);if(m!==void 0){Ea.update(()=>{d.onUpdate(m),d.onComplete()});return}}return new $ve(d)};function txe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function XY(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...l}=e;n&&(i=n);const c=[],u=a&&t.animationState&&t.animationState.getState()[a];for(const d in l){const f=t.getValue(d,t.latestValues[d]??null),m=l[d];if(m===void 0||u&&txe(u,d))continue;const h={delay:r,...uI(i||{},d)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===v&&!h.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=KY(t);if(y){const x=window.MotionHandoffAnimation(y,d,Ea);x!==null&&(h.startTime=x,g=!0)}}rP(t,d),f.start(SI(d,f,m,t.shouldReduceMotion&&EY.has(d)?{type:!1}:h,t,g));const p=f.animation;p&&c.push(p)}return s&&Promise.all(c).then(()=>{Ea.update(()=>{s&&Wye(t,s)})}),c}function nP(t,e,r={}){var c;const n=cb(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(XY(t,n,r)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=a;return rxe(t,e,d+u,f,m,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,d]=l==="beforeChildren"?[i,s]:[s,i];return u().then(()=>d())}else return Promise.all([i(),s(r.delay)])}function rxe(t,e,r=0,n=0,a=1,i){const s=[],l=(t.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(t.variantChildren).sort(nxe).forEach((u,d)=>{u.notify("AnimationStart",e),s.push(nP(u,e,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(s)}function nxe(t,e){return t.sortNodePosition(e)}function axe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>nP(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=nP(t,e,r);else{const a=typeof e=="function"?cb(t,e,r.custom):e;n=Promise.all(XY(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function ZY(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const ixe=pI.length;function QY(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?QY(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<ixe;r++){const n=pI[r],a=t.props[n];(ob(a)||a===!1)&&(e[n]=a)}return e}const sxe=[...mI].reverse(),oxe=mI.length;function lxe(t){return e=>Promise.all(e.map(({animation:r,options:n})=>axe(t,r,n)))}function cxe(t){let e=lxe(t),r=BF(),n=!0;const a=c=>(u,d)=>{var m;const f=cb(t,d,c==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:h,transitionEnd:v,...g}=f;u={...u,...g,...v}}return u};function i(c){e=c(t)}function s(c){const{props:u}=t,d=QY(t.parent)||{},f=[],m=new Set;let h={},v=1/0;for(let p=0;p<oxe;p++){const y=sxe[p],x=r[y],b=u[y]!==void 0?u[y]:d[y],w=ob(b),_=y===c?x.isActive:null;_===!1&&(v=p);let j=b===d[y]&&b!==u[y]&&w;if(j&&n&&t.manuallyAnimateOnMount&&(j=!1),x.protectedKeys={...h},!x.isActive&&_===null||!b&&!x.prevProp||YA(b)||typeof b=="boolean")continue;const A=uxe(x.prevProp,b);let E=A||y===c&&x.isActive&&!j&&w||p>v&&w,T=!1;const R=Array.isArray(b)?b:[b];let D=R.reduce(a(y),{});_===!1&&(D={});const{prevResolvedValues:P={}}=x,I={...P,...D},L=q=>{E=!0,m.has(q)&&(T=!0,m.delete(q)),x.needsAnimating[q]=!0;const G=t.getValue(q);G&&(G.liveStyle=!1)};for(const q in I){const G=D[q],re=P[q];if(h.hasOwnProperty(q))continue;let Z=!1;tP(G)&&tP(re)?Z=!ZY(G,re):Z=G!==re,Z?G!=null?L(q):m.add(q):G!==void 0&&m.has(q)?L(q):x.protectedKeys[q]=!0}x.prevProp=b,x.prevResolvedValues=D,x.isActive&&(h={...h,...D}),n&&t.blockInitialAnimation&&(E=!1),E&&(!(j&&A)||T)&&f.push(...R.map(q=>({animation:q,options:{type:y}})))}if(m.size){const p={};if(typeof u.initial!="boolean"){const y=cb(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(p.transition=y.transition)}m.forEach(y=>{const x=t.getBaseTarget(y),b=t.getValue(y);b&&(b.liveStyle=!0),p[y]=x??null}),f.push({animation:p})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),n=!1,g?e(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(m=>{var h;return(h=m.animationState)==null?void 0:h.setActive(c,u)}),r[c].isActive=u;const d=s(c);for(const m in r)r[m].protectedKeys={};return d}return{animateChanges:s,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=BF(),n=!0}}}function uxe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ZY(e,t):!1}function Tm(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BF(){return{animate:Tm(!0),whileInView:Tm(),whileHover:Tm(),whileTap:Tm(),whileDrag:Tm(),whileFocus:Tm(),exit:Tm()}}class tm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dxe extends tm{constructor(e){super(e),e.animationState||(e.animationState=cxe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();YA(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let fxe=0;class hxe extends tm{constructor(){super(...arguments),this.id=fxe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const mxe={animation:{Feature:dxe},exit:{Feature:hxe}};function ub(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function $w(t){return{point:{x:t.pageX,y:t.pageY}}}const pxe=t=>e=>hI(e)&&t(e,$w(e));function y1(t,e,r,n){return ub(t,e,pxe(r),n)}function JY({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function gxe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vxe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const eK=1e-4,yxe=1-eK,xxe=1+eK,tK=.01,bxe=0-tK,wxe=0+tK;function lo(t){return t.max-t.min}function Sxe(t,e,r){return Math.abs(t-e)<=r}function UF(t,e,r,n=.5){t.origin=n,t.originPoint=Na(e.min,e.max,t.origin),t.scale=lo(r)/lo(e),t.translate=Na(r.min,r.max,t.origin)-t.originPoint,(t.scale>=yxe&&t.scale<=xxe||isNaN(t.scale))&&(t.scale=1),(t.translate>=bxe&&t.translate<=wxe||isNaN(t.translate))&&(t.translate=0)}function x1(t,e,r,n){UF(t.x,e.x,r.x,n?n.originX:void 0),UF(t.y,e.y,r.y,n?n.originY:void 0)}function zF(t,e,r){t.min=r.min+e.min,t.max=t.min+lo(e)}function _xe(t,e,r){zF(t.x,e.x,r.x),zF(t.y,e.y,r.y)}function VF(t,e,r){t.min=e.min-r.min,t.max=t.min+lo(e)}function b1(t,e,r){VF(t.x,e.x,r.x),VF(t.y,e.y,r.y)}const HF=()=>({translate:0,scale:1,origin:0,originPoint:0}),S0=()=>({x:HF(),y:HF()}),WF=()=>({min:0,max:0}),Xa=()=>({x:WF(),y:WF()});function Fl(t){return[t("x"),t("y")]}function nT(t){return t===void 0||t===1}function aP({scale:t,scaleX:e,scaleY:r}){return!nT(t)||!nT(e)||!nT(r)}function $m(t){return aP(t)||rK(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function rK(t){return qF(t.x)||qF(t.y)}function qF(t){return t&&t!=="0%"}function _j(t,e,r){const n=t-r,a=e*n;return r+a}function GF(t,e,r,n,a){return a!==void 0&&(t=_j(t,a,n)),_j(t,r,n)+e}function iP(t,e=0,r=1,n,a){t.min=GF(t.min,e,r,n,a),t.max=GF(t.max,e,r,n,a)}function nK(t,{x:e,y:r}){iP(t.x,e.translate,e.scale,e.originPoint),iP(t.y,r.translate,r.scale,r.originPoint)}const YF=.999999999999,KF=1.0000000000001;function jxe(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,s;for(let l=0;l<a;l++){i=r[l],s=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&j0(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,nK(t,s)),n&&$m(i.latestValues)&&j0(t,i.latestValues))}e.x<KF&&e.x>YF&&(e.x=1),e.y<KF&&e.y>YF&&(e.y=1)}function _0(t,e){t.min=t.min+e,t.max=t.max+e}function XF(t,e,r,n,a=.5){const i=Na(t.min,t.max,a);iP(t,e,r,i,n)}function j0(t,e){XF(t.x,e.x,e.scaleX,e.scale,e.originX),XF(t.y,e.y,e.scaleY,e.scale,e.originY)}function aK(t,e){return JY(vxe(t.getBoundingClientRect(),e))}function Nxe(t,e,r){const n=aK(t,r),{scroll:a}=e;return a&&(_0(n.x,a.offset.x),_0(n.y,a.offset.y)),n}const iK=({current:t})=>t?t.ownerDocument.defaultView:null,ZF=(t,e)=>Math.abs(t-e);function Axe(t,e){const r=ZF(t.x,e.x),n=ZF(t.y,e.y);return Math.sqrt(r**2+n**2)}class sK{constructor(e,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=iT(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,h=Axe(f.offset,{x:0,y:0})>=3;if(!m&&!h)return;const{point:v}=f,{timestamp:g}=os;this.history.push({...v,timestamp:g});const{onStart:p,onMove:y}=this.handlers;m||(p&&p(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=aT(m,this.transformPagePoint),Ea.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:h,onSessionEnd:v,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=iT(f.type==="pointercancel"?this.lastMoveEventInfo:aT(m,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,p),v&&v(f,p)},!hI(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=$w(e),l=aT(s,this.transformPagePoint),{point:c}=l,{timestamp:u}=os;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,iT(l,this.history)),this.removeListeners=Rw(y1(this.contextWindow,"pointermove",this.handlePointerMove),y1(this.contextWindow,"pointerup",this.handlePointerUp),y1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mh(this.updatePoint)}}function aT(t,e){return e?{point:e(t.point)}:t}function QF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function iT({point:t},e){return{point:t,delta:QF(t,oK(e)),offset:QF(t,Exe(e)),velocity:Cxe(e,.1)}}function Exe(t){return t[0]}function oK(t){return t[t.length-1]}function Cxe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=oK(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Fu(e)));)r--;if(!n)return{x:0,y:0};const i=$u(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Txe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Na(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Na(r,t,n.max):Math.min(t,r)),t}function JF(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function kxe(t,{top:e,left:r,bottom:n,right:a}){return{x:JF(t.x,r,a),y:JF(t.y,e,n)}}function e8(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Pxe(t,e){return{x:e8(t.x,e.x),y:e8(t.y,e.y)}}function Dxe(t,e){let r=.5;const n=lo(t),a=lo(e);return a>n?r=nb(e.min,e.max-n,t.min):n>a&&(r=nb(t.min,t.max-a,e.min)),Qd(0,1,r)}function Oxe(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const sP=.35;function Ixe(t=sP){return t===!1?t=0:t===!0&&(t=sP),{x:t8(t,"left","right"),y:t8(t,"top","bottom")}}function t8(t,e,r){return{min:r8(t,e),max:r8(t,r)}}function r8(t,e){return typeof t=="number"?t:t[e]||0}const Mxe=new WeakMap;class Rxe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Xa(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor($w(d).point)},i=(d,f)=>{const{drag:m,dragPropagation:h,onDragStart:v}=this.getProps();if(m&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jve(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fl(p=>{let y=this.getAxisMotionValue(p).get()||0;if(Bu.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const b=x.layout.layoutBox[p];b&&(y=lo(b)*(parseFloat(y)/100))}}this.originPoint[p]=y}),v&&Ea.postRender(()=>v(d,f)),rP(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:m,dragDirectionLock:h,onDirectionLock:v,onDrag:g}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:p}=f;if(h&&this.currentDirection===null){this.currentDirection=Lxe(p),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,p),this.updateAxis("y",f.point,p),this.visualElement.render(),g&&g(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Fl(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new sK(e,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:iK(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Ea.postRender(()=>i(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!CS(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=Txe(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&w0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=kxe(n.layoutBox,e):this.constraints=!1,this.elastic=Ixe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Fl(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Oxe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!w0(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Nxe(n,a.root,this.visualElement.getTransformPagePoint());let s=Pxe(a.layout.layoutBox,i);if(r){const l=r(gxe(s));this.hasMutatedConstraints=!!l,l&&(s=JY(l))}return s}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Fl(d=>{if(!CS(d,r,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const m=a?200:1e6,h=a?40:1e7,v={type:"inertia",velocity:n?e[d]:0,bounceStiffness:m,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return rP(this.visualElement,e),n.start(SI(e,n,0,r,this.visualElement,!1))}stopAnimation(){Fl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fl(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Fl(r=>{const{drag:n}=this.getProps();if(!CS(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:l}=a.layout.layoutBox[r];i.set(e[r]-Na(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!w0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Fl(s=>{const l=this.getAxisMotionValue(s);if(l&&this.constraints!==!1){const c=l.get();a[s]=Dxe({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Fl(s=>{if(!CS(s,e,null))return;const l=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];l.set(Na(c,u,a[s]))})}addListeners(){if(!this.visualElement.current)return;Mxe.set(this.visualElement,this);const e=this.visualElement.current,r=y1(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();w0(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ea.read(n);const s=ub(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Fl(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=sP,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:l}}}function CS(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Lxe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Fxe extends tm{constructor(e){super(e),this.removeGroupControls=Jl,this.removeListeners=Jl,this.controls=new Rxe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jl}unmount(){this.removeGroupControls(),this.removeListeners()}}const n8=t=>(e,r)=>{t&&Ea.postRender(()=>t(e,r))};class $xe extends tm{constructor(){super(...arguments),this.removePointerDownListener=Jl}onPointerDown(e){this.session=new sK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iK(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:n8(e),onStart:n8(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Ea.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=y1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const z_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a8(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tx={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Nr.test(t))t=parseFloat(t);else return t;const r=a8(t,e.target.x),n=a8(t,e.target.y);return`${r}% ${n}%`}},Bxe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=Rh.parse(t);if(a.length>5)return n;const i=Rh.createTransformer(t),s=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+s]/=l,a[1+s]/=c;const u=Na(l,c,.5);return typeof a[2+s]=="number"&&(a[2+s]/=u),typeof a[3+s]=="number"&&(a[3+s]/=u),i(a)}};class Uxe extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;Nye(zxe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),z_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,s=n.projection;return s&&(s.isPresent=i,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||Ea.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lK(t){const[e,r]=GG(),n=N.useContext(H3);return o.jsx(Uxe,{...t,layoutGroup:n,switchLayoutGroup:N.useContext(BY),isPresent:e,safeToRemove:r})}const zxe={borderRadius:{...Tx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tx,borderTopRightRadius:Tx,borderBottomLeftRadius:Tx,borderBottomRightRadius:Tx,boxShadow:Bxe};function Vxe(t,e,r){const n=Ls(t)?t:sb(t);return n.start(SI("",n,e,r)),n.animation}function Hxe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Wxe=(t,e)=>t.depth-e.depth;class qxe{constructor(){this.children=[],this.isDirty=!1}add(e){Y3(this.children,e),this.isDirty=!0}remove(e){K3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Wxe),this.isDirty=!1,this.children.forEach(e)}}function Gxe(t,e){const r=ko.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(Mh(n),t(i-e))};return Ea.setup(n,!0),()=>Mh(n)}const cK=["TopLeft","TopRight","BottomLeft","BottomRight"],Yxe=cK.length,i8=t=>typeof t=="string"?parseFloat(t):t,s8=t=>typeof t=="number"||Nr.test(t);function Kxe(t,e,r,n,a,i){a?(t.opacity=Na(0,r.opacity??1,Xxe(n)),t.opacityExit=Na(e.opacity??1,0,Zxe(n))):i&&(t.opacity=Na(e.opacity??1,r.opacity??1,n));for(let s=0;s<Yxe;s++){const l=`border${cK[s]}Radius`;let c=o8(e,l),u=o8(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||s8(c)===s8(u)?(t[l]=Math.max(Na(i8(c),i8(u),n),0),(Bu.test(u)||Bu.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=Na(e.rotate||0,r.rotate||0,n))}function o8(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Xxe=uK(0,.5,nY),Zxe=uK(.5,.95,Jl);function uK(t,e,r){return n=>n<t?0:n>e?1:r(nb(t,e,n))}function l8(t,e){t.min=e.min,t.max=e.max}function Dl(t,e){l8(t.x,e.x),l8(t.y,e.y)}function c8(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function u8(t,e,r,n,a){return t-=e,t=_j(t,1/r,n),a!==void 0&&(t=_j(t,1/a,n)),t}function Qxe(t,e=0,r=1,n=.5,a,i=t,s=t){if(Bu.test(e)&&(e=parseFloat(e),e=Na(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=Na(i.min,i.max,n);t===i&&(l-=e),t.min=u8(t.min,e,r,l,a),t.max=u8(t.max,e,r,l,a)}function d8(t,e,[r,n,a],i,s){Qxe(t,e[r],e[n],e[a],e.scale,i,s)}const Jxe=["x","scaleX","originX"],e1e=["y","scaleY","originY"];function f8(t,e,r,n){d8(t.x,e,Jxe,r?r.x:void 0,n?n.x:void 0),d8(t.y,e,e1e,r?r.y:void 0,n?n.y:void 0)}function h8(t){return t.translate===0&&t.scale===1}function dK(t){return h8(t.x)&&h8(t.y)}function m8(t,e){return t.min===e.min&&t.max===e.max}function t1e(t,e){return m8(t.x,e.x)&&m8(t.y,e.y)}function p8(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fK(t,e){return p8(t.x,e.x)&&p8(t.y,e.y)}function g8(t){return lo(t.x)/lo(t.y)}function v8(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class r1e{constructor(){this.members=[]}add(e){Y3(this.members,e),e.scheduleRender()}remove(e){if(K3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n1e(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:h,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),h&&(n+=`skewX(${h}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const sT=["","X","Y","Z"],a1e={visibility:"hidden"},y8=1e3;let i1e=0;function oT(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function hK(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=KY(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Ea,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&hK(n)}function mK({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},l=e==null?void 0:e()){this.id=i1e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(l1e),this.nodes.forEach(h1e),this.nodes.forEach(m1e),this.nodes.forEach(c1e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new qxe)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Q3),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Hxe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Gxe(m,250),z_.hasAnimatedSinceResize&&(z_.hasAnimatedSinceResize=!1,this.nodes.forEach(b8))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:h,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||x1e,{onLayoutAnimationStart:p,onLayoutAnimationComplete:y}=d.getProps(),x=!this.targetLayout||!fK(this.targetLayout,v),b=!m&&h;if(this.options.layoutRoot||this.resumeFrom||b||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const w={...uI(g,"layout"),onPlay:p,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else m||b8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Mh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p1e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(x8);return}this.isUpdating||this.nodes.forEach(d1e),this.isUpdating=!1,this.nodes.forEach(f1e),this.nodes.forEach(s1e),this.nodes.forEach(o1e),this.clearAllSnapshots();const l=ko.now();os.delta=Qd(0,1e3/60,l-os.timestamp),os.timestamp=l,os.isProcessing=!0,QC.update.process(os),QC.preRender.process(os),QC.render.process(os),os.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u1e),this.sharedNodes.forEach(g1e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ea.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ea.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!lo(this.snapshot.measuredBox.x)&&!lo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Xa(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!dK(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(l||$m(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),b1e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Xa();const l=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(w1e))){const{scroll:d}=this.root;d&&(_0(l.x,d.offset.x),_0(l.y,d.offset.y))}return l}removeElementScroll(s){var c;const l=Xa();if(Dl(l,s),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Dl(l,s),_0(l.x,f.offset.x),_0(l.y,f.offset.y))}return l}applyTransform(s,l=!1){const c=Xa();Dl(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&j0(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$m(d.latestValues)&&j0(c,d.latestValues)}return $m(this.latestValues)&&j0(c,this.latestValues),c}removeTransform(s){const l=Xa();Dl(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!$m(u.latestValues))continue;aP(u.latestValues)&&u.updateSnapshot();const d=Xa(),f=u.measurePageBox();Dl(d,f),f8(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return $m(this.latestValues)&&f8(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==os.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=os.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xa(),this.relativeTargetOrigin=Xa(),b1(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Dl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Xa(),this.targetWithTransforms=Xa()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_xe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dl(this.target,this.layout.layoutBox),nK(this.target,this.targetDelta)):Dl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Xa(),this.relativeTargetOrigin=Xa(),b1(this.relativeTargetOrigin,this.target,h.target),Dl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||aP(this.parent.latestValues)||rK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const s=this.getLead(),l=!!this.resumingFrom||this!==s;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===os.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Dl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;jxe(this.layoutCorrected,this.treeScale,this.path,l),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Xa());const{target:h}=s;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c8(this.prevProjectionDelta.x,this.projectionDelta.x),c8(this.prevProjectionDelta.y,this.projectionDelta.y)),x1(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!v8(this.projectionDelta.x,this.prevProjectionDelta.x)||!v8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=S0(),this.projectionDelta=S0(),this.projectionDeltaWithTransform=S0()}setAnimationOrigin(s,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=S0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Xa(),h=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=h!==v,p=this.getStack(),y=!p||p.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(y1e));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const _=w/1e3;w8(f.x,s.x,_),w8(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(b1(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v1e(this.relativeTarget,this.relativeTargetOrigin,m,_),b&&t1e(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Xa()),Dl(b,this.relativeTarget)),g&&(this.animationValues=d,Kxe(d,u,this.latestValues,_,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Mh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ea.update(()=>{z_.hasAnimatedSinceResize=!0,this.currentAnimation=Vxe(0,y8,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(y8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=s;if(!(!l||!c||!u)){if(this!==s&&this.layout&&u&&pK(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Xa();const f=lo(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const m=lo(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+m}Dl(l,c),j0(l,d),x1(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new r1e),this.sharedNodes.get(s).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var l;const{layoutId:s}=this.options;return s?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:s}=this.options;return s?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&oT("z",s,u,this.animationValues);for(let d=0;d<sT.length;d++)oT(`rotate${sT[d]}`,s,u,this.animationValues),oT(`skew${sT[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return a1e;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=U_(s==null?void 0:s.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=U_(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!$m(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=n1e(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:f,y:m}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const h in lb){if(d[h]===void 0)continue;const{correct:v,applyTo:g,isCSSVariable:p}=lb[h],y=l.transform==="none"?d[h]:v(d[h],u);if(g){const x=g.length;for(let b=0;b<x;b++)l[g[b]]=y}else p?this.options.visualElement.renderState.vars[h]=y:l[h]=y}return this.options.layoutId&&(l.pointerEvents=u===this?U_(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(x8),this.root.sharedNodes.clear()}}}function s1e(t){t.updateLayout()}function o1e(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Fl(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],h=lo(m);m.min=n[f].min,m.max=m.min+h}):pK(i,e.layoutBox,n)&&Fl(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],h=lo(n[f]);m.max=m.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const l=S0();x1(l,n,e.layoutBox);const c=S0();s?x1(c,t.applyTransform(a,!0),e.measuredBox):x1(c,n,e.layoutBox);const u=!dK(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:h}=f;if(m&&h){const v=Xa();b1(v,e.layoutBox,m.layoutBox);const g=Xa();b1(g,n,h.layoutBox),fK(v,g)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function l1e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c1e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function u1e(t){t.clearSnapshot()}function x8(t){t.clearMeasurements()}function d1e(t){t.isLayoutDirty=!1}function f1e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function b8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function h1e(t){t.resolveTargetDelta()}function m1e(t){t.calcProjection()}function p1e(t){t.resetSkewAndRotation()}function g1e(t){t.removeLeadSnapshot()}function w8(t,e,r){t.translate=Na(e.translate,0,r),t.scale=Na(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function S8(t,e,r,n){t.min=Na(e.min,r.min,n),t.max=Na(e.max,r.max,n)}function v1e(t,e,r,n){S8(t.x,e.x,r.x,n),S8(t.y,e.y,r.y,n)}function y1e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const x1e={duration:.45,ease:[.4,0,.1,1]},_8=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),j8=_8("applewebkit/")&&!_8("chrome/")?Math.round:Jl;function N8(t){t.min=j8(t.min),t.max=j8(t.max)}function b1e(t){N8(t.x),N8(t.y)}function pK(t,e,r){return t==="position"||t==="preserve-aspect"&&!Sxe(g8(e),g8(r),.2)}function w1e(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const S1e=mK({attachResizeListener:(t,e)=>ub(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),lT={current:void 0},gK=mK({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lT.current){const t=new S1e({});t.mount(window),t.setOptions({layoutScroll:!0}),lT.current=t}return lT.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_1e={pan:{Feature:$xe},drag:{Feature:Fxe,ProjectionNode:gK,MeasureLayout:lK}};function A8(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Ea.postRender(()=>i(e,$w(e)))}class j1e extends tm{mount(){const{current:e}=this.node;e&&(this.unmount=eye(e,(r,n)=>(A8(this.node,n,"Start"),a=>A8(this.node,a,"End"))))}unmount(){}}class N1e extends tm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rw(ub(this.node.current,"focus",()=>this.onFocus()),ub(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E8(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Ea.postRender(()=>i(e,$w(e)))}class A1e extends tm{mount(){const{current:e}=this.node;e&&(this.unmount=aye(e,(r,n)=>(E8(this.node,n,"Start"),(a,{success:i})=>E8(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oP=new WeakMap,cT=new WeakMap,E1e=t=>{const e=oP.get(t.target);e&&e(t)},C1e=t=>{t.forEach(E1e)};function T1e({root:t,...e}){const r=t||document;cT.has(r)||cT.set(r,{});const n=cT.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(C1e,{root:t,...e})),n[a]}function k1e(t,e,r){const n=T1e(e);return oP.set(t,r),n.observe(t),()=>{oP.delete(t),n.unobserve(t)}}const P1e={some:0,all:1};class D1e extends tm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:P1e[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return k1e(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(O1e(e,r))&&this.startObserver()}unmount(){}}function O1e({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const I1e={inView:{Feature:D1e},tap:{Feature:A1e},focus:{Feature:N1e},hover:{Feature:j1e}},M1e={layout:{ProjectionNode:gK,MeasureLayout:lK}},lP={current:null},vK={current:!1};function R1e(){if(vK.current=!0,!!q3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lP.current=t.matches;t.addListener(e),e()}else lP.current=!1}const L1e=new WeakMap;function F1e(t,e,r){for(const n in e){const a=e[n],i=r[n];if(Ls(a))t.addValue(n,a);else if(Ls(i))t.addValue(n,sb(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const s=t.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=t.getStaticValue(n);t.addValue(n,sb(s!==void 0?s:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const C8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $1e{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=ko.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ea.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=s;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=KA(r),this.isVariantNode=FY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const h=f[m];c[m]!==void 0&&Ls(h)&&h.set(c[m],!1)}}mount(e){this.current=e,L1e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),vK.current||R1e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lP.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mh(this.notifyUpdate),Mh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=wy.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ea.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in jv){const r=jv[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Xa()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<C8.length;n++){const a=C8[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=e[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=F1e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=sb(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(YG(n)||KG(n))?n=parseFloat(n):!lye(n)&&Rh.test(r)&&(n=PY(e,r)),this.setBaseTarget(e,Ls(n)?n.get():n)),Ls(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=bI(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ls(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Q3),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class yK extends $1e{constructor(){super(...arguments),this.KeyframeResolver=Zve}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ls(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function xK(t,{style:e,vars:r},n,a){Object.assign(t.style,e,a&&a.getProjectionStyles(n));for(const i in r)t.style.setProperty(i,r[i])}function B1e(t){return window.getComputedStyle(t)}class U1e extends yK{constructor(){super(...arguments),this.type="html",this.renderInstance=xK}readValueFromInstance(e,r){if(wy.has(r))return gve(e,r);{const n=B1e(e),a=(tI(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return aK(e,r)}build(e,r,n){vI(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return wI(e,r,n)}}const bK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function z1e(t,e,r,n){xK(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(bK.has(a)?a:gI(a),e.attrs[a])}class V1e extends yK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Xa}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(wy.has(r)){const n=kY(r);return n&&n.default||0}return r=bK.has(r)?r:gI(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return YY(e,r,n)}build(e,r,n){HY(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,a){z1e(e,r,n,a)}mount(e){this.isSVGTag=qY(e.tagName),super.mount(e)}}const H1e=(t,e)=>xI(t)?new V1e(e):new U1e(e,{allowProjection:t!==N.Fragment}),W1e=zye({...mxe,...I1e,..._1e,...M1e},H1e),nt=hye(W1e),q1e="modulepreload",G1e=function(t){return"/"+t},T8={},ru=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=G1e(c),c in T8)return;T8[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":q1e,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Y1e=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ru(async()=>{const{default:n}=await Promise.resolve().then(()=>Sy);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class _I extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class K1e extends _I{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class X1e extends _I{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Z1e extends _I{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cP;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cP||(cP={}));var Q1e=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class J1e{constructor(e,{headers:r={},customFetch:n,region:a=cP.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Y1e(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Q1e(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(l["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(l["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new K1e(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new X1e(d);if(!d.ok)throw new Z1e(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),h;return m==="application/json"?h=yield d.json():m==="application/octet-stream"?h=yield d.blob():m==="text/event-stream"?h=d:m==="multipart/form-data"?h=yield d.formData():h=yield d.text(),{data:h,error:null}}catch(a){return{data:null,error:a}}})}}var To={},jI={},XA={},Bw={},ZA={},QA={},ebe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nv=ebe();const tbe=Nv.fetch,wK=Nv.fetch.bind(Nv),SK=Nv.Headers,rbe=Nv.Request,nbe=Nv.Response,Sy=Object.freeze(Object.defineProperty({__proto__:null,Headers:SK,Request:rbe,Response:nbe,default:wK,fetch:tbe},Symbol.toStringTag,{value:"Module"})),abe=Lue(Sy);var JA={};Object.defineProperty(JA,"__esModule",{value:!0});let ibe=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};JA.default=ibe;var _K=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(QA,"__esModule",{value:!0});const sbe=_K(abe),obe=_K(JA);let lbe=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=sbe.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,l,c;let u=null,d=null,f=null,m=i.status,h=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),p=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,h="OK")}catch{i.status===404&&g===""?(m=204,h="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,h="OK"),u&&this.shouldThrowOnError)throw new obe.default(u)}return{error:u,data:d,count:f,status:m,statusText:h}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,l,c;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};QA.default=lbe;var cbe=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ZA,"__esModule",{value:!0});const ube=cbe(QA);let dbe=class extends ube.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ZA.default=dbe;var fbe=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bw,"__esModule",{value:!0});const hbe=fbe(ZA);let mbe=class extends hbe.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Bw.default=mbe;var pbe=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(XA,"__esModule",{value:!0});const kx=pbe(Bw);let gbe=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new kx.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const s=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new kx.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const s="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new kx.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new kx.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new kx.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};XA.default=gbe;var eE={},tE={};Object.defineProperty(tE,"__esModule",{value:!0});tE.version=void 0;tE.version="0.0.0-automated";Object.defineProperty(eE,"__esModule",{value:!0});eE.DEFAULT_HEADERS=void 0;const vbe=tE;eE.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${vbe.version}`};var jK=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jI,"__esModule",{value:!0});const ybe=jK(XA),xbe=jK(Bw),bbe=eE;let wbe=class NK{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},bbe.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new ybe.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new NK(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){let s;const l=new URL(`${this.url}/rpc/${e}`);let c;n||a?(s=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(s="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new xbe.default({method:s,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};jI.default=wbe;var _y=Rs&&Rs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(To,"__esModule",{value:!0});To.PostgrestError=To.PostgrestBuilder=To.PostgrestTransformBuilder=To.PostgrestFilterBuilder=To.PostgrestQueryBuilder=To.PostgrestClient=void 0;const AK=_y(jI);To.PostgrestClient=AK.default;const EK=_y(XA);To.PostgrestQueryBuilder=EK.default;const CK=_y(Bw);To.PostgrestFilterBuilder=CK.default;const TK=_y(ZA);To.PostgrestTransformBuilder=TK.default;const kK=_y(QA);To.PostgrestBuilder=kK.default;const PK=_y(JA);To.PostgrestError=PK.default;var Sbe=To.default={PostgrestClient:AK.default,PostgrestQueryBuilder:EK.default,PostgrestFilterBuilder:CK.default,PostgrestTransformBuilder:TK.default,PostgrestBuilder:kK.default,PostgrestError:PK.default};const{PostgrestClient:_be,PostgrestQueryBuilder:xbt,PostgrestFilterBuilder:bbt,PostgrestTransformBuilder:wbt,PostgrestBuilder:Sbt,PostgrestError:_bt}=Sbe,jbe="2.11.2",Nbe={"X-Client-Info":`realtime-js/${jbe}`},Abe="1.0.0",DK=1e4,Ebe=1e3;var B0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(B0||(B0={}));var Jo;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jo||(Jo={}));var kc;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(kc||(kc={}));var uP;(function(t){t.websocket="websocket"})(uP||(uP={}));var Ym;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ym||(Ym={}));class Cbe{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(e.slice(s,s+a));s=s+a;const c=n.decode(e.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class OK{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var aa;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(aa||(aa={}));const k8=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,s)=>(i[s]=Tbe(s,t,e,a),i),{})},Tbe=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,s=r[t];return i&&!n.includes(i)?IK(i,s):dP(s)},IK=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Obe(e,r)}switch(t){case aa.bool:return kbe(e);case aa.float4:case aa.float8:case aa.int2:case aa.int4:case aa.int8:case aa.numeric:case aa.oid:return Pbe(e);case aa.json:case aa.jsonb:return Dbe(e);case aa.timestamp:return Ibe(e);case aa.abstime:case aa.date:case aa.daterange:case aa.int4range:case aa.int8range:case aa.money:case aa.reltime:case aa.text:case aa.time:case aa.timestamptz:case aa.timetz:case aa.tsrange:case aa.tstzrange:return dP(e);default:return dP(e)}},dP=t=>t,kbe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Pbe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Dbe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Obe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const s=t.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>IK(e,l))}return t},Ibe=t=>typeof t=="string"?t.replace(" ","T"):t,MK=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class uT{constructor(e,r,n={},a=DK){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var P8;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(P8||(P8={}));class w1{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=w1.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=w1.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=w1.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const m=d.map(p=>p.presence_ref),h=f.map(p=>p.presence_ref),v=d.filter(p=>h.indexOf(p.presence_ref)<0),g=f.filter(p=>m.indexOf(p.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(h=>h.presence_ref),m=d.filter(h=>f.indexOf(h.presence_ref)<0);e[l].unshift(...m)}n(l,d,c)}),this.map(s,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,a(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var D8;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(D8||(D8={}));var O8;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(O8||(O8={}));var Md;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Md||(Md={}));class NI{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Jo.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new uT(this,kc.join,this.params,this.timeout),this.rejoinTimer=new OK(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jo.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jo.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Jo.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jo.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kc.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new w1(this),this.broadcastEndpointURL=MK(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:l}}=this.params;this._onError(d=>e==null?void 0:e(Md.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Md.CLOSED));const c={},u={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Md.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,h=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,v=[];for(let g=0;g<h;g++){const p=m[g],{filter:{event:y,schema:x,table:b,filter:w}}=p,_=d&&d[g];if(_&&_.event===y&&_.schema===x&&_.table===b&&_.filter===w)v.push(Object.assign(Object.assign({},p),{id:_.id}));else{this.unsubscribe(),e==null||e(Md.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Md.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Md.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Md.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jo.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kc.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new uT(this,kc.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new uT(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const s=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=kc;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let m=this._onMessage(s,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var v,g,p;return((v=h.filter)===null||v===void 0?void 0:v.event)==="*"||((p=(g=h.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===s}).map(h=>h.callback(m,n)):(i=this.bindings[s])===null||i===void 0||i.filter(h=>{var v,g,p,y,x,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in h){const w=h.id,_=(v=h.filter)===null||v===void 0?void 0:v.event;return w&&((g=r.ids)===null||g===void 0?void 0:g.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((p=r.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const w=(x=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return w==="*"||w===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===s}).map(h=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:g,table:p,commit_timestamp:y,type:x,errors:b}=v;m=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:y,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(v))}h.callback(m,n)})}_isClosed(){return this.state===Jo.closed}_isJoined(){return this.state===Jo.joined}_isJoining(){return this.state===Jo.joining}_isLeaving(){return this.state===Jo.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&NI.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(kc.close,{},e)}_onError(e){this._on(kc.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jo.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=k8(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=k8(e.columns,e.old_record)),r}}const Mbe=()=>{},Rbe=typeof WebSocket<"u",Lbe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Fbe{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Nbe,this.params={},this.timeout=DK,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Mbe,this.conn=null,this.sendBuffer=[],this.serializer=new Cbe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...l)=>ru(async()=>{const{default:c}=await Promise.resolve().then(()=>Sy);return{default:c}},void 0).then(({default:c})=>c(...l)):s=fetch,(...l)=>s(...l)},this.endPoint=`${e}/${uP.websocket}`,this.httpEndpoint=MK(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new OK(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Rbe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new $be(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ru(async()=>{const{default:e}=await import("./browser-C31kVfvP.js").then(r=>r.b);return{default:e}},__vite__mapDeps([0,1])).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Abe}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case B0.connecting:return Ym.Connecting;case B0.open:return Ym.Open;case B0.closing:return Ym.Closing;default:return Ym.Closed}}isConnected(){return this.connectionState()===Ym.Open}channel(e,r={config:{}}){const n=new NI(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:a,ref:i}=e,s=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(kc.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Ebe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(kc.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Lbe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class $be{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=B0.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class AI extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Li(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Bbe extends AI{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class fP extends AI{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Ube=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const RK=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ru(async()=>{const{default:n}=await Promise.resolve().then(()=>Sy);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},zbe=()=>Ube(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ru(()=>Promise.resolve().then(()=>Sy),void 0)).Response:Response}),hP=t=>{if(Array.isArray(t))return t.map(r=>hP(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=hP(n)}),e};var sg=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const dT=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Vbe=(t,e,r)=>sg(void 0,void 0,void 0,function*(){const n=yield zbe();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new Bbe(dT(a),t.status||500))}).catch(a=>{e(new fP(dT(a),a))}):e(new fP(dT(t),t))}),Hbe=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Uw(t,e,r,n,a,i){return sg(this,void 0,void 0,function*(){return new Promise((s,l)=>{t(r,Hbe(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Vbe(c,l,n))})})}function jj(t,e,r,n){return sg(this,void 0,void 0,function*(){return Uw(t,"GET",e,r,n)})}function Yf(t,e,r,n,a){return sg(this,void 0,void 0,function*(){return Uw(t,"POST",e,n,a,r)})}function Wbe(t,e,r,n,a){return sg(this,void 0,void 0,function*(){return Uw(t,"PUT",e,n,a,r)})}function qbe(t,e,r,n){return sg(this,void 0,void 0,function*(){return Uw(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function LK(t,e,r,n,a){return sg(this,void 0,void 0,function*(){return Uw(t,"DELETE",e,n,a,r)})}var _o=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Gbe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},I8={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ybe{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=RK(a)}uploadOrUpdate(e,r,n,a){return _o(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},I8),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(Li(i))return{data:null,error:i};throw i}})}upload(e,r,n){return _o(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return _o(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),s=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:I8.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Li(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return _o(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Yf(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),l=s.searchParams.get("token");if(!l)throw new AI("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(n){if(Li(n))return{data:null,error:n};throw n}})}update(e,r,n){return _o(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return _o(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Li(a))return{data:null,error:a};throw a}})}copy(e,r,n){return _o(this,void 0,void 0,function*(){try{return{data:{path:(yield Yf(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Li(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return _o(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Yf(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(Li(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return _o(this,void 0,void 0,function*(){try{const a=yield Yf(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(Li(a))return{data:null,error:a};throw a}})}download(e,r){return _o(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield jj(this.fetch,`${this.url}/${a}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Li(l))return{data:null,error:l};throw l}})}info(e){return _o(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield jj(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:hP(n),error:null}}catch(n){if(Li(n))return{data:null,error:n};throw n}})}exists(e){return _o(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield qbe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Li(n)&&n instanceof fP){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return _o(this,void 0,void 0,function*(){try{return{data:yield LK(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Li(r))return{data:null,error:r};throw r}})}list(e,r,n){return _o(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Gbe),r),{prefix:e||""});return{data:yield Yf(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Li(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Kbe="2.7.1",Xbe={"X-Client-Info":`storage-js/${Kbe}`};var Gg=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Zbe{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Xbe),r),this.fetch=RK(n)}listBuckets(){return Gg(this,void 0,void 0,function*(){try{return{data:yield jj(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Li(e))return{data:null,error:e};throw e}})}getBucket(e){return Gg(this,void 0,void 0,function*(){try{return{data:yield jj(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Li(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Gg(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Li(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Gg(this,void 0,void 0,function*(){try{return{data:yield Wbe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Li(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Gg(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Li(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Gg(this,void 0,void 0,function*(){try{return{data:yield LK(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Li(r))return{data:null,error:r};throw r}})}}class Qbe extends Zbe{constructor(e,r={},n){super(e,r,n)}from(e){return new Ybe(this.url,this.headers,e,this.fetch)}}const Jbe="2.49.4";let a1="";typeof Deno<"u"?a1="deno":typeof document<"u"?a1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?a1="react-native":a1="node";const ewe={"X-Client-Info":`supabase-js-${a1}/${Jbe}`},twe={headers:ewe},rwe={schema:"public"},nwe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},awe={};var iwe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const swe=t=>{let e;return t?e=t:typeof fetch>"u"?e=wK:e=fetch,(...r)=>e(...r)},owe=()=>typeof Headers>"u"?SK:Headers,lwe=(t,e,r)=>{const n=swe(r),a=owe();return(i,s)=>iwe(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var cwe=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function uwe(t){return t.replace(/\/$/,"")}function dwe(t,e){const{db:r,auth:n,realtime:a,global:i}=t,{db:s,auth:l,realtime:c,global:u}=e,d={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign({},u),i),accessToken:()=>cwe(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const FK="2.69.1",f0=30*1e3,mP=3,fT=mP*f0,fwe="http://localhost:9999",hwe="supabase.auth.token",mwe={"X-Client-Info":`gotrue-js/${FK}`},pP="X-Supabase-Api-Version",$K={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pwe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gwe=6e5;class EI extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function qr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class vwe extends EI{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ywe(t){return qr(t)&&t.name==="AuthApiError"}class BK extends EI{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class rm extends EI{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Wf extends rm{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xwe(t){return qr(t)&&t.name==="AuthSessionMissingError"}class hT extends rm{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class TS extends rm{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class kS extends rm{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bwe(t){return qr(t)&&t.name==="AuthImplicitGrantRedirectError"}class M8 extends rm{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gP extends rm{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function mT(t){return qr(t)&&t.name==="AuthRetryableFetchError"}class R8 extends rm{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class S1 extends rm{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const L8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),F8=` 	
\r=`.split(""),wwe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<F8.length;e+=1)t[F8[e].charCodeAt(0)]=-2;for(let e=0;e<L8.length;e+=1)t[L8[e].charCodeAt(0)]=e;return t})();function UK(t,e,r){const n=wwe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $8(t){const e=[],r=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{jwe(s,n,r)};for(let s=0;s<t.length;s+=1)UK(t.charCodeAt(s),a,i);return e.join("")}function Swe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _we(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Swe(n,e)}}function jwe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Nwe(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)UK(t.charCodeAt(a),r,n);return new Uint8Array(e)}function Awe(t){const e=[];return _we(t,r=>e.push(r)),new Uint8Array(e)}function Ewe(t){return Math.round(Date.now()/1e3)+t}function Cwe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const xu=()=>typeof window<"u"&&typeof document<"u",km={tested:!1,writable:!1},_1=()=>{if(!xu())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(km.tested)return km.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),km.tested=!0,km.writable=!0}catch{km.tested=!0,km.writable=!1}return km.writable};function Twe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const zK=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ru(async()=>{const{default:n}=await Promise.resolve().then(()=>Sy);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},kwe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",VK=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},PS=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},DS=async(t,e)=>{await t.removeItem(e)};class rE{constructor(){this.promise=new rE.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}rE.promiseConstructor=Promise;function pT(t){const e=t.split(".");if(e.length!==3)throw new S1("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!pwe.test(e[n]))throw new S1("JWT not in base64url format");return{header:JSON.parse($8(e[0])),payload:JSON.parse($8(e[1])),signature:Nwe(e[2]),raw:{header:e[0],payload:e[1]}}}async function Pwe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Dwe(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await t(i);if(!e(i,null,s)){n(s);return}}catch(s){if(!e(i,s)){a(s);return}}})()})}function Owe(t){return("0"+t.toString(16)).substr(-2)}function Iwe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,Owe).join("")}async function Mwe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Rwe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Mwe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yg(t,e,r=!1){const n=Iwe();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await VK(t,`${e}-code-verifier`,a);const i=await Rwe(n);return[i,n===i?"plain":"s256"]}const Lwe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fwe(t){const e=t.headers.get(pP);if(!e||!e.match(Lwe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $we(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Bwe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Uwe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Bm=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zwe=[502,503,504];async function B8(t){var e;if(!kwe(t))throw new gP(Bm(t),0);if(zwe.includes(t.status))throw new gP(Bm(t),t.status);let r;try{r=await t.json()}catch(i){throw new BK(Bm(i),i)}let n;const a=Fwe(t);if(a&&a.getTime()>=$K["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new R8(Bm(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Wf}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new R8(Bm(r),t.status,r.weak_password.reasons);throw new vwe(Bm(r),t.status||500,n)}const Vwe=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function rn(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[pP]||(i[pP]=$K["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Hwe(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Hwe(t,e,r,n,a,i){const s=Vwe(e,n,a,i);let l;try{l=await t(r,Object.assign({},s))}catch(c){throw console.error(c),new gP(Bm(c),0)}if(l.ok||await B8(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await B8(c)}}function qf(t){var e;let r=null;Ywe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Ewe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function U8(t){const e=qf(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zf(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Wwe(t){return{data:t,error:null}}function qwe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,s=Uwe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function Gwe(t){return t}function Ywe(t){return t.access_token&&t.refresh_token&&t.expires_in}var Kwe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class Xwe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=zK(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await rn(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await rn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zf})}catch(n){if(qr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Kwe(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await rn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:qwe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(qr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await rn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zf})}catch(r){if(qr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await rn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Gwe});if(d.error)throw d.error;const f=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,h=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(v.split(";")[1].split("=")[1]);u[`${p}Page`]=g}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(qr(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await rn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zf})}catch(r){if(qr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await rn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Zf})}catch(n){if(qr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await rn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zf})}catch(n){if(qr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await rn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(qr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await rn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(qr(r))return{data:null,error:r};throw r}}}const Zwe={getItem:t=>_1()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{_1()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{_1()&&globalThis.localStorage.removeItem(t)}};function z8(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Qwe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kg={debug:!!(globalThis&&_1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class HK extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Jwe extends HK{}async function e2e(t,e,r){Kg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Kg.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Kg.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{Kg.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Kg.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Jwe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Kg.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Qwe();const t2e={url:fwe,storageKey:hwe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mwe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function V8(t,e,r){return await r()}class db{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=db.nextInstanceID,db.nextInstanceID+=1,this.instanceID>0&&xu()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},t2e),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Xwe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=zK(a.fetch),this.lock=a.lock||V8,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:xu()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=e2e:this.lock=V8,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:_1()?this.storage=Zwe:(this.memoryStorage={},this.storage=z8(this.memoryStorage)):(this.memoryStorage={},this.storage=z8(this.memoryStorage)),xu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FK}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Twe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xu()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bwe(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qr(r)?{error:r}:{error:new BK("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:qf}),{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(qr(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:f,options:m}=e;let h=null,v=null;this.flowType==="pkce"&&([h,v]=await Yg(this.storage,this.storageKey)),i=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:v},xform:qf})}else if("phone"in e){const{phone:d,password:f,options:m}=e;i=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:qf})}else throw new TS("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(qr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:s,options:l}=e;r=await rn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:U8})}else if("phone"in e){const{phone:i,password:s,options:l}=e;r=await rn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:U8})}else throw new TS("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new hT}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(qr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await PS(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await rn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qf});if(await DS(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new hT}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(qr(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=e,l=await rn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qf}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new hT}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(qr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,s;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Yg(this.storage,this.storageKey));const{error:f}=await rn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await rn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new TS("You must provide either an email or phone number.")}catch(l){if(qr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await rn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:qf});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(qr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Yg(this.storage,this.storageKey)),await rn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Wwe})}catch(i){if(qr(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Wf;const{error:a}=await rn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(qr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:s}=await rn(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:s,error:l}=await rn(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new TS("You must provide either an email or phone number and a type")}catch(r){if(qr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await PS(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<fT:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await rn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zf}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wf}:await rn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Zf})})}catch(r){if(qr(r))return xwe(r)&&(await this._removeSession(),await DS(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Wf;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Yg(this.storage,this.storageKey));const{data:u,error:d}=await rn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Zf});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(qr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Wf;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=pT(e.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(qr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:s,error:l}=r;if(l)throw l;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Wf;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(qr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!xu())throw new kS("No browser detected.");if(e.error||e.error_description||e.error_code)throw new kS(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new M8("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new kS("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new M8("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(e.code);if(b)throw b;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!s||!u)throw new kS("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const h=m-d;h*1e3<=f0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const v=m-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:g,error:p}=await this._getUser(i);if(p)throw p;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:m,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(qr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await PS(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,e);if(l&&!(ywe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await DS(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Cwe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Yg(this.storage,this.storageKey,!0));try{return await rn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(qr(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(qr(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:m}=i;if(m)throw m;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await rn(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return xu()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(qr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await rn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(qr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Dwe(async a=>(a>0&&await Pwe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await rn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qf})),(a,i)=>{const s=200*Math.pow(2,a);return i&&mT(i)&&Date.now()+s-n<f0})}catch(n){if(this._debug(r,"error",n),qr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),xu()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await PS(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<fT;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${fT}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),mT(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Wf;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new rE;const{data:i,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Wf;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),qr(i)){const s={session:null,error:i};return mT(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await VK(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await DS(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&xu()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),f0);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/f0);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${f0}ms, refresh threshold is ${mP} ticks`),a<=mP&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof HK)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xu()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Yg(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await rn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qr(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await rn(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(qr(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:l}=await rn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(r){if(qr(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await rn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=pT(a.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n||(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+gwe>Date.now()))return n;const{data:a,error:i}=await rn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new S1("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(s=>s.kid===e),!n)throw new S1("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:h,error:v}=await this.getSession();if(v||!h.session)return{data:null,error:v};n=h.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=pT(n);if($we(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:a,signature:s},error:null}}const u=Bwe(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,s,Awe(`${l}.${c}`)))throw new S1("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(qr(n))return{data:null,error:n};throw n}}}db.nextInstanceID=0;const r2e=db;class n2e extends r2e{constructor(e){super(e)}}var a2e=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class i2e{constructor(e,r,n){var a,i,s;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=uwe(e);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:rwe,realtime:awe,auth:Object.assign(Object.assign({},nwe),{storageKey:c}),global:twe},d=dwe(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=lwe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new _be(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new J1e(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qbe(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return a2e(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new n2e({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Fbe(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const WK=(t,e,r)=>new i2e(t,e,r),qK="https://supabase.agendapro.botmagic.com.br",GK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE",ye=WK(qK,GK),i1=async()=>{const{data:{session:t}}=await ye.auth.getSession();if(!t){const e=localStorage.getItem("appointo-user");if(e)try{const r=JSON.parse(e),n={"X-User-Id":r.id,"X-User-Role":r.role||"authenticated"};return WK(qK,GK,{global:{headers:n}})}catch(r){console.error("Erro ao criar cliente autenticado:",r)}}return ye},vP=t=>({id:t.id,clientName:t.client_name,clientPhone:t.client_phone,attendantId:t.attendant_id,attendantName:t.attendant_name,serviceId:t.service_id,serviceName:t.service_name,servicePrice:t.service_price,serviceDuration:t.service_duration,appointmentDate:t.appointment_date,appointmentTime:t.appointment_time,appointmentDatetime:t.appointment_datetime,notes:t.notes,status:t.status}),yP=t=>({id:t.id,documentType:t.document_type,documentNumber:t.document_number,tradingName:t.trading_name,legalName:t.legal_name,phone:t.phone,email:t.email,zipCode:t.zip_code,address:t.address,number:t.number,complement:t.complement,neighborhood:t.neighborhood,city:t.city,state:t.state,logoUrl:t.logo_url,createdAt:t.created_at,updatedAt:t.updated_at}),H8=t=>({id:t.id,dayOfWeek:t.day_of_week,openTime:t.open_time,closeTime:t.close_time,isClosed:t.is_closed,createdAt:t.created_at,updatedAt:t.updated_at}),s2e=t=>({id:t.id,openaiApiKey:t.openai_api_key,model:t.model,systemPrompt:t.system_prompt,temperature:t.temperature,maxTokens:t.max_tokens,userId:t.user_id,createdAt:t.created_at,updatedAt:t.updated_at}),o2e=t=>({openai_api_key:t.openaiApiKey,model:t.model,system_prompt:t.systemPrompt,temperature:t.temperature,max_tokens:t.maxTokens,user_id:t.userId}),gT=t=>({id:t.id,messageName:t.message_name,template:t.template,category:t.category,userId:t.user_id,createdAt:t.created_at,updatedAt:t.updated_at}),vT=t=>({id:t.id,name:t.name,phone:t.phone,zipCode:t.zip_code,street:t.street,neighborhood:t.neighborhood,complement:t.complement,userId:t.user_id,createdAt:t.created_at,updatedAt:t.updated_at}),OS=t=>({id:t.id,instanceId:t.instance_id,instanceName:t.instance_name,type:t.type,payload:t.payload,scheduledAt:t.scheduled_at,status:t.status,error:t.error,userId:t.user_id,createdAt:t.created_at,updatedAt:t.updated_at}),IS=t=>({id:t.id,licenseKey:t.license_key,clientName:t.client_name,licenseType:t.license_type,activationDate:t.activation_date,expirationDate:t.expiration_date,isActive:t.is_active,status:t.status,maxInstallations:t.max_installations,currentInstallations:t.current_installations,lastCheck:t.last_check,lastIp:t.last_ip,metadata:t.metadata,createdAt:t.created_at,updatedAt:t.updated_at,userId:t.user_id}),l2e=t=>({id:t.id,name:t.name,description:t.description,appointmentsRequired:t.appointments_required,rewardType:t.reward_type,rewardValue:t.reward_value,serviceId:t.service_id,isActive:t.is_active,createdAt:t.created_at,updatedAt:t.updated_at}),c2e=t=>({id:t.id,name:t.name,description:t.description,appointments_required:t.appointmentsRequired,reward_type:t.rewardType,reward_value:t.rewardValue,service_id:t.serviceId,is_active:t.isActive,created_at:t.createdAt,updated_at:t.updatedAt}),V_=t=>({id:t.id,clientId:t.client_id,appointmentsCount:t.appointments_count,rewardsEarned:t.rewards_earned,rewardsUsed:t.rewards_used,lastAppointmentDate:t.last_appointment_date,createdAt:t.created_at,updatedAt:t.updated_at}),u2e=t=>({id:t.id,clientId:t.client_id,ruleId:t.rule_id,appointmentId:t.appointment_id,status:t.status,usedAt:t.used_at,expiresAt:t.expires_at,createdAt:t.created_at,updatedAt:t.updated_at}),MS=t=>({id:t.id,name:t.name,type:t.type,description:t.description,color:t.color,icon:t.icon,isActive:t.is_active,createdAt:t.created_at,updatedAt:t.updated_at,userId:t.user_id}),yT=t=>({id:t.id,name:t.name,type:t.type,description:t.description,color:t.color,icon:t.icon,is_active:t.isActive,user_id:t.userId,created_at:t.createdAt,updated_at:t.updatedAt}),RS=t=>({id:t.id,name:t.name,description:t.description,isActive:t.is_active,createdAt:t.created_at,updatedAt:t.updated_at,userId:t.user_id}),d2e=async t=>{try{const{error:e}=await ye.from("loyalty_rewards").delete().eq("id",t);if(e)throw e;return{success:!0}}catch(e){return console.error("Erro ao excluir recompensa:",e),{success:!1,error:e}}},f2e=async t=>{try{const{error:e}=await ye.from("loyalty_rewards").delete().eq("client_id",t);if(e)throw e;const{error:r}=await ye.from("loyalty_progress").delete().eq("client_id",t);if(r)throw r;return{success:!0}}catch(e){return console.error("Erro ao excluir progresso de fidelidade:",e),{success:!1,error:e}}},YK=N.createContext({user:null,isAuthenticated:!1,isLoading:!0,login:async()=>{},logout:()=>{},updateUserProfile:async()=>{},updateUserPassword:async()=>{},signup:async()=>{},isRegistrationEnabled:!0,setRegistrationEnabled:async()=>{},hasPermission:()=>!1}),h2e=({children:t})=>{const[e,r]=N.useState(null),[n,a]=N.useState(!0),[i,s]=N.useState(!0),{toast:l}=ga();N.useEffect(()=>{(async()=>{try{const p=localStorage.getItem("appointo-user");if(p){const b=JSON.parse(p),{data:w,error:_}=await ye.from("users").select("*").eq("email",b.email).single();if(_)console.error("Erro ao verificar usurio:",_),localStorage.removeItem("appointo-user"),r(null);else if(w){const j={id:w.id,name:w.name,email:w.email,role:w.role,avatar:w.avatar||void 0,permissions:w.permissions||void 0};localStorage.setItem("appointo-user",JSON.stringify(j)),r(j),await ye.from("users").update({last_login:new Date().toISOString()}).eq("id",w.id)}}const{data:y,error:x}=await ye.from("system_settings").select("registration_enabled").maybeSingle();!x&&y&&s(!!y.registration_enabled)}catch(p){console.error("Auth initialization error:",p),localStorage.removeItem("appointo-user")}finally{a(!1)}})()},[]);const c=async(g,p)=>{a(!0);try{const{data:y,error:x}=await ye.from("users").select("*").eq("email",g).eq("password",p).single();if(x||!y)throw new Error("Credenciais invlidas");const b={id:y.id,name:y.name,email:y.email,role:y.role,avatar:y.avatar||void 0,permissions:y.permissions||void 0};await ye.from("users").update({last_login:new Date().toISOString()}).eq("id",y.id),localStorage.setItem("appointo-user",JSON.stringify(b)),r(b),l({title:"Login realizado com sucesso",description:"Bem-vindo de volta!"})}catch(y){throw console.error("Login error:",y),l({variant:"destructive",title:"Erro ao fazer login",description:y instanceof Error?y.message:"Credenciais invlidas"}),y}finally{a(!1)}},u=()=>{localStorage.removeItem("appointo-user"),r(null),l({title:"Logout realizado",description:"Sesso finalizada com sucesso"})},d=async g=>{if(!e)throw new Error("Usurio no autenticado");try{const p=new Date().toISOString(),{error:y}=await ye.from("users").update({name:g.name||e.name,email:g.email||e.email,avatar:g.avatar||e.avatar,updated_at:p}).eq("id",e.id);if(y)throw new Error(`Erro ao atualizar perfil: ${y.message}`);const x={...e,name:g.name||e.name,email:g.email||e.email,avatar:g.avatar||e.avatar};localStorage.setItem("appointo-user",JSON.stringify(x)),r(x),l({title:"Perfil atualizado",description:"Suas informaes foram atualizadas com sucesso."})}catch(p){throw console.error("Erro ao atualizar perfil:",p),l({variant:"destructive",title:"Erro ao atualizar perfil",description:p instanceof Error?p.message:"Erro desconhecido"}),p}},f=async(g,p)=>{if(!e)throw new Error("Usurio no autenticado");try{const{data:y,error:x}=await ye.from("users").select("*").eq("id",e.id).eq("password",g).single();if(x||!y)throw new Error("Senha atual incorreta");const{error:b}=await ye.from("users").update({password:p,updated_at:new Date().toISOString()}).eq("id",e.id);if(b)throw new Error(`Erro ao atualizar senha: ${b.message}`);l({title:"Senha atualizada",description:"Sua senha foi atualizada com sucesso."})}catch(y){throw console.error("Erro ao atualizar senha:",y),l({variant:"destructive",title:"Erro ao atualizar senha",description:y instanceof Error?y.message:"Erro desconhecido"}),y}},m=async(g,p,y)=>{a(!0);try{const{data:x,error:b}=await ye.from("system_settings").select("registration_enabled").maybeSingle();if(!b&&x&&!x.registration_enabled)throw new Error("O registro de novas contas est desativado");const{data:w,error:_}=await ye.from("users").select("*").eq("email",p).maybeSingle();if(w)throw new Error("Este e-mail j est em uso");const{data:j,error:A}=await ye.from("users").insert([{name:g,email:p,password:y,role:"user",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select("*").single();if(A)throw new Error(`Erro ao criar conta: ${A.message}`);l({title:"Conta criada com sucesso",description:"Voc pode fazer login agora"});return}catch(x){throw console.error("Signup error:",x),l({variant:"destructive",title:"Erro ao criar conta",description:x instanceof Error?x.message:"Erro desconhecido"}),x}finally{a(!1)}},h=async g=>{try{const{data:p,error:y}=await ye.from("system_settings").select("id").maybeSingle();if(p){const{error:x}=await ye.from("system_settings").update({registration_enabled:g}).eq("id",p.id);if(x)throw x}else{const{error:x}=await ye.from("system_settings").insert([{registration_enabled:g}]);if(x)throw x}s(g),l({title:g?"Registro habilitado":"Registro desabilitado",description:g?"Novos usurios podem se registrar agora":"Novos usurios no podem se registrar"})}catch(p){throw console.error("Error setting registration:",p),l({variant:"destructive",title:"Erro ao atualizar configurao",description:p instanceof Error?p.message:"Erro desconhecido"}),p}},v=g=>e?e.role==="admin"||!e.permissions||e.permissions.length===0?!0:e.permissions.includes(g):!1;return o.jsx(YK.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:n,login:c,logout:u,updateUserProfile:d,updateUserPassword:f,signup:m,isRegistrationEnabled:i,setRegistrationEnabled:h,hasPermission:v},children:t})},lu=()=>N.useContext(YK),Oa={menuLogo:"https://cdn.jsdelivr.net/gh/mathuzabr/img-packtypebot/agendapro.png",loginLogo:"https://cdn.jsdelivr.net/gh/mathuzabr/img-packtypebot/agendapro.png",dashboardLogo:"https://cdn.jsdelivr.net/gh/mathuzabr/img-packtypebot/agendapro.png",favicon:"https://cdn.jsdelivr.net/gh/mathuzabr/img-packtypebot/icon-192x192.png",primaryColor:"#1A252F",secondaryColor:"#2C3E50",hoverColor:"#2563eb",navbarColor:"#1e293b",menuTextColor:"#ffffff",buttonTextColor:"#ffffff",actionButtonColor:"#ef4444",actionButtonHoverColor:"#dc2626",welcomeText:"Bem-vindo ao Agenda Pro",footerText:" 2025 Agenda Pro. Todos os direitos reservados.",siteTitle:"Agenda Pro - Sistema de Agendamentos",fontFamily:"Inter, sans-serif",fontSize:"16px",headingFontFamily:"Inter, sans-serif",loaded:!1},KK=N.createContext({settings:Oa,isLoading:!0,error:null,applyCustomStyles:()=>{},settingsLoaded:!1,updateSettings:()=>{}}),rd=()=>N.useContext(KK);let Xg=null;const m2e=({children:t})=>{const[e,r]=N.useState({...Oa,loaded:!1}),[n,a]=N.useState(!0),[i,s]=N.useState(null),[l,c]=N.useState(!1),u=m=>{r(m),Xg=m,localStorage.setItem("customization_settings",JSON.stringify(m)),setTimeout(()=>{d()},0)};N.useEffect(()=>{if(Xg){r(Xg),a(!1),c(!0);return}const m=localStorage.getItem("customization_settings");if(m)try{const h=JSON.parse(m);r({...h,loaded:!0}),Xg={...h,loaded:!0},c(!0)}catch(h){console.error("Erro ao recuperar configuraes do localStorage:",h)}},[]),N.useEffect(()=>{(async()=>{if(!Xg){a(!0),s(null);try{const{data:h,error:v}=await ye.from("customization").select("*").order("created_at",{ascending:!1}).limit(1);if(v){console.error("Erro ao carregar configuraes:",v),s(`Erro ao carregar configuraes: ${v.message}`);return}if(h&&h.length>0){const g=h[0],p={menuLogo:g.menu_logo||Oa.menuLogo,loginLogo:g.login_logo||Oa.loginLogo,dashboardLogo:g.dashboard_logo||Oa.dashboardLogo,favicon:g.favicon||Oa.favicon,primaryColor:g.primary_color||Oa.primaryColor,secondaryColor:g.secondary_color||Oa.secondaryColor,hoverColor:g.hover_color||Oa.hoverColor,navbarColor:g.navbar_color||Oa.navbarColor,menuTextColor:g.menu_text_color||Oa.menuTextColor,buttonTextColor:g.button_text_color||Oa.buttonTextColor,actionButtonColor:g.action_button_color||Oa.actionButtonColor,actionButtonHoverColor:g.action_button_hover_color||Oa.actionButtonHoverColor,welcomeText:g.welcome_text||Oa.welcomeText,footerText:g.footer_text||Oa.footerText,siteTitle:g.site_title||Oa.siteTitle,fontFamily:g.font_family||Oa.fontFamily,fontSize:g.font_size||Oa.fontSize,headingFontFamily:g.heading_font_family||Oa.headingFontFamily,loaded:!0};localStorage.setItem("customization_settings",JSON.stringify(p)),Xg=p,r(p),c(!0)}}catch(h){console.error("Erro ao carregar configuraes:",h),s("Erro ao carregar configuraes de customizao")}finally{a(!1)}}})()},[]);const d=()=>{if(!e.loaded)return;let m=document.getElementById("custom-theme-styles");if(m||(m=document.createElement("style"),m.id="custom-theme-styles",document.head.appendChild(m)),m.innerHTML=`
      :root {
        --custom-primary: ${e.primaryColor};
        --custom-secondary: ${e.secondaryColor};
        --custom-hover: ${e.hoverColor};
        --custom-navbar: ${e.navbarColor};
        --custom-menu-text: ${e.menuTextColor};
        --custom-button-text: ${e.buttonTextColor};
        --custom-action-button: ${e.actionButtonColor};
        --custom-action-button-hover: ${e.actionButtonHoverColor};
      }
      
      body {
        font-family: ${e.fontFamily};
        font-size: ${e.fontSize};
      }
      
      h1, h2, h3, h4, h5, h6 {
        font-family: ${e.headingFontFamily};
      }
      
      .custom-button-primary {
        background-color: var(--custom-primary);
        color: var(--custom-button-text) !important;
      }
      
      .custom-button-primary:hover {
        background-color: var(--custom-hover);
      }
      
      .custom-button-secondary {
        background-color: var(--custom-secondary);
        color: var(--custom-button-text) !important;
      }
      
      .custom-button-action {
        background-color: var(--custom-action-button);
        color: var(--custom-button-text) !important;
      }
      
      .custom-button-action:hover {
        background-color: var(--custom-action-button-hover);
      }
      
      .sidebar-item {
        color: var(--custom-menu-text);
      }
      
      /* Garantir que os botes do componente Button tambm usem as cores customizadas */
      button[class*="bg-primary"] {
        color: var(--custom-button-text) !important;
      }
      
      /* Botes de ao */
      button[class*="bg-destructive"] {
        color: var(--custom-button-text) !important;
      }
    `,e.favicon){const h=document.querySelector("link[rel='icon']");if(h)h.setAttribute("href",e.favicon);else{const v=document.createElement("link");v.rel="icon",v.href=e.favicon,document.head.appendChild(v)}}e.siteTitle&&(document.title=e.siteTitle),(e.fontFamily!==Oa.fontFamily||e.headingFontFamily!==Oa.headingFontFamily)&&f(e.fontFamily,e.headingFontFamily)},f=(m,h)=>{const v=new Set,g=y=>y.split(",")[0].trim().replace(/["']/g,"");v.add(g(m)),v.add(g(h));const p=Array.from(v);if(p.length>0){const y=document.createElement("link");y.rel="stylesheet",y.href=`https://fonts.googleapis.com/css2?family=${p.join("&family=")}&display=swap`,document.head.appendChild(y)}};return N.useEffect(()=>{e.loaded&&d()},[e]),o.jsx(KK.Provider,{value:{settings:e,isLoading:n,error:i,applyCustomStyles:d,settingsLoaded:e.loaded,updateSettings:u},children:t})},Lh=N.forwardRef(({className:t,...e},r)=>o.jsx(WW,{ref:r,className:Ke("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Lh.displayName=WW.displayName;const Fh=N.forwardRef(({className:t,...e},r)=>o.jsx(qW,{ref:r,className:Ke("aspect-square h-full w-full",t),...e}));Fh.displayName=qW.displayName;const $h=N.forwardRef(({className:t,...e},r)=>o.jsx(GW,{ref:r,className:Ke("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));$h.displayName=GW.displayName;const H_=768,p2e=1024;function nd(){const[t,e]=N.useState(void 0);return N.useEffect(()=>{const r=window.matchMedia(`(max-width: ${H_-1}px)`),n=()=>{e(window.innerWidth<H_)};return r.addEventListener("change",n),e(window.innerWidth<H_),()=>r.removeEventListener("change",n)},[]),!!t}function g2e(){const[t,e]=N.useState("desktop");return N.useEffect(()=>{const r=()=>{const n=window.innerWidth;n<H_?e("mobile"):n<p2e?e("tablet"):e("desktop")};return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),{deviceSize:t,isMobile:t==="mobile",isTablet:t==="tablet",isDesktop:t==="desktop"}}const v2e=[{title:"Dashboard",icon:uj,path:"/dashboard",id:"dashboard"},{title:"Agendamentos",icon:nn,path:"/agendamentos",id:"agenda"},{title:"Atendentes",icon:xl,path:"/atendentes",id:"professionals"},{title:"Horrios",icon:pn,path:"/horarios",id:"business-hours"},{title:"Servios",icon:my,path:"/servicos",id:"services"},{title:"Clientes",icon:eu,path:"/clientes",id:"clients"},{title:"Fidelidade",icon:Q1,path:"/fidelidade",id:"loyalty"},{title:"Avaliaes",icon:Io,path:"/avaliacoes",id:"ratings"},{title:"Pesquisa",icon:dj,path:"/pesquisa",id:"survey"},{title:"Relatrios",icon:bh,path:"/relatorios",id:"reports"},{title:"Financeiro",icon:Ql,path:"/financas",id:"finance"},{title:"Configuraes",icon:py,path:"/configuracoes",id:"settings"},{title:"Customizao",icon:iG,path:"/customizacao",id:"customization"},{title:"Evolution API",icon:$o,path:"/evolution-api",id:"evolution-api"},{title:"IA",icon:Zq,path:"/ia",id:"ai"}],y2e=()=>{const[t,e]=N.useState(!1),r=ac(),n=Ki(),{user:a,logout:i,hasPermission:s}=lu(),{settings:l}=rd(),{isTablet:c}=g2e(),u=v2e.filter(h=>s(h.id));N.useEffect(()=>{e(!!c)},[c]);const d=h=>h.split(" ").map(v=>v[0]).join("").toUpperCase().substring(0,2),f=h=>{r.pathname===h?n(0):n(h)},m=()=>{n("/configuracoes?tab=profile")};return o.jsxs("aside",{className:Ke("h-screen fixed left-0 top-0 border-r transition-all duration-300 ease-in-out z-40 flex flex-col custom-navbar",t?"w-[70px]":"w-[250px]"),style:{backgroundColor:l.navbarColor,borderRightColor:"transparent"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderBottomColor:"transparent"},children:[o.jsx("div",{className:Ke("transition-all duration-300 ease-in-out overflow-hidden",t?"w-0":"w-[170px]"),children:l.dashboardLogo?o.jsx("img",{src:l.dashboardLogo,alt:"Logo",className:"h-8 transition-opacity duration-200"},l.dashboardLogo):o.jsx("h2",{className:"font-semibold text-xl transition-opacity duration-200 custom-menu-item",style:{color:l.menuTextColor},children:"AgendaPro"})}),o.jsx("button",{onClick:()=>e(!t),className:"p-2 rounded-full hover:bg-sidebar-accent transition-colors custom-menu-item flex-shrink-0","aria-label":t?"Expandir menu":"Colapsar menu",style:{color:l.menuTextColor},children:t?o.jsx(hy,{size:18}):o.jsx(BA,{size:18})})]}),o.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2 sidebar-nav",children:o.jsx("ul",{className:"space-y-1.5",children:u.map(h=>{const v=r.pathname===h.path;return o.jsx("li",{children:o.jsxs("button",{onClick:()=>f(h.path),className:Ke("sidebar-item flex items-center rounded-md px-3 py-2.5 text-sm group w-full text-left custom-menu-item transition-all duration-200",v?"bg-white/10":"hover:text-white hover:bg-white/5"),style:{color:v?l.menuTextColor:`${l.menuTextColor}cc`},children:[o.jsx(h.icon,{size:t?20:18,className:Ke("transition-transform flex-shrink-0",v?"":"group-hover:scale-110",t?"mx-auto":"mr-3")}),o.jsx("span",{className:Ke("transition-all duration-200 whitespace-nowrap",t?"opacity-0 w-0 overflow-hidden":"opacity-100"),children:h.title})]})},h.path)})})}),o.jsxs("div",{className:"p-4 border-t mt-auto",style:{borderTopColor:"transparent"},children:[o.jsxs("div",{className:Ke("flex items-center space-x-3 transition-opacity duration-200 mb-4 cursor-pointer",t?"justify-center":""),onClick:m,title:"Configuraes do Perfil",children:[o.jsxs(Lh,{className:"w-8 h-8 flex-shrink-0",children:[o.jsx(Fh,{src:a==null?void 0:a.avatar}),o.jsx($h,{className:"text-white font-medium",style:{backgroundColor:`${l.primaryColor}40`},children:a!=null&&a.name?d(a.name):"A"})]}),o.jsxs("div",{className:Ke("transition-all duration-200 overflow-hidden",t?"w-0":"w-auto"),children:[o.jsx("p",{className:"text-sm font-medium custom-menu-item truncate",style:{color:l.menuTextColor},children:(a==null?void 0:a.name)||"Admin"}),o.jsx("p",{className:"text-xs custom-menu-item truncate",style:{color:`${l.menuTextColor}99`},children:(a==null?void 0:a.email)||"admin@appointo.com"})]})]}),o.jsxs("button",{onClick:i,className:Ke("w-full flex items-center rounded-md px-3 py-2.5 text-sm custom-menu-item hover:bg-white/10 transition-colors",t?"justify-center":""),style:{color:l.menuTextColor},children:[o.jsx(aG,{size:18,className:"hover:scale-110 transition-transform flex-shrink-0"}),o.jsx("span",{className:Ke("ml-3 transition-all duration-200 whitespace-nowrap",t?"opacity-0 w-0 overflow-hidden":"opacity-100"),children:"Sair"})]})]})]})},x2e=[{title:"Dashboard",icon:uj,path:"/dashboard",id:"dashboard"},{title:"Agendamentos",icon:nn,path:"/agendamentos",id:"agenda"},{title:"Atendentes",icon:xl,path:"/atendentes",id:"professionals"},{title:"Horrios",icon:pn,path:"/horarios",id:"business-hours"},{title:"Servios",icon:my,path:"/servicos",id:"services"},{title:"Clientes",icon:eu,path:"/clientes",id:"clients"},{title:"Fidelidade",icon:Q1,path:"/fidelidade",id:"loyalty"},{title:"Avaliaes",icon:Io,path:"/avaliacoes",id:"ratings"},{title:"Pesquisa",icon:dj,path:"/pesquisa",id:"survey"},{title:"Relatrios",icon:bh,path:"/relatorios",id:"reports"},{title:"Financeiro",icon:Ql,path:"/financas",id:"finance"},{title:"Configuraes",icon:py,path:"/configuracoes",id:"settings"},{title:"Customizao",icon:iG,path:"/customizacao",id:"customization"},{title:"Evolution API",icon:$o,path:"/evolution-api",id:"evolution-api"},{title:"IA",icon:Zq,path:"/ia",id:"ai"}],b2e=({isOpen:t,onToggle:e,settings:r})=>{const n=ac(),a=Ki(),{user:i,logout:s,hasPermission:l}=lu(),[c,u]=N.useState(0),[d,f]=N.useState(!1),m=x2e.filter(p=>l(p.id)),h=p=>p.split(" ").map(y=>y[0]).join("").toUpperCase().substring(0,2),v=p=>{n.pathname===p?a(0):a(p),e()};N.useEffect(()=>{const p=()=>{const y=document.documentElement.scrollHeight-window.innerHeight,x=window.scrollY/y;u(x),f(window.scrollY>300)};return window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]);const g=()=>{window.scrollTo({top:0,behavior:"smooth"})};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"fixed top-0 left-0 right-0 h-14 flex items-center justify-between px-4 z-50 shadow-sm",style:{backgroundColor:r.navbarColor},children:[o.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-primary transition-all duration-300 ease-in-out",style:{width:`${c*100}%`,opacity:c>0?1:0}}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("button",{onClick:e,className:"p-2 rounded-full transition-colors mr-3","aria-label":"Menu",style:{color:r.menuTextColor},children:o.jsx(Pde,{size:24})}),r.dashboardLogo?o.jsx("img",{src:r.dashboardLogo,alt:"Logo",className:"h-8"},r.dashboardLogo):o.jsx("h2",{className:"font-semibold text-xl custom-menu-item",style:{color:r.menuTextColor},children:"AgendaPro"})]}),o.jsxs(Lh,{className:"w-8 h-8",children:[o.jsx(Fh,{src:i==null?void 0:i.avatar}),o.jsx($h,{className:"text-white font-medium",style:{backgroundColor:`${r.primaryColor}40`},children:i!=null&&i.name?h(i.name):"A"})]})]}),o.jsx("div",{className:Ke("fixed inset-0 bg-black/50 z-40 transition-opacity",t?"opacity-100":"opacity-0 pointer-events-none"),onClick:e}),o.jsxs("aside",{className:Ke("fixed top-0 left-0 h-full w-[280px] bg-sidebar z-50 transform transition-transform duration-300 ease-in-out",t?"translate-x-0":"-translate-x-full"),style:{backgroundColor:r.navbarColor},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 h-14 border-b",style:{borderBottomColor:"transparent"},children:[r.dashboardLogo?o.jsx("img",{src:r.dashboardLogo,alt:"Logo",className:"h-8"},r.dashboardLogo):o.jsx("h2",{className:"font-semibold text-xl custom-menu-item",style:{color:r.menuTextColor},children:"AgendaPro"}),o.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-sidebar-accent transition-colors custom-menu-item","aria-label":"Fechar menu",style:{color:r.menuTextColor},children:o.jsx(Dh,{size:20})})]}),o.jsx("nav",{className:"overflow-y-auto py-4 px-2 h-[calc(100%-128px)]",children:o.jsx("ul",{className:"space-y-1.5",children:m.map(p=>{const y=n.pathname===p.path;return o.jsx("li",{children:o.jsxs("button",{onClick:()=>v(p.path),className:Ke("sidebar-item flex items-center rounded-md px-3 py-3 text-sm group w-full text-left custom-menu-item",y?"bg-white/10":"hover:text-white hover:bg-white/5"),style:{color:y?r.menuTextColor:`${r.menuTextColor}cc`},children:[o.jsx(p.icon,{size:20,className:Ke("transition-transform",y?"":"group-hover:scale-110")}),o.jsx("span",{className:"ml-3",children:p.title})]})},p.path)})})}),o.jsx("div",{className:"p-4 border-t mt-auto absolute bottom-0 left-0 right-0",style:{borderTopColor:"transparent"},children:o.jsxs("button",{onClick:()=>{s(),e()},className:"w-full flex items-center rounded-md px-3 py-3 text-sm custom-menu-item hover:bg-white/10 transition-colors",style:{color:r.menuTextColor},children:[o.jsx(aG,{size:20,className:"hover:scale-110 transition-transform"}),o.jsx("span",{className:"ml-3",children:"Sair"})]})})]}),o.jsx("button",{onClick:g,className:Ke("fixed bottom-6 right-6 p-3 rounded-full bg-primary text-primary-foreground shadow-lg transition-all duration-300 z-40",d?"opacity-100 translate-y-0":"opacity-0 translate-y-10 pointer-events-none"),"aria-label":"Voltar ao topo",children:o.jsx(hde,{size:20})})]})},gs=({children:t,pageTitle:e})=>{const r=nd(),{isAuthenticated:n}=lu(),{settings:a,applyCustomStyles:i}=rd(),[s,l]=N.useState(!1);if(N.useEffect(()=>{i(),document.body.style.fontFamily=a.fontFamily,document.body.style.fontSize=a.fontSize,a.siteTitle&&(document.title=a.siteTitle)},[i,a]),!n)return null;const c=()=>{l(!s)};return o.jsxs("div",{className:"flex min-h-screen bg-background custom-font",style:{fontFamily:a.fontFamily},children:[!r&&o.jsx(y2e,{}),r&&o.jsx(b2e,{isOpen:s,onToggle:c,settings:a}),o.jsx("main",{className:Ke("flex-1 transition-all duration-300 ease-in-out",r?"ml-0 pt-14":"ml-[250px]"),children:o.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-6 animate-fade-in",children:[e&&o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-4 sm:mb-6 custom-heading-font",style:{fontFamily:a.headingFontFamily,color:a.primaryColor},children:e}),t]})})]})},LS=({title:t,value:e,icon:r,description:n,trend:a,iconColor:i="bg-primary/10 text-primary",delay:s=0})=>{const l=nd();return o.jsx("div",{className:"p-3 sm:p-4 md:p-6 rounded-xl border bg-card text-card-foreground shadow-sm card-hover",style:{animationDelay:`${s}ms`,opacity:0,animation:`fade-in 0.5s ease-out ${s}ms forwards, scale-in 0.5s ease-out ${s}ms forwards`},children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:t}),o.jsx("h3",{className:"mt-1 sm:mt-2 text-xl sm:text-2xl font-bold tracking-tight",children:e}),n&&o.jsx("p",{className:"mt-1 text-[10px] sm:text-xs text-muted-foreground",children:n}),a&&o.jsxs("p",{className:Ke("mt-1 text-[10px] sm:text-xs font-medium",a.isPositive?"text-emerald-500":"text-rose-500"),children:[a.isPositive?"":""," ",Math.abs(a.value),"%",o.jsx("span",{className:"text-muted-foreground ml-1",children:l?"vs. anterior":"vs. ms anterior"})]})]}),o.jsx("div",{className:Ke("rounded-lg p-1.5 sm:p-2.5",i),children:o.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5",children:r})})]})})},w2e=()=>null,fb=Ow("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),je=N.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>o.jsx("button",{className:Ke(fb({variant:e,size:r,className:t})),ref:i,...a}));je.displayName="Button";const mt=N.forwardRef(({className:t,type:e,...r},n)=>o.jsx("input",{type:e,className:Ke("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",t),ref:n,...r}));mt.displayName="Input";var S2e="Label",XK=N.forwardRef((t,e)=>o.jsx(Sr.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));XK.displayName=S2e;var ZK=XK;const _2e=Ow("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pt=N.forwardRef(({className:t,...e},r)=>o.jsx(ZK,{ref:r,className:Ke(_2e(),t),...e}));pt.displayName=ZK.displayName;const li=N.forwardRef(({className:t,...e},r)=>o.jsx("textarea",{className:Ke("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));li.displayName="Textarea";var Ar=function(){return Ar=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ar.apply(this,arguments)};function j2e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function QK(t,e,r){for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function zw(t){return t.mode==="multiple"}function Vw(t){return t.mode==="range"}function nE(t){return t.mode==="single"}var N2e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function A2e(t,e){return wr(t,"LLLL y",e)}function E2e(t,e){return wr(t,"d",e)}function C2e(t,e){return wr(t,"LLLL",e)}function T2e(t){return"".concat(t)}function k2e(t,e){return wr(t,"cccccc",e)}function P2e(t,e){return wr(t,"yyyy",e)}var D2e=Object.freeze({__proto__:null,formatCaption:A2e,formatDay:E2e,formatMonthCaption:C2e,formatWeekNumber:T2e,formatWeekdayName:k2e,formatYearCaption:P2e}),O2e=function(t,e,r){return wr(t,"do MMMM (EEEE)",r)},I2e=function(){return"Month: "},M2e=function(){return"Go to next month"},R2e=function(){return"Go to previous month"},L2e=function(t,e){return wr(t,"cccc",e)},F2e=function(t){return"Week n. ".concat(t)},$2e=function(){return"Year: "},B2e=Object.freeze({__proto__:null,labelDay:O2e,labelMonthDropdown:I2e,labelNext:M2e,labelPrevious:R2e,labelWeekNumber:F2e,labelWeekday:L2e,labelYearDropdown:$2e});function U2e(){var t="buttons",e=N2e,r=HA,n={},a={},i=1,s={},l=new Date;return{captionLayout:t,classNames:e,formatters:D2e,labels:B2e,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:s,today:l,mode:"default"}}function z2e(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,a=t.toMonth,i=t.fromDate,s=t.toDate;return n?i=mo(n):e&&(i=new Date(e,0,1)),a?s=Mw(a):r&&(s=new Date(r,11,31)),{fromDate:i?wv(i):void 0,toDate:s?wv(s):void 0}}var JK=N.createContext(void 0);function V2e(t){var e,r=t.initialProps,n=U2e(),a=z2e(r),i=a.fromDate,s=a.toDate,l=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;l!=="buttons"&&(!i||!s)&&(l="buttons");var c;(nE(r)||zw(r)||Vw(r))&&(c=r.onSelect);var u=Ar(Ar(Ar({},n),r),{captionLayout:l,classNames:Ar(Ar({},n.classNames),r.classNames),components:Ar({},r.components),formatters:Ar(Ar({},n.formatters),r.formatters),fromDate:i,labels:Ar(Ar({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ar(Ar({},n.modifiers),r.modifiers),modifiersClassNames:Ar(Ar({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ar(Ar({},n.styles),r.styles),toDate:s});return o.jsx(JK.Provider,{value:u,children:t.children})}function la(){var t=N.useContext(JK);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function eX(t){var e=la(),r=e.locale,n=e.classNames,a=e.styles,i=e.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:r})})}function H2e(t){return o.jsx("svg",Ar({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function tX(t){var e,r,n=t.onChange,a=t.value,i=t.children,s=t.caption,l=t.className,c=t.style,u=la(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:H2e;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),o.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function W2e(t){var e,r=la(),n=r.fromDate,a=r.toDate,i=r.styles,s=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if($me(n,a))for(var m=mo(n),h=n.getMonth();h<=a.getMonth();h++)f.push(qC(m,h));else for(var m=mo(new Date),h=0;h<=11;h++)f.push(qC(m,h));var v=function(p){var y=Number(p.target.value),x=qC(mo(t.displayMonth),y);t.onChange(x)},g=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:tX;return o.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:s}),children:f.map(function(p){return o.jsx("option",{value:p.getMonth(),children:l(p,{locale:s})},p.getMonth())})})}function q2e(t){var e,r=t.displayMonth,n=la(),a=n.fromDate,i=n.toDate,s=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,m=[];if(!a)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var h=a.getFullYear(),v=i.getFullYear(),g=h;g<=v;g++)m.push(VL(hG(new Date),g));var p=function(x){var b=VL(mo(r),Number(x.target.value));t.onChange(b)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:tX;return o.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:p,value:r.getFullYear(),caption:d(r,{locale:s}),children:m.map(function(x){return o.jsx("option",{value:x.getFullYear(),children:d(x,{locale:s})},x.getFullYear())})})}function G2e(t,e){var r=N.useState(t),n=r[0],a=r[1],i=e===void 0?n:e;return[i,a]}function Y2e(t){var e=t.month,r=t.defaultMonth,n=t.today,a=e||r||n||new Date,i=t.toDate,s=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&Sv(i,a)<0){var u=-1*(c-1);a=tu(i,u)}return s&&Sv(a,s)<0&&(a=s),mo(a)}function K2e(){var t=la(),e=Y2e(t),r=G2e(e,t.month),n=r[0],a=r[1],i=function(s){var l;if(!t.disableNavigation){var c=mo(s);a(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[n,i]}function X2e(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,a=mo(t),i=mo(tu(a,n)),s=Sv(i,a),l=[],c=0;c<s;c++){var u=tu(a,c);l.push(u)}return r&&(l=l.reverse()),l}function Z2e(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=mo(t);if(!r)return tu(l,s);var c=Sv(r,t);if(!(c<i))return tu(l,s)}}function Q2e(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,a=e.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=mo(t);if(!r)return tu(l,-s);var c=Sv(l,r);if(!(c<=0))return tu(l,-s)}}var rX=N.createContext(void 0);function J2e(t){var e=la(),r=K2e(),n=r[0],a=r[1],i=X2e(n,e),s=Z2e(n,e),l=Q2e(n,e),c=function(f){return i.some(function(m){return $3(f,m)})},u=function(f,m){c(f)||(m&&xG(f,m)?a(tu(f,1+e.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:s,isDateDisplayed:c};return o.jsx(rX.Provider,{value:d,children:t.children})}function Hw(){var t=N.useContext(rX);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function W8(t){var e,r=la(),n=r.classNames,a=r.styles,i=r.components,s=Hw().goToMonth,l=function(d){s(tu(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:eX,u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(W2e,{onChange:l,displayMonth:t.displayMonth}),o.jsx(q2e,{onChange:l,displayMonth:t.displayMonth})]})}function eSe(t){return o.jsx("svg",Ar({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function tSe(t){return o.jsx("svg",Ar({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Nj=N.forwardRef(function(t,e){var r=la(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var s=i.join(" "),l=Ar(Ar({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),o.jsx("button",Ar({},t,{ref:e,type:"button",className:s,style:l}))});function rSe(t){var e,r,n=la(),a=n.dir,i=n.locale,s=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!t.nextMonth&&!t.previousMonth)return o.jsx(o.Fragment,{});var m=u(t.previousMonth,{locale:i}),h=[s.nav_button,s.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:i}),g=[s.nav_button,s.nav_button_next].join(" "),p=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:tSe,y=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:eSe;return o.jsxs("div",{className:s.nav,style:l.nav,children:[!t.hidePrevious&&o.jsx(Nj,{name:"previous-month","aria-label":m,className:h,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?o.jsx(p,{className:s.nav_icon,style:l.nav_icon}):o.jsx(y,{className:s.nav_icon,style:l.nav_icon})}),!t.hideNext&&o.jsx(Nj,{name:"next-month","aria-label":v,className:g,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?o.jsx(y,{className:s.nav_icon,style:l.nav_icon}):o.jsx(p,{className:s.nav_icon,style:l.nav_icon})})]})}function q8(t){var e=la().numberOfMonths,r=Hw(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,s=r.displayMonths,l=s.findIndex(function(v){return $3(t.displayMonth,v)}),c=l===0,u=l===s.length-1,d=e>1&&(c||!u),f=e>1&&(u||!c),m=function(){n&&i(n)},h=function(){a&&i(a)};return o.jsx(rSe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:m,onNextClick:h})}function nSe(t){var e,r=la(),n=r.classNames,a=r.disableNavigation,i=r.styles,s=r.captionLayout,l=r.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:eX,u;return a?u=o.jsx(c,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?u=o.jsx(W8,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(W8,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),o.jsx(q8,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(q8,{displayMonth:t.displayMonth,id:t.id})]}),o.jsx("div",{className:n.caption,style:i.caption,children:u})}function aSe(t){var e=la(),r=e.footer,n=e.styles,a=e.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function iSe(t,e,r){for(var n=r?Zd(new Date):bl(new Date,{locale:t,weekStartsOn:e}),a=[],i=0;i<7;i++){var s=$i(n,i);a.push(s)}return a}function sSe(){var t=la(),e=t.classNames,r=t.styles,n=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,s=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=iSe(a,i,s);return o.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function oSe(){var t,e=la(),r=e.classNames,n=e.styles,a=e.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:sSe;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(i,{})})}function lSe(t){var e=la(),r=e.locale,n=e.formatters.formatDay;return o.jsx(o.Fragment,{children:n(t.date,{locale:r})})}var CI=N.createContext(void 0);function cSe(t){if(!zw(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return o.jsx(CI.Provider,{value:e,children:t.children})}return o.jsx(uSe,{initialProps:t.initialProps,children:t.children})}function uSe(t){var e=t.initialProps,r=t.children,n=e.selected,a=e.min,i=e.max,s=function(u,d,f){var m,h;(m=e.onDayClick)===null||m===void 0||m.call(e,u,d,f);var v=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var g=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var p=n?QK([],n):[];if(d.selected){var y=p.findIndex(function(x){return oo(u,x)});p.splice(y,1)}else p.push(u);(h=e.onSelect)===null||h===void 0||h.call(e,p,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(m){return oo(m,u)});return!!(d&&!f)});var c={selected:n,onDayClick:s,modifiers:l};return o.jsx(CI.Provider,{value:c,children:r})}function TI(){var t=N.useContext(CI);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function dSe(t,e){var r=e||{},n=r.from,a=r.to;return n&&a?oo(a,t)&&oo(n,t)?void 0:oo(a,t)?{from:a,to:void 0}:oo(n,t)?void 0:jk(n,t)?{from:t,to:a}:{from:n,to:t}:a?jk(t,a)?{from:a,to:t}:{from:t,to:a}:n?xG(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var kI=N.createContext(void 0);function fSe(t){if(!Vw(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(kI.Provider,{value:e,children:t.children})}return o.jsx(hSe,{initialProps:t.initialProps,children:t.children})}function hSe(t){var e=t.initialProps,r=t.children,n=e.selected,a=n||{},i=a.from,s=a.to,l=e.min,c=e.max,u=function(h,v,g){var p,y;(p=e.onDayClick)===null||p===void 0||p.call(e,h,v,g);var x=dSe(h,n);(y=e.onSelect)===null||y===void 0||y.call(e,x,h,v,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],s?(d.range_end=[s],oo(i,s)||(d.range_middle=[{after:i,before:s}])):d.range_end=[i]):s&&(d.range_start=[s],d.range_end=[s]),l&&(i&&!s&&d.disabled.push({after:p1(i,l-1),before:$i(i,l-1)}),i&&s&&d.disabled.push({after:i,before:$i(i,l-1)}),!i&&s&&d.disabled.push({after:p1(s,l-1),before:$i(s,l-1)})),c){if(i&&!s&&(d.disabled.push({before:$i(i,-c+1)}),d.disabled.push({after:$i(i,c-1)})),i&&s){var f=Pu(s,i)+1,m=c-f;d.disabled.push({before:p1(i,m)}),d.disabled.push({after:$i(s,m)})}!i&&s&&(d.disabled.push({before:$i(s,-c+1)}),d.disabled.push({after:$i(s,c-1)}))}return o.jsx(kI.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function PI(){var t=N.useContext(kI);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function W_(t){return Array.isArray(t)?QK([],t):t!==void 0?[t]:[]}function mSe(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],a=r[1];e[n]=W_(a)}),e}var nu;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(nu||(nu={}));var pSe=nu.Selected,Ed=nu.Disabled,gSe=nu.Hidden,vSe=nu.Today,xT=nu.RangeEnd,bT=nu.RangeMiddle,wT=nu.RangeStart,ySe=nu.Outside;function xSe(t,e,r){var n,a=(n={},n[pSe]=W_(t.selected),n[Ed]=W_(t.disabled),n[gSe]=W_(t.hidden),n[vSe]=[t.today],n[xT]=[],n[bT]=[],n[wT]=[],n[ySe]=[],n);return t.fromDate&&a[Ed].push({before:t.fromDate}),t.toDate&&a[Ed].push({after:t.toDate}),zw(t)?a[Ed]=a[Ed].concat(e.modifiers[Ed]):Vw(t)&&(a[Ed]=a[Ed].concat(r.modifiers[Ed]),a[wT]=r.modifiers[wT],a[bT]=r.modifiers[bT],a[xT]=r.modifiers[xT]),a}var nX=N.createContext(void 0);function bSe(t){var e=la(),r=TI(),n=PI(),a=xSe(e,r,n),i=mSe(e.modifiers),s=Ar(Ar({},a),i);return o.jsx(nX.Provider,{value:s,children:t.children})}function aX(){var t=N.useContext(nX);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function wSe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function SSe(t){return!!(t&&typeof t=="object"&&"from"in t)}function _Se(t){return!!(t&&typeof t=="object"&&"after"in t)}function jSe(t){return!!(t&&typeof t=="object"&&"before"in t)}function NSe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function ASe(t,e){var r,n=e.from,a=e.to;if(n&&a){var i=Pu(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var s=Pu(t,n)>=0&&Pu(a,t)>=0;return s}return a?oo(a,t):n?oo(n,t):!1}function ESe(t){return D3(t)}function CSe(t){return Array.isArray(t)&&t.every(D3)}function TSe(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(ESe(r))return oo(t,r);if(CSe(r))return r.includes(t);if(SSe(r))return ASe(t,r);if(NSe(r))return r.dayOfWeek.includes(t.getDay());if(wSe(r)){var n=Pu(r.before,t),a=Pu(r.after,t),i=n>0,s=a<0,l=jk(r.before,r.after);return l?s&&i:i||s}return _Se(r)?Pu(t,r.after)>0:jSe(r)?Pu(r.before,t)>0:typeof r=="function"?r(t):!1})}function DI(t,e,r){var n=Object.keys(e).reduce(function(i,s){var l=e[s];return TSe(t,l)&&i.push(s),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!$3(t,r)&&(a.outside=!0),a}function kSe(t,e){for(var r=mo(t[0]),n=Mw(t[t.length-1]),a,i,s=r;s<=n;){var l=DI(s,e),c=!l.disabled&&!l.hidden;if(!c){s=$i(s,1);continue}if(l.selected)return s;l.today&&!i&&(i=s),a||(a=s),s=$i(s,1)}return i||a}var PSe=365;function iX(t,e){var r=e.moveBy,n=e.direction,a=e.context,i=e.modifiers,s=e.retry,l=s===void 0?{count:0,lastFocused:t}:s,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,m={day:$i,week:wk,month:tu,year:Ife,startOfWeek:function(p){return a.ISOWeek?Zd(p):bl(p,{locale:f,weekStartsOn:c})},endOfWeek:function(p){return a.ISOWeek?mG(p):O3(p,{locale:f,weekStartsOn:c})}},h=m[r](t,n==="after"?1:-1);n==="before"&&u?h=Mfe([u,h]):n==="after"&&d&&(h=Rfe([d,h]));var v=!0;if(i){var g=DI(h,i);v=!g.disabled&&!g.hidden}return v?h:l.count>PSe?l.lastFocused:iX(h,{moveBy:r,direction:n,context:a,modifiers:i,retry:Ar(Ar({},l),{count:l.count+1})})}var sX=N.createContext(void 0);function DSe(t){var e=Hw(),r=aX(),n=N.useState(),a=n[0],i=n[1],s=N.useState(),l=s[0],c=s[1],u=kSe(e.displayMonths,r),d=a??(l&&e.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},m=function(p){i(p)},h=la(),v=function(p,y){if(a){var x=iX(a,{moveBy:p,direction:y,context:h,modifiers:r});oo(a,x)||(e.goToDate(x,a),m(x))}},g={focusedDay:a,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return o.jsx(sX.Provider,{value:g,children:t.children})}function OI(){var t=N.useContext(sX);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function OSe(t,e){var r=aX(),n=DI(t,r,e);return n}var II=N.createContext(void 0);function ISe(t){if(!nE(t.initialProps)){var e={selected:void 0};return o.jsx(II.Provider,{value:e,children:t.children})}return o.jsx(MSe,{initialProps:t.initialProps,children:t.children})}function MSe(t){var e=t.initialProps,r=t.children,n=function(i,s,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,s,l),s.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,s,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,s,l)},a={selected:e.selected,onDayClick:n};return o.jsx(II.Provider,{value:a,children:r})}function oX(){var t=N.useContext(II);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function RSe(t,e){var r=la(),n=oX(),a=TI(),i=PI(),s=OI(),l=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,m=s.focus,h=s.focusMonthBefore,v=s.focusMonthAfter,g=s.focusYearBefore,p=s.focusYearAfter,y=s.focusStartOfWeek,x=s.focusEndOfWeek,b=function(q){var G,re,Z,de;nE(r)?(G=n.onDayClick)===null||G===void 0||G.call(n,t,e,q):zw(r)?(re=a.onDayClick)===null||re===void 0||re.call(a,t,e,q):Vw(r)?(Z=i.onDayClick)===null||Z===void 0||Z.call(i,t,e,q):(de=r.onDayClick)===null||de===void 0||de.call(r,t,e,q)},w=function(q){var G;m(t),(G=r.onDayFocus)===null||G===void 0||G.call(r,t,e,q)},_=function(q){var G;f(),(G=r.onDayBlur)===null||G===void 0||G.call(r,t,e,q)},j=function(q){var G;(G=r.onDayMouseEnter)===null||G===void 0||G.call(r,t,e,q)},A=function(q){var G;(G=r.onDayMouseLeave)===null||G===void 0||G.call(r,t,e,q)},E=function(q){var G;(G=r.onDayPointerEnter)===null||G===void 0||G.call(r,t,e,q)},T=function(q){var G;(G=r.onDayPointerLeave)===null||G===void 0||G.call(r,t,e,q)},R=function(q){var G;(G=r.onDayTouchCancel)===null||G===void 0||G.call(r,t,e,q)},D=function(q){var G;(G=r.onDayTouchEnd)===null||G===void 0||G.call(r,t,e,q)},P=function(q){var G;(G=r.onDayTouchMove)===null||G===void 0||G.call(r,t,e,q)},I=function(q){var G;(G=r.onDayTouchStart)===null||G===void 0||G.call(r,t,e,q)},L=function(q){var G;(G=r.onDayKeyUp)===null||G===void 0||G.call(r,t,e,q)},V=function(q){var G;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),u();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),d();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?g():h();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?p():v();break;case"Home":q.preventDefault(),q.stopPropagation(),y();break;case"End":q.preventDefault(),q.stopPropagation(),x();break}(G=r.onDayKeyDown)===null||G===void 0||G.call(r,t,e,q)},H={onClick:b,onFocus:w,onBlur:_,onKeyDown:V,onKeyUp:L,onMouseEnter:j,onMouseLeave:A,onPointerEnter:E,onPointerLeave:T,onTouchCancel:R,onTouchEnd:D,onTouchMove:P,onTouchStart:I};return H}function LSe(){var t=la(),e=oX(),r=TI(),n=PI(),a=nE(t)?e.selected:zw(t)?r.selected:Vw(t)?n.selected:void 0;return a}function FSe(t){return Object.values(nu).includes(t)}function $Se(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var a=t.modifiersClassNames[n];if(a)r.push(a);else if(FSe(n)){var i=t.classNames["day_".concat(n)];i&&r.push(i)}}),r}function BSe(t,e){var r=Ar({},t.styles.day);return Object.keys(e).forEach(function(n){var a;r=Ar(Ar({},r),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function USe(t,e,r){var n,a,i,s=la(),l=OI(),c=OSe(t,e),u=RSe(t,c),d=LSe(),f=!!(s.onDayClick||s.mode!=="default");N.useEffect(function(){var j;c.outside||l.focusedDay&&f&&oo(l.focusedDay,t)&&((j=r.current)===null||j===void 0||j.focus())},[l.focusedDay,t,r,f,c.outside]);var m=$Se(s,c).join(" "),h=BSe(s,c),v=!!(c.outside&&!s.showOutsideDays||c.hidden),g=(i=(a=s.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:lSe,p=o.jsx(g,{date:t,displayMonth:e,activeModifiers:c}),y={style:h,className:m,children:p,role:"gridcell"},x=l.focusTarget&&oo(l.focusTarget,t)&&!c.outside,b=l.focusedDay&&oo(l.focusedDay,t),w=Ar(Ar(Ar({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||x?0:-1,n)),u),_={isButton:f,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:w,divProps:y};return _}function zSe(t){var e=N.useRef(null),r=USe(t.date,t.displayMonth,e);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Nj,Ar({name:"day",ref:e},r.buttonProps)):o.jsx("div",Ar({},r.divProps))}function VSe(t){var e=t.number,r=t.dates,n=la(),a=n.onWeekNumberClick,i=n.styles,s=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!a)return o.jsx("span",{className:s.weeknumber,style:i.weeknumber,children:d});var f=c(Number(e),{locale:l}),m=function(h){a(e,r,h)};return o.jsx(Nj,{name:"week-number","aria-label":f,className:s.weeknumber,style:i.weeknumber,onClick:m,children:d})}function HSe(t){var e,r,n=la(),a=n.styles,i=n.classNames,s=n.showWeekNumber,l=n.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:zSe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:VSe,d;return s&&(d=o.jsx("td",{className:i.cell,style:a.cell,children:o.jsx(u,{number:t.weekNumber,dates:t.dates})})),o.jsxs("tr",{className:i.row,style:a.row,children:[d,t.dates.map(function(f){return o.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:t.displayMonth,date:f})},Bhe(f))})]})}function G8(t,e,r){for(var n=r!=null&&r.ISOWeek?mG(e):O3(e,r),a=r!=null&&r.ISOWeek?Zd(t):bl(t,r),i=Pu(n,a),s=[],l=0;l<=i;l++)s.push($i(a,l));var c=s.reduce(function(u,d){var f=r!=null&&r.ISOWeek?I3(d):R3(d,r),m=u.find(function(h){return h.weekNumber===f});return m?(m.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function WSe(t,e){var r=G8(mo(t),Mw(t),e);if(e!=null&&e.useFixedWeeks){var n=zhe(t,e);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],s=wk(i,6-n),l=G8(wk(i,1),s,e);r.push.apply(r,l)}}return r}function qSe(t){var e,r,n,a=la(),i=a.locale,s=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,m=a.firstWeekContainsDate,h=a.ISOWeek,v=WSe(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:i,weekStartsOn:f,firstWeekContainsDate:m}),g=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:oSe,p=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:HSe,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:aSe;return o.jsxs("table",{id:t.id,className:s.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&o.jsx(g,{}),o.jsx("tbody",{className:s.tbody,style:l.tbody,children:v.map(function(x){return o.jsx(p,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),o.jsx(y,{displayMonth:t.displayMonth})]})}function GSe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var YSe=GSe()?N.useLayoutEffect:N.useEffect,ST=!1,KSe=0;function Y8(){return"react-day-picker-".concat(++KSe)}function XSe(t){var e,r=t??(ST?Y8():null),n=N.useState(r),a=n[0],i=n[1];return YSe(function(){a===null&&i(Y8())},[]),N.useEffect(function(){ST===!1&&(ST=!0)},[]),(e=t??a)!==null&&e!==void 0?e:void 0}function ZSe(t){var e,r,n=la(),a=n.dir,i=n.classNames,s=n.styles,l=n.components,c=Hw().displayMonths,u=XSe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],m=s.month,h=t.displayIndex===0,v=t.displayIndex===c.length-1,g=!h&&!v;a==="rtl"&&(e=[h,v],v=e[0],h=e[1]),h&&(f.push(i.caption_start),m=Ar(Ar({},m),s.caption_start)),v&&(f.push(i.caption_end),m=Ar(Ar({},m),s.caption_end)),g&&(f.push(i.caption_between),m=Ar(Ar({},m),s.caption_between));var p=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:nSe;return o.jsxs("div",{className:f.join(" "),style:m,children:[o.jsx(p,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),o.jsx(qSe,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function QSe(t){var e=la(),r=e.classNames,n=e.styles;return o.jsx("div",{className:r.months,style:n.months,children:t.children})}function JSe(t){var e,r,n=t.initialProps,a=la(),i=OI(),s=Hw(),l=N.useState(!1),c=l[0],u=l[1];N.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Ar(Ar({},a.styles.root),a.style),m=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var p;return Ar(Ar({},v),(p={},p[g]=n[g],p))},{}),h=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:QSe;return o.jsx("div",Ar({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},m,{children:o.jsx(h,{children:s.displayMonths.map(function(v,g){return o.jsx(ZSe,{displayIndex:g,displayMonth:v},g)})})}))}function e_e(t){var e=t.children,r=j2e(t,["children"]);return o.jsx(V2e,{initialProps:r,children:o.jsx(J2e,{children:o.jsx(ISe,{initialProps:r,children:o.jsx(cSe,{initialProps:r,children:o.jsx(fSe,{initialProps:r,children:o.jsx(bSe,{children:o.jsx(DSe,{children:e})})})})})})})}function t_e(t){return o.jsx(e_e,Ar({},t,{children:o.jsx(JSe,{initialProps:t})}))}function Ww({className:t,classNames:e,showOutsideDays:r=!0,locale:n=Kn,...a}){return o.jsx(t_e,{showOutsideDays:r,className:Ke("p-3 pointer-events-auto",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ke(fb({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ke(fb({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>o.jsx(BA,{className:"h-4 w-4"}),IconRight:({...i})=>o.jsx(hy,{className:"h-4 w-4"})},locale:n,...a})}Ww.displayName="Calendar";var aE="Popover",[lX,jbt]=Ju(aE,[RA]),qw=RA(),[r_e,nm]=lX(aE),cX=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=t,l=qw(e),c=N.useRef(null),[u,d]=N.useState(!1),[f,m]=kh({prop:n,defaultProp:a??!1,onChange:i,caller:aE});return o.jsx(tq,{...l,children:o.jsx(r_e,{scope:e,contentId:Wc(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:u,onCustomAnchorAdd:N.useCallback(()=>d(!0),[]),onCustomAnchorRemove:N.useCallback(()=>d(!1),[]),modal:s,children:r})})};cX.displayName=aE;var uX="PopoverAnchor",n_e=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=nm(uX,r),i=qw(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=a;return N.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(g3,{...i,...n,ref:e})});n_e.displayName=uX;var dX="PopoverTrigger",fX=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=nm(dX,r),i=qw(r),s=Jn(e,a.triggerRef),l=o.jsx(Sr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":vX(a.open),...n,ref:s,onClick:Er(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(g3,{asChild:!0,...i,children:l})});fX.displayName=dX;var MI="PopoverPortal",[a_e,i_e]=lX(MI,{forceMount:void 0}),hX=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,i=nm(MI,e);return o.jsx(a_e,{scope:e,forceMount:r,children:o.jsx(ed,{present:r||i.open,children:o.jsx(p3,{asChild:!0,container:a,children:n})})})};hX.displayName=MI;var Av="PopoverContent",mX=N.forwardRef((t,e)=>{const r=i_e(Av,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=nm(Av,t.__scopePopover);return o.jsx(ed,{present:n||i.open,children:i.modal?o.jsx(o_e,{...a,ref:e}):o.jsx(l_e,{...a,ref:e})})});mX.displayName=Av;var s_e=XW("PopoverContent.RemoveScroll"),o_e=N.forwardRef((t,e)=>{const r=nm(Av,t.__scopePopover),n=N.useRef(null),a=Jn(e,n),i=N.useRef(!1);return N.useEffect(()=>{const s=n.current;if(s)return YW(s)},[]),o.jsx(KW,{as:s_e,allowPinchZoom:!0,children:o.jsx(pX,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Er(t.onCloseAutoFocus,s=>{var l;s.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Er(t.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Er(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),l_e=N.forwardRef((t,e)=>{const r=nm(Av,t.__scopePopover),n=N.useRef(!1),a=N.useRef(!1);return o.jsx(pX,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=t.onCloseAutoFocus)==null||s.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),pX=N.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=nm(Av,r),h=qw(r);return ZW(),o.jsx(QW,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(JW,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(eq,{"data-state":vX(m.open),role:"dialog",id:m.contentId,...h,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),gX="PopoverClose",c_e=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=nm(gX,r);return o.jsx(Sr.button,{type:"button",...n,ref:e,onClick:Er(t.onClick,()=>a.onOpenChange(!1))})});c_e.displayName=gX;var u_e="PopoverArrow",d_e=N.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=qw(r);return o.jsx(rq,{...a,...n,ref:e})});d_e.displayName=u_e;function vX(t){return t?"open":"closed"}var f_e=cX,h_e=fX,m_e=hX,yX=mX;const Ev=f_e,Cv=h_e,Lp=N.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},a)=>o.jsx(m_e,{children:o.jsx(yX,{ref:a,align:e,sideOffset:r,className:Ke("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Lp.displayName=yX.displayName;function xP(t,[e,r]){return Math.min(r,Math.max(e,t))}function iE(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var p_e=[" ","Enter","ArrowUp","ArrowDown"],g_e=[" ","Enter"],Fp="Select",[sE,oE,v_e]=zW(Fp),[jy,Nbt]=Ju(Fp,[v_e,RA]),lE=RA(),[y_e,am]=jy(Fp),[x_e,b_e]=jy(Fp),xX=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:h,form:v}=t,g=lE(e),[p,y]=N.useState(null),[x,b]=N.useState(null),[w,_]=N.useState(!1),j=LA(u),[A,E]=kh({prop:n,defaultProp:a??!1,onChange:i,caller:Fp}),[T,R]=kh({prop:s,defaultProp:l,onChange:c,caller:Fp}),D=N.useRef(null),P=p?v||!!p.closest("form"):!0,[I,L]=N.useState(new Set),V=Array.from(I).map(H=>H.props.value).join(";");return o.jsx(tq,{...g,children:o.jsxs(y_e,{required:h,scope:e,trigger:p,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:_,contentId:Wc(),value:T,onValueChange:R,open:A,onOpenChange:E,dir:j,triggerPointerDownPosRef:D,disabled:m,children:[o.jsx(sE.Provider,{scope:e,children:o.jsx(x_e,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(H=>{L(q=>new Set(q).add(H))},[]),onNativeOptionRemove:N.useCallback(H=>{L(q=>{const G=new Set(q);return G.delete(H),G})},[]),children:r})}),P?o.jsxs(VX,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:H=>R(H.target.value),disabled:m,form:v,children:[T===void 0?o.jsx("option",{value:""}):null,Array.from(I)]},V):null]})})};xX.displayName=Fp;var bX="SelectTrigger",wX=N.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=lE(r),s=am(bX,r),l=s.disabled||n,c=Jn(e,s.onTriggerChange),u=oE(r),d=N.useRef("touch"),[f,m,h]=WX(g=>{const p=u().filter(b=>!b.disabled),y=p.find(b=>b.value===s.value),x=qX(p,g,y);x!==void 0&&s.onValueChange(x.value)}),v=g=>{l||(s.onOpenChange(!0),h()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return o.jsx(g3,{asChild:!0,...i,children:o.jsx(Sr.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":HX(s.value)?"":void 0,...a,ref:c,onClick:Er(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:Er(a.onPointerDown,g=>{d.current=g.pointerType;const p=g.target;p.hasPointerCapture(g.pointerId)&&p.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:Er(a.onKeyDown,g=>{const p=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(p&&g.key===" ")&&p_e.includes(g.key)&&(v(),g.preventDefault())})})})});wX.displayName=bX;var SX="SelectValue",_X=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...l}=t,c=am(SX,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Jn(e,c.onValueNodeChange);return Gu(()=>{u(d)},[u,d]),o.jsx(Sr.span,{...l,ref:f,style:{pointerEvents:"none"},children:HX(c.value)?o.jsx(o.Fragment,{children:s}):i})});_X.displayName=SX;var w_e="SelectIcon",jX=N.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return o.jsx(Sr.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});jX.displayName=w_e;var S_e="SelectPortal",NX=t=>o.jsx(p3,{asChild:!0,...t});NX.displayName=S_e;var $p="SelectContent",AX=N.forwardRef((t,e)=>{const r=am($p,t.__scopeSelect),[n,a]=N.useState();if(Gu(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Ph.createPortal(o.jsx(EX,{scope:t.__scopeSelect,children:o.jsx(sE.Slot,{scope:t.__scopeSelect,children:o.jsx("div",{children:t.children})})}),i):null}return o.jsx(CX,{...t,ref:e})});AX.displayName=$p;var Ac=10,[EX,im]=jy($p),__e="SelectContentImpl",j_e=XW("SelectContent.RemoveScroll"),CX=N.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:v,hideWhenDetached:g,avoidCollisions:p,...y}=t,x=am($p,r),[b,w]=N.useState(null),[_,j]=N.useState(null),A=Jn(e,le=>w(le)),[E,T]=N.useState(null),[R,D]=N.useState(null),P=oE(r),[I,L]=N.useState(!1),V=N.useRef(!1);N.useEffect(()=>{if(b)return YW(b)},[b]),ZW();const H=N.useCallback(le=>{const[ge,...se]=P().map(pe=>pe.ref.current),[ie]=se.slice(-1),we=document.activeElement;for(const pe of le)if(pe===we||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===ge&&_&&(_.scrollTop=0),pe===ie&&_&&(_.scrollTop=_.scrollHeight),pe==null||pe.focus(),document.activeElement!==we))return},[P,_]),q=N.useCallback(()=>H([E,b]),[H,E,b]);N.useEffect(()=>{I&&q()},[I,q]);const{onOpenChange:G,triggerPointerDownPosRef:re}=x;N.useEffect(()=>{if(b){let le={x:0,y:0};const ge=ie=>{var we,pe;le={x:Math.abs(Math.round(ie.pageX)-(((we=re.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((pe=re.current)==null?void 0:pe.y)??0))}},se=ie=>{le.x<=10&&le.y<=10?ie.preventDefault():b.contains(ie.target)||G(!1),document.removeEventListener("pointermove",ge),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",se,{capture:!0})}}},[b,G,re]),N.useEffect(()=>{const le=()=>G(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[G]);const[Z,de]=WX(le=>{const ge=P().filter(we=>!we.disabled),se=ge.find(we=>we.ref.current===document.activeElement),ie=qX(ge,le,se);ie&&setTimeout(()=>ie.ref.current.focus())}),k=N.useCallback((le,ge,se)=>{const ie=!V.current&&!se;(x.value!==void 0&&x.value===ge||ie)&&(T(le),ie&&(V.current=!0))},[x.value]),F=N.useCallback(()=>b==null?void 0:b.focus(),[b]),B=N.useCallback((le,ge,se)=>{const ie=!V.current&&!se;(x.value!==void 0&&x.value===ge||ie)&&D(le)},[x.value]),z=n==="popper"?bP:TX,ee=z===bP?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:v,hideWhenDetached:g,avoidCollisions:p}:{};return o.jsx(EX,{scope:r,content:b,viewport:_,onViewportChange:j,itemRefCallback:k,selectedItem:E,onItemLeave:F,itemTextRefCallback:B,focusSelectedItem:q,selectedItemText:R,position:n,isPositioned:I,searchRef:Z,children:o.jsx(KW,{as:j_e,allowPinchZoom:!0,children:o.jsx(QW,{asChild:!0,trapped:x.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:Er(a,le=>{var ge;(ge=x.trigger)==null||ge.focus({preventScroll:!0}),le.preventDefault()}),children:o.jsx(JW,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(z,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:le=>le.preventDefault(),...y,...ee,onPlaced:()=>L(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Er(y.onKeyDown,le=>{const ge=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!ge&&le.key.length===1&&de(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let ie=P().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(le.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const we=le.target,pe=ie.indexOf(we);ie=ie.slice(pe+1)}setTimeout(()=>H(ie)),le.preventDefault()}})})})})})})});CX.displayName=__e;var N_e="SelectItemAlignedPosition",TX=N.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=am($p,r),s=im($p,r),[l,c]=N.useState(null),[u,d]=N.useState(null),f=Jn(e,A=>d(A)),m=oE(r),h=N.useRef(!1),v=N.useRef(!0),{viewport:g,selectedItem:p,selectedItemText:y,focusSelectedItem:x}=s,b=N.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&p&&y){const A=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),R=y.getBoundingClientRect();if(i.dir!=="rtl"){const we=R.left-E.left,pe=T.left-we,Me=A.left-pe,he=A.width+Me,oe=Math.max(he,E.width),X=window.innerWidth-Ac,Ae=xP(pe,[Ac,Math.max(Ac,X-oe)]);l.style.minWidth=he+"px",l.style.left=Ae+"px"}else{const we=E.right-R.right,pe=window.innerWidth-T.right-we,Me=window.innerWidth-A.right-pe,he=A.width+Me,oe=Math.max(he,E.width),X=window.innerWidth-Ac,Ae=xP(pe,[Ac,Math.max(Ac,X-oe)]);l.style.minWidth=he+"px",l.style.right=Ae+"px"}const D=m(),P=window.innerHeight-Ac*2,I=g.scrollHeight,L=window.getComputedStyle(u),V=parseInt(L.borderTopWidth,10),H=parseInt(L.paddingTop,10),q=parseInt(L.borderBottomWidth,10),G=parseInt(L.paddingBottom,10),re=V+H+I+G+q,Z=Math.min(p.offsetHeight*5,re),de=window.getComputedStyle(g),k=parseInt(de.paddingTop,10),F=parseInt(de.paddingBottom,10),B=A.top+A.height/2-Ac,z=P-B,ee=p.offsetHeight/2,le=p.offsetTop+ee,ge=V+H+le,se=re-ge;if(ge<=B){const we=D.length>0&&p===D[D.length-1].ref.current;l.style.bottom="0px";const pe=u.clientHeight-g.offsetTop-g.offsetHeight,Me=Math.max(z,ee+(we?F:0)+pe+q),he=ge+Me;l.style.height=he+"px"}else{const we=D.length>0&&p===D[0].ref.current;l.style.top="0px";const Me=Math.max(B,V+g.offsetTop+(we?k:0)+ee)+se;l.style.height=Me+"px",g.scrollTop=ge-B+g.offsetTop}l.style.margin=`${Ac}px 0`,l.style.minHeight=Z+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,l,u,g,p,y,i.dir,n]);Gu(()=>b(),[b]);const[w,_]=N.useState();Gu(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=N.useCallback(A=>{A&&v.current===!0&&(b(),x==null||x(),v.current=!1)},[b,x]);return o.jsx(E_e,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:j,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:o.jsx(Sr.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});TX.displayName=N_e;var A_e="SelectPopperPosition",bP=N.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ac,...i}=t,s=lE(r);return o.jsx(eq,{...s,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bP.displayName=A_e;var[E_e,RI]=jy($p,{}),wP="SelectViewport",kX=N.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=im(wP,r),s=RI(wP,r),l=Jn(e,i.onViewportChange),c=N.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(sE.Slot,{scope:r,children:o.jsx(Sr.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Er(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=s;if(m!=null&&m.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const v=window.innerHeight-Ac*2,g=parseFloat(f.style.minHeight),p=parseFloat(f.style.height),y=Math.max(g,p);if(y<v){const x=y+h,b=Math.min(v,x),w=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});kX.displayName=wP;var PX="SelectGroup",[C_e,T_e]=jy(PX),k_e=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Wc();return o.jsx(C_e,{scope:r,id:a,children:o.jsx(Sr.div,{role:"group","aria-labelledby":a,...n,ref:e})})});k_e.displayName=PX;var DX="SelectLabel",OX=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=T_e(DX,r);return o.jsx(Sr.div,{id:a.id,...n,ref:e})});OX.displayName=DX;var Aj="SelectItem",[P_e,IX]=jy(Aj),MX=N.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=t,l=am(Aj,r),c=im(Aj,r),u=l.value===n,[d,f]=N.useState(i??""),[m,h]=N.useState(!1),v=Jn(e,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),g=Wc(),p=N.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(P_e,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:N.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(sE.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(Sr.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:v,onFocus:Er(s.onFocus,()=>h(!0)),onBlur:Er(s.onBlur,()=>h(!1)),onClick:Er(s.onClick,()=>{p.current!=="mouse"&&y()}),onPointerUp:Er(s.onPointerUp,()=>{p.current==="mouse"&&y()}),onPointerDown:Er(s.onPointerDown,x=>{p.current=x.pointerType}),onPointerMove:Er(s.onPointerMove,x=>{var b;p.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):p.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Er(s.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:Er(s.onKeyDown,x=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&x.key===" "||(g_e.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});MX.displayName=Aj;var s1="SelectItemText",RX=N.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,s=am(s1,r),l=im(s1,r),c=IX(s1,r),u=b_e(s1,r),[d,f]=N.useState(null),m=Jn(e,y=>f(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),h=d==null?void 0:d.textContent,v=N.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:p}=u;return Gu(()=>(g(v),()=>p(v)),[g,p,v]),o.jsxs(o.Fragment,{children:[o.jsx(Sr.span,{id:c.textId,...i,ref:m}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Ph.createPortal(i.children,s.valueNode):null]})});RX.displayName=s1;var LX="SelectItemIndicator",FX=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return IX(LX,r).isSelected?o.jsx(Sr.span,{"aria-hidden":!0,...n,ref:e}):null});FX.displayName=LX;var SP="SelectScrollUpButton",$X=N.forwardRef((t,e)=>{const r=im(SP,t.__scopeSelect),n=RI(SP,t.__scopeSelect),[a,i]=N.useState(!1),s=Jn(e,n.onScrollButtonChange);return Gu(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(UX,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});$X.displayName=SP;var _P="SelectScrollDownButton",BX=N.forwardRef((t,e)=>{const r=im(_P,t.__scopeSelect),n=RI(_P,t.__scopeSelect),[a,i]=N.useState(!1),s=Jn(e,n.onScrollButtonChange);return Gu(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(UX,{...t,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});BX.displayName=_P;var UX=N.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=im("SelectScrollButton",r),s=N.useRef(null),l=oE(r),c=N.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),Gu(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Sr.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Er(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:Er(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:Er(a.onPointerLeave,()=>{c()})})}),D_e="SelectSeparator",zX=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return o.jsx(Sr.div,{"aria-hidden":!0,...n,ref:e})});zX.displayName=D_e;var jP="SelectArrow",O_e=N.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=lE(r),i=am(jP,r),s=im(jP,r);return i.open&&s.position==="popper"?o.jsx(rq,{...a,...n,ref:e}):null});O_e.displayName=jP;var I_e="SelectBubbleInput",VX=N.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=N.useRef(null),i=Jn(n,a),s=iE(e);return N.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[s,e]),o.jsx(Sr.select,{...r,style:{...wue,...r.style},ref:i,defaultValue:e})});VX.displayName=I_e;function HX(t){return t===""||t===void 0}function WX(t){const e=ql(t),r=N.useRef(""),n=N.useRef(0),a=N.useCallback(s=>{const l=r.current+s;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=N.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function qX(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let s=M_e(t,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function M_e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var R_e=xX,GX=wX,L_e=_X,F_e=jX,$_e=NX,YX=AX,B_e=kX,KX=OX,XX=MX,U_e=RX,z_e=FX,ZX=$X,QX=BX,JX=zX;const un=R_e,dn=L_e,sn=N.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(GX,{ref:n,className:Ke("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,o.jsx(F_e,{asChild:!0,children:o.jsx(j3,{className:"h-4 w-4 opacity-50"})})]}));sn.displayName=GX.displayName;const eZ=N.forwardRef(({className:t,...e},r)=>o.jsx(ZX,{ref:r,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(yde,{className:"h-4 w-4"})}));eZ.displayName=ZX.displayName;const tZ=N.forwardRef(({className:t,...e},r)=>o.jsx(QX,{ref:r,className:Ke("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsx(j3,{className:"h-4 w-4"})}));tZ.displayName=QX.displayName;const on=N.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>o.jsx($_e,{children:o.jsxs(YX,{ref:a,className:Ke("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[o.jsx(eZ,{}),o.jsx(B_e,{className:Ke("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),o.jsx(tZ,{})]})}));on.displayName=YX.displayName;const V_e=N.forwardRef(({className:t,...e},r)=>o.jsx(KX,{ref:r,className:Ke("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));V_e.displayName=KX.displayName;const Vt=N.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(XX,{ref:n,className:Ke("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(z_e,{children:o.jsx(Bs,{className:"h-4 w-4"})})}),o.jsx(U_e,{children:e})]}));Vt.displayName=XX.displayName;const H_e=N.forwardRef(({className:t,...e},r)=>o.jsx(JX,{ref:r,className:Ke("-mx-1 my-1 h-px bg-muted",t),...e}));H_e.displayName=JX.displayName;const ns=[];for(let t=0;t<256;++t)ns.push((t+256).toString(16).slice(1));function W_e(t,e=0){return(ns[t[e+0]]+ns[t[e+1]]+ns[t[e+2]]+ns[t[e+3]]+"-"+ns[t[e+4]]+ns[t[e+5]]+"-"+ns[t[e+6]]+ns[t[e+7]]+"-"+ns[t[e+8]]+ns[t[e+9]]+"-"+ns[t[e+10]]+ns[t[e+11]]+ns[t[e+12]]+ns[t[e+13]]+ns[t[e+14]]+ns[t[e+15]]).toLowerCase()}let _T;const q_e=new Uint8Array(16);function G_e(){if(!_T){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_T=crypto.getRandomValues.bind(crypto)}return _T(q_e)}const Y_e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),K8={randomUUID:Y_e};function Mo(t,e,r){var a;if(K8.randomUUID&&!t)return K8.randomUUID();t=t||{};const n=t.random??((a=t.rng)==null?void 0:a.call(t))??G_e();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,W_e(n)}const FS={async updateClientLoyaltyProgress(t,e,r){try{console.log(`[LoyaltyService] Iniciando atualizao para cliente ID: ${t}, Nome: ${e}`);const{data:n,error:a}=await ye.from("loyalty_progress").select("*").eq("client_id",t);if(a)return console.error(`[LoyaltyService] Erro ao buscar progresso: ${a.message}`,a),!1;console.log("[LoyaltyService] Resultado da busca de progresso:",n);const i=new Date().toISOString();if(!n||n.length===0){console.log(`[LoyaltyService] Criando novo registro de progresso para cliente ${t}`);const s=Mo(),{error:l}=await ye.from("loyalty_progress").insert({id:s,client_id:t,appointments_count:1,rewards_earned:0,rewards_used:0,last_appointment_date:i,created_at:i,updated_at:i});if(l)return console.error(`[LoyaltyService] Erro ao inserir progresso: ${l.message}`,l),!1;console.log(`[LoyaltyService] Novo progresso criado com ID: ${s}`);const{data:c,error:u}=await ye.from("loyalty_progress").select("*").eq("id",s);u?console.error(`[LoyaltyService] Erro ao confirmar insero: ${u.message}`):console.log("[LoyaltyService] Confirmao de insero:",c)}else{const s=n[0],l=s.appointments_count+1;console.log(`[LoyaltyService] Atualizando progresso existente ID: ${s.id}, contagem atual: ${s.appointments_count}, nova contagem: ${l}`);const{error:c}=await ye.from("loyalty_progress").update({appointments_count:l,last_appointment_date:i,updated_at:i}).eq("id",s.id);if(c)return console.error(`[LoyaltyService] Erro ao atualizar progresso: ${c.message}`,c),!1;console.log(`[LoyaltyService] Progresso atualizado com sucesso para ${l} agendamentos`),await this.checkAndCreateRewards(t,l)}return!0}catch(n){return console.error("[LoyaltyService] Erro ao atualizar progresso:",n),!1}},async checkAndCreateRewards(t,e){try{console.log(`[LoyaltyService] Verificando recompensas para cliente ${t} com ${e} agendamentos`);const{data:r,error:n}=await ye.from("loyalty_rules").select("*").lte("appointments_required",e).eq("is_active",!0);if(n)return console.error(`[LoyaltyService] Erro ao buscar regras: ${n.message}`,n),!1;if(console.log("[LoyaltyService] Regras encontradas:",r),!r||r.length===0)return console.log(`[LoyaltyService] Nenhuma regra elegvel encontrada para ${e} agendamentos`),!0;const{data:a,error:i}=await ye.from("loyalty_rewards").select("rule_id").eq("client_id",t);if(i)return console.error(`[LoyaltyService] Erro ao buscar recompensas existentes: ${i.message}`,i),!1;if(console.log("[LoyaltyService] Recompensas existentes:",a),!a)return!0;const s=new Set(a.map(c=>c.rule_id)),l=r.filter(c=>!s.has(c.id));console.log("[LoyaltyService] Regras elegveis para novas recompensas:",l);for(const c of l){const u=new Date().toISOString(),d=Mo();console.log(`[LoyaltyService] Criando recompensa para regra ${c.id} (${c.name})`);const f={id:d,client_id:t,rule_id:c.id,status:"available",created_at:u,updated_at:u};if(c.reward_type==="discount"||c.reward_type==="free_service"){const g=new Date;g.setDate(g.getDate()+30),f.expires_at=g.toISOString(),console.log(`[LoyaltyService] Definida data de expirao: ${f.expires_at}`)}const{error:m}=await ye.from("loyalty_rewards").insert(f);if(m){console.error(`[LoyaltyService] Erro ao inserir recompensa: ${m.message}`,m);continue}console.log(`[LoyaltyService] Recompensa criada com ID: ${d}`);const{data:h,error:v}=await ye.from("loyalty_progress").select("rewards_earned").eq("client_id",t).single();if(v){console.error(`[LoyaltyService] Erro ao buscar contagem de recompensas: ${v.message}`,v);continue}if(console.log("[LoyaltyService] Contagem atual de recompensas:",h),h){const g=(h.rewards_earned||0)+1;console.log(`[LoyaltyService] Atualizando contagem de recompensas para ${g}`);const{error:p}=await ye.from("loyalty_progress").update({rewards_earned:g,updated_at:u}).eq("client_id",t);p?console.error(`[LoyaltyService] Erro ao atualizar contagem de recompensas: ${p.message}`,p):console.log("[LoyaltyService] Contagem de recompensas atualizada com sucesso")}}return l.length>0&&(console.log(`[LoyaltyService] ${l.length} recompensas criadas com sucesso`),Oe.success(`${l.length} nova(s) recompensa(s) disponvel(is)!`)),!0}catch(r){return console.error("[LoyaltyService] Erro ao verificar recompensas:",r),!1}}},sm=()=>{const[t,e]=N.useState([]),[r,n]=N.useState(!1),a=async y=>{try{n(!0);let x=ye.from("appointments").select("*").order("appointment_datetime",{ascending:!1});y&&(x=x.eq("appointment_date",y));const{data:b,error:w}=await x;if(w)return console.error("Error fetching appointments:",w),Oe.error("Erro ao carregar agendamentos"),[];const _=b.map(vP);return e(_),_}catch(x){return console.error("Error fetching appointments:",x),Oe.error("Erro ao carregar agendamentos"),[]}finally{n(!1)}},i=async y=>{try{if(n(!0),await v(y.attendantId,y.appointmentDate,y.appointmentTime,y.serviceDuration))return Oe.error("J existe um agendamento para este horrio"),null;const b={...y,id:Mo()},{error:w}=await ye.from("appointments").insert({id:b.id,client_name:b.clientName,client_phone:b.clientPhone,attendant_id:b.attendantId,attendant_name:b.attendantName,service_id:b.serviceId,service_name:b.serviceName,service_price:b.servicePrice,service_duration:b.serviceDuration,appointment_date:b.appointmentDate,appointment_time:b.appointmentTime,appointment_datetime:b.appointmentDatetime,notes:b.notes,status:b.status});if(w)return console.error("Error creating appointment:",w),Oe.error("Erro ao criar agendamento"),null;e(_=>[..._,b]),Oe.success("Agendamento criado com sucesso");try{const{data:_}=await ye.from("clients").select("id").eq("phone",b.clientPhone).single();if(_)await FS.updateClientLoyaltyProgress(_.id,b.clientName,b.clientPhone);else{const j=Mo(),A=new Date().toISOString();await ye.from("clients").insert({id:j,name:b.clientName,phone:b.clientPhone,created_at:A,updated_at:A}),await FS.updateClientLoyaltyProgress(j,b.clientName,b.clientPhone)}}catch(_){console.error("Error updating loyalty progress:",_)}return b}catch(x){return console.error("Error creating appointment:",x),Oe.error("Erro ao criar agendamento"),null}finally{n(!1)}},s=async y=>{try{if(n(!0),await v(y.attendantId,y.appointmentDate,y.appointmentTime,y.serviceDuration,y.id))return Oe.error("J existe um agendamento para este horrio"),!1;const{error:b}=await ye.from("appointments").update({client_name:y.clientName,client_phone:y.clientPhone,attendant_id:y.attendantId,attendant_name:y.attendantName,service_id:y.serviceId,service_name:y.serviceName,service_price:y.servicePrice,service_duration:y.serviceDuration,appointment_date:y.appointmentDate,appointment_time:y.appointmentTime,appointment_datetime:y.appointmentDatetime,notes:y.notes,status:y.status}).eq("id",y.id);return b?(console.error("Error updating appointment:",b),Oe.error("Erro ao atualizar agendamento"),!1):(e(w=>w.map(_=>_.id===y.id?y:_)),Oe.success("Agendamento atualizado com sucesso"),!0)}catch(x){return console.error("Error updating appointment:",x),Oe.error("Erro ao atualizar agendamento"),!1}finally{n(!1)}},l=async y=>{try{n(!0);const{ScheduledMessageService:x}=await ru(async()=>{const{ScheduledMessageService:w}=await Promise.resolve().then(()=>Z8);return{ScheduledMessageService:w}},void 0);await x.getInstance().updateStatusByAppointmentId(y,"failed","Agendamento foi excludo");const{error:b}=await ye.from("appointments").delete().eq("id",y);return b?(console.error("Error deleting appointment:",b),Oe.error("Erro ao excluir agendamento"),!1):(e(w=>w.filter(_=>_.id!==y)),Oe.success("Agendamento excludo com sucesso"),!0)}catch(x){return console.error("Error deleting appointment:",x),Oe.error("Erro ao excluir agendamento"),!1}finally{n(!1)}},c=async(y,x)=>{try{n(!0);const{error:b}=await ye.from("appointments").update({status:x}).eq("id",y);if(b)return console.error("Error updating appointment status:",b),Oe.error("Erro ao atualizar status do agendamento"),!1;if(x==="atendimento_finalizado"||x==="completed")try{console.log(`[updateAppointmentStatus] Agendamento ${y} finalizado, atualizando fidelidade`);const{data:w,error:_}=await ye.from("appointments").select("*").eq("id",y).single();if(_)console.error("Erro ao buscar dados do agendamento:",_);else if(w){const{data:j,error:A}=await ye.from("clients").select("id").eq("phone",w.client_phone).single();if(A&&A.code!=="PGRST116")console.error("Erro ao buscar cliente:",A);else if(j)console.log(`[updateAppointmentStatus] Cliente encontrado: ${j.id}, atualizando fidelidade`),await FS.updateClientLoyaltyProgress(j.id,w.client_name,w.client_phone);else{const E=Mo(),T=new Date().toISOString();console.log(`[updateAppointmentStatus] Cliente no encontrado, criando novo: ${E}`);const{error:R}=await ye.from("clients").insert({id:E,name:w.client_name,phone:w.client_phone,created_at:T,updated_at:T});R?console.error("Erro ao criar cliente:",R):(console.log("[updateAppointmentStatus] Cliente criado, atualizando fidelidade"),await FS.updateClientLoyaltyProgress(E,w.client_name,w.client_phone))}}}catch(w){console.error("Error updating loyalty after appointment completion:",w)}if(x==="agendamento_cancelado"||x==="canceled"){const{ScheduledMessageService:w}=await ru(async()=>{const{ScheduledMessageService:_}=await Promise.resolve().then(()=>Z8);return{ScheduledMessageService:_}},void 0);await w.getInstance().updateStatusByAppointmentId(y,"failed","Agendamento foi cancelado")}return e(w=>w.map(_=>_.id===y?{..._,status:x}:_)),Oe.success("Status do agendamento atualizado com sucesso"),!0}catch(b){return console.error("Error updating appointment status:",b),Oe.error("Erro ao atualizar status do agendamento"),!1}finally{n(!1)}},u=i,d=async y=>{try{n(!0);const{error:x}=await ye.from("appointments").update({status:"archived"}).eq("id",y);return x?(console.error("Error archiving appointment:",x),Oe.error("Erro ao arquivar agendamento"),!1):(e(b=>b.map(w=>w.id===y?{...w,status:"archived"}:w)),Oe.success("Agendamento arquivado com sucesso"),!0)}catch(x){return console.error("Error archiving appointment:",x),Oe.error("Erro ao arquivar agendamento"),!1}finally{n(!1)}},f=y=>{if(!y)return null;try{return JSON.parse(y).text||null}catch{return y}},m=y=>{try{const x=t.find(I=>I.id===y);if(!x)return Oe.error("Agendamento no encontrado"),!1;const b=window.open("","_blank");if(!b)return Oe.error("No foi possvel abrir janela de impresso"),!1;const _=new Date(x.appointmentDatetime).toLocaleDateString("pt-BR"),j=x.appointmentTime.substring(0,5),A=x.id.substring(0,8),E=f(x.notes),T=async()=>{try{const{data:I,error:L}=await ye.from("business_data").select("*").limit(1).single();if(L){console.error("Erro ao buscar dados do estabelecimento:",L),R();return}D(I)}catch(I){console.error("Erro ao buscar dados do estabelecimento:",I),R()}},R=()=>{P({businessName:"Estabelecimento",address:"Endereo no disponvel",neighborhood:"Bairro",city:"Cidade",state:"UF",phone:"Telefone no disponvel",logoUrl:""})},D=I=>{const L=`${I.address}, ${I.number}${I.complement?` - ${I.complement}`:""}`;P({businessName:I.trading_name||I.legal_name,address:L,neighborhood:I.neighborhood,city:I.city,state:I.state,phone:I.phone,logoUrl:I.logo_url})},P=I=>{const L=`Agendamento: #${A}
Data: ${_} ${j}
Cliente: ${x.clientName}
Servio: ${x.serviceName}
Atendente: ${x.attendantName}`,V=`https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(L)}&size=150x150`;b.document.write(`
          <html>
            <head>
              <title>Comprovante - ${x.clientName}</title>
              <style>
                body {
                  font-family: monospace;
                  margin: 0;
                  padding: 10px;
                  width: 300px;
                  max-width: 100%;
                  margin: 0 auto;
                  font-size: 12px;
                }
                .receipt {
                  border: 1px dashed #ccc;
                  padding: 10px;
                  background-color: #fff;
                }
                .header {
                  text-align: center;
                  margin-bottom: 10px;
                }
                .logo {
                  max-width: 80px;
                  max-height: 80px;
                  margin: 0 auto;
                  display: block;
                }
                .clinic-name {
                  font-size: 16px;
                  font-weight: bold;
                  margin: 10px 0 5px;
                }
                .clinic-info {
                  font-size: 11px;
                  margin-bottom: 3px;
                }
                .divider {
                  border-top: 1px dashed #ccc;
                  margin: 10px 0;
                }
                .ticket-info {
                  text-align: center;
                  margin: 10px 0;
                }
                .ticket-info-value {
                  font-weight: bold;
                }
                .info-row {
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 5px;
                }
                .info-label {
                  font-weight: bold;
                }
                .info-value {
                  text-align: right;
                }
                .service-section {
                  margin: 10px 0;
                }
                .service-title {
                  font-weight: bold;
                  text-align: center;
                  margin: 5px 0;
                }
                .qrcode {
                  text-align: center;
                  margin: 15px 0 10px;
                }
                .qrcode-img {
                  max-width: 150px;
                  margin: 0 auto;
                  display: block;
                }
                .footer {
                  text-align: center;
                  font-size: 10px;
                  margin-top: 15px;
                }
              </style>
            </head>
            <body>
              <div class="receipt">
                <div class="header">
                  ${I.logoUrl?`<img src="${I.logoUrl}" alt="Logo" class="logo" />`:""}
                  <div class="clinic-name">${I.businessName}</div>
                  <div class="clinic-info">${I.address}</div>
                  <div class="clinic-info">${I.neighborhood}</div>
                  <div class="clinic-info">${I.city}/${I.state}</div>
                  <div class="clinic-info">Tel: ${I.phone}</div>
                </div>
                
                <div class="divider"></div>
                
                <div class="ticket-info">
                  <div>AGENDAMENTO <span class="ticket-info-value">#${A}</span></div>
                  <div>Data: ${_} ${j}</div>
                  <div>Cliente: ${x.clientName}</div>
                  <div>Telefone: ${x.clientPhone}</div>
                  <div>Status: ${h(x.status)}</div>
                </div>
                
                <div class="divider"></div>
                
                <div class="service-section">
                  <div class="service-title">SERVIO AGENDADO</div>
                  <div class="info-row">
                    <span class="info-label">Servio:</span>
                    <span class="info-value">${x.serviceName}</span>
                  </div>
                  <div class="info-row">
                    <span class="info-label">Valor:</span>
                    <span class="info-value">R$ ${x.servicePrice.toFixed(2)}</span>
                  </div>
                  <div class="info-row">
                    <span class="info-label">Durao:</span>
                    <span class="info-value">${x.serviceDuration} min</span>
                  </div>
                  <div class="info-row">
                    <span class="info-label">Atendente:</span>
                    <span class="info-value">${x.attendantName}</span>
                  </div>
                  ${E?`<div class="info-row">
                          <span class="info-label">Observaes:</span>
                          <span class="info-value">${E}</span>
                        </div>`:""}
                </div>
                
                <div class="divider"></div>
                
                <div class="qrcode">
                  <img src="${V}" class="qrcode-img" alt="QR Code">
                  <div style="margin-top: 5px; font-size: 11px;">Escaneie para verificar</div>
                </div>
                
                <div class="footer">
                  <div>Comprovante gerado em: ${new Date().toLocaleString("pt-BR")}</div>
                  <div>----------------------------------------</div>
                  <div>${I.businessName}</div>
                  <div>Obrigado pela preferncia!</div>
                </div>
              </div>
            </body>
          </html>
        `),b.document.close(),b.focus(),setTimeout(()=>{b.print(),setTimeout(()=>{b.close(),window.focus()},500)},1e3)};return T(),!0}catch(x){return console.error("Error printing appointment:",x),Oe.error("Erro ao imprimir agendamento"),!1}},h=y=>{switch(y){case"scheduled":case"aguardando_atendimento":return"Aguardando Atendimento";case"atendimento_iniciado":return"Em Atendimento";case"completed":case"atendimento_finalizado":return"Finalizado";case"canceled":case"agendamento_cancelado":return"Cancelado";case"archived":return"Arquivado";default:return y}},v=async(y,x,b,w,_)=>{try{let j=ye.from("appointments").select("*").eq("attendant_id",y).eq("appointment_date",x).not("status","in","(completed,canceled,agendamento_cancelado,atendimento_finalizado,archived)");_&&(j=j.neq("id",_));const{data:A,error:E}=await j;if(E)return console.error("Error checking appointment conflict:",E),!1;const[T,R]=b.split(":").map(Number),D=T*60+R,P=D+w;return A.some(I=>{const[L,V]=I.appointment_time.split(":").map(Number),H=L*60+V,q=H+I.service_duration;return D>=H&&D<q||H>=D&&H<P})}catch(j){return console.error("Error checking appointment conflict:",j),!1}},g=N.useCallback(async(y,x,b,w,_)=>{try{if(console.log("Getting available time slots for date:",x,"attendantId:",y),!b||b.length===0)return console.log("No slots provided to check"),[];let j=ye.from("appointments").select("*").eq("attendant_id",y).eq("appointment_date",x).not("status","in","(completed,canceled,agendamento_cancelado,atendimento_finalizado,archived)");_&&(j=j.neq("id",_));const{data:A,error:E}=await j;if(E)return console.error("Error fetching appointments for availability check:",E),b;console.log("Found existing appointments:",A.length);const T=[...b];for(let R=0;R<T.length;R++){const D=T[R],[P,I]=D.time.split(":").map(Number),L=P*60+I,V=L+w,H=A.some(q=>{const[G,re]=q.appointment_time.split(":").map(Number),Z=G*60+re,de=Z+q.service_duration;return L>=Z&&L<de||Z>=L&&Z<V});T[R]={...D,isAvailable:!H}}return console.log("Updated slots:",T),console.log("Available slots after checking conflicts:",T.filter(R=>R.isAvailable)),T}catch(j){return console.error("Error checking slot availability:",j),b}},[]);return{appointments:t,isLoading:r,fetchAppointments:a,fetchAppointmentsByClientPhone:async y=>{try{n(!0);const{data:x,error:b}=await ye.from("appointments").select("*").eq("client_phone",y).order("appointment_datetime",{ascending:!1});return b?(console.error("Error fetching client appointments:",b),Oe.error("Erro ao carregar histrico de agendamentos"),[]):x.map(vP)}catch(x){return console.error("Error fetching client appointments:",x),Oe.error("Erro ao carregar histrico de agendamentos"),[]}finally{n(!1)}},createAppointment:i,addAppointment:u,updateAppointment:s,deleteAppointment:l,updateAppointmentStatus:c,archiveAppointment:d,printAppointment:m,getStatusDisplayText:h,checkAppointmentConflict:v,getAvailableTimeSlots:g}},Px=t=>{if(!t)return t;const e=t.replace(/\D/g,"");return e.startsWith("55")?e:`55${e}`},rZ=()=>{const[t,e]=N.useState([]),[r,n]=N.useState(!1),[a,i]=N.useState(null),s=N.useCallback(async()=>{n(!0);try{const{data:h,error:v}=await ye.from("clients").select("*").order("name");if(v)throw v;const g=h.map(vT);e(g)}catch(h){const v=h;Oe.error(`Erro ao carregar clientes: ${v.message}`),console.error("Erro ao carregar clientes:",h)}finally{n(!1)}},[]),l=N.useCallback(async h=>{n(!0);try{const v=Px(h.phone),{data:g,error:p}=await ye.from("clients").select("*");if(p)throw p;const y=g.find(_=>_.phone===v);if(y)return Oe.info(`Cliente com telefone ${v} j existe.`),y.id;if(!h.name||!v)throw new Error("Nome e telefone so campos obrigatrios");const x={name:h.name,phone:v,zip_code:h.zipCode,street:h.street,neighborhood:h.neighborhood,complement:h.complement,user_id:h.userId},{data:b,error:w}=await ye.from("clients").insert(x).select().single();if(w)throw w;return Oe.success("Cliente adicionado com sucesso"),await s(),b.id}catch(v){const g=v;return Oe.error(`Erro ao criar cliente: ${g.message}`),console.error("Erro ao criar cliente:",v),null}finally{n(!1)}},[s]),c=N.useCallback(async(h,v)=>{n(!0);try{const g=v.phone?Px(v.phone):void 0;if(g){const{data:x,error:b}=await ye.from("clients").select("*");if(b)throw b;if(x.find(_=>_.phone===g&&_.id!==h))return Oe.error(`J existe outro cliente com o telefone ${g}`),!1}const p={...v.name!==void 0&&{name:v.name},...g!==void 0&&{phone:g},...v.zipCode!==void 0&&{zip_code:v.zipCode},...v.street!==void 0&&{street:v.street},...v.neighborhood!==void 0&&{neighborhood:v.neighborhood},...v.complement!==void 0&&{complement:v.complement},...v.userId!==void 0&&{user_id:v.userId}},{error:y}=await ye.from("clients").update(p).eq("id",h);if(y)throw y;return Oe.success("Cliente atualizado com sucesso"),await s(),!0}catch(g){const p=g;return Oe.error(`Erro ao atualizar cliente: ${p.message}`),console.error("Erro ao atualizar cliente:",g),!1}finally{n(!1)}},[s]),u=N.useCallback(async h=>{n(!0);try{const{data:v,error:g}=await ye.from("clients").select("phone").eq("id",h).single();if(g)throw g;const{data:p,error:y}=await ye.from("appointments").select("id, client_phone");if(y)throw y;if(p.filter(w=>w.client_phone===v.phone).length>0)return Oe.error("No  possvel excluir um cliente que possui agendamentos"),!1;const{error:b}=await ye.from("clients").delete().eq("id",h);if(b)throw b;return Oe.success("Cliente excludo com sucesso"),await s(),!0}catch(v){const g=v;return Oe.error(`Erro ao excluir cliente: ${g.message}`),console.error("Erro ao excluir cliente:",v),!1}finally{n(!1)}},[s]),d=N.useCallback(async h=>{try{const v=Px(h),{data:g,error:p}=await ye.from("clients").select("*");if(p)throw p;const y=g.find(x=>x.phone===v);return y?vT(y):null}catch(v){return console.error("Erro ao buscar cliente por telefone:",v),null}},[]),f=N.useCallback(async h=>{try{const v=/^\d+$/.test(h),{data:g,error:p}=await ye.from("clients").select("*");if(p)throw p;let y=g.filter(x=>{const b=x.name.toLowerCase().includes(h.toLowerCase());if(v){const w=Px(h);return b||x.phone.includes(w)}return b});return y=y.slice(0,10),y.map(vT)}catch(v){const g=v;return Oe.error(`Erro na busca de clientes: ${g.message}`),console.error("Erro na busca de clientes:",v),[]}},[]),m=N.useCallback(async()=>{try{const{data:h,error:v}=await ye.from("clients").select("*");if(v)throw v;const g=h.filter(y=>!y.phone.startsWith("55"));if(g.length===0)return{success:!0,updated:0};let p=0;for(const y of g){const x=Px(y.phone),{error:b}=await ye.from("clients").update({phone:x}).eq("id",y.id);b||p++}return p>0&&(Oe.success(`${p} nmeros de telefone atualizados com prefixo "55"`),await s()),{success:!0,updated:p}}catch(h){const v=h;return console.error("Erro ao atualizar telefones de clientes:",h),{success:!1,error:v.message}}},[s]);return{clients:t,isLoading:r,selectedClient:a,setSelectedClient:i,fetchClients:s,createClient:l,updateClient:c,deleteClient:u,getClientByPhone:d,searchClients:f,updateExistingClientsPhones:m}};function nZ(){const[t,e]=N.useState([]),[r,n]=N.useState(""),[a,i]=N.useState(""),[s,l]=N.useState(!1),[c,u]=N.useState(null),d=async()=>{l(!0),u(null);try{const{data:m,error:h}=await ye.from("evolution_api_instances").select("id, instance_name, connection_status").eq("connection_status","open").order("instance_name");if(h)throw h;const v=m.map(g=>({id:g.id,name:g.instance_name,connectionStatus:g.connection_status}));e(v),v.length===1&&!r&&(n(v[0].id),i(v[0].name))}catch(m){console.error("Error fetching WhatsApp instances:",m);const h=m instanceof Error?m.message:"Erro ao buscar instncias do WhatsApp";u(h)}finally{l(!1)}};return N.useEffect(()=>{d()},[]),{instances:t,selectedInstanceId:r,selectedInstanceName:a,isLoading:s,error:c,selectInstance:m=>{const h=t.find(v=>v.id===m);h&&(n(m),i(h.name))},fetchInstances:d}}const Jm=class Jm{constructor(){Rt(this,"config",null)}static getInstance(){return Jm.instance||(Jm.instance=new Jm),Jm.instance}async init(){const{data:e,error:r}=await ye.from("evolution_api_settings").select("*").single();if(r)throw new Error("Configuraes da Evolution API no encontradas");this.config={baseUrl:e.base_url,apiKey:e.api_key}}async request(e,r={}){if(this.config||await this.init(),!this.config)throw new Error("Configuraes da Evolution API no inicializadas");const n=`${this.config.baseUrl}${e}`,a={"Content-Type":"application/json",apikey:this.config.apiKey},i=await fetch(n,{...r,headers:{...a,...r.headers}});if(!i.ok){const s=await i.json().catch(()=>({}));throw new Error(s.message||`Erro na requisio: ${i.statusText}`)}return i.json()}async createInstance(e,r){return this.request("/instance/create",{method:"POST",body:JSON.stringify({instanceName:e,token:r,qrcode:!0,integration:"WHATSAPP-BAILEYS"})})}async fetchInstances(){return this.request("/instance/fetchInstances")}async connectInstance(e){return this.request(`/instance/connect/${e}`,{method:"POST"})}async getInstanceQrCode(e){return this.request(`/instance/connect/${e}`)}async restartInstance(e){return this.request(`/instance/restart/${e}`,{method:"POST"})}async setPresence(e){return this.request(`/instance/setPresence/${e}`,{method:"POST"})}async getConnectionState(e){return{state:(await this.request(`/instance/connectionState/${e}`)).instance.state}}async logoutInstance(e){return this.request(`/instance/logout/${e}`,{method:"DELETE"})}async deleteInstance(e){return this.request(`/instance/delete/${e}`,{method:"DELETE"})}async getContacts(e){return this.request(`/instance/contacts/${e}`)}async getMessages(e){return this.request(`/instance/messages/${e}`)}async getChats(e){return this.request(`/instance/chats/${e}`)}async syncInstanceData(e,r){try{const n=await this.getContacts(e);n!=null&&n.length&&await ye.from("evolution_api_contacts").upsert(n.map(s=>({instance_id:r,jid:s.id,name:s.name,push_name:s.pushName})));const a=await this.getMessages(e);a!=null&&a.length&&await ye.from("evolution_api_messages").upsert(a.map(s=>({instance_id:r,message_id:s.id,from_me:s.fromMe,to_jid:s.to,content:s.content})));const i=await this.getChats(e);i!=null&&i.length&&await ye.from("evolution_api_chats").upsert(i.map(s=>({instance_id:r,jid:s.id,name:s.name,is_group:s.isGroup})))}catch(n){console.error("Erro ao sincronizar dados da instncia:",n)}}async getWebhook(e){try{const r=await this.request(`/webhook/find/${e}`);return r?{webhook:{enabled:r.enabled,url:r.url,headers:r.headers,byEvents:r.webhookByEvents,base64:r.webhookBase64,events:r.events}}:{webhook:{enabled:!1,url:"",headers:{"Content-Type":"application/json"},byEvents:!1,base64:!1,events:[]}}}catch(r){return console.error("Erro ao buscar webhook:",r),{webhook:{enabled:!1,url:"",headers:{"Content-Type":"application/json"},byEvents:!1,base64:!1,events:[]}}}}async setWebhook(e,r){return this.request(`/webhook/set/${e}`,{method:"POST",body:JSON.stringify({webhook:r})})}async sendText(e,r){const n={number:r.number,text:r.text};return r.options&&(r.options.delay!==void 0&&Object.assign(n,{delay:r.options.delay}),r.options.linkPreview!==void 0&&Object.assign(n,{linkPreview:r.options.linkPreview})),this.request(`/message/sendText/${e}`,{method:"POST",body:JSON.stringify(n)})}async sendMedia(e,r){let n="image/jpeg";r.mediatype==="video"?n="video/mp4":r.mediatype==="document"&&(n="application/pdf");const a={number:r.number,mediatype:r.mediatype,mimetype:n,media:r.media,caption:r.caption,fileName:r.fileName};return r.options&&r.options.delay!==void 0&&Object.assign(a,{delay:r.options.delay}),this.request(`/message/sendMedia/${e}`,{method:"POST",body:JSON.stringify(a)})}async checkNumber(e,r){return this.request(`/chat/whatsappNumbers/${e}`,{method:"POST",body:JSON.stringify({numbers:[r]})}).then(n=>Array.isArray(n)&&n.length>0?{exists:n[0].exists||!1,jid:n[0].jid}:{exists:!1})}};Rt(Jm,"instance");let io=Jm;function aZ(t,e){const r=t.getFullYear(),n=t.getMonth(),a=t.getDate(),[i,s]=e.split(":").map(Number),l=new Date(r,n,a,i,s,0,0);return console.log(`[DEBUG:createDateTimeFromParts] Original: ${t.toISOString()}, Time: ${e}, Result: ${l.toISOString()}`),l}function K_e(t){try{const e=new Date(t),r=e.getTimezoneOffset();return new Date(e.getTime()+r*6e4).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(e){return console.error("Erro ao formatar data:",e),t}}function Fc(t,e,r){console.log(`[DEBUG:${t}] Original:`,e),e instanceof Date&&console.log(`[DEBUG:${t}] Original (locale):`,e.toLocaleString("pt-BR")),console.log(`[DEBUG:${t}] Processado:`,r),r instanceof Date&&console.log(`[DEBUG:${t}] Processado (locale):`,r.toLocaleString("pt-BR"))}function X8(t){const e=new Date(t);return new Date(e.getTime()+3*60*60*1e3)}function X_e(t){const e=t.getUTCFullYear(),r=String(t.getUTCMonth()+1).padStart(2,"0"),n=String(t.getUTCDate()).padStart(2,"0"),a=String(t.getUTCHours()).padStart(2,"0"),i=String(t.getUTCMinutes()).padStart(2,"0"),s=String(t.getUTCSeconds()).padStart(2,"0"),l=`${e}-${r}-${n}T${a}:${i}:${s}+00:00`;return console.log(`[DEBUG:formatWithExplicitTimezone] Original: ${t.toISOString()}, Formatted: ${l}`),l}function Gw(t){const r=new Date(t.getTime()+0);return X_e(r)}function Z_e(t,e=new Date){try{const r=new Date(t),n=new Date(r.getTime()+0*60*60*1e3),a=r.toLocaleString("pt-BR"),i=n.toLocaleString("pt-BR"),s=e.toLocaleString("pt-BR"),l=n<=e;return console.log(`[DEBUG:shouldProcessScheduledMessage] Agendado original: ${t} (${a}), Ajustado: ${n.toISOString()} (${i}), Atual: ${e.toISOString()} (${s}), Pronto para envio? ${l}`),l}catch(r){return console.error("Erro ao verificar horrio de mensagem agendada:",r),!1}}const ep=class ep{constructor(){Rt(this,"intervalId",null);Rt(this,"checkIntervalMs",6e4)}static getInstance(){return ep.instance||(ep.instance=new ep),ep.instance}startService(){this.intervalId||(console.log("Iniciando servio de mensagens agendadas..."),this.intervalId=setInterval(()=>{this.processScheduledMessages().catch(e=>{console.error("Erro ao processar mensagens agendadas:",e)})},this.checkIntervalMs),this.processScheduledMessages().catch(e=>{console.error("Erro ao processar mensagens agendadas:",e)}))}stopService(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null,console.log("Servio de mensagens agendadas interrompido."))}async scheduleMessage(e){try{const{data:r,error:n}=await ye.from("scheduled_messages").insert([{instance_id:e.instanceId,instance_name:e.instanceName,type:e.type,payload:e.payload,scheduled_at:e.scheduledAt,status:e.status,user_id:e.userId}]).select().single();return n?(console.error("Erro ao agendar mensagem:",n),null):OS(r)}catch(r){return console.error("Erro ao agendar mensagem:",r),null}}async getScheduledMessages(){try{const{data:e,error:r}=await ye.from("scheduled_messages").select("*").order("scheduled_at",{ascending:!0});return r?(console.error("Erro ao buscar mensagens agendadas:",r),[]):e.map(OS)}catch(e){return console.error("Erro ao buscar mensagens agendadas:",e),[]}}async deleteScheduledMessage(e){try{const{error:r}=await ye.from("scheduled_messages").delete().eq("id",e);return r?(console.error("Erro ao excluir mensagem agendada:",r),!1):!0}catch(r){return console.error("Erro ao excluir mensagem agendada:",r),!1}}async processScheduledMessages(){const e=new Date,r=e.toISOString();console.log(`[DEBUG] Processando mensagens agendadas. Hora atual UTC: ${r}, Local: ${e.toLocaleString("pt-BR")}`);try{const{data:n,error:a}=await ye.from("scheduled_messages").select("*").eq("status","pending").order("scheduled_at",{ascending:!0});if(a){console.error("Erro ao buscar mensagens para processamento:",a);return}if(!n||n.length===0)return;console.log(`Encontradas ${n.length} mensagens pendentes para verificao...`);const i=n.filter(l=>Z_e(l.scheduled_at,e));if(i.length===0){console.log("Nenhuma mensagem pronta para envio no momento.");return}console.log(`Processando ${i.length} mensagens agendadas...`);const s=io.getInstance();for(const l of i){const c=OS(l);try{const u=await s.getConnectionState(c.instanceName);if(u.state!=="open"){await this.updateMessageStatus(c.id,"failed",`Instncia no est conectada. Status: ${u.state}`);continue}c.type==="text"?await s.sendText(c.instanceName,{number:c.payload.number,text:c.payload.text||""}):c.type==="media"&&await s.sendMedia(c.instanceName,{number:c.payload.number,mediatype:c.payload.mediaType||"image",media:c.payload.mediaUrl||"",caption:c.payload.caption,fileName:c.payload.fileName}),await this.updateMessageStatus(c.id,"sent")}catch(u){console.error(`Erro ao enviar mensagem agendada ${c.id}:`,u),await this.updateMessageStatus(c.id,"failed",u instanceof Error?u.message:"Erro ao enviar mensagem")}}}catch(n){console.error("Erro ao processar mensagens agendadas:",n)}}async updateMessageStatus(e,r,n){try{const a={status:r};n&&(a.error=n),console.log(`[DEBUG] Atualizando status da mensagem ${e} para ${r}${n?`: ${n}`:""}`);const{error:i}=await ye.from("scheduled_messages").update(a).eq("id",e);i&&console.error("Erro ao atualizar status da mensagem:",i)}catch(a){console.error(`Erro ao atualizar status da mensagem ${e}:`,a)}}async updateScheduledMessageStatus(e,r,n){try{return await this.updateMessageStatus(e,r,n),!0}catch(a){return console.error("Erro ao atualizar status da mensagem:",a),!1}}async updateStatusByAppointmentId(e,r,n){try{const{data:a,error:i}=await ye.from("appointment_reminders").select("*").eq("appointment_id",e);if(i)return console.error("Erro ao buscar lembretes do agendamento:",i),!1;if(!a||a.length===0)return!0;for(const s of a){let l=s.scheduled_message_ids||[];Array.isArray(l)||(l=[l]);for(const c of l)await this.updateMessageStatus(c,r)}return!0}catch(a){return console.error("Erro ao atualizar status das mensagens:",a),!1}}async getScheduledMessageById(e){try{const{data:r,error:n}=await ye.from("scheduled_messages").select("*").eq("id",e).single();return n?(console.error("Erro ao buscar mensagem agendada:",n),null):OS(r)}catch(r){return console.error("Erro ao buscar mensagem agendada:",r),null}}};Rt(ep,"instance");let ef=ep;const Z8=Object.freeze(Object.defineProperty({__proto__:null,ScheduledMessageService:ef},Symbol.toStringTag,{value:"Module"})),Q_e=0*60*60*1e3,tp=class tp{constructor(){Rt(this,"scheduledMessageService");this.scheduledMessageService=ef.getInstance()}static getInstance(){return tp.instance||(tp.instance=new tp),tp.instance}async scheduleReminder(e,r,n,a){try{if(!a.enabled)return null;if(!e.appointmentDatetime)return console.error("Appointment datetime is missing"),null;const i=e.appointmentDatetime;Fc("AppointmentReminder:scheduleReminder:original",i,new Date(i));const s=new Date(i),l=a.beforeAppointmentHours,u=s.getTime()+Q_e-l*60*60*1e3,d=new Date(u);Fc("AppointmentReminder:scheduleReminder:reminderDate",s,d);const f=Gw(d);if(Fc("AppointmentReminder:scheduleReminder:isoString",d,f),d<=new Date)return console.log("Reminder time has already passed, not scheduling reminder"),null;const h=this.processReminderMessage(e,a.messageTemplate),v=WA(e.clientPhone),g=await this.scheduledMessageService.scheduleMessage({instanceId:n,instanceName:r,type:"text",payload:{number:v,text:h},scheduledAt:f,status:"pending"});if(!g)throw new Error("Failed to schedule reminder message");return await this.saveReminderRelation(e.id,g.id),g.id}catch(i){return console.error("Error scheduling reminder:",i),null}}processReminderMessage(e,r){const n=new Date(e.appointmentDatetime||e.appointmentDate);Fc("AppointmentReminder:processReminderMessage:appointmentDate",e.appointmentDatetime||e.appointmentDate,n);const a={day:"2-digit",month:"2-digit",year:"numeric"},i=n.toLocaleDateString("pt-BR",a),s=e.appointmentTime||(e.appointmentDatetime?new Date(e.appointmentDatetime).toISOString().split("T")[1].substring(0,5):""),l=s.substring(0,5);console.log("Processando hora do agendamento:",{original:e.appointmentTime||e.appointmentDatetime,isoTime:s,formatado:l});const c={"{cliente}":e.clientName,"{servico}":e.serviceName,"{data}":i,"{hora}":l,"{atendente}":e.attendantName,"{duracao}":`${e.serviceDuration} minutos`,"{preco}":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e.servicePrice)};let u=r;for(const[d,f]of Object.entries(c))u=u.replace(new RegExp(d,"g"),f||"");return u}async saveReminderRelation(e,r){try{const{data:n,error:a}=await ye.from("appointment_reminders").select("*").eq("appointment_id",e);if(a)throw console.error("Error fetching existing appointment reminders:",a),a;if(n&&n.length>0){const i=n[0];let s=i.scheduled_message_ids||[];Array.isArray(s)||(s=[s]),s.push(r),await ye.from("appointment_reminders").update({scheduled_message_ids:s,updated_at:new Date().toISOString()}).eq("id",i.id)}else await ye.from("appointment_reminders").insert({appointment_id:e,scheduled_message_ids:[r],created_at:new Date().toISOString(),updated_at:new Date().toISOString()})}catch(n){throw console.error("Error saving reminder relation:",n),n}}async cancelReminders(e){try{const{data:r,error:n}=await ye.from("appointment_reminders").select("*").eq("appointment_id",e);if(n)return console.error("Error fetching appointment reminders:",n),!1;if(!r||r.length===0)return!0;let i=r[0].scheduled_message_ids||[];Array.isArray(i)||(i=[i]);for(const s of i)await this.scheduledMessageService.updateScheduledMessageStatus(s,"failed","Agendamento foi cancelado");return!0}catch(r){return console.error("Error canceling appointment reminders:",r),!1}}async updateReminders(e,r,n,a){try{return await this.cancelReminders(e.id),a.enabled?!!await this.scheduleReminder(e,r,n,a):!0}catch(i){return console.error("Error updating appointment reminders:",i),!1}}getDefaultConfig(){return{beforeAppointmentHours:24,messageTemplate:"Ol {cliente}, lembrete do seu agendamento para {servico} com {atendente}, dia {data} s {hora}. Aguardamos sua presena!",enabled:!0}}async getAppointmentReminders(e){try{const{data:r,error:n}=await ye.from("appointment_reminders").select("*").eq("appointment_id",e);if(n)return console.error("Error fetching appointment reminders:",n),[];if(!r||r.length===0)return[];let i=r[0].scheduled_message_ids||[];Array.isArray(i)||(i=[i]);const s=[];for(const l of i){const c=await this.scheduledMessageService.getScheduledMessageById(l);c&&s.push(c)}return s}catch(r){return console.error("Error getting appointment reminders:",r),[]}}};Rt(tp,"instance");let dh=tp;var cE="Switch",[J_e,Abt]=Ju(cE),[eje,tje]=J_e(cE),iZ=N.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,h]=N.useState(null),v=Jn(e,b=>h(b)),g=N.useRef(!1),p=m?d||!!m.closest("form"):!0,[y,x]=kh({prop:a,defaultProp:i??!1,onChange:u,caller:cE});return o.jsxs(eje,{scope:r,checked:y,disabled:l,children:[o.jsx(Sr.button,{type:"button",role:"switch","aria-checked":y,"aria-required":s,"data-state":cZ(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onClick:Er(t.onClick,b=>{x(w=>!w),p&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),p&&o.jsx(lZ,{control:m,bubbles:!g.current,name:n,value:c,checked:y,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});iZ.displayName=cE;var sZ="SwitchThumb",oZ=N.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=tje(sZ,r);return o.jsx(Sr.span,{"data-state":cZ(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});oZ.displayName=sZ;var rje="SwitchBubbleInput",lZ=N.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=N.useRef(null),l=Jn(s,i),c=iE(r),u=v3(e);return N.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const v=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lZ.displayName=rje;function cZ(t){return t?"checked":"unchecked"}var uZ=iZ,nje=oZ;const Fs=N.forwardRef(({className:t,...e},r)=>o.jsx(uZ,{className:Ke("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:o.jsx(nje,{className:Ke("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fs.displayName=uZ.displayName;const wi=sq,wh=_ue,aje=nq,dZ=N.forwardRef(({className:t,...e},r)=>o.jsx(y3,{ref:r,className:Ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));dZ.displayName=y3.displayName;const ai=N.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(aje,{children:[o.jsx(dZ,{}),o.jsxs(x3,{ref:n,className:Ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,o.jsxs(Sue,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Dh,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ai.displayName=x3.displayName;const ii=({className:t,...e})=>o.jsx("div",{className:Ke("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ii.displayName="DialogHeader";const au=({className:t,...e})=>o.jsx("div",{className:Ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});au.displayName="DialogFooter";const si=N.forwardRef(({className:t,...e},r)=>o.jsx(aq,{ref:r,className:Ke("text-lg font-semibold leading-none tracking-tight",t),...e}));si.displayName=aq.displayName;const Bo=N.forwardRef(({className:t,...e},r)=>o.jsx(iq,{ref:r,className:Ke("text-sm text-muted-foreground",t),...e}));Bo.displayName=iq.displayName;const ije=jue,sje=Nue,oje=Aue,lje=[{value:"1",label:"1 hora antes"},{value:"2",label:"2 horas antes"},{value:"3",label:"3 horas antes"},{value:"6",label:"6 horas antes"},{value:"12",label:"12 horas antes"},{value:"24",label:"24 horas antes (1 dia)"},{value:"48",label:"48 horas antes (2 dias)"}],cje=[{label:"Lembrete padro",text:"Ol {cliente}, lembrete do seu agendamento para {servico} com {atendente} no dia {data} s {hora}. Aguardamos sua presena!"},{label:"Lembrete com confirmao",text:"Ol {cliente}, gostaramos de confirmar seu agendamento para {servico} com {atendente}, ({data}) s {hora}. Poderia confirmar sua presena respondendo 'confirmo'? Obrigado!"},{label:"Lembrete com informaes detalhadas",text:`Ol {cliente}! Este  um lembrete do seu agendamento: 

Servio: {servico}
Atendente: {atendente}
Data: {data}
Horrio: {hora}
Durao: {duracao}

Aguardamos voc!`}],fZ=({config:t,onChange:e,instanceName:r})=>{const[n,a]=N.useState(!1),[i,s]=N.useState(!1),l=f=>{e({...t,enabled:f})},c=f=>{e({...t,beforeAppointmentHours:parseInt(f,10)})},u=f=>{e({...t,messageTemplate:f})},d=f=>{u(f),s(!1)};return r?o.jsxs("div",{className:"space-y-3 border rounded-md p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gk,{className:"h-4 w-4 text-primary"}),o.jsx(pt,{htmlFor:"reminder-switch",className:"font-medium",children:"Enviar lembrete automtico"})]}),o.jsx(Fs,{id:"reminder-switch",checked:t.enabled,onCheckedChange:l})]}),t.enabled&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[o.jsx("div",{className:"flex-1",children:o.jsxs(un,{value:String(t.beforeAppointmentHours),onValueChange:c,children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Escolha o tempo"})}),o.jsx(on,{children:lje.map(f=>o.jsx(Vt,{value:f.value,children:f.label},f.value))})]})}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["via ",o.jsx("span",{className:"font-medium",children:r})]})]}),o.jsxs(ije,{open:n,onOpenChange:a,className:"ml-6",children:[o.jsx(sje,{asChild:!0,children:o.jsxs(je,{variant:"ghost",size:"sm",className:"flex items-center justify-between w-full p-0 h-9",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx($o,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:"Personalizar mensagem"})]}),o.jsx(hy,{className:`h-4 w-4 transition-transform ${n?"rotate-90":""}`})]})}),o.jsx(oje,{className:"pt-2",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Use variveis como ","{cliente}",", ","{servico}",", ","{data}",", etc."]}),o.jsxs(wi,{open:i,onOpenChange:s,children:[o.jsx(wh,{asChild:!0,children:o.jsx(je,{variant:"outline",size:"sm",children:"Modelos"})}),o.jsxs(ai,{className:"sm:max-w-md",children:[o.jsxs(ii,{children:[o.jsx(si,{children:"Selecionar modelo"}),o.jsx(Bo,{children:"Escolha um dos modelos de mensagem disponveis"})]}),o.jsx("div",{className:"grid gap-3 py-4",children:cje.map((f,m)=>o.jsxs("div",{className:"border rounded-md p-3 cursor-pointer hover:border-primary transition-colors",onClick:()=>d(f.text),children:[o.jsx("div",{className:"font-medium text-sm mb-1",children:f.label}),o.jsx("p",{className:"text-xs text-muted-foreground whitespace-pre-line",children:f.text})]},m))}),o.jsx(au,{children:o.jsx(je,{variant:"outline",onClick:()=>s(!1),children:"Cancelar"})})]})]})]}),o.jsx(li,{value:t.messageTemplate,onChange:f=>u(f.target.value),placeholder:"Digite a mensagem para o cliente",rows:4}),o.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/40 p-2 rounded-md",children:[o.jsx("p",{className:"font-medium mb-1",children:"Variveis disponveis:"}),o.jsxs("ul",{className:"space-y-1 pl-2",children:[o.jsxs("li",{children:[o.jsx("code",{children:"{cliente}"})," - Nome do cliente"]}),o.jsxs("li",{children:[o.jsx("code",{children:"{servico}"})," - Nome do servio"]}),o.jsxs("li",{children:[o.jsx("code",{children:"{data}"})," - Data do agendamento"]}),o.jsxs("li",{children:[o.jsx("code",{children:"{hora}"})," - Horrio do agendamento"]}),o.jsxs("li",{children:[o.jsx("code",{children:"{atendente}"})," - Nome do atendente"]}),o.jsxs("li",{children:[o.jsx("code",{children:"{duracao}"})," - Durao do servio"]}),o.jsxs("li",{children:[o.jsx("code",{children:"{preco}"})," - Preo do servio"]})]})]})]})})]})]})]}):o.jsxs("div",{className:"bg-muted/40 border rounded-md p-4 text-sm text-muted-foreground flex items-center",children:[o.jsx(gk,{className:"h-4 w-4 mr-2 text-muted-foreground"}),o.jsx("span",{children:"Selecione uma instncia do WhatsApp para configurar lembretes automticos."})]})};var Q8=1,uje=.9,dje=.8,fje=.17,jT=.1,NT=.999,hje=.9999,mje=.99,pje=/[\\\/_+.#"@\[\(\{&]/,gje=/[\\\/_+.#"@\[\(\{&]/g,vje=/[\s-]/,hZ=/[\s-]/g;function NP(t,e,r,n,a,i,s){if(i===e.length)return a===t.length?Q8:mje;var l=`${a},${i}`;if(s[l]!==void 0)return s[l];for(var c=n.charAt(i),u=r.indexOf(c,a),d=0,f,m,h,v;u>=0;)f=NP(t,e,r,n,u+1,i+1,s),f>d&&(u===a?f*=Q8:pje.test(t.charAt(u-1))?(f*=dje,h=t.slice(a,u-1).match(gje),h&&a>0&&(f*=Math.pow(NT,h.length))):vje.test(t.charAt(u-1))?(f*=uje,v=t.slice(a,u-1).match(hZ),v&&a>0&&(f*=Math.pow(NT,v.length))):(f*=fje,a>0&&(f*=Math.pow(NT,u-a))),t.charAt(u)!==e.charAt(i)&&(f*=hje)),(f<jT&&r.charAt(u-1)===n.charAt(i+1)||n.charAt(i+1)===n.charAt(i)&&r.charAt(u-1)!==n.charAt(i))&&(m=NP(t,e,r,n,u+1,i+2,s),m*jT>f&&(f=m*jT)),f>d&&(d=f),u=r.indexOf(c,u+1);return s[l]=d,d}function J8(t){return t.toLowerCase().replace(hZ," ")}function yje(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,NP(t,e,J8(t),J8(e),0,0,{})}var Dx='[cmdk-group=""]',AT='[cmdk-group-items=""]',xje='[cmdk-group-heading=""]',mZ='[cmdk-item=""]',e$=`${mZ}:not([aria-disabled="true"])`,AP="cmdk-item-select",h0="data-value",bje=(t,e,r)=>yje(t,e,r),pZ=N.createContext(void 0),Yw=()=>N.useContext(pZ),gZ=N.createContext(void 0),LI=()=>N.useContext(gZ),vZ=N.createContext(void 0),yZ=N.forwardRef((t,e)=>{let r=m0(()=>{var k,F;return{search:"",value:(F=(k=t.value)!=null?k:t.defaultValue)!=null?F:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=m0(()=>new Set),a=m0(()=>new Map),i=m0(()=>new Map),s=m0(()=>new Set),l=xZ(t),{label:c,children:u,value:d,onValueChange:f,filter:m,shouldFilter:h,loop:v,disablePointerSelection:g=!1,vimBindings:p=!0,...y}=t,x=Wc(),b=Wc(),w=Wc(),_=N.useRef(null),j=Pje();Bp(()=>{if(d!==void 0){let k=d.trim();r.current.value=k,A.emit()}},[d]),Bp(()=>{j(6,I)},[]);let A=N.useMemo(()=>({subscribe:k=>(s.current.add(k),()=>s.current.delete(k)),snapshot:()=>r.current,setState:(k,F,B)=>{var z,ee,le,ge;if(!Object.is(r.current[k],F)){if(r.current[k]=F,k==="search")P(),R(),j(1,D);else if(k==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let se=document.getElementById(w);se?se.focus():(z=document.getElementById(x))==null||z.focus()}if(j(7,()=>{var se;r.current.selectedItemId=(se=L())==null?void 0:se.id,A.emit()}),B||j(5,I),((ee=l.current)==null?void 0:ee.value)!==void 0){let se=F??"";(ge=(le=l.current).onValueChange)==null||ge.call(le,se);return}}A.emit()}},emit:()=>{s.current.forEach(k=>k())}}),[]),E=N.useMemo(()=>({value:(k,F,B)=>{var z;F!==((z=i.current.get(k))==null?void 0:z.value)&&(i.current.set(k,{value:F,keywords:B}),r.current.filtered.items.set(k,T(F,B)),j(2,()=>{R(),A.emit()}))},item:(k,F)=>(n.current.add(k),F&&(a.current.has(F)?a.current.get(F).add(k):a.current.set(F,new Set([k]))),j(3,()=>{P(),R(),r.current.value||D(),A.emit()}),()=>{i.current.delete(k),n.current.delete(k),r.current.filtered.items.delete(k);let B=L();j(4,()=>{P(),(B==null?void 0:B.getAttribute("id"))===k&&D(),A.emit()})}),group:k=>(a.current.has(k)||a.current.set(k,new Set),()=>{i.current.delete(k),a.current.delete(k)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:x,inputId:w,labelId:b,listInnerRef:_}),[]);function T(k,F){var B,z;let ee=(z=(B=l.current)==null?void 0:B.filter)!=null?z:bje;return k?ee(k,r.current.search,F):0}function R(){if(!r.current.search||l.current.shouldFilter===!1)return;let k=r.current.filtered.items,F=[];r.current.filtered.groups.forEach(z=>{let ee=a.current.get(z),le=0;ee.forEach(ge=>{let se=k.get(ge);le=Math.max(se,le)}),F.push([z,le])});let B=_.current;V().sort((z,ee)=>{var le,ge;let se=z.getAttribute("id"),ie=ee.getAttribute("id");return((le=k.get(ie))!=null?le:0)-((ge=k.get(se))!=null?ge:0)}).forEach(z=>{let ee=z.closest(AT);ee?ee.appendChild(z.parentElement===ee?z:z.closest(`${AT} > *`)):B.appendChild(z.parentElement===B?z:z.closest(`${AT} > *`))}),F.sort((z,ee)=>ee[1]-z[1]).forEach(z=>{var ee;let le=(ee=_.current)==null?void 0:ee.querySelector(`${Dx}[${h0}="${encodeURIComponent(z[0])}"]`);le==null||le.parentElement.appendChild(le)})}function D(){let k=V().find(B=>B.getAttribute("aria-disabled")!=="true"),F=k==null?void 0:k.getAttribute(h0);A.setState("value",F||void 0)}function P(){var k,F,B,z;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ee=0;for(let le of n.current){let ge=(F=(k=i.current.get(le))==null?void 0:k.value)!=null?F:"",se=(z=(B=i.current.get(le))==null?void 0:B.keywords)!=null?z:[],ie=T(ge,se);r.current.filtered.items.set(le,ie),ie>0&&ee++}for(let[le,ge]of a.current)for(let se of ge)if(r.current.filtered.items.get(se)>0){r.current.filtered.groups.add(le);break}r.current.filtered.count=ee}function I(){var k,F,B;let z=L();z&&(((k=z.parentElement)==null?void 0:k.firstChild)===z&&((B=(F=z.closest(Dx))==null?void 0:F.querySelector(xje))==null||B.scrollIntoView({block:"nearest"})),z.scrollIntoView({block:"nearest"}))}function L(){var k;return(k=_.current)==null?void 0:k.querySelector(`${mZ}[aria-selected="true"]`)}function V(){var k;return Array.from(((k=_.current)==null?void 0:k.querySelectorAll(e$))||[])}function H(k){let F=V()[k];F&&A.setState("value",F.getAttribute(h0))}function q(k){var F;let B=L(),z=V(),ee=z.findIndex(ge=>ge===B),le=z[ee+k];(F=l.current)!=null&&F.loop&&(le=ee+k<0?z[z.length-1]:ee+k===z.length?z[0]:z[ee+k]),le&&A.setState("value",le.getAttribute(h0))}function G(k){let F=L(),B=F==null?void 0:F.closest(Dx),z;for(;B&&!z;)B=k>0?Tje(B,Dx):kje(B,Dx),z=B==null?void 0:B.querySelector(e$);z?A.setState("value",z.getAttribute(h0)):q(k)}let re=()=>H(V().length-1),Z=k=>{k.preventDefault(),k.metaKey?re():k.altKey?G(1):q(1)},de=k=>{k.preventDefault(),k.metaKey?H(0):k.altKey?G(-1):q(-1)};return N.createElement(Sr.div,{ref:e,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:k=>{var F;(F=y.onKeyDown)==null||F.call(y,k);let B=k.nativeEvent.isComposing||k.keyCode===229;if(!(k.defaultPrevented||B))switch(k.key){case"n":case"j":{p&&k.ctrlKey&&Z(k);break}case"ArrowDown":{Z(k);break}case"p":case"k":{p&&k.ctrlKey&&de(k);break}case"ArrowUp":{de(k);break}case"Home":{k.preventDefault(),H(0);break}case"End":{k.preventDefault(),re();break}case"Enter":{k.preventDefault();let z=L();if(z){let ee=new Event(AP);z.dispatchEvent(ee)}}}}},N.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:Oje},c),uE(t,k=>N.createElement(gZ.Provider,{value:A},N.createElement(pZ.Provider,{value:E},k))))}),wje=N.forwardRef((t,e)=>{var r,n;let a=Wc(),i=N.useRef(null),s=N.useContext(vZ),l=Yw(),c=xZ(t),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:s==null?void 0:s.forceMount;Bp(()=>{if(!u)return l.item(a,s==null?void 0:s.id)},[u]);let d=bZ(a,i,[t.value,t.children,i],t.keywords),f=LI(),m=Bh(j=>j.value&&j.value===d.current),h=Bh(j=>u||l.filter()===!1?!0:j.search?j.filtered.items.get(a)>0:!0);N.useEffect(()=>{let j=i.current;if(!(!j||t.disabled))return j.addEventListener(AP,v),()=>j.removeEventListener(AP,v)},[h,t.onSelect,t.disabled]);function v(){var j,A;g(),(A=(j=c.current).onSelect)==null||A.call(j,d.current)}function g(){f.setState("value",d.current,!0)}if(!h)return null;let{disabled:p,value:y,onSelect:x,forceMount:b,keywords:w,..._}=t;return N.createElement(Sr.div,{ref:Z1(i,e),..._,id:a,"cmdk-item":"",role:"option","aria-disabled":!!p,"aria-selected":!!m,"data-disabled":!!p,"data-selected":!!m,onPointerMove:p||l.getDisablePointerSelection()?void 0:g,onClick:p?void 0:v},t.children)}),Sje=N.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:a,...i}=t,s=Wc(),l=N.useRef(null),c=N.useRef(null),u=Wc(),d=Yw(),f=Bh(h=>a||d.filter()===!1?!0:h.search?h.filtered.groups.has(s):!0);Bp(()=>d.group(s),[]),bZ(s,l,[t.value,t.heading,c]);let m=N.useMemo(()=>({id:s,forceMount:a}),[a]);return N.createElement(Sr.div,{ref:Z1(l,e),...i,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&N.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),uE(t,h=>N.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},N.createElement(vZ.Provider,{value:m},h))))}),_je=N.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,a=N.useRef(null),i=Bh(s=>!s.search);return!r&&!i?null:N.createElement(Sr.div,{ref:Z1(a,e),...n,"cmdk-separator":"",role:"separator"})}),jje=N.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,a=t.value!=null,i=LI(),s=Bh(u=>u.search),l=Bh(u=>u.selectedItemId),c=Yw();return N.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),N.createElement(Sr.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":l,id:c.inputId,type:"text",value:a?t.value:s,onChange:u=>{a||i.setState("search",u.target.value),r==null||r(u.target.value)}})}),Nje=N.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...a}=t,i=N.useRef(null),s=N.useRef(null),l=Bh(u=>u.selectedItemId),c=Yw();return N.useEffect(()=>{if(s.current&&i.current){let u=s.current,d=i.current,f,m=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let h=u.offsetHeight;d.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return m.observe(u),()=>{cancelAnimationFrame(f),m.unobserve(u)}}},[]),N.createElement(Sr.div,{ref:Z1(i,e),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":n,id:c.listId},uE(t,u=>N.createElement("div",{ref:Z1(s,c.listInnerRef),"cmdk-list-sizer":""},u)))}),Aje=N.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:i,container:s,...l}=t;return N.createElement(sq,{open:r,onOpenChange:n},N.createElement(nq,{container:s},N.createElement(y3,{"cmdk-overlay":"",className:a}),N.createElement(x3,{"aria-label":t.label,"cmdk-dialog":"",className:i},N.createElement(yZ,{ref:e,...l}))))}),Eje=N.forwardRef((t,e)=>Bh(r=>r.filtered.count===0)?N.createElement(Sr.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),Cje=N.forwardRef((t,e)=>{let{progress:r,children:n,label:a="Loading...",...i}=t;return N.createElement(Sr.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},uE(t,s=>N.createElement("div",{"aria-hidden":!0},s)))}),Vo=Object.assign(yZ,{List:Nje,Item:wje,Input:jje,Group:Sje,Separator:_je,Dialog:Aje,Empty:Eje,Loading:Cje});function Tje(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function kje(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function xZ(t){let e=N.useRef(t);return Bp(()=>{e.current=t}),e}var Bp=typeof window>"u"?N.useEffect:N.useLayoutEffect;function m0(t){let e=N.useRef();return e.current===void 0&&(e.current=t()),e}function Bh(t){let e=LI(),r=()=>t(e.snapshot());return N.useSyncExternalStore(e.subscribe,r,r)}function bZ(t,e,r,n=[]){let a=N.useRef(),i=Yw();return Bp(()=>{var s;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());i.value(t,l,c),(s=e.current)==null||s.setAttribute(h0,l),a.current=l}),a}var Pje=()=>{let[t,e]=N.useState(),r=m0(()=>new Map);return Bp(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,a)=>{r.current.set(n,a),e({})}};function Dje(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function uE({asChild:t,children:e},r){return t&&N.isValidElement(e)?N.cloneElement(Dje(e),{ref:e.ref},r(e.props.children)):r(e)}var Oje={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const FI=N.forwardRef(({className:t,...e},r)=>o.jsx(Vo,{ref:r,className:Ke("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));FI.displayName=Vo.displayName;const $I=N.forwardRef(({className:t,...e},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(td,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Vo.Input,{ref:r,className:Ke("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));$I.displayName=Vo.Input.displayName;const BI=N.forwardRef(({className:t,...e},r)=>o.jsx(Vo.List,{ref:r,className:Ke("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));BI.displayName=Vo.List.displayName;const UI=N.forwardRef((t,e)=>o.jsx(Vo.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));UI.displayName=Vo.Empty.displayName;const zI=N.forwardRef(({className:t,...e},r)=>o.jsx(Vo.Group,{ref:r,className:Ke("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));zI.displayName=Vo.Group.displayName;const Ije=N.forwardRef(({className:t,...e},r)=>o.jsx(Vo.Separator,{ref:r,className:Ke("-mx-1 h-px bg-border",t),...e}));Ije.displayName=Vo.Separator.displayName;const VI=N.forwardRef(({className:t,...e},r)=>o.jsx(Vo.Item,{ref:r,className:Ke("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));VI.displayName=Vo.Item.displayName;const wZ=Tue,HI=N.forwardRef(({className:t,...e},r)=>o.jsx(Eue,{ref:r,className:Ke("border-b",t),...e}));HI.displayName="AccordionItem";const WI=N.forwardRef(({className:t,children:e,...r},n)=>o.jsx(Cue,{className:"flex",children:o.jsxs(oq,{ref:n,className:Ke("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,o.jsx(j3,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));WI.displayName=oq.displayName;const qI=N.forwardRef(({className:t,children:e,...r},n)=>o.jsx(lq,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:o.jsx("div",{className:Ke("pb-4 pt-0",t),children:e})}));qI.displayName=lq.displayName;const Ox={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:-20,transition:{duration:.2}}},Mje=({onSuccess:t,onCancel:e,preselectedAttendant:r})=>{const{getAvailableTimeSlots:n}=sm();rZ();const{instances:a,selectedInstanceId:i,selectedInstanceName:s,selectInstance:l}=nZ(),[c,u]=N.useState(1),[d,f]=N.useState(!1),[m,h]=N.useState(!1),[v,g]=N.useState({name:"",phone:""}),[p,y]=N.useState([]),[x,b]=N.useState(!1),[w,_]=N.useState(""),[j,A]=N.useState(!1),[E,T]=N.useState(""),[R,D]=N.useState(""),[P,I]=N.useState(void 0),[L,V]=N.useState(""),[H,q]=N.useState(""),[G,re]=N.useState(dh.getInstance().getDefaultConfig()),[Z,de]=N.useState([]),[k,F]=N.useState([]),[B,z]=N.useState([]),[ee,le]=N.useState([]),[ge,se]=N.useState([]),ie=()=>v.name.trim()!==""&&v.phone.trim()!=="",we=()=>E!=="",pe=()=>R!=="",Me=()=>P!==void 0&&L!=="";N.useEffect(()=>{(async()=>{f(!0);try{if(r)de([r]),T(r.id);else{const{data:ne,error:ue}=await ye.from("attendants").select("*").eq("available",!0).order("name");if(ue)throw ue;const Ne=ne.map(Re=>({id:Re.id,name:Re.name,position:Re.position,workDays:Re.work_days,available:Re.available,phone:Re.phone||"",email:Re.email||"",photoUrl:Re.photo_url||null,shareUrl:Re.share_url||null}));de(Ne)}}catch(ne){console.error("Error fetching attendants:",ne),Oe.error("Erro ao carregar atendentes")}finally{f(!1)}})()},[r]),N.useEffect(()=>{if(!E)return;(async()=>{f(!0);try{const{data:ne,error:ue}=await ye.from("service_assignments").select("*").eq("attendant_id",E);if(ue)throw ue;F(ne.map(Ne=>({id:Ne.id,serviceId:Ne.service_id,serviceName:Ne.service_name,servicePrice:Ne.service_price,serviceDuration:Ne.service_duration,attendantId:Ne.attendant_id,attendantName:Ne.attendant_name,attendantPosition:Ne.attendant_position})))}catch(ne){console.error("Error fetching services:",ne),Oe.error("Erro ao carregar servios")}finally{f(!1)}})()},[E]),N.useEffect(()=>{(async()=>{f(!0);try{const{data:ne,error:ue}=await ye.from("schedules").select("*").eq("available",!0);if(ue)throw ue;le(ne.map(Ne=>({id:Ne.id,day:Ne.day,days:Ne.days,startTime:Ne.start_time,duration:Ne.duration,available:Ne.available})))}catch(ne){console.error("Error fetching schedules:",ne),Oe.error("Erro ao carregar horrios")}finally{f(!1)}})()},[]),N.useEffect(()=>{if(!E)return;(async()=>{f(!0);try{const{data:ne,error:ue}=await ye.from("schedule_assignments").select("*").eq("attendant_id",E);if(ue)throw ue;se(ne.map(Ne=>({id:Ne.id,attendantId:Ne.attendant_id,attendantName:Ne.attendant_name,scheduleId:Ne.schedule_id,scheduleInfo:Ne.schedule_info})))}catch(ne){console.error("Error fetching schedule assignments:",ne),Oe.error("Erro ao carregar atribuies de horrios")}finally{f(!1)}})()},[E]),N.useEffect(()=>{if(!P||!E||ge.length===0)return;(async()=>{h(!0);try{const ne=["Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Domingo"],ue=ne[P.getDay()===0?6:P.getDay()-1],Ne=Z.find(Ct=>Ct.id===E),Re=k.find(Ct=>Ct.serviceId===R);if(!Ne||!Re)return;console.log("Fetching time slots for date:",P,"day of week:",ue);const Fe=ge.filter(Ct=>{const Zr=Ct.scheduleInfo.split(" - ")[0];if(Zr===ue)return!0;if(Zr.includes(" a ")){const[ir,On]=Zr.split(" a "),zr=ne.indexOf(ir),Fr=ne.indexOf(On),ca=ne.indexOf(ue);return ca<zr?ca<=Fr:Fr<zr?ca>=zr||ca<=Fr:ca>=zr&&ca<=Fr}return Zr.includes(", ")?Zr.split(", ").includes(ue):!1});if(console.log("Matching assignments:",Fe),Fe.length===0){z([]),h(!1);return}const Xe=[];Fe.forEach(Ct=>{const gt=Ct.scheduleInfo.split(" - ");if(gt.length>=2){const Zr=gt[1];Xe.push({id:Ct.scheduleId,attendantId:E,time:Zr,isAvailable:!0})}}),Xe.sort((Ct,gt)=>Ct.time.localeCompare(gt.time));const it=wr(P,"yyyy-MM-dd");console.log("Checking availability for date:",it);const vt=await n(E,it,Xe,Re.serviceDuration);console.log("Available slots after checking conflicts:",vt),z(vt),L&&(vt.some(gt=>gt.time===L&&gt.isAvailable)||V(""))}catch(ne){console.error("Error generating time slots:",ne),Oe.error("Erro ao carregar horrios disponveis")}finally{h(!1)}})()},[P,E,R,ge,Z,k,n]),N.useEffect(()=>{(async()=>{b(!0);try{const{data:ne,error:ue}=await ye.from("clients").select("*").order("name");if(ue)throw ue;const Ne=ne.map(Re=>({id:Re.id,name:Re.name,phone:Re.phone,zipCode:Re.zip_code,street:Re.street,neighborhood:Re.neighborhood,complement:Re.complement,userId:Re.user_id,createdAt:Re.created_at,updatedAt:Re.updated_at}));y(Ne)}catch(ne){console.error("Erro ao carregar clientes:",ne),Oe.error("Erro ao carregar lista de clientes")}finally{b(!1)}})()},[]);const he=Pe=>{g({...v,[Pe.target.name]:Pe.target.value})},oe=Pe=>{g({name:Pe.name,phone:Pe.phone}),A(!1)},X=p.filter(Pe=>Pe.name.toLowerCase().includes(w.toLowerCase())||Pe.phone.includes(w)),Ae=()=>{switch(c){case 1:ie()?u(2):Oe.error("Preencha o nome e telefone do cliente");break;case 2:we()?u(3):Oe.error("Selecione um atendente");break;case 3:pe()?u(4):Oe.error("Selecione um servio");break;case 4:Me()?u(5):Oe.error("Selecione data e horrio");break}},Be=()=>{c>1&&u(c-1)},qe=async()=>{f(!0);try{const Pe=k.find(ir=>ir.serviceId===R),ne=Z.find(ir=>ir.id===E);if(!Pe||!ne||!P)throw new Error("Dados invlidos para o agendamento");const ue=B.find(ir=>ir.time===L);if(!ue||!ue.isAvailable){Oe.error("Este horrio no est mais disponvel"),f(!1);return}const Ne=Mo(),Re=wr(P,"yyyy-MM-dd"),[Fe,Xe]=L.replace(/:00$/,"").split(":"),it=new Date(P);it.setHours(parseInt(Fe,10)),it.setMinutes(parseInt(Xe,10)),it.setSeconds(0),it.setMilliseconds(0);const vt=Gw(it);Fc("AppointmentForm:handleSubmit",it,{appointmentDateTime:vt,formattedDate:Re,selectedTimeSlot:L});const Ct=WA(v.phone),gt={id:Ne,clientName:v.name,clientPhone:Ct,attendantId:E,attendantName:ne.name,serviceId:R,serviceName:Pe.serviceName,servicePrice:Pe.servicePrice,serviceDuration:Pe.serviceDuration,appointmentDate:Re,appointmentTime:L,appointmentDatetime:vt,notes:H?JSON.stringify({text:H,color:"default"}):null,status:"scheduled"},{error:Zr}=await ye.from("appointments").insert({id:Ne,client_name:v.name,client_phone:Ct,attendant_id:E,attendant_name:ne.name,service_id:R,service_name:Pe.serviceName,service_price:Pe.servicePrice,service_duration:Pe.serviceDuration,appointment_date:Re,appointment_time:L,appointment_datetime:vt,notes:H?JSON.stringify({text:H,color:"default"}):null,status:"scheduled"});if(Zr)throw console.error("Error creating appointment:",Zr),Zr;if(G.enabled&&i)try{await dh.getInstance().scheduleReminder(gt,s,i,G)}catch(ir){console.error("Error scheduling reminder:",ir),Oe.error("O agendamento foi criado, mas o lembrete automtico falhou")}Oe.success("Agendamento realizado com sucesso!"),t()}catch(Pe){console.error("Error creating appointment:",Pe),Oe.error("Erro ao criar agendamento")}finally{f(!1)}},st=()=>{switch(c){case 1:return o.jsxs(nt.div,{variants:Ox,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Informaes do Cliente"}),o.jsxs(je,{type:"button",variant:"outline",size:"sm",onClick:()=>A(!j),children:[o.jsx(xl,{className:"h-4 w-4 mr-2"}),"Clientes Cadastrados"]})]}),j&&o.jsxs("div",{className:"border rounded-md p-4 mb-4 bg-muted/30",children:[o.jsxs("div",{className:"mb-2 flex items-center text-sm text-muted-foreground",children:[o.jsx(Jc,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:"Selecione um cliente cadastrado ou insira um novo cliente"})]}),o.jsxs(FI,{className:"rounded-lg border shadow-md",children:[o.jsx($I,{placeholder:"Buscar por nome ou telefone...",value:w,onValueChange:_}),o.jsxs(BI,{className:"max-h-[200px]",children:[o.jsx(UI,{children:o.jsxs("div",{className:"flex flex-col items-center justify-center p-4 text-center",children:[o.jsx(td,{className:"h-10 w-10 text-muted-foreground/50 mb-2"}),o.jsx("p",{children:"Nenhum cliente encontrado."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Insira os dados manualmente abaixo."})]})}),o.jsx(zI,{heading:"Clientes cadastrados",children:x?o.jsxs("div",{className:"flex items-center justify-center p-4",children:[o.jsx(_a,{className:"h-5 w-5 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Carregando clientes..."})]}):X.map(Pe=>o.jsx(VI,{onSelect:()=>oe(Pe),className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:Pe.name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:Pe.phone})]})},Pe.id))})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"name",children:"Nome"}),o.jsx(mt,{id:"name",name:"name",placeholder:"Nome do cliente",value:v.name,onChange:he,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"phone",children:"Telefone"}),o.jsx(mt,{id:"phone",name:"phone",placeholder:"Telefone do cliente (com DDD)",value:v.phone,onChange:he,required:!0})]})]})]},"step1");case 2:return o.jsxs(nt.div,{variants:Ox,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Selecione o Atendente"}),d?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(_a,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:Z.map(Pe=>o.jsx("div",{className:Ke("border rounded-lg p-4 cursor-pointer transition-all hover:border-primary",E===Pe.id?"border-primary bg-primary/5":"border-border"),onClick:()=>T(Pe.id),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:Pe.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:Pe.position})]}),E===Pe.id&&o.jsx(Bs,{className:"h-5 w-5 text-primary"})]})},Pe.id))})]},"step2");case 3:return o.jsxs(nt.div,{variants:Ox,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Selecione o Servio"}),d?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(_a,{className:"h-8 w-8 animate-spin text-primary"})}):k.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"Nenhum servio disponvel para este atendente"})}):o.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2",children:k.map(Pe=>o.jsx("div",{className:Ke("border rounded-lg p-4 cursor-pointer transition-all hover:border-primary",R===Pe.serviceId?"border-primary bg-primary/5":"border-border"),onClick:()=>D(Pe.serviceId),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:Pe.serviceName}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Pe.servicePrice),"  ",Pe.serviceDuration," min"]})]}),R===Pe.serviceId&&o.jsx(Bs,{className:"h-5 w-5 text-primary"})]})},Pe.id))})]},"step3");case 4:return o.jsxs(nt.div,{variants:Ox,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Selecione o Horrio"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{children:"Data"}),o.jsx("div",{className:"grid gap-2",children:o.jsxs(Ev,{children:[o.jsx(Cv,{asChild:!0,children:o.jsxs(je,{variant:"outline",className:Ke("justify-start text-left font-normal",!P&&"text-muted-foreground"),disabled:d,children:[o.jsx(nn,{className:"mr-2 h-4 w-4"}),P?wr(P,"dd 'de' MMMM 'de' yyyy",{locale:Kn}):o.jsx("span",{children:"Selecione uma data"})]})}),o.jsx(Lp,{className:"w-auto p-0",align:"start",children:o.jsx(Ww,{mode:"single",selected:P,onSelect:I,initialFocus:!0,disabled:[{before:new Date}],className:Ke("p-3 pointer-events-auto"),locale:Kn})})]})})]}),P&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{children:"Horrio"}),m?o.jsx("div",{className:"flex justify-center py-4",children:o.jsx(_a,{className:"h-6 w-6 animate-spin text-primary"})}):B.length===0?o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-muted-foreground",children:"Nenhum horrio disponvel nessa data"})}):o.jsx("div",{className:"grid grid-cols-3 gap-2",children:B.map(Pe=>o.jsxs(je,{type:"button",variant:L===Pe.time?"default":"outline",onClick:()=>V(Pe.time),disabled:!Pe.isAvailable,className:Ke("h-auto py-2 flex items-center justify-center",!Pe.isAvailable&&"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed"),children:[Pe.isAvailable?o.jsx(pn,{className:"mr-2 h-4 w-4"}):o.jsx(hs,{className:"mr-2 h-4 w-4 text-gray-400"}),Pe.time.substring(0,5)]},`${Pe.id}-${Pe.time}`))}),B.some(Pe=>!Pe.isAvailable)&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[o.jsx(hs,{className:"inline-block h-3 w-3 mr-1"}),"Horrios indisponveis j possuem agendamentos ativos para este atendente"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"notes",children:"Observaes"}),o.jsx(li,{id:"notes",value:H,onChange:Pe=>q(Pe.target.value),placeholder:"Informaes adicionais (opcional)",disabled:d,rows:3})]})]})]},"step4");case 5:return o.jsxs(nt.div,{variants:Ox,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4",children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Lembretes por WhatsApp"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure lembretes automticos para este agendamento (opcional)"}),a.length>0?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{children:"Selecione a instncia do WhatsApp"}),o.jsxs(un,{value:i,onValueChange:l,children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione uma instncia"})}),o.jsx(on,{children:a.map(Pe=>o.jsx(Vt,{value:Pe.id,children:Pe.name},Pe.id))})]})]}),o.jsx(fZ,{config:G,onChange:re,instanceName:s})]}):o.jsxs("div",{className:"bg-muted/40 border rounded-md p-4 text-sm text-muted-foreground flex items-center",children:[o.jsx(hs,{className:"h-4 w-4 mr-2 text-muted-foreground"}),o.jsx("span",{children:"Nenhuma instncia do WhatsApp conectada disponvel para enviar lembretes."})]}),o.jsx("div",{className:"mt-4",children:o.jsx(wZ,{type:"single",collapsible:!0,children:o.jsxs(HI,{value:"info",children:[o.jsx(WI,{className:"text-sm",children:o.jsxs("div",{className:"flex items-center text-muted-foreground",children:[o.jsx(Jc,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:"Como funcionam os lembretes automticos?"})]})}),o.jsx(qI,{children:o.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[o.jsx("p",{children:"Os lembretes automticos so mensagens enviadas por WhatsApp para o cliente antes da data do agendamento."}),o.jsx("p",{children:"Voc pode configurar quando a mensagem ser enviada e personalizar o texto com informaes do agendamento."}),o.jsx("p",{children:" necessrio ter pelo menos uma instncia do WhatsApp conectada para utilizar esta funcionalidade."})]})})]})})})]},"step5");default:return null}};return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Novo Agendamento"}),o.jsxs("div",{className:"text-sm font-medium",children:["Etapa ",c," de 5"]})]}),o.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full mb-6",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${c/5*100}%`}})})]}),o.jsx(Gi,{mode:"wait",children:st()}),o.jsxs("div",{className:"flex justify-between mt-8",children:[c>1?o.jsxs(je,{type:"button",variant:"outline",onClick:Be,disabled:d,children:[o.jsx(yl,{className:"mr-2 h-4 w-4"}),"Voltar"]}):o.jsx(je,{type:"button",variant:"outline",onClick:e,disabled:d,children:"Cancelar"}),c<5?o.jsxs(je,{type:"button",onClick:Ae,disabled:d||c===1&&!ie()||c===2&&!we()||c===3&&!pe(),children:["Prximo",o.jsx(_3,{className:"ml-2 h-4 w-4"})]}):o.jsx(je,{type:"button",onClick:qe,disabled:d||!1,children:d?o.jsxs(o.Fragment,{children:[o.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):o.jsxs(o.Fragment,{children:["Confirmar Agendamento",o.jsx(Bs,{className:"ml-2 h-4 w-4"})]})})]})]})},Rje=({appointment:t,onSuccess:e,onCancel:r})=>{var Me;const{checkAppointmentConflict:n,getAvailableTimeSlots:a}=sm(),{instances:i,selectedInstanceId:s,selectInstance:l}=nZ(),[c,u]=N.useState(!1),[d,f]=N.useState({name:t.clientName,phone:t.clientPhone}),[m,h]=N.useState([]),[v,g]=N.useState(!1),[p,y]=N.useState(""),[x,b]=N.useState(!1),[w,_]=N.useState(t.appointmentDate?(()=>{const[he,oe,X]=t.appointmentDate.split("-").map(Number);return new Date(he,oe-1,X)})():void 0),[j,A]=N.useState(t.appointmentTime?t.appointmentTime.substring(0,5):""),[E,T]=N.useState(()=>{if(t.notes)try{const he=JSON.parse(t.notes);if(he&&he.text)return he.text}catch{}return t.notes||""}),[R,D]=N.useState([]),[P,I]=N.useState([]),[L,V]=N.useState(t.attendantId),[H,q]=N.useState(t.serviceId),[G,re]=N.useState(!1),[Z,de]=N.useState([]),[k,F]=N.useState([]),[B,z]=N.useState(!1),[ee,le]=N.useState(dh.getInstance().getDefaultConfig());N.useEffect(()=>{(async()=>{try{const oe=dh.getInstance(),X=await oe.getAppointmentReminders(t.id);if(X&&X.length>0){const Ae=X[0];if(!Ae)return;if(Ae.instanceId&&l(Ae.instanceId),t.appointmentDatetime&&Ae.scheduledAt){const Be=new Date(t.appointmentDatetime),qe=new Date(Ae.scheduledAt),st=Be.getTime()-qe.getTime(),Pe=Math.round(st/(1e3*60*60));let ne=oe.getDefaultConfig().messageTemplate;if(Ae.payload&&typeof Ae.payload=="object"&&"text"in Ae.payload){const ue=Ae.payload.text;typeof ue=="string"&&(ne=ue)}le({enabled:!0,beforeAppointmentHours:Pe>0?Pe:24,messageTemplate:ne})}}}catch(oe){console.error("Erro ao carregar lembretes existentes:",oe)}})()},[t.id,l,t.appointmentDatetime]),N.useEffect(()=>{(async()=>{try{const{data:oe,error:X}=await ye.from("attendants").select("*").eq("available",!0);if(X)throw X;D(oe.map(Ae=>({id:Ae.id,name:Ae.name,position:Ae.position,workDays:Ae.work_days,available:Ae.available})))}catch(oe){console.error("Error fetching attendants:",oe),Oe.error("Erro ao carregar atendentes")}})()},[]),N.useEffect(()=>{(async()=>{try{const{data:oe,error:X}=await ye.from("services").select("*").eq("available",!0);if(X)throw X;I(oe)}catch(oe){console.error("Error fetching services:",oe),Oe.error("Erro ao carregar servios")}})()},[]),N.useEffect(()=>{if(!L)return;(async()=>{u(!0);try{const{data:oe,error:X}=await ye.from("schedule_assignments").select("*").eq("attendant_id",L);if(X)throw X;de(oe.map(Ae=>({id:Ae.id,attendantId:Ae.attendant_id,attendantName:Ae.attendant_name,scheduleId:Ae.schedule_id,scheduleInfo:Ae.schedule_info})))}catch(oe){console.error("Error fetching schedule assignments:",oe),Oe.error("Erro ao carregar atribuies de horrios")}finally{u(!1)}})()},[L]),N.useEffect(()=>{if(!w||!L||Z.length===0)return;(async()=>{u(!0);try{const oe=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"],X=oe[w.getDay()],Ae=Z.filter(ne=>{const Ne=ne.scheduleInfo.split(" - ")[0];if(Ne===X)return!0;if(Ne.includes(" a ")){const[Re,Fe]=Ne.split(" a "),Xe=oe.indexOf(Re),it=oe.indexOf(Fe),vt=oe.indexOf(X);return vt>=Xe&&vt<=it}return!1});if(Ae.length===0){F([]);return}const Be=[];Ae.forEach(ne=>{const ue=ne.scheduleInfo.split(" - ");if(ue.length>=2){const Ne=ue[1];Be.push({id:ne.scheduleId,attendantId:L,time:Ne,isAvailable:!0})}}),Be.sort((ne,ue)=>ne.time.localeCompare(ue.time));const qe=wr(w,"yyyy-MM-dd"),st=await a(L,qe,Be,t.serviceDuration,t.id);F(st),L===t.attendantId&&qe===t.appointmentDate&&j===t.appointmentTime.substring(0,5)||st.some(ue=>ue.time===j&&ue.isAvailable)||A("")}catch(oe){console.error("Error generating time slots:",oe),Oe.error("Erro ao carregar horrios disponveis")}finally{u(!1)}})()},[w,L,Z,t,a]),N.useEffect(()=>{(async()=>{if(!w||!j||!L)return;if(L===t.attendantId&&wr(w,"yyyy-MM-dd")===t.appointmentDate&&`${j}:00`===t.appointmentTime){re(!1);return}const oe=wr(w,"yyyy-MM-dd"),Ae=`${j.replace(/:00$/,"")}:00`,Be=`${oe}T${Ae}`;console.log("Selected time format:",j),console.log("Formatted time:",Ae),console.log("Updating appointment with datetime:",Be);const qe=await n(L,oe,Ae,t.serviceDuration,t.id);re(qe)})()},[w,j,L,t,n]),N.useEffect(()=>{(async()=>{g(!0);try{const{data:oe,error:X}=await ye.from("clients").select("*").order("name");if(X)throw X;const Ae=oe.map(Be=>({id:Be.id,name:Be.name,phone:Be.phone,zipCode:Be.zip_code,street:Be.street,neighborhood:Be.neighborhood,complement:Be.complement,userId:Be.user_id,createdAt:Be.created_at,updatedAt:Be.updated_at}));h(Ae)}catch(oe){console.error("Erro ao carregar clientes:",oe),Oe.error("Erro ao carregar lista de clientes")}finally{g(!1)}})()},[]);const ge=he=>{f({...d,[he.target.name]:he.target.value})},se=he=>{f({name:he.name,phone:he.phone}),b(!1)},ie=m.filter(he=>he.name.toLowerCase().includes(p.toLowerCase())||he.phone.includes(p)),we=he=>{A(he),z(!1)},pe=async()=>{if(!w||!j){Oe.error("Selecione data e horrio");return}if(G){Oe.error("Este horrio j est ocupado para o atendente selecionado");return}u(!0);try{const he=R.find(Ae=>Ae.id===L),oe=P.find(Ae=>Ae.id===H);if(!he||!oe)throw new Error("Dados invlidos para o agendamento");const X=wr(w,"yyyy-MM-dd");try{const Ae=new Date(w);Ae.setHours(parseInt(j.split(":")[0],10)),Ae.setMinutes(parseInt(j.split(":")[1],10)),Ae.setSeconds(0),Ae.setMilliseconds(0);const Be=Gw(Ae),qe=wr(Ae,"HH:mm:ss");Fc("AppointmentEditForm:handleSubmit",Ae,{appointmentDateTime:Be,formattedDate:X,formattedTime:qe});const st=WA(d.phone),Pe={id:t.id,clientName:d.name,clientPhone:st,attendantId:L,attendantName:he.name,serviceId:H,serviceName:oe.name,servicePrice:oe.price,serviceDuration:oe.duration,appointmentDate:X,appointmentTime:qe,appointmentDatetime:Be,notes:E?JSON.stringify({text:E,color:"default"}):null,status:t.status},{error:ne}=await ye.from("appointments").update({client_name:Pe.clientName,client_phone:Pe.clientPhone,attendant_id:Pe.attendantId,attendant_name:Pe.attendantName,service_id:Pe.serviceId,service_name:Pe.serviceName,service_price:Pe.servicePrice,service_duration:Pe.serviceDuration,appointment_date:Pe.appointmentDate,appointment_time:Pe.appointmentTime,appointment_datetime:Pe.appointmentDatetime,notes:Pe.notes}).eq("id",Pe.id);if(ne)throw ne;if(ee.enabled&&s)try{const ue=dh.getInstance(),Ne=i.find(Re=>Re.id===s);Ne?(await ue.cancelReminders(Pe.id),await ue.scheduleReminder(Pe,Ne.name,Ne.id,ee),Oe.success("Agendamento e lembretes atualizados com sucesso!")):Oe.success("Agendamento atualizado, mas no foi possvel agendar os lembretes.")}catch(ue){console.error("Erro ao configurar lembretes:",ue),Oe.error("Agendamento atualizado, mas houve um erro ao configurar os lembretes.")}else await dh.getInstance().cancelReminders(Pe.id),Oe.success("Agendamento atualizado com sucesso!");e()}catch(Ae){console.error("Error updating appointment:",Ae),Oe.error("Erro ao atualizar agendamento")}finally{u(!1)}}catch(he){console.error("Error updating appointment:",he),Oe.error("Erro ao atualizar agendamento")}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"p-4 border rounded-md bg-card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Informaes do Cliente"}),o.jsxs(je,{type:"button",variant:"outline",size:"sm",onClick:()=>b(!x),children:[o.jsx(xl,{className:"h-4 w-4 mr-2"}),"Clientes Cadastrados"]})]}),x&&o.jsxs("div",{className:"border rounded-md p-4 mb-4 bg-muted/30",children:[o.jsxs("div",{className:"mb-2 flex items-center text-sm text-muted-foreground",children:[o.jsx(Jc,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:"Selecione um cliente cadastrado ou edite os dados abaixo"})]}),o.jsxs(FI,{className:"rounded-lg border shadow-md",children:[o.jsx($I,{placeholder:"Buscar por nome ou telefone...",value:p,onValueChange:y}),o.jsxs(BI,{className:"max-h-[200px]",children:[o.jsx(UI,{children:o.jsxs("div",{className:"flex flex-col items-center justify-center p-4 text-center",children:[o.jsx(td,{className:"h-10 w-10 text-muted-foreground/50 mb-2"}),o.jsx("p",{children:"Nenhum cliente encontrado."}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Continue editando os dados abaixo."})]})}),o.jsx(zI,{heading:"Clientes cadastrados",children:v?o.jsxs("div",{className:"flex items-center justify-center p-4",children:[o.jsx(_a,{className:"h-5 w-5 animate-spin"}),o.jsx("span",{className:"ml-2",children:"Carregando clientes..."})]}):ie.map(he=>o.jsx(VI,{onSelect:()=>se(he),className:"cursor-pointer",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:he.name}),o.jsx("span",{className:"text-xs text-muted-foreground",children:he.phone})]})},he.id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"clientName",children:"Nome do Cliente"}),o.jsx(mt,{id:"clientName",name:"name",value:d.name,onChange:ge,required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"clientPhone",children:"Telefone"}),o.jsx(mt,{id:"clientPhone",name:"phone",value:d.phone,onChange:ge,required:!0})]})]})]}),o.jsxs("div",{className:"p-4 border rounded-md bg-card",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Detalhes do Agendamento"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"attendant",children:"Atendente"}),o.jsxs(un,{value:L,onValueChange:V,disabled:c,children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione um atendente"})}),o.jsx(on,{children:R.map(he=>o.jsxs(Vt,{value:he.id,children:[he.name," - ",he.position]},he.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"service",children:"Servio"}),o.jsxs(un,{value:H,onValueChange:q,disabled:c,children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione um servio"})}),o.jsx(on,{children:P.map(he=>o.jsxs(Vt,{value:he.id,children:[he.name," -"," ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(he.price)]},he.id))})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{children:"Data"}),o.jsxs(Ev,{children:[o.jsx(Cv,{asChild:!0,children:o.jsx(je,{variant:"outline",className:Ke("justify-start text-left font-normal w-full",!w&&"text-muted-foreground"),disabled:c,children:w?wr(w,"dd 'de' MMMM 'de' yyyy",{locale:Kn}):o.jsx("span",{children:"Selecione uma data"})})}),o.jsx(Lp,{className:"w-auto p-0",align:"start",children:o.jsx(Ww,{mode:"single",selected:w,onSelect:_,initialFocus:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"time",children:"Horrio"}),k.length>0?o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{type:"button",variant:"outline",className:"w-full justify-start text-left",onClick:()=>z(!B),disabled:c,children:j||"Selecione um horrio"}),B&&o.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:k.map(he=>o.jsx(je,{type:"button",variant:j===he.time?"default":"outline",onClick:()=>we(he.time),disabled:!he.isAvailable&&he.time!==t.appointmentTime.substring(0,5),className:Ke("h-auto py-2",!he.isAvailable&&he.time!==t.appointmentTime.substring(0,5)&&"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed"),children:he.time},`${he.id}-${he.time}`))})]}):o.jsx(mt,{id:"time",type:"time",value:j,onChange:he=>A(he.target.value),disabled:c,className:G?"border-red-500":""}),G&&o.jsxs("p",{className:"text-sm text-red-500 flex items-center mt-1",children:[o.jsx(hs,{className:"h-4 w-4 mr-1"}),"Este horrio j est ocupado para o atendente selecionado"]}),w&&k.length===0&&o.jsxs("p",{className:"text-sm text-amber-500 flex items-center mt-1",children:[o.jsx(hs,{className:"h-4 w-4 mr-1"}),"Nenhum horrio atribudo para este atendente nesta data"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"notes",children:"Observaes"}),o.jsx(li,{id:"notes",value:E,onChange:he=>T(he.target.value),placeholder:"Informaes adicionais (opcional)",disabled:c,rows:3})]})]})]}),o.jsxs("div",{className:"mt-6 border rounded-md p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(gk,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold",children:"Lembretes por WhatsApp"})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure lembretes automticos para este agendamento"}),i.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx(pt,{htmlFor:"whatsapp-instance",children:"Instncia do WhatsApp"}),o.jsxs(un,{value:s||"",onValueChange:he=>l(he),children:[o.jsx(sn,{id:"whatsapp-instance",children:o.jsx(dn,{placeholder:"Selecione uma instncia"})}),o.jsx(on,{children:i.map(he=>o.jsx(Vt,{value:he.id,children:he.name},he.id))})]})]}),o.jsx(fZ,{config:ee,onChange:le,instanceName:((Me=i.find(he=>he.id===s))==null?void 0:Me.name)||""}),o.jsx(wZ,{type:"single",collapsible:!0,className:"mt-2",children:o.jsxs(HI,{value:"info",children:[o.jsx(WI,{className:"text-sm text-muted-foreground",children:"Como funcionam os lembretes automticos?"}),o.jsxs(qI,{className:"text-sm text-muted-foreground",children:[o.jsx("p",{children:"Lembretes automticos sero enviados aos clientes antes do horrio agendado. Voc precisa:"}),o.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[o.jsx("li",{children:"Ter pelo menos uma instncia do WhatsApp conectada"}),o.jsx("li",{children:"Selecionar a instncia para envio das mensagens"}),o.jsx("li",{children:"Configurar quando o lembrete deve ser enviado e personalizar a mensagem se desejar"})]})]})]})})]}):o.jsx("div",{className:"p-4 border rounded-md bg-muted/50",children:o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[o.jsx(Jc,{className:"h-4 w-4"}),"No h instncias do WhatsApp conectadas disponveis para envio de lembretes."]})})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsxs(je,{type:"button",variant:"outline",onClick:r,disabled:c,children:[o.jsx(yl,{className:"mr-2 h-4 w-4"}),"Cancelar"]}),o.jsx(je,{type:"button",onClick:pe,disabled:c||G,children:c?o.jsxs(o.Fragment,{children:[o.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):o.jsxs(o.Fragment,{children:["Salvar Alteraes",o.jsx(Bs,{className:"ml-2 h-4 w-4"})]})})]})]})},ci=N.forwardRef(({className:t,...e},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:Ke("w-full caption-bottom text-sm",t),...e})}));ci.displayName="Table";const ui=N.forwardRef(({className:t,...e},r)=>o.jsx("thead",{ref:r,className:Ke("[&_tr]:border-b",t),...e}));ui.displayName="TableHeader";const di=N.forwardRef(({className:t,...e},r)=>o.jsx("tbody",{ref:r,className:Ke("[&_tr:last-child]:border-0",t),...e}));di.displayName="TableBody";const Lje=N.forwardRef(({className:t,...e},r)=>o.jsx("tfoot",{ref:r,className:Ke("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Lje.displayName="TableFooter";const dr=N.forwardRef(({className:t,...e},r)=>o.jsx("tr",{ref:r,className:Ke("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));dr.displayName="TableRow";const wt=N.forwardRef(({className:t,...e},r)=>o.jsx("th",{ref:r,className:Ke("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));wt.displayName="TableHead";const ct=N.forwardRef(({className:t,...e},r)=>o.jsx("td",{ref:r,className:Ke("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ct.displayName="TableCell";const Fje=N.forwardRef(({className:t,...e},r)=>o.jsx("caption",{ref:r,className:Ke("mt-4 text-sm text-muted-foreground",t),...e}));Fje.displayName="TableCaption";const $je=Ow("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",primary:"border-transparent bg-blue-500 text-white hover:bg-blue-600",purple:"border-transparent bg-purple-500 text-white hover:bg-purple-600"}},defaultVariants:{variant:"default"}});function Ur({className:t,variant:e,...r}){return o.jsx("div",{className:Ke($je({variant:e}),t),...r})}function SZ({text:t="Carregando..."}){return o.jsxs(nt.div,{className:"flex flex-col items-center justify-center p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),o.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:t})]})}var dE="Tabs",[Bje,Ebt]=Ju(dE,[FA]),_Z=FA(),[Uje,GI]=Bje(dE),jZ=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=LA(l),[f,m]=kh({prop:n,onChange:a,defaultProp:i??"",caller:dE});return o.jsx(Uje,{scope:r,baseId:Wc(),value:f,onValueChange:m,orientation:s,dir:d,activationMode:c,children:o.jsx(Sr.div,{dir:d,"data-orientation":s,...u,ref:e})})});jZ.displayName=dE;var NZ="TabsList",AZ=N.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=GI(NZ,r),s=_Z(r);return o.jsx(cq,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Sr.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});AZ.displayName=NZ;var EZ="TabsTrigger",CZ=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,s=GI(EZ,r),l=_Z(r),c=PZ(s.baseId,n),u=DZ(s.baseId,n),d=n===s.value;return o.jsx(uq,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(Sr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:Er(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:Er(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:Er(t.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});CZ.displayName=EZ;var TZ="TabsContent",kZ=N.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=t,l=GI(TZ,r),c=PZ(l.baseId,n),u=DZ(l.baseId,n),d=n===l.value,f=N.useRef(d);return N.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(ed,{present:a||d,children:({present:m})=>o.jsx(Sr.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});kZ.displayName=TZ;function PZ(t,e){return`${t}-trigger-${e}`}function DZ(t,e){return`${t}-content-${e}`}var zje=jZ,OZ=AZ,IZ=CZ,MZ=kZ;const ys=zje,Di=N.forwardRef(({className:t,...e},r)=>o.jsx(OZ,{ref:r,className:Ke("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Di.displayName=OZ.displayName;const qt=N.forwardRef(({className:t,...e},r)=>o.jsx(IZ,{ref:r,className:Ke("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));qt.displayName=IZ.displayName;const nr=N.forwardRef(({className:t,...e},r)=>o.jsx(MZ,{ref:r,className:Ke("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));nr.displayName=MZ.displayName;const ot=N.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ke("rounded-lg border border-slate-200 bg-white text-slate-950 shadow-sm dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...e}));ot.displayName="Card";const Ot=N.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ke("flex flex-col space-y-1.5 p-6",t),...e}));Ot.displayName="CardHeader";const It=N.forwardRef(({className:t,...e},r)=>o.jsx("h3",{ref:r,className:Ke("text-lg font-semibold leading-none tracking-tight",t),...e}));It.displayName="CardTitle";const Nn=N.forwardRef(({className:t,...e},r)=>o.jsx("p",{ref:r,className:Ke("text-sm text-slate-500 dark:text-slate-400",t),...e}));Nn.displayName="CardDescription";const lt=N.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ke("p-6 pt-0",t),...e}));lt.displayName="CardContent";const Up=N.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ke("flex items-center p-6 pt-0",t),...e}));Up.displayName="CardFooter";function Vje(t,e){return N.useReducer((r,n)=>e[r][n]??r,t)}var YI="ScrollArea",[RZ,Cbt]=Ju(YI),[Hje,ic]=RZ(YI),LZ=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=t,[l,c]=N.useState(null),[u,d]=N.useState(null),[f,m]=N.useState(null),[h,v]=N.useState(null),[g,p]=N.useState(null),[y,x]=N.useState(0),[b,w]=N.useState(0),[_,j]=N.useState(!1),[A,E]=N.useState(!1),T=Jn(e,D=>c(D)),R=LA(a);return o.jsx(Hje,{scope:r,type:n,dir:R,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:v,scrollbarXEnabled:_,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:p,scrollbarYEnabled:A,onScrollbarYEnabledChange:E,onCornerWidthChange:x,onCornerHeightChange:w,children:o.jsx(Sr.div,{dir:R,...s,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});LZ.displayName=YI;var FZ="ScrollAreaViewport",$Z=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,s=ic(FZ,r),l=N.useRef(null),c=Jn(e,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Sr.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});$Z.displayName=FZ;var ad="ScrollAreaScrollbar",KI=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=ic(ad,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,l=t.orientation==="horizontal";return N.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),a.type==="hover"?o.jsx(Wje,{...n,ref:e,forceMount:r}):a.type==="scroll"?o.jsx(qje,{...n,ref:e,forceMount:r}):a.type==="auto"?o.jsx(BZ,{...n,ref:e,forceMount:r}):a.type==="always"?o.jsx(XI,{...n,ref:e}):null});KI.displayName=ad;var Wje=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=ic(ad,t.__scopeScrollArea),[i,s]=N.useState(!1);return N.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(ed,{present:r||i,children:o.jsx(BZ,{"data-state":i?"visible":"hidden",...n,ref:e})})}),qje=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=ic(ad,t.__scopeScrollArea),i=t.orientation==="horizontal",s=hE(()=>c("SCROLL_END"),100),[l,c]=Vje("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),N.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),s()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,i,c,s]),o.jsx(ed,{present:r||l!=="hidden",children:o.jsx(XI,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Er(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Er(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),BZ=N.forwardRef((t,e)=>{const r=ic(ad,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,s]=N.useState(!1),l=t.orientation==="horizontal",c=hE(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?u:d)}},10);return Tv(r.viewport,c),Tv(r.content,c),o.jsx(ed,{present:n||i,children:o.jsx(XI,{"data-state":i?"visible":"hidden",...a,ref:e})})}),XI=N.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=ic(ad,t.__scopeScrollArea),i=N.useRef(null),s=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=WZ(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:m=>s.current=m};function f(m,h){return Qje(m,s.current,l,h)}return r==="horizontal"?o.jsx(Gje,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,h=t$(m,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):r==="vertical"?o.jsx(Yje,{...d,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,h=t$(m,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),Gje=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=ic(ad,t.__scopeScrollArea),[s,l]=N.useState(),c=N.useRef(null),u=Jn(e,c,i.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(zZ,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fE(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),GZ(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Cj(s.paddingLeft),paddingEnd:Cj(s.paddingRight)}})}})}),Yje=N.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=ic(ad,t.__scopeScrollArea),[s,l]=N.useState(),c=N.useRef(null),u=Jn(e,c,i.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(zZ,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fE(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),GZ(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Cj(s.paddingTop),paddingEnd:Cj(s.paddingBottom)}})}})}),[Kje,UZ]=RZ(ad),zZ=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=t,h=ic(ad,r),[v,g]=N.useState(null),p=Jn(e,T=>g(T)),y=N.useRef(null),x=N.useRef(""),b=h.viewport,w=n.content-n.viewport,_=ql(d),j=ql(c),A=hE(f,10);function E(T){if(y.current){const R=T.clientX-y.current.left,D=T.clientY-y.current.top;u({x:R,y:D})}}return N.useEffect(()=>{const T=R=>{const D=R.target;(v==null?void 0:v.contains(D))&&_(R,w)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[b,v,w,_]),N.useEffect(j,[n,j]),Tv(v,A),Tv(h.content,A),o.jsx(Kje,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:ql(i),onThumbPointerUp:ql(s),onThumbPositionChange:j,onThumbPointerDown:ql(l),children:o.jsx(Sr.div,{...m,ref:p,style:{position:"absolute",...m.style},onPointerDown:Er(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(T))}),onPointerMove:Er(t.onPointerMove,E),onPointerUp:Er(t.onPointerUp,T=>{const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null})})})}),Ej="ScrollAreaThumb",VZ=N.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=UZ(Ej,t.__scopeScrollArea);return o.jsx(ed,{present:r||a.hasThumb,children:o.jsx(Xje,{ref:e,...n})})}),Xje=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=ic(Ej,r),s=UZ(Ej,r),{onThumbPositionChange:l}=s,c=Jn(e,f=>s.onThumbChange(f)),u=N.useRef(void 0),d=hE(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const h=Jje(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,l]),o.jsx(Sr.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Er(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),v=f.clientX-h.left,g=f.clientY-h.top;s.onThumbPointerDown({x:v,y:g})}),onPointerUp:Er(t.onPointerUp,s.onThumbPointerUp)})});VZ.displayName=Ej;var ZI="ScrollAreaCorner",HZ=N.forwardRef((t,e)=>{const r=ic(ZI,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(Zje,{...t,ref:e}):null});HZ.displayName=ZI;var Zje=N.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=ic(ZI,r),[i,s]=N.useState(0),[l,c]=N.useState(0),u=!!(i&&l);return Tv(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Tv(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?o.jsx(Sr.div,{...n,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Cj(t){return t?parseInt(t,10):0}function WZ(t,e){const r=t/e;return isNaN(r)?0:r}function fE(t){const e=WZ(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function Qje(t,e,r,n="ltr"){const a=fE(r),i=a/2,s=e||i,l=a-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return qZ([c,u],f)(t)}function t$(t,e,r="ltr"){const n=fE(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,s=e.content-e.viewport,l=i-n,c=r==="ltr"?[0,s]:[s*-1,0],u=xP(t,c);return qZ([0,s],[0,l])(u)}function qZ(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function GZ(t,e){return t>0&&t<e}var Jje=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},s=r.left!==i.left,l=r.top!==i.top;(s||l)&&e(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function hE(t,e){const r=ql(t),n=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),N.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Tv(t,e){const r=ql(e);Gu(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var YZ=LZ,eNe=$Z,tNe=HZ;const mE=N.forwardRef(({className:t,children:e,hideScrollbarOnMobile:r=!0,maxHeight:n,...a},i)=>{const s=nd();return o.jsxs(YZ,{ref:i,className:Ke("relative overflow-hidden",t),...a,children:[o.jsx(eNe,{className:Ke("h-full w-full rounded-[inherit]",n&&`max-h-[${n}]`,s&&"overflow-auto -webkit-overflow-scrolling-touch"),style:n?{maxHeight:n}:void 0,children:e}),!(s&&r)&&o.jsx(KZ,{}),o.jsx(tNe,{})]})});mE.displayName=YZ.displayName;const KZ=N.forwardRef(({className:t,orientation:e="vertical",...r},n)=>{const a=nd();return o.jsx(KI,{ref:n,orientation:e,className:Ke("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a&&"opacity-50 w-1.5",t),...r,children:o.jsx(VZ,{className:"relative flex-1 rounded-full bg-border"})})});KZ.displayName=KI.displayName;function rNe({date:t,onDateChange:e,placeholder:r="Selecione uma data",className:n}){return o.jsxs(Ev,{children:[o.jsx(Cv,{asChild:!0,children:o.jsxs(je,{variant:"outline",className:Ke("w-full justify-start text-left font-normal",!t&&"text-muted-foreground",n),children:[o.jsx(nn,{className:"mr-2 h-4 w-4"}),t?wr(t,"PPP",{locale:Kn}):r]})}),o.jsx(Lp,{className:"w-auto p-0",align:"start",children:o.jsx(Ww,{mode:"single",selected:t,onSelect:e,initialFocus:!0,locale:Kn})})]})}const nNe=t=>{const e=["Servio","Cliente","Telefone","Data","Hora","Status"],r=t.map(l=>[l.serviceName,l.clientName,l.clientPhone,new Date(l.appointmentDate).toLocaleDateString("pt-BR"),l.appointmentTime,l.status]),n=[e.join(","),...r.map(l=>l.join(","))].join(`
`),a=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),s=URL.createObjectURL(a);i.setAttribute("href",s),i.setAttribute("download",`agendamentos_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(i),i.click(),document.body.removeChild(i)},aNe=({searchTerm:t,onSearchChange:e,selectedDate:r,onDateChange:n,appointments:a})=>{nd();const i=t||r,s=()=>{e(""),n(void 0)},l=()=>{nNe(a)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(pt,{htmlFor:"search",className:"text-sm text-muted-foreground",children:"Buscar agendamentos"}),o.jsxs("div",{className:"relative",children:[o.jsx(td,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(mt,{id:"search",placeholder:"Buscar por nome, telefone ou servio...",value:t,onChange:c=>e(c.target.value),className:"pl-9 h-10 bg-muted/40"})]})]}),o.jsxs("div",{className:"w-full sm:w-72 space-y-2",children:[o.jsx(pt,{className:"text-sm text-muted-foreground",children:"Filtrar por data"}),o.jsx(rNe,{date:r,onDateChange:n,placeholder:"Selecione uma data",className:"h-10"})]}),o.jsx("div",{className:"flex items-end",children:o.jsxs(je,{variant:"outline",size:"default",onClick:l,className:"h-10 gap-2",children:[o.jsx(tG,{className:"h-4 w-4"}),"Exportar"]})})]}),i&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex-1",children:[t&&r&&o.jsxs(o.Fragment,{children:['Buscando por "',t,'" em'," ",r.toLocaleDateString()]}),t&&!r&&o.jsxs(o.Fragment,{children:['Buscando por "',t,'"']}),!t&&r&&o.jsxs(o.Fragment,{children:["Filtrando pela data ",r.toLocaleDateString()]})]}),o.jsx(je,{variant:"ghost",size:"sm",onClick:s,className:"h-6 px-2 hover:bg-muted",children:o.jsx(Dh,{className:"h-4 w-4"})})]})]})},r$=({status:t})=>{const r=(a=>{switch(a){case"aguardando_atendimento":case"scheduled":return{label:"Aguardando",className:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-50",icon:pn};case"atendimento_iniciado":return{label:"Em Atendimento",className:"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-50",icon:Qq};case"atendimento_finalizado":case"completed":return{label:"Finalizado",className:"bg-green-50 text-green-700 border-green-200 hover:bg-green-50",icon:Iw};case"agendamento_cancelado":case"canceled":return{label:"Cancelado",className:"bg-red-50 text-red-700 border-red-200 hover:bg-red-50",icon:yv};case"archived":return{label:"Arquivado",className:"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-50",icon:oj};default:return{label:"Desconhecido",className:"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-50",icon:vk}}})(t),n=r.icon;return o.jsxs(Ur,{variant:"outline",className:Ke("gap-1.5 font-medium",r.className),children:[o.jsx(n,{className:"w-3 h-3"}),o.jsx("span",{children:r.label})]})},$S=10,iNe=({appointments:t,isLoading:e,onEditAppointment:r,onCancelAppointment:n,onCompleteAppointment:a,onChangeStatus:i,getStatusDisplayText:s,onPrintAppointment:l=()=>{},onDeleteAppointment:c=()=>{},onArchiveAppointment:u=()=>{}})=>{const[d,f]=N.useState(1),[m,h]=N.useState([]),[v,g]=N.useState("all"),[p,y]=N.useState(""),[x,b]=N.useState(),w=nd(),_=Ki(),j=t.length,A=Math.ceil(j/$S),E=(d-1)*$S,T=Math.min(E+$S,j),R=Z=>{f(Z)},D=Z=>{h(de=>de.includes(Z)?de.filter(k=>k!==Z):[...de,Z])},P=Z=>{if(!Z||Z==="")return null;try{const de=JSON.parse(Z);return de.text?{text:de.text,color:de.color||"blue"}:null}catch{return{text:Z,color:"blue"}}},I=Z=>({blue:"primary",green:"success",red:"destructive",yellow:"warning",purple:"purple",gray:"secondary",default:"default"})[Z]||"default",L=t.filter(Z=>{var B,z,ee;const de=p.toLowerCase(),k=!p||((B=Z.clientName)==null?void 0:B.toLowerCase().includes(de))||((z=Z.clientPhone)==null?void 0:z.toLowerCase().includes(de))||((ee=Z.serviceName)==null?void 0:ee.toLowerCase().includes(de)),F=!x||new Date(Z.appointmentDate).toDateString()===x.toDateString();return k&&F}),V=v==="all"?L:L.filter(Z=>v==="scheduled"?Z.status==="aguardando_atendimento"||Z.status==="scheduled":v==="in_progress"?Z.status==="atendimento_iniciado":v==="completed"?Z.status==="atendimento_finalizado"||Z.status==="completed":v==="canceled"?Z.status==="agendamento_cancelado"||Z.status==="canceled":v==="archived"?Z.status==="archived":!0);N.useEffect(()=>{f(1)},[p,x,v]);const H=V.slice(E,T),q=()=>{const Z=[],de=w?3:5;if(A<=de){for(let z=1;z<=A;z++)Z.push(z);return Z}const k=Math.floor(de/2);Z.push(1);const F=Math.max(2,d-k),B=Math.min(A-1,d+k);F>2&&Z.push("...");for(let z=F;z<=B;z++)Z.push(z);return B<A-1&&Z.push("..."),A>1&&Z.push(A),Z},G=()=>o.jsxs("div",{className:"text-center py-10",children:[o.jsx(Gc,{className:"h-10 w-10 mx-auto text-muted-foreground"}),o.jsx("h3",{className:"mt-4 text-lg font-medium",children:"Nenhum agendamento"}),o.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No h agendamentos disponveis para mostrar."})]}),re=(Z,de)=>{_("/evolution-api",{state:{activeTab:"disparador",clientPhone:Z,clientName:de}})};return e?o.jsx(SZ,{text:"Carregando agendamentos..."}):t.length===0?o.jsx(G,{}):o.jsxs("div",{className:"space-y-4",children:[o.jsx(aNe,{searchTerm:p,onSearchChange:y,selectedDate:x,onDateChange:b,appointments:V}),o.jsxs(ys,{defaultValue:"all",className:"w-full",onValueChange:g,children:[o.jsxs(Di,{className:`mb-4 grid ${w?"grid-cols-3 mb-6":"grid-cols-6"} w-full`,children:[o.jsx(qt,{value:"all",children:"Todos"}),o.jsx(qt,{value:"scheduled",children:"Aguardando"}),o.jsx(qt,{value:"in_progress",children:"Em Atendimento"}),!w&&o.jsxs(o.Fragment,{children:[o.jsx(qt,{value:"completed",children:"Finalizados"}),o.jsx(qt,{value:"canceled",children:"Cancelados"}),o.jsx(qt,{value:"archived",children:"Arquivados"})]})]}),w&&o.jsxs(Di,{className:"mb-6 grid grid-cols-3 w-full",children:[o.jsx(qt,{value:"completed",children:"Finalizados"}),o.jsx(qt,{value:"canceled",children:"Cancelados"}),o.jsx(qt,{value:"archived",children:"Arquivados"})]}),o.jsx(mE,{className:"w-full",children:w?o.jsx("div",{className:"space-y-3",children:H.map(Z=>{const de=P(Z.notes),k=m.includes(Z.id);return o.jsxs(ot,{className:"overflow-hidden",children:[o.jsx(Ot,{className:"p-3 pb-0",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx(It,{className:"text-md font-semibold",children:Z.serviceName||"Agendamento"}),o.jsx(r$,{status:Z.status})]})}),o.jsxs(lt,{className:"p-3 pt-2 space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center text-muted-foreground gap-1",children:[o.jsx(eu,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"text-xs",children:"Cliente"})]}),o.jsx("div",{className:"font-medium truncate",children:Z.clientName})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center text-muted-foreground gap-1",children:[o.jsx(Ru,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"text-xs",children:"Telefone"})]}),o.jsx("div",{className:"font-medium",children:Z.clientPhone})]})]}),de&&o.jsxs("div",{className:"mt-2",children:[o.jsxs(je,{variant:"ghost",size:"sm",className:"text-xs flex items-center gap-1 h-7 px-2",onClick:()=>D(Z.id),children:[o.jsx(xk,{className:"h-3.5 w-3.5"}),k?"Ocultar nota":"Ver nota"]}),k&&o.jsx("div",{className:"mt-1 bg-muted p-2 rounded-md text-xs",children:de.text})]}),o.jsxs("div",{className:"flex gap-1 justify-end mt-2",children:[o.jsx(je,{variant:"outline",size:"sm",className:"h-7 px-2",onClick:()=>r(Z.id),children:o.jsx(go,{className:"h-3.5 w-3.5"})}),o.jsxs(Ev,{children:[o.jsx(Cv,{asChild:!0,children:o.jsx(je,{variant:"outline",size:"sm",className:"h-7 px-2",children:o.jsx(lj,{className:"h-3.5 w-3.5"})})}),o.jsx(Lp,{align:"end",className:"w-48 p-2",children:o.jsxs("div",{className:"grid gap-1",children:[Z.status!=="atendimento_finalizado"&&Z.status!=="completed"&&o.jsxs(je,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>a(Z.id),children:[o.jsx(Gc,{className:"mr-2 h-3.5 w-3.5"}),"Finalizar"]}),Z.status!=="agendamento_cancelado"&&Z.status!=="canceled"&&o.jsxs(je,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>n(Z.id),children:[o.jsx(J1,{className:"mr-2 h-3.5 w-3.5"}),"Cancelar"]}),o.jsxs(je,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>l(Z.id),children:[o.jsx(tb,{className:"mr-2 h-3.5 w-3.5"}),"Imprimir"]}),o.jsxs(je,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>re(Z.clientPhone,Z.clientName),children:[o.jsx($o,{className:"mr-2 h-3.5 w-3.5"}),"WhatsApp"]}),Z.status!=="archived"&&o.jsxs(je,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>u(Z.id),children:[o.jsx(oj,{className:"mr-2 h-3.5 w-3.5"}),"Arquivar"]}),o.jsxs(je,{variant:"ghost",size:"sm",className:"w-full justify-start text-destructive hover:text-destructive",onClick:()=>c(Z.id),children:[o.jsx(yn,{className:"mr-2 h-3.5 w-3.5"}),"Excluir"]})]})})]})]})]})]},Z.id)})}):o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Servio"}),o.jsx(wt,{children:"Cliente"}),o.jsx(wt,{children:"Telefone"}),o.jsx(wt,{children:"Status"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsx(di,{children:H.map(Z=>{const de=P(Z.notes),k=m.includes(Z.id);return o.jsxs(W.Fragment,{children:[o.jsxs(dr,{children:[o.jsx(ct,{children:Z.serviceName}),o.jsx(ct,{children:Z.clientName}),o.jsx(ct,{children:Z.clientPhone}),o.jsx(ct,{children:o.jsx(r$,{status:Z.status})}),o.jsx(ct,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[de&&o.jsx(je,{variant:"ghost",size:"sm",onClick:()=>D(Z.id),children:o.jsx(xk,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"sm",onClick:()=>r(Z.id),children:o.jsx(go,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"sm",onClick:()=>l(Z.id),children:o.jsx(tb,{className:"mr-2 h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"sm",onClick:()=>re(Z.clientPhone,Z.clientName),children:o.jsx($o,{className:"mr-2 h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"sm",onClick:()=>c(Z.id),children:o.jsx(yn,{className:"mr-2 h-4 w-4"})}),o.jsxs(Ev,{children:[o.jsx(Cv,{asChild:!0,children:o.jsx(je,{variant:"ghost",size:"sm",children:o.jsx(lj,{className:"h-4 w-4"})})}),o.jsx(Lp,{align:"end",className:"w-48 p-2",children:o.jsxs("div",{className:"grid gap-1",children:[Z.status!=="atendimento_finalizado"&&Z.status!=="completed"&&o.jsxs(je,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>a(Z.id),children:[o.jsx(Gc,{className:"mr-2 h-4 w-4"}),"Finalizar"]}),Z.status!=="agendamento_cancelado"&&Z.status!=="canceled"&&o.jsxs(je,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>n(Z.id),children:[o.jsx(J1,{className:"mr-2 h-4 w-4"}),"Cancelar"]}),Z.status!=="archived"&&o.jsxs(je,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>u(Z.id),children:[o.jsx(oj,{className:"mr-2 h-4 w-4"}),"Arquivar"]})]})})]})]})})]}),k&&de&&o.jsx(dr,{children:o.jsx(ct,{colSpan:6,className:"bg-muted/30",children:o.jsxs("div",{className:"p-2 rounded flex gap-2 items-start",children:[o.jsx(Ur,{variant:I(de.color),children:"Nota"}),o.jsx("div",{className:"text-sm",children:de.text})]})})})]},Z.id)})})]})}),V.length>$S&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(je,{variant:"outline",size:w?"sm":"icon",onClick:()=>R(Math.max(1,d-1)),disabled:d===1,className:w?"h-7 w-7":"",children:"<"}),q().map((Z,de)=>o.jsx(W.Fragment,{children:Z==="..."?o.jsx("span",{className:"px-2 text-muted-foreground",children:"..."}):o.jsx(je,{variant:d===Z?"default":"outline",size:w?"sm":"default",onClick:()=>typeof Z=="number"&&R(Z),className:w?"h-7 w-7 px-0":"",children:Z})},de)),o.jsx(je,{variant:"outline",size:w?"sm":"icon",onClick:()=>R(Math.min(A,d+1)),disabled:d===A,className:w?"h-7 w-7":"",children:">"})]})})]})]})};function EP(t,e){return EP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},EP(t,e)}function XZ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,EP(t,e)}function gr(){return gr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gr.apply(null,arguments)}function vn(t){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(t)}function sNe(t,e){if(vn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oNe(t){var e=sNe(t,"string");return vn(e)=="symbol"?e:e+""}function lNe(t,e,r){return(e=oNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function a$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n$(Object(r),!0).forEach(function(n){lNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function No(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var i$=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),s$=function(){return Math.random().toString(36).substring(7).split("").join(".")},o$={INIT:"@@redux/INIT"+s$(),REPLACE:"@@redux/REPLACE"+s$()};function cNe(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ZZ(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(No(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(No(1));return r(ZZ)(t,e)}if(typeof t!="function")throw new Error(No(2));var a=t,i=e,s=[],l=s,c=!1;function u(){l===s&&(l=s.slice())}function d(){if(c)throw new Error(No(3));return i}function f(g){if(typeof g!="function")throw new Error(No(4));if(c)throw new Error(No(5));var p=!0;return u(),l.push(g),function(){if(p){if(c)throw new Error(No(6));p=!1,u();var x=l.indexOf(g);l.splice(x,1),s=null}}}function m(g){if(!cNe(g))throw new Error(No(7));if(typeof g.type>"u")throw new Error(No(8));if(c)throw new Error(No(9));try{c=!0,i=a(i,g)}finally{c=!1}for(var p=s=l,y=0;y<p.length;y++){var x=p[y];x()}return g}function h(g){if(typeof g!="function")throw new Error(No(10));a=g,m({type:o$.REPLACE})}function v(){var g,p=f;return g={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(No(11));function b(){x.next&&x.next(d())}b();var w=p(b);return{unsubscribe:w}}},g[i$]=function(){return this},g}return m({type:o$.INIT}),n={dispatch:m,subscribe:f,getState:d,replaceReducer:h},n[i$]=v,n}function l$(t,e){return function(){return e(t.apply(this,arguments))}}function c$(t,e){if(typeof t=="function")return l$(t,e);if(typeof t!="object"||t===null)throw new Error(No(16));var r={};for(var n in t){var a=t[n];typeof a=="function"&&(r[n]=l$(a,e))}return r}function QZ(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function uNe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),i=function(){throw new Error(No(15))},s={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},l=e.map(function(c){return c(s)});return i=QZ.apply(void 0,l)(a.dispatch),a$(a$({},a),{},{dispatch:i})}}}var JZ={exports:{}},dNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fNe=dNe,hNe=fNe;function eQ(){}function tQ(){}tQ.resetWarningCache=eQ;var mNe=function(){function t(n,a,i,s,l,c){if(c!==hNe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tQ,resetWarningCache:eQ};return r.PropTypes=r,r};JZ.exports=mNe();var pNe=JZ.exports;const ur=bn(pNe);var rQ=W.createContext(null);function gNe(t){t()}var nQ=gNe,vNe=function(e){return nQ=e},yNe=function(){return nQ};function xNe(){var t=yNe(),e=null,r=null;return{clear:function(){e=null,r=null},notify:function(){t(function(){for(var a=e;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=e;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,s=r={callback:a,next:null,prev:r};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var u$={notify:function(){},get:function(){return[]}};function aQ(t,e){var r,n=u$;function a(f){return c(),n.subscribe(f)}function i(){n.notify()}function s(){d.onStateChange&&d.onStateChange()}function l(){return!!r}function c(){r||(r=e?e.addNestedSub(s):t.subscribe(s),n=xNe())}function u(){r&&(r(),r=void 0,n.clear(),n=u$)}var d={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:s,isSubscribed:l,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return d}var iQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function bNe(t){var e=t.store,r=t.context,n=t.children,a=N.useMemo(function(){var l=aQ(e);return{store:e,subscription:l}},[e]),i=N.useMemo(function(){return e.getState()},[e]);iQ(function(){var l=a.subscription;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==e.getState()&&l.notifyNestedSubs(),function(){l.tryUnsubscribe(),l.onStateChange=null}},[a,i]);var s=r||rQ;return W.createElement(s.Provider,{value:a},n)}function Tj(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var sQ={exports:{}},Un={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xi=typeof Symbol=="function"&&Symbol.for,QI=Xi?Symbol.for("react.element"):60103,JI=Xi?Symbol.for("react.portal"):60106,pE=Xi?Symbol.for("react.fragment"):60107,gE=Xi?Symbol.for("react.strict_mode"):60108,vE=Xi?Symbol.for("react.profiler"):60114,yE=Xi?Symbol.for("react.provider"):60109,xE=Xi?Symbol.for("react.context"):60110,eM=Xi?Symbol.for("react.async_mode"):60111,bE=Xi?Symbol.for("react.concurrent_mode"):60111,wE=Xi?Symbol.for("react.forward_ref"):60112,SE=Xi?Symbol.for("react.suspense"):60113,wNe=Xi?Symbol.for("react.suspense_list"):60120,_E=Xi?Symbol.for("react.memo"):60115,jE=Xi?Symbol.for("react.lazy"):60116,SNe=Xi?Symbol.for("react.block"):60121,_Ne=Xi?Symbol.for("react.fundamental"):60117,jNe=Xi?Symbol.for("react.responder"):60118,NNe=Xi?Symbol.for("react.scope"):60119;function jl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case QI:switch(t=t.type,t){case eM:case bE:case pE:case vE:case gE:case SE:return t;default:switch(t=t&&t.$$typeof,t){case xE:case wE:case jE:case _E:case yE:return t;default:return e}}case JI:return e}}}function oQ(t){return jl(t)===bE}Un.AsyncMode=eM;Un.ConcurrentMode=bE;Un.ContextConsumer=xE;Un.ContextProvider=yE;Un.Element=QI;Un.ForwardRef=wE;Un.Fragment=pE;Un.Lazy=jE;Un.Memo=_E;Un.Portal=JI;Un.Profiler=vE;Un.StrictMode=gE;Un.Suspense=SE;Un.isAsyncMode=function(t){return oQ(t)||jl(t)===eM};Un.isConcurrentMode=oQ;Un.isContextConsumer=function(t){return jl(t)===xE};Un.isContextProvider=function(t){return jl(t)===yE};Un.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===QI};Un.isForwardRef=function(t){return jl(t)===wE};Un.isFragment=function(t){return jl(t)===pE};Un.isLazy=function(t){return jl(t)===jE};Un.isMemo=function(t){return jl(t)===_E};Un.isPortal=function(t){return jl(t)===JI};Un.isProfiler=function(t){return jl(t)===vE};Un.isStrictMode=function(t){return jl(t)===gE};Un.isSuspense=function(t){return jl(t)===SE};Un.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pE||t===bE||t===vE||t===gE||t===SE||t===wNe||typeof t=="object"&&t!==null&&(t.$$typeof===jE||t.$$typeof===_E||t.$$typeof===yE||t.$$typeof===xE||t.$$typeof===wE||t.$$typeof===_Ne||t.$$typeof===jNe||t.$$typeof===NNe||t.$$typeof===SNe)};Un.typeOf=jl;sQ.exports=Un;var ANe=sQ.exports,tM=ANe,ENe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},CNe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},TNe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rM={};rM[tM.ForwardRef]=TNe;rM[tM.Memo]=lQ;function d$(t){return tM.isMemo(t)?lQ:rM[t.$$typeof]||ENe}var kNe=Object.defineProperty,PNe=Object.getOwnPropertyNames,f$=Object.getOwnPropertySymbols,DNe=Object.getOwnPropertyDescriptor,ONe=Object.getPrototypeOf,h$=Object.prototype;function cQ(t,e,r){if(typeof e!="string"){if(h$){var n=ONe(e);n&&n!==h$&&cQ(t,n,r)}var a=PNe(e);f$&&(a=a.concat(f$(e)));for(var i=d$(t),s=d$(e),l=0;l<a.length;++l){var c=a[l];if(!CNe[c]&&!(r&&r[c])&&!(s&&s[c])&&!(i&&i[c])){var u=DNe(e,c);try{kNe(t,c,u)}catch{}}}}return t}var INe=cQ;const m$=bn(INe);var uQ={exports:{}},ea={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE=60103,AE=60106,Kw=60107,Xw=60108,Zw=60114,Qw=60109,Jw=60110,e2=60112,t2=60113,nM=60120,r2=60115,n2=60116,dQ=60121,fQ=60122,hQ=60117,mQ=60129,pQ=60131;if(typeof Symbol=="function"&&Symbol.for){var rs=Symbol.for;NE=rs("react.element"),AE=rs("react.portal"),Kw=rs("react.fragment"),Xw=rs("react.strict_mode"),Zw=rs("react.profiler"),Qw=rs("react.provider"),Jw=rs("react.context"),e2=rs("react.forward_ref"),t2=rs("react.suspense"),nM=rs("react.suspense_list"),r2=rs("react.memo"),n2=rs("react.lazy"),dQ=rs("react.block"),fQ=rs("react.server.block"),hQ=rs("react.fundamental"),mQ=rs("react.debug_trace_mode"),pQ=rs("react.legacy_hidden")}function cu(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case NE:switch(t=t.type,t){case Kw:case Zw:case Xw:case t2:case nM:return t;default:switch(t=t&&t.$$typeof,t){case Jw:case e2:case n2:case r2:case Qw:return t;default:return e}}case AE:return e}}}var MNe=Qw,RNe=NE,LNe=e2,FNe=Kw,$Ne=n2,BNe=r2,UNe=AE,zNe=Zw,VNe=Xw,HNe=t2;ea.ContextConsumer=Jw;ea.ContextProvider=MNe;ea.Element=RNe;ea.ForwardRef=LNe;ea.Fragment=FNe;ea.Lazy=$Ne;ea.Memo=BNe;ea.Portal=UNe;ea.Profiler=zNe;ea.StrictMode=VNe;ea.Suspense=HNe;ea.isAsyncMode=function(){return!1};ea.isConcurrentMode=function(){return!1};ea.isContextConsumer=function(t){return cu(t)===Jw};ea.isContextProvider=function(t){return cu(t)===Qw};ea.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===NE};ea.isForwardRef=function(t){return cu(t)===e2};ea.isFragment=function(t){return cu(t)===Kw};ea.isLazy=function(t){return cu(t)===n2};ea.isMemo=function(t){return cu(t)===r2};ea.isPortal=function(t){return cu(t)===AE};ea.isProfiler=function(t){return cu(t)===Zw};ea.isStrictMode=function(t){return cu(t)===Xw};ea.isSuspense=function(t){return cu(t)===t2};ea.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kw||t===Zw||t===mQ||t===Xw||t===t2||t===nM||t===pQ||typeof t=="object"&&t!==null&&(t.$$typeof===n2||t.$$typeof===r2||t.$$typeof===Qw||t.$$typeof===Jw||t.$$typeof===e2||t.$$typeof===hQ||t.$$typeof===dQ||t[0]===fQ)};ea.typeOf=cu;uQ.exports=ea;var WNe=uQ.exports,qNe=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],GNe=["reactReduxForwardedRef"],YNe=[],KNe=[null,null];function XNe(t,e){var r=t[1];return[e.payload,r+1]}function p$(t,e,r){iQ(function(){return t.apply(void 0,e)},r)}function ZNe(t,e,r,n,a,i,s){t.current=n,e.current=a,r.current=!1,i.current&&(i.current=null,s())}function QNe(t,e,r,n,a,i,s,l,c,u){if(t){var d=!1,f=null,m=function(){if(!d){var g=e.getState(),p,y;try{p=n(g,a.current)}catch(x){y=x,f=x}y||(f=null),p===i.current?s.current||c():(i.current=p,l.current=p,s.current=!0,u({type:"STORE_UPDATED",payload:{error:y}}))}};r.onStateChange=m,r.trySubscribe(),m();var h=function(){if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f};return h}}var JNe=function(){return[null,0]};function eAe(t,e){e===void 0&&(e={});var r=e,n=r.getDisplayName,a=n===void 0?function(b){return"ConnectAdvanced("+b+")"}:n,i=r.methodName,s=i===void 0?"connectAdvanced":i,l=r.renderCountProp,c=l===void 0?void 0:l,u=r.shouldHandleStateChanges,d=u===void 0?!0:u,f=r.storeKey,m=f===void 0?"store":f;r.withRef;var h=r.forwardRef,v=h===void 0?!1:h,g=r.context,p=g===void 0?rQ:g,y=Tj(r,qNe),x=p;return function(w){var _=w.displayName||w.name||"Component",j=a(_),A=gr({},y,{getDisplayName:a,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:m,displayName:j,wrappedComponentName:_,WrappedComponent:w}),E=y.pure;function T(L){return t(L.dispatch,A)}var R=E?N.useMemo:function(L){return L()};function D(L){var V=N.useMemo(function(){var qe=L.reactReduxForwardedRef,st=Tj(L,GNe);return[L.context,qe,st]},[L]),H=V[0],q=V[1],G=V[2],re=N.useMemo(function(){return H&&H.Consumer&&WNe.isContextConsumer(W.createElement(H.Consumer,null))?H:x},[H,x]),Z=N.useContext(re),de=!!L.store&&!!L.store.getState&&!!L.store.dispatch;Z&&Z.store;var k=de?L.store:Z.store,F=N.useMemo(function(){return T(k)},[k]),B=N.useMemo(function(){if(!d)return KNe;var qe=aQ(k,de?null:Z.subscription),st=qe.notifyNestedSubs.bind(qe);return[qe,st]},[k,de,Z]),z=B[0],ee=B[1],le=N.useMemo(function(){return de?Z:gr({},Z,{subscription:z})},[de,Z,z]),ge=N.useReducer(XNe,YNe,JNe),se=ge[0],ie=se[0],we=ge[1];if(ie&&ie.error)throw ie.error;var pe=N.useRef(),Me=N.useRef(G),he=N.useRef(),oe=N.useRef(!1),X=R(function(){return he.current&&G===Me.current?he.current:F(k.getState(),G)},[k,ie,G]);p$(ZNe,[Me,pe,oe,G,X,he,ee]),p$(QNe,[d,k,z,F,Me,pe,oe,he,ee,we],[k,z,F]);var Ae=N.useMemo(function(){return W.createElement(w,gr({},X,{ref:q}))},[q,w,X]),Be=N.useMemo(function(){return d?W.createElement(re.Provider,{value:le},Ae):Ae},[re,Ae,le]);return Be}var P=E?W.memo(D):D;if(P.WrappedComponent=w,P.displayName=D.displayName=j,v){var I=W.forwardRef(function(V,H){return W.createElement(P,gr({},V,{reactReduxForwardedRef:H}))});return I.displayName=j,I.WrappedComponent=w,m$(I,w)}return m$(P,w)}}function g$(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function ET(t,e){if(g$(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(e,r[a])||!g$(t[r[a]],e[r[a]]))return!1;return!0}function tAe(t,e){var r={},n=function(s){var l=t[s];typeof l=="function"&&(r[s]=function(){return e(l.apply(void 0,arguments))})};for(var a in t)n(a);return r}function aM(t){return function(r,n){var a=t(r,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function v$(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function gQ(t,e){return function(n,a){a.displayName;var i=function(l,c){return i.dependsOnOwnProps?i.mapToProps(l,c):i.mapToProps(l)};return i.dependsOnOwnProps=!0,i.mapToProps=function(l,c){i.mapToProps=t,i.dependsOnOwnProps=v$(t);var u=i(l,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=v$(u),u=i(l,c)),u},i}}function rAe(t){return typeof t=="function"?gQ(t):void 0}function nAe(t){return t?void 0:aM(function(e){return{dispatch:e}})}function aAe(t){return t&&typeof t=="object"?aM(function(e){return tAe(t,e)}):void 0}const iAe=[rAe,nAe,aAe];function sAe(t){return typeof t=="function"?gQ(t):void 0}function oAe(t){return t?void 0:aM(function(){return{}})}const lAe=[sAe,oAe];function cAe(t,e,r){return gr({},r,t,e)}function uAe(t){return function(r,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,s=!1,l;return function(u,d,f){var m=t(u,d,f);return s?(!a||!i(m,l))&&(l=m):(s=!0,l=m),l}}}function dAe(t){return typeof t=="function"?uAe(t):void 0}function fAe(t){return t?void 0:function(){return cAe}}const hAe=[dAe,fAe];var mAe=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function pAe(t,e,r,n){return function(i,s){return r(t(i,s),e(n,s),s)}}function gAe(t,e,r,n,a){var i=a.areStatesEqual,s=a.areOwnPropsEqual,l=a.areStatePropsEqual,c=!1,u,d,f,m,h;function v(b,w){return u=b,d=w,f=t(u,d),m=e(n,d),h=r(f,m,d),c=!0,h}function g(){return f=t(u,d),e.dependsOnOwnProps&&(m=e(n,d)),h=r(f,m,d),h}function p(){return t.dependsOnOwnProps&&(f=t(u,d)),e.dependsOnOwnProps&&(m=e(n,d)),h=r(f,m,d),h}function y(){var b=t(u,d),w=!l(b,f);return f=b,w&&(h=r(f,m,d)),h}function x(b,w){var _=!s(w,d),j=!i(b,u,w,d);return u=b,d=w,_&&j?g():_?p():j?y():h}return function(w,_){return c?x(w,_):v(w,_)}}function vAe(t,e){var r=e.initMapStateToProps,n=e.initMapDispatchToProps,a=e.initMergeProps,i=Tj(e,mAe),s=r(t,i),l=n(t,i),c=a(t,i),u=i.pure?gAe:pAe;return u(s,l,c,t,i)}var yAe=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function CT(t,e,r){for(var n=e.length-1;n>=0;n--){var a=e[n](t);if(a)return a}return function(i,s){throw new Error("Invalid value of type "+typeof t+" for "+r+" argument when connecting component "+s.wrappedComponentName+".")}}function xAe(t,e){return t===e}function bAe(t){var e=t===void 0?{}:t,r=e.connectHOC,n=r===void 0?eAe:r,a=e.mapStateToPropsFactories,i=a===void 0?lAe:a,s=e.mapDispatchToPropsFactories,l=s===void 0?iAe:s,c=e.mergePropsFactories,u=c===void 0?hAe:c,d=e.selectorFactory,f=d===void 0?vAe:d;return function(h,v,g,p){p===void 0&&(p={});var y=p,x=y.pure,b=x===void 0?!0:x,w=y.areStatesEqual,_=w===void 0?xAe:w,j=y.areOwnPropsEqual,A=j===void 0?ET:j,E=y.areStatePropsEqual,T=E===void 0?ET:E,R=y.areMergedPropsEqual,D=R===void 0?ET:R,P=Tj(y,yAe),I=CT(h,i,"mapStateToProps"),L=CT(v,l,"mapDispatchToProps"),V=CT(g,u,"mergeProps");return n(f,gr({methodName:"connect",getDisplayName:function(q){return"Connect("+q+")"},shouldHandleStateChanges:!!h,initMapStateToProps:I,initMapDispatchToProps:L,initMergeProps:V,pure:b,areStatesEqual:_,areOwnPropsEqual:A,areStatePropsEqual:T,areMergedPropsEqual:D},P))}}const vQ=bAe();vNe(Ph.unstable_batchedUpdates);function wAe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function yQ(t,e){var r=N.useState(function(){return{inputs:e,result:t()}})[0],n=N.useRef(!0),a=N.useRef(r),i=n.current||!!(e&&a.current.inputs&&wAe(e,a.current.inputs)),s=i?a.current:{inputs:e,result:t()};return N.useEffect(function(){n.current=!1,a.current=s},[s]),s.result}function SAe(t,e){return yQ(function(){return t},e)}var mn=yQ,or=SAe,_Ae="Invariant failed";function Uh(t,e){throw new Error(_Ae)}var $c=function(e){var r=e.top,n=e.right,a=e.bottom,i=e.left,s=n-i,l=a-r,c={top:r,right:n,bottom:a,left:i,width:s,height:l,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return c},iM=function(e,r){return{top:e.top-r.top,left:e.left-r.left,bottom:e.bottom+r.bottom,right:e.right+r.right}},y$=function(e,r){return{top:e.top+r.top,left:e.left+r.left,bottom:e.bottom-r.bottom,right:e.right-r.right}},jAe=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},TT={top:0,right:0,bottom:0,left:0},sM=function(e){var r=e.borderBox,n=e.margin,a=n===void 0?TT:n,i=e.border,s=i===void 0?TT:i,l=e.padding,c=l===void 0?TT:l,u=$c(iM(r,a)),d=$c(y$(r,s)),f=$c(y$(d,c));return{marginBox:u,borderBox:$c(r),paddingBox:d,contentBox:f,margin:a,border:s,padding:c}},Ol=function(e){var r=e.slice(0,-2),n=e.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&Uh(),a},NAe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},kj=function(e,r){var n=e.borderBox,a=e.border,i=e.margin,s=e.padding,l=jAe(n,r);return sM({borderBox:l,border:a,margin:i,padding:s})},Pj=function(e,r){return r===void 0&&(r=NAe()),kj(e,r)},xQ=function(e,r){var n={top:Ol(r.marginTop),right:Ol(r.marginRight),bottom:Ol(r.marginBottom),left:Ol(r.marginLeft)},a={top:Ol(r.paddingTop),right:Ol(r.paddingRight),bottom:Ol(r.paddingBottom),left:Ol(r.paddingLeft)},i={top:Ol(r.borderTopWidth),right:Ol(r.borderRightWidth),bottom:Ol(r.borderBottomWidth),left:Ol(r.borderLeftWidth)};return sM({borderBox:e,margin:n,padding:a,border:i})},bQ=function(e){var r=e.getBoundingClientRect(),n=window.getComputedStyle(e);return xQ(r,n)},x$=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function AAe(t,e){return!!(t===e||x$(t)&&x$(e))}function EAe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!AAe(t[r],e[r]))return!1;return!0}function qi(t,e){e===void 0&&(e=EAe);var r,n=[],a,i=!1;function s(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return i&&r===this&&e(l,n)||(a=t.apply(this,l),i=!0,r=this,n=l),a}return s}var hb=function(e){var r=[],n=null,a=function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];r=l,!n&&(n=requestAnimationFrame(function(){n=null,e.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function wQ(t,e){}wQ.bind(null,"warn");wQ.bind(null,"error");function Sh(){}function CAe(t,e){return gr({},t,{},e)}function Yl(t,e,r){var n=e.map(function(a){var i=CAe(r,a.options);return t.addEventListener(a.eventName,a.fn,i),function(){t.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var TAe="Invariant failed";function Dj(t){this.message=t}Dj.prototype.toString=function(){return this.message};function Dt(t,e){throw new Dj(TAe)}var kAe=function(t){XZ(e,t);function e(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=t.call.apply(t,[this].concat(i))||this,n.callbacks=null,n.unbind=Sh,n.onWindowError=function(l){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=l.error;u instanceof Dj&&l.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(l){n.callbacks=l},n}var r=e.prototype;return r.componentDidMount=function(){this.unbind=Yl(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof Dj){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},e}(W.Component),PAe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Oj=function(e){return e+1},DAe=function(e){return`
  You have lifted an item in position `+Oj(e.source.index)+`
`},SQ=function(e,r){var n=e.droppableId===r.droppableId,a=Oj(e.index),i=Oj(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+e.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},_Q=function(e,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+e+`
      has been combined with `+n.draggableId:`
      The item `+e+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},OAe=function(e){var r=e.destination;if(r)return SQ(e.source,r);var n=e.combine;return n?_Q(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},b$=function(e){return`
  The item has returned to its starting position
  of `+Oj(e.index)+`
`},IAe=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+b$(e.source)+`
    `;var r=e.destination,n=e.combine;return r?`
      You have dropped the item.
      `+SQ(e.source,r)+`
    `:n?`
      You have dropped the item.
      `+_Q(e.draggableId,e.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+b$(e.source)+`
  `},q_={dragHandleUsageInstructions:PAe,onDragStart:DAe,onDragUpdate:OAe,onDragEnd:IAe},Yi={x:0,y:0},ds=function(e,r){return{x:e.x+r.x,y:e.y+r.y}},cl=function(e,r){return{x:e.x-r.x,y:e.y-r.y}},_h=function(e,r){return e.x===r.x&&e.y===r.y},Ny=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},zp=function(e,r,n){var a;return n===void 0&&(n=0),a={},a[e]=r,a[e==="x"?"y":"x"]=n,a},mb=function(e,r){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))},w$=function(e,r){return Math.min.apply(Math,r.map(function(n){return mb(e,n)}))},jQ=function(e){return function(r){return{x:e(r.x),y:e(r.y)}}},MAe=function(t,e){var r=$c({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return r.width<=0||r.height<=0?null:r},a2=function(e,r){return{top:e.top+r.y,left:e.left+r.x,bottom:e.bottom+r.y,right:e.right+r.x}},S$=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},RAe={top:0,right:0,bottom:0,left:0},LAe=function(e,r){return r?a2(e,r.scroll.diff.displacement):e},FAe=function(e,r,n){if(n&&n.increasedBy){var a;return gr({},e,(a={},a[r.end]=e[r.end]+n.increasedBy[r.line],a))}return e},$Ae=function(e,r){return r&&r.shouldClipSubject?MAe(r.pageMarginBox,e):$c(e)},kv=function(t){var e=t.page,r=t.withPlaceholder,n=t.axis,a=t.frame,i=LAe(e.marginBox,a),s=FAe(i,n,r),l=$Ae(s,a);return{page:e,withPlaceholder:r,active:l}},oM=function(t,e){t.frame||Dt();var r=t.frame,n=cl(e,r.scroll.initial),a=Ny(n),i=gr({},r,{scroll:{initial:r.scroll.initial,current:e,diff:{value:n,displacement:a},max:r.scroll.max}}),s=kv({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:i}),l=gr({},t,{frame:i,subject:s});return l};function Ij(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function lM(t,e){if(t.findIndex)return t.findIndex(e);for(var r=0;r<t.length;r++)if(e(t[r]))return r;return-1}function om(t,e){if(t.find)return t.find(e);var r=lM(t,e);if(r!==-1)return t[r]}function NQ(t){return Array.prototype.slice.call(t)}var AQ=qi(function(t){return t.reduce(function(e,r){return e[r.descriptor.id]=r,e},{})}),EQ=qi(function(t){return t.reduce(function(e,r){return e[r.descriptor.id]=r,e},{})}),EE=qi(function(t){return Ij(t)}),BAe=qi(function(t){return Ij(t)}),Ay=qi(function(t,e){var r=BAe(e).filter(function(n){return t===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function cM(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function CE(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var TE=qi(function(t,e){return e.filter(function(r){return r.descriptor.id!==t.descriptor.id})}),UAe=function(t){var e=t.isMovingForward,r=t.draggable,n=t.destination,a=t.insideDestination,i=t.previousImpact;if(!n.isCombineEnabled)return null;var s=cM(i);if(!s)return null;function l(g){var p={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return gr({},i,{at:p})}var c=i.displaced.all,u=c.length?c[0]:null;if(e)return u?l(u):null;var d=TE(r,a);if(!u){if(!d.length)return null;var f=d[d.length-1];return l(f.descriptor.id)}var m=lM(d,function(g){return g.descriptor.id===u});m===-1&&Dt();var h=m-1;if(h<0)return null;var v=d[h];return l(v.descriptor.id)},Ey=function(t,e){return t.descriptor.droppableId===e.descriptor.id},CQ={point:Yi,value:0},pb={invisible:{},visible:{},all:[]},zAe={displaced:pb,displacedBy:CQ,at:null},ec=function(t,e){return function(r){return t<=r&&r<=e}},TQ=function(t){var e=ec(t.top,t.bottom),r=ec(t.left,t.right);return function(n){var a=e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var i=e(n.top)||e(n.bottom),s=r(n.left)||r(n.right),l=i&&s;if(l)return!0;var c=n.top<t.top&&n.bottom>t.bottom,u=n.left<t.left&&n.right>t.right,d=c&&u;if(d)return!0;var f=c&&s||u&&i;return f}},VAe=function(t){var e=ec(t.top,t.bottom),r=ec(t.left,t.right);return function(n){var a=e(n.top)&&e(n.bottom)&&r(n.left)&&r(n.right);return a}},uM={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},kQ={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},HAe=function(t){return function(e){var r=ec(e.top,e.bottom),n=ec(e.left,e.right);return function(a){return t===uM?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},WAe=function(e,r){var n=r.frame?r.frame.scroll.diff.displacement:Yi;return a2(e,n)},qAe=function(e,r,n){return r.subject.active?n(r.subject.active)(e):!1},GAe=function(e,r,n){return n(r)(e)},dM=function(e){var r=e.target,n=e.destination,a=e.viewport,i=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,l=i?WAe(r,n):r;return qAe(l,n,s)&&GAe(l,a,s)},YAe=function(e){return dM(gr({},e,{isVisibleThroughFrameFn:TQ}))},PQ=function(e){return dM(gr({},e,{isVisibleThroughFrameFn:VAe}))},KAe=function(e){return dM(gr({},e,{isVisibleThroughFrameFn:HAe(e.destination.axis)}))},XAe=function(e,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[e])return!1;var s=i[e];return s?s.shouldAnimate:!0};function ZAe(t,e){var r=t.page.marginBox,n={top:e.point.y,right:0,bottom:0,left:e.point.x};return $c(iM(r,n))}function gb(t){var e=t.afterDragging,r=t.destination,n=t.displacedBy,a=t.viewport,i=t.forceShouldAnimate,s=t.last;return e.reduce(function(c,u){var d=ZAe(u,n),f=u.descriptor.id;c.all.push(f);var m=YAe({target:d,destination:r,viewport:a,withDroppableDisplacement:!0});if(!m)return c.invisible[u.descriptor.id]=!0,c;var h=XAe(f,s,i),v={draggableId:f,shouldAnimate:h};return c.visible[f]=v,c},{all:[],visible:{},invisible:{}})}function QAe(t,e){if(!t.length)return 0;var r=t[t.length-1].descriptor.index;return e.inHomeList?r:r+1}function _$(t){var e=t.insideDestination,r=t.inHomeList,n=t.displacedBy,a=t.destination,i=QAe(e,{inHomeList:r});return{displaced:pb,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function Mj(t){var e=t.draggable,r=t.insideDestination,n=t.destination,a=t.viewport,i=t.displacedBy,s=t.last,l=t.index,c=t.forceShouldAnimate,u=Ey(e,n);if(l==null)return _$({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var d=om(r,function(g){return g.descriptor.index===l});if(!d)return _$({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var f=TE(e,r),m=r.indexOf(d),h=f.slice(m),v=gb({afterDragging:h,destination:n,displacedBy:i,last:s,viewport:a.frame,forceShouldAnimate:c});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:l}}}}function zh(t,e){return!!e.effected[t]}var JAe=function(t){var e=t.isMovingForward,r=t.destination,n=t.draggables,a=t.combine,i=t.afterCritical;if(!r.isCombineEnabled)return null;var s=a.draggableId,l=n[s],c=l.descriptor.index,u=zh(s,i);return u?e?c:c-1:e?c+1:c},eEe=function(t){var e=t.isMovingForward,r=t.isInHomeList,n=t.insideDestination,a=t.location;if(!n.length)return null;var i=a.index,s=e?i+1:i-1,l=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return s<l||s>u?null:s},tEe=function(t){var e=t.isMovingForward,r=t.isInHomeList,n=t.draggable,a=t.draggables,i=t.destination,s=t.insideDestination,l=t.previousImpact,c=t.viewport,u=t.afterCritical,d=l.at;if(d||Dt(),d.type==="REORDER"){var f=eEe({isMovingForward:e,isInHomeList:r,location:d.destination,insideDestination:s});return f==null?null:Mj({draggable:n,insideDestination:s,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:f})}var m=JAe({isMovingForward:e,destination:i,displaced:l.displaced,draggables:a,combine:d.combine,afterCritical:u});return m==null?null:Mj({draggable:n,insideDestination:s,destination:i,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:m})},rEe=function(t){var e=t.displaced,r=t.afterCritical,n=t.combineWith,a=t.displacedBy,i=!!(e.visible[n]||e.invisible[n]);return zh(n,r)?i?Yi:Ny(a.point):i?a.point:Yi},nEe=function(t){var e=t.afterCritical,r=t.impact,n=t.draggables,a=CE(r);a||Dt();var i=a.draggableId,s=n[i].page.borderBox.center,l=rEe({displaced:r.displaced,afterCritical:e,combineWith:i,displacedBy:r.displacedBy});return ds(s,l)},DQ=function(e,r){return r.margin[e.start]+r.borderBox[e.size]/2},aEe=function(e,r){return r.margin[e.end]+r.borderBox[e.size]/2},fM=function(e,r,n){return r[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},j$=function(e){var r=e.axis,n=e.moveRelativeTo,a=e.isMoving;return zp(r.line,n.marginBox[r.end]+DQ(r,a),fM(r,n.marginBox,a))},N$=function(e){var r=e.axis,n=e.moveRelativeTo,a=e.isMoving;return zp(r.line,n.marginBox[r.start]-aEe(r,a),fM(r,n.marginBox,a))},iEe=function(e){var r=e.axis,n=e.moveInto,a=e.isMoving;return zp(r.line,n.contentBox[r.start]+DQ(r,a),fM(r,n.contentBox,a))},sEe=function(t){var e=t.impact,r=t.draggable,n=t.draggables,a=t.droppable,i=t.afterCritical,s=Ay(a.descriptor.id,n),l=r.page,c=a.axis;if(!s.length)return iEe({axis:c,moveInto:a.page,isMoving:l});var u=e.displaced,d=e.displacedBy,f=u.all[0];if(f){var m=n[f];if(zh(f,i))return N$({axis:c,moveRelativeTo:m.page,isMoving:l});var h=kj(m.page,d.point);return N$({axis:c,moveRelativeTo:h,isMoving:l})}var v=s[s.length-1];if(v.descriptor.id===r.descriptor.id)return l.borderBox.center;if(zh(v.descriptor.id,i)){var g=kj(v.page,Ny(i.displacedBy.point));return j$({axis:c,moveRelativeTo:g,isMoving:l})}return j$({axis:c,moveRelativeTo:v.page,isMoving:l})},CP=function(t,e){var r=t.frame;return r?ds(e,r.scroll.diff.displacement):e},oEe=function(e){var r=e.impact,n=e.draggable,a=e.droppable,i=e.draggables,s=e.afterCritical,l=n.page.borderBox.center,c=r.at;return!a||!c?l:c.type==="REORDER"?sEe({impact:r,draggable:n,draggables:i,droppable:a,afterCritical:s}):nEe({impact:r,draggables:i,afterCritical:s})},kE=function(t){var e=oEe(t),r=t.droppable,n=r?CP(r,e):e;return n},OQ=function(t,e){var r=cl(e,t.scroll.initial),n=Ny(r),a=$c({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),i={frame:a,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:r,displacement:n}}};return i};function A$(t,e){return t.map(function(r){return e[r]})}function lEe(t,e){for(var r=0;r<e.length;r++){var n=e[r].visible[t];if(n)return n}return null}var cEe=function(t){var e=t.impact,r=t.viewport,n=t.destination,a=t.draggables,i=t.maxScrollChange,s=OQ(r,ds(r.scroll.current,i)),l=n.frame?oM(n,ds(n.frame.scroll.current,i)):n,c=e.displaced,u=gb({afterDragging:A$(c.all,a),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:c,forceShouldAnimate:!1}),d=gb({afterDragging:A$(c.all,a),destination:l,displacedBy:e.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),f={},m={},h=[c,u,d];c.all.forEach(function(g){var p=lEe(g,h);if(p){m[g]=p;return}f[g]=!0});var v=gr({},e,{displaced:{all:c.all,invisible:f,visible:m}});return v},uEe=function(t,e){return ds(t.scroll.diff.displacement,e)},hM=function(t){var e=t.pageBorderBoxCenter,r=t.draggable,n=t.viewport,a=uEe(n,e),i=cl(a,r.page.borderBox.center);return ds(r.client.borderBox.center,i)},IQ=function(t){var e=t.draggable,r=t.destination,n=t.newPageBorderBoxCenter,a=t.viewport,i=t.withDroppableDisplacement,s=t.onlyOnMainAxis,l=s===void 0?!1:s,c=cl(n,e.page.borderBox.center),u=a2(e.page.borderBox,c),d={target:u,destination:r,withDroppableDisplacement:i,viewport:a};return l?KAe(d):PQ(d)},dEe=function(t){var e=t.isMovingForward,r=t.draggable,n=t.destination,a=t.draggables,i=t.previousImpact,s=t.viewport,l=t.previousPageBorderBoxCenter,c=t.previousClientSelection,u=t.afterCritical;if(!n.isEnabled)return null;var d=Ay(n.descriptor.id,a),f=Ey(r,n),m=UAe({isMovingForward:e,draggable:r,destination:n,insideDestination:d,previousImpact:i})||tEe({isMovingForward:e,isInHomeList:f,draggable:r,draggables:a,destination:n,insideDestination:d,previousImpact:i,viewport:s,afterCritical:u});if(!m)return null;var h=kE({impact:m,draggable:r,droppable:n,draggables:a,afterCritical:u}),v=IQ({draggable:r,destination:n,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var g=hM({pageBorderBoxCenter:h,draggable:r,viewport:s});return{clientSelection:g,impact:m,scrollJumpRequest:null}}var p=cl(h,l),y=cEe({impact:m,viewport:s,destination:n,draggables:a,maxScrollChange:p});return{clientSelection:c,impact:y,scrollJumpRequest:p}},Ks=function(e){var r=e.subject.active;return r||Dt(),r},fEe=function(t){var e=t.isMovingForward,r=t.pageBorderBoxCenter,n=t.source,a=t.droppables,i=t.viewport,s=n.subject.active;if(!s)return null;var l=n.axis,c=ec(s[l.start],s[l.end]),u=EE(a).filter(function(f){return f!==n}).filter(function(f){return f.isEnabled}).filter(function(f){return!!f.subject.active}).filter(function(f){return TQ(i.frame)(Ks(f))}).filter(function(f){var m=Ks(f);return e?s[l.crossAxisEnd]<m[l.crossAxisEnd]:m[l.crossAxisStart]<s[l.crossAxisStart]}).filter(function(f){var m=Ks(f),h=ec(m[l.start],m[l.end]);return c(m[l.start])||c(m[l.end])||h(s[l.start])||h(s[l.end])}).sort(function(f,m){var h=Ks(f)[l.crossAxisStart],v=Ks(m)[l.crossAxisStart];return e?h-v:v-h}).filter(function(f,m,h){return Ks(f)[l.crossAxisStart]===Ks(h[0])[l.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var d=u.filter(function(f){var m=ec(Ks(f)[l.start],Ks(f)[l.end]);return m(r[l.line])});return d.length===1?d[0]:d.length>1?d.sort(function(f,m){return Ks(f)[l.start]-Ks(m)[l.start]})[0]:u.sort(function(f,m){var h=w$(r,S$(Ks(f))),v=w$(r,S$(Ks(m)));return h!==v?h-v:Ks(f)[l.start]-Ks(m)[l.start]})[0]},E$=function(e,r){var n=e.page.borderBox.center;return zh(e.descriptor.id,r)?cl(n,r.displacedBy.point):n},hEe=function(e,r){var n=e.page.borderBox;return zh(e.descriptor.id,r)?a2(n,Ny(r.displacedBy.point)):n},mEe=function(t){var e=t.pageBorderBoxCenter,r=t.viewport,n=t.destination,a=t.insideDestination,i=t.afterCritical,s=a.filter(function(l){return PQ({target:hEe(l,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(l,c){var u=mb(e,CP(n,E$(l,i))),d=mb(e,CP(n,E$(c,i)));return u<d?-1:d<u?1:l.descriptor.index-c.descriptor.index});return s[0]||null},i2=qi(function(e,r){var n=r[e.line];return{value:n,point:zp(e.line,n)}}),pEe=function(e,r,n){var a=e.axis;if(e.descriptor.mode==="virtual")return zp(a.line,r[a.line]);var i=e.subject.page.contentBox[a.size],s=Ay(e.descriptor.id,n),l=s.reduce(function(d,f){return d+f.client.marginBox[a.size]},0),c=l+r[a.line],u=c-i;return u<=0?null:zp(a.line,u)},MQ=function(e,r){return gr({},e,{scroll:gr({},e.scroll,{max:r})})},RQ=function(e,r,n){var a=e.frame;Ey(r,e)&&Dt(),e.subject.withPlaceholder&&Dt();var i=i2(e.axis,r.displaceBy).point,s=pEe(e,i,n),l={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!a){var c=kv({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:e.frame});return gr({},e,{subject:c})}var u=s?ds(a.scroll.max,s):a.scroll.max,d=MQ(a,u),f=kv({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:d});return gr({},e,{subject:f,frame:d})},gEe=function(e){var r=e.subject.withPlaceholder;r||Dt();var n=e.frame;if(!n){var a=kv({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return gr({},e,{subject:a})}var i=r.oldFrameMaxScroll;i||Dt();var s=MQ(n,i),l=kv({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return gr({},e,{subject:l,frame:s})},vEe=function(t){var e=t.previousPageBorderBoxCenter,r=t.moveRelativeTo,n=t.insideDestination,a=t.draggable,i=t.draggables,s=t.destination,l=t.viewport,c=t.afterCritical;if(!r){if(n.length)return null;var u={displaced:pb,displacedBy:CQ,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=kE({impact:u,draggable:a,droppable:s,draggables:i,afterCritical:c}),f=Ey(a,s)?s:RQ(s,a,i),m=IQ({draggable:a,destination:f,newPageBorderBoxCenter:d,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return m?u:null}var h=e[s.axis.line]<=r.page.borderBox.center[s.axis.line],v=function(){var p=r.descriptor.index;return r.descriptor.id===a.descriptor.id||h?p:p+1}(),g=i2(s.axis,a.displaceBy);return Mj({draggable:a,insideDestination:n,destination:s,viewport:l,displacedBy:g,last:pb,index:v})},yEe=function(t){var e=t.isMovingForward,r=t.previousPageBorderBoxCenter,n=t.draggable,a=t.isOver,i=t.draggables,s=t.droppables,l=t.viewport,c=t.afterCritical,u=fEe({isMovingForward:e,pageBorderBoxCenter:r,source:a,droppables:s,viewport:l});if(!u)return null;var d=Ay(u.descriptor.id,i),f=mEe({pageBorderBoxCenter:r,viewport:l,destination:u,insideDestination:d,afterCritical:c}),m=vEe({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:d,viewport:l,afterCritical:c});if(!m)return null;var h=kE({impact:m,draggable:n,droppable:u,draggables:i,afterCritical:c}),v=hM({pageBorderBoxCenter:h,draggable:n,viewport:l});return{clientSelection:v,impact:m,scrollJumpRequest:null}},dl=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},xEe=function(e,r){var n=dl(e);return n?r[n]:null},bEe=function(t){var e=t.state,r=t.type,n=xEe(e.impact,e.dimensions.droppables),a=!!n,i=e.dimensions.droppables[e.critical.droppable.id],s=n||i,l=s.axis.direction,c=l==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||l==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!a)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,m=e.dimensions,h=m.draggables,v=m.droppables;return c?dEe({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,destination:s,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):yEe({isMovingForward:u,previousPageBorderBoxCenter:f,draggable:d,isOver:s,draggables:h,droppables:v,viewport:e.viewport,afterCritical:e.afterCritical})};function Um(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function LQ(t){var e=ec(t.top,t.bottom),r=ec(t.left,t.right);return function(a){return e(a.y)&&r(a.x)}}function wEe(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function SEe(t){var e=t.pageBorderBox,r=t.draggable,n=t.candidates,a=r.page.borderBox.center,i=n.map(function(s){var l=s.axis,c=zp(s.axis.line,e.center[l.line],s.page.borderBox.center[l.crossAxisLine]);return{id:s.descriptor.id,distance:mb(a,c)}}).sort(function(s,l){return l.distance-s.distance});return i[0]?i[0].id:null}function _Ee(t){var e=t.pageBorderBox,r=t.draggable,n=t.droppables,a=EE(n).filter(function(i){if(!i.isEnabled)return!1;var s=i.subject.active;if(!s||!wEe(e,s))return!1;if(LQ(s)(e.center))return!0;var l=i.axis,c=s.center[l.crossAxisLine],u=e[l.crossAxisStart],d=e[l.crossAxisEnd],f=ec(s[l.crossAxisStart],s[l.crossAxisEnd]),m=f(u),h=f(d);return!m&&!h?!0:m?u<c:d>c});return a.length?a.length===1?a[0].descriptor.id:SEe({pageBorderBox:e,draggable:r,candidates:a}):null}var FQ=function(e,r){return $c(a2(e,r))},jEe=function(t,e){var r=t.frame;return r?FQ(e,r.scroll.diff.value):e};function $Q(t){var e=t.displaced,r=t.id;return!!(e.visible[r]||e.invisible[r])}function NEe(t){var e=t.draggable,r=t.closest,n=t.inHomeList;return r?n&&r.descriptor.index>e.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var AEe=function(t){var e=t.pageBorderBoxWithDroppableScroll,r=t.draggable,n=t.destination,a=t.insideDestination,i=t.last,s=t.viewport,l=t.afterCritical,c=n.axis,u=i2(n.axis,r.displaceBy),d=u.value,f=e[c.start],m=e[c.end],h=TE(r,a),v=om(h,function(p){var y=p.descriptor.id,x=p.page.borderBox.center[c.line],b=zh(y,l),w=$Q({displaced:i,id:y});return b?w?m<=x:f<x-d:w?m<=x+d:f<x}),g=NEe({draggable:r,closest:v,inHomeList:Ey(r,n)});return Mj({draggable:r,insideDestination:a,destination:n,viewport:s,last:i,displacedBy:u,index:g})},EEe=4,CEe=function(t){var e=t.draggable,r=t.pageBorderBoxWithDroppableScroll,n=t.previousImpact,a=t.destination,i=t.insideDestination,s=t.afterCritical;if(!a.isCombineEnabled)return null;var l=a.axis,c=i2(a.axis,e.displaceBy),u=c.value,d=r[l.start],f=r[l.end],m=TE(e,i),h=om(m,function(g){var p=g.descriptor.id,y=g.page.borderBox,x=y[l.size],b=x/EEe,w=zh(p,s),_=$Q({displaced:n.displaced,id:p});return w?_?f>y[l.start]+b&&f<y[l.end]-b:d>y[l.start]-u+b&&d<y[l.end]-u-b:_?f>y[l.start]+u+b&&f<y[l.end]+u-b:d>y[l.start]+b&&d<y[l.end]-b});if(!h)return null;var v={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:a.descriptor.id}}};return v},BQ=function(t){var e=t.pageOffset,r=t.draggable,n=t.draggables,a=t.droppables,i=t.previousImpact,s=t.viewport,l=t.afterCritical,c=FQ(r.page.borderBox,e),u=_Ee({pageBorderBox:c,draggable:r,droppables:a});if(!u)return zAe;var d=a[u],f=Ay(d.descriptor.id,n),m=jEe(d,c);return CEe({pageBorderBoxWithDroppableScroll:m,draggable:r,previousImpact:i,destination:d,insideDestination:f,afterCritical:l})||AEe({pageBorderBoxWithDroppableScroll:m,draggable:r,destination:d,insideDestination:f,last:i.displaced,viewport:s,afterCritical:l})},mM=function(t,e){var r;return gr({},t,(r={},r[e.descriptor.id]=e,r))},TEe=function(e){var r=e.previousImpact,n=e.impact,a=e.droppables,i=dl(r),s=dl(n);if(!i||i===s)return a;var l=a[i];if(!l.subject.withPlaceholder)return a;var c=gEe(l);return mM(a,c)},kEe=function(t){var e=t.draggable,r=t.draggables,n=t.droppables,a=t.previousImpact,i=t.impact,s=TEe({previousImpact:a,impact:i,droppables:n}),l=dl(i);if(!l)return s;var c=n[l];if(Ey(e,c)||c.subject.withPlaceholder)return s;var u=RQ(c,e,r);return mM(s,u)},j1=function(t){var e=t.state,r=t.clientSelection,n=t.dimensions,a=t.viewport,i=t.impact,s=t.scrollJumpRequest,l=a||e.viewport,c=n||e.dimensions,u=r||e.current.client.selection,d=cl(u,e.initial.client.selection),f={offset:d,selection:u,borderBoxCenter:ds(e.initial.client.borderBoxCenter,d)},m={selection:ds(f.selection,l.scroll.current),borderBoxCenter:ds(f.borderBoxCenter,l.scroll.current),offset:ds(f.offset,l.scroll.diff.value)},h={client:f,page:m};if(e.phase==="COLLECTING")return gr({phase:"COLLECTING"},e,{dimensions:c,viewport:l,current:h});var v=c.draggables[e.critical.draggable.id],g=i||BQ({pageOffset:m.offset,draggable:v,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:l,afterCritical:e.afterCritical}),p=kEe({draggable:v,impact:g,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables}),y=gr({},e,{current:h,dimensions:{draggables:c.draggables,droppables:p},impact:g,viewport:l,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return y};function PEe(t,e){return t.map(function(r){return e[r]})}var UQ=function(t){var e=t.impact,r=t.viewport,n=t.draggables,a=t.destination,i=t.forceShouldAnimate,s=e.displaced,l=PEe(s.all,n),c=gb({afterDragging:l,destination:a,displacedBy:e.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:s});return gr({},e,{displaced:c})},zQ=function(t){var e=t.impact,r=t.draggable,n=t.droppable,a=t.draggables,i=t.viewport,s=t.afterCritical,l=kE({impact:e,draggable:r,draggables:a,droppable:n,afterCritical:s});return hM({pageBorderBoxCenter:l,draggable:r,viewport:i})},VQ=function(t){var e=t.state,r=t.dimensions,n=t.viewport;e.movementMode!=="SNAP"&&Dt();var a=e.impact,i=n||e.viewport,s=r||e.dimensions,l=s.draggables,c=s.droppables,u=l[e.critical.draggable.id],d=dl(a);d||Dt();var f=c[d],m=UQ({impact:a,viewport:i,destination:f,draggables:l}),h=zQ({impact:m,draggable:u,droppable:f,draggables:l,viewport:i,afterCritical:e.afterCritical});return j1({impact:m,clientSelection:h,state:e,dimensions:s,viewport:i})},DEe=function(t){return{index:t.index,droppableId:t.droppableId}},HQ=function(t){var e=t.draggable,r=t.home,n=t.draggables,a=t.viewport,i=i2(r.axis,e.displaceBy),s=Ay(r.descriptor.id,n),l=s.indexOf(e);l===-1&&Dt();var c=s.slice(l+1),u=c.reduce(function(h,v){return h[v.descriptor.id]=!0,h},{}),d={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:u},f=gb({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),m={displaced:f,displacedBy:i,at:{type:"REORDER",destination:DEe(e.descriptor)}};return{impact:m,afterCritical:d}},OEe=function(t,e){return{draggables:t.draggables,droppables:mM(t.droppables,e)}},IEe=function(t){var e=t.draggable,r=t.offset,n=t.initialWindowScroll,a=kj(e.client,r),i=Pj(a,n),s=gr({},e,{placeholder:gr({},e.placeholder,{client:a}),client:a,page:i});return s},MEe=function(t){var e=t.frame;return e||Dt(),e},REe=function(t){var e=t.additions,r=t.updatedDroppables,n=t.viewport,a=n.scroll.diff.value;return e.map(function(i){var s=i.descriptor.droppableId,l=r[s],c=MEe(l),u=c.scroll.diff.value,d=ds(a,u),f=IEe({draggable:i,offset:d,initialWindowScroll:n.scroll.initial});return f})},LEe=function(t){var e=t.state,r=t.published,n=r.modified.map(function(b){var w=e.dimensions.droppables[b.droppableId],_=oM(w,b.scroll);return _}),a=gr({},e.dimensions.droppables,{},AQ(n)),i=EQ(REe({additions:r.additions,updatedDroppables:a,viewport:e.viewport})),s=gr({},e.dimensions.draggables,{},i);r.removals.forEach(function(b){delete s[b]});var l={droppables:a,draggables:s},c=dl(e.impact),u=c?l.droppables[c]:null,d=l.draggables[e.critical.draggable.id],f=l.droppables[e.critical.droppable.id],m=HQ({draggable:d,home:f,draggables:s,viewport:e.viewport}),h=m.impact,v=m.afterCritical,g=u&&u.isCombineEnabled?e.impact:h,p=BQ({pageOffset:e.current.page.offset,draggable:l.draggables[e.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:e.viewport,afterCritical:v}),y=gr({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:p,onLiftImpact:h,dimensions:l,afterCritical:v,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return y;var x=gr({phase:"DROP_PENDING"},y,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return x},TP=function(e){return e.movementMode==="SNAP"},kT=function(e,r,n){var a=OEe(e.dimensions,r);return!TP(e)||n?j1({state:e,dimensions:a}):VQ({state:e,dimensions:a})};function PT(t){return t.isDragging&&t.movementMode==="SNAP"?gr({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var C$={phase:"IDLE",completed:null,shouldFlush:!1},FEe=function(t,e){if(t===void 0&&(t=C$),e.type==="FLUSH")return gr({},C$,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&Dt();var r=e.payload,n=r.critical,a=r.clientSelection,i=r.viewport,s=r.dimensions,l=r.movementMode,c=s.draggables[n.draggable.id],u=s.droppables[n.droppable.id],d={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Yi},f={client:d,page:{selection:ds(d.selection,i.scroll.initial),borderBoxCenter:ds(d.selection,i.scroll.initial),offset:ds(d.selection,i.scroll.diff.value)}},m=EE(s.droppables).every(function(we){return!we.isFixedOnPage}),h=HQ({draggable:c,home:u,draggables:s.draggables,viewport:i}),v=h.impact,g=h.afterCritical,p={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:l,dimensions:s,initial:f,current:f,isWindowScrollAllowed:m,impact:v,afterCritical:g,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return p}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Dt();var y=gr({phase:"COLLECTING"},t,{phase:"COLLECTING"});return y}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||Dt(),LEe({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Um(t)||Dt();var x=e.payload.client;return _h(x,t.current.client.selection)?t:j1({state:t,clientSelection:x,impact:TP(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return PT(t);Um(t)||Dt();var b=e.payload,w=b.id,_=b.newScroll,j=t.dimensions.droppables[w];if(!j)return t;var A=oM(j,_);return kT(t,A,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Um(t)||Dt();var E=e.payload,T=E.id,R=E.isEnabled,D=t.dimensions.droppables[T];D||Dt(),D.isEnabled===R&&Dt();var P=gr({},D,{isEnabled:R});return kT(t,P,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Um(t)||Dt();var I=e.payload,L=I.id,V=I.isCombineEnabled,H=t.dimensions.droppables[L];H||Dt(),H.isCombineEnabled===V&&Dt();var q=gr({},H,{isCombineEnabled:V});return kT(t,q,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Um(t)||Dt(),t.isWindowScrollAllowed||Dt();var G=e.payload.newScroll;if(_h(t.viewport.scroll.current,G))return PT(t);var re=OQ(t.viewport,G);return TP(t)?VQ({state:t,viewport:re}):j1({state:t,viewport:re})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Um(t))return t;var Z=e.payload.maxScroll;if(_h(Z,t.viewport.scroll.max))return t;var de=gr({},t.viewport,{scroll:gr({},t.viewport.scroll,{max:Z})});return gr({phase:"DRAGGING"},t,{viewport:de})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&Dt();var k=bEe({state:t,type:e.type});return k?j1({state:t,impact:k.impact,clientSelection:k.clientSelection,scrollJumpRequest:k.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var F=e.payload.reason;t.phase!=="COLLECTING"&&Dt();var B=gr({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:F});return B}if(e.type==="DROP_ANIMATE"){var z=e.payload,ee=z.completed,le=z.dropDuration,ge=z.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||Dt();var se={phase:"DROP_ANIMATING",completed:ee,dropDuration:le,newHomeClientOffset:ge,dimensions:t.dimensions};return se}if(e.type==="DROP_COMPLETE"){var ie=e.payload.completed;return{phase:"IDLE",completed:ie,shouldFlush:!1}}return t},$Ee=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},BEe=function(e){return{type:"LIFT",payload:e}},UEe=function(e){return{type:"INITIAL_PUBLISH",payload:e}},zEe=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},VEe=function(){return{type:"COLLECTION_STARTING",payload:null}},HEe=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},WEe=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},qEe=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},WQ=function(e){return{type:"MOVE",payload:e}},GEe=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},YEe=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},KEe=function(){return{type:"MOVE_UP",payload:null}},XEe=function(){return{type:"MOVE_DOWN",payload:null}},ZEe=function(){return{type:"MOVE_RIGHT",payload:null}},QEe=function(){return{type:"MOVE_LEFT",payload:null}},pM=function(){return{type:"FLUSH",payload:null}},JEe=function(e){return{type:"DROP_ANIMATE",payload:e}},gM=function(e){return{type:"DROP_COMPLETE",payload:e}},qQ=function(e){return{type:"DROP",payload:e}},e5e=function(e){return{type:"DROP_PENDING",payload:e}},GQ=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},t5e=function(t){return function(e){var r=e.getState,n=e.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var s=i.payload,l=s.id,c=s.clientSelection,u=s.movementMode,d=r();d.phase==="DROP_ANIMATING"&&n(gM({completed:d.completed})),r().phase!=="IDLE"&&Dt(),n(pM()),n($Ee({draggableId:l,movementMode:u}));var f={shouldPublishImmediately:u==="SNAP"},m={draggableId:l,scrollOptions:f},h=t.startPublishing(m),v=h.critical,g=h.dimensions,p=h.viewport;n(UEe({critical:v,dimensions:g,clientSelection:c,movementMode:u,viewport:p}))}}}},r5e=function(t){return function(){return function(e){return function(r){r.type==="INITIAL_PUBLISH"&&t.dragging(),r.type==="DROP_ANIMATE"&&t.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&t.resting(),e(r)}}}},vM={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},vb={opacity:{drop:0,combining:.7},scale:{drop:.75}},yM={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Pm=yM.outOfTheWay+"s "+vM.outOfTheWay,N1={fluid:"opacity "+Pm,snap:"transform "+Pm+", opacity "+Pm,drop:function(e){var r=e+"s "+vM.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+Pm,placeholder:"height "+Pm+", width "+Pm+", margin "+Pm},T$=function(e){return _h(e,Yi)?null:"translate("+e.x+"px, "+e.y+"px)"},kP={moveTo:T$,drop:function(e,r){var n=T$(e);return n?r?n+" scale("+vb.scale.drop+")":n:null}},PP=yM.minDropTime,YQ=yM.maxDropTime,n5e=YQ-PP,k$=1500,a5e=.6,i5e=function(t){var e=t.current,r=t.destination,n=t.reason,a=mb(e,r);if(a<=0)return PP;if(a>=k$)return YQ;var i=a/k$,s=PP+n5e*i,l=n==="CANCEL"?s*a5e:s;return Number(l.toFixed(2))},s5e=function(t){var e=t.impact,r=t.draggable,n=t.dimensions,a=t.viewport,i=t.afterCritical,s=n.draggables,l=n.droppables,c=dl(e),u=c?l[c]:null,d=l[r.descriptor.droppableId],f=zQ({impact:e,draggable:r,draggables:s,afterCritical:i,droppable:u||d,viewport:a}),m=cl(f,r.client.borderBox.center);return m},o5e=function(t){var e=t.draggables,r=t.reason,n=t.lastImpact,a=t.home,i=t.viewport,s=t.onLiftImpact;if(!n.at||r!=="DROP"){var l=UQ({draggables:e,impact:s,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:l,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=gr({},n,{displaced:pb});return{impact:c,didDropInsideDroppable:!0}},l5e=function(t){var e=t.getState,r=t.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=e(),s=a.payload.reason;if(i.phase==="COLLECTING"){r(e5e({reason:s}));return}if(i.phase!=="IDLE"){var l=i.phase==="DROP_PENDING"&&i.isWaiting;l&&Dt(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Dt();var c=i.critical,u=i.dimensions,d=u.draggables[i.critical.draggable.id],f=o5e({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=f.impact,h=f.didDropInsideDroppable,v=h?cM(m):null,g=h?CE(m):null,p={index:c.draggable.index,droppableId:c.droppable.id},y={draggableId:d.descriptor.id,type:d.descriptor.type,source:p,reason:s,mode:i.movementMode,destination:v,combine:g},x=s5e({impact:m,draggable:d,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),b={critical:i.critical,afterCritical:i.afterCritical,result:y,impact:m},w=!_h(i.current.client.offset,x)||!!y.combine;if(!w){r(gM({completed:b}));return}var _=i5e({current:i.current.client.offset,destination:x,reason:s}),j={newHomeClientOffset:x,dropDuration:_,completed:b};r(JEe(j))}}}},KQ=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function c5e(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||t()}}}function u5e(t){var e=t.onWindowScroll;function r(){e(KQ())}var n=hb(r),a=c5e(n),i=Sh;function s(){return i!==Sh}function l(){s()&&Dt(),i=Yl(window,[a])}function c(){s()||Dt(),n.cancel(),i(),i=Sh}return{start:l,stop:c,isActive:s}}var d5e=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},f5e=function(t){var e=u5e({onWindowScroll:function(n){t.dispatch(GEe({newScroll:n}))}});return function(r){return function(n){!e.isActive()&&n.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&d5e(n)&&e.stop(),r(n)}}},h5e=function(t){var e=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(s){e||r||(e=!0,t(s),clearTimeout(n))};return a.wasCalled=function(){return e},a},m5e=function(){var t=[],e=function(i){var s=lM(t,function(u){return u.timerId===i});s===-1&&Dt();var l=t.splice(s,1),c=l[0];c.callback()},r=function(i){var s=setTimeout(function(){return e(s)}),l={timerId:s,callback:i};t.push(l)},n=function(){if(t.length){var i=[].concat(t);t.length=0,i.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:r,flush:n}},p5e=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.droppableId===r.droppableId&&e.index===r.index},g5e=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.draggableId===r.draggableId&&e.droppableId===r.droppableId},v5e=function(e,r){if(e===r)return!0;var n=e.draggable.id===r.draggable.id&&e.draggable.droppableId===r.draggable.droppableId&&e.draggable.type===r.draggable.type&&e.draggable.index===r.draggable.index,a=e.droppable.id===r.droppable.id&&e.droppable.type===r.droppable.type;return n&&a},Ix=function(e,r){r()},BS=function(e,r){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:r}},DT=function(e,r,n,a){if(!e){n(a(r));return}var i=h5e(n),s={announce:i};e(r,s),i.wasCalled()||n(a(r))},y5e=function(t,e){var r=m5e(),n=null,a=function(m,h){n&&Dt(),Ix("onBeforeCapture",function(){var v=t().onBeforeCapture;if(v){var g={draggableId:m,mode:h};v(g)}})},i=function(m,h){n&&Dt(),Ix("onBeforeDragStart",function(){var v=t().onBeforeDragStart;v&&v(BS(m,h))})},s=function(m,h){n&&Dt();var v=BS(m,h);n={mode:h,lastCritical:m,lastLocation:v.source,lastCombine:null},r.add(function(){Ix("onDragStart",function(){return DT(t().onDragStart,v,e,q_.onDragStart)})})},l=function(m,h){var v=cM(h),g=CE(h);n||Dt();var p=!v5e(m,n.lastCritical);p&&(n.lastCritical=m);var y=!p5e(n.lastLocation,v);y&&(n.lastLocation=v);var x=!g5e(n.lastCombine,g);if(x&&(n.lastCombine=g),!(!p&&!y&&!x)){var b=gr({},BS(m,n.mode),{combine:g,destination:v});r.add(function(){Ix("onDragUpdate",function(){return DT(t().onDragUpdate,b,e,q_.onDragUpdate)})})}},c=function(){n||Dt(),r.flush()},u=function(m){n||Dt(),n=null,Ix("onDragEnd",function(){return DT(t().onDragEnd,m,e,q_.onDragEnd)})},d=function(){if(n){var m=gr({},BS(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(m)}};return{beforeCapture:a,beforeStart:i,start:s,update:l,flush:c,drop:u,abort:d}},x5e=function(t,e){var r=y5e(t,e);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var s=i.payload.critical;r.beforeStart(s,i.payload.movementMode),a(i),r.start(s,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var l=i.payload.completed.result;r.flush(),a(i),r.drop(l);return}if(a(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},b5e=function(t){return function(e){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){e(r);return}var n=t.getState();n.phase!=="DROP_ANIMATING"&&Dt(),t.dispatch(gM({completed:n.completed}))}}},w5e=function(t){var e=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),e&&(e(),e=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=t.getState();c.phase==="DROP_ANIMATING"&&t.dispatch(GQ())}};r=requestAnimationFrame(function(){r=null,e=Yl(window,[s])})}}}},S5e=function(t){return function(){return function(e){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&t.stopPublishing(),e(r)}}}},_5e=function(t){var e=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(n.payload.critical.draggable.id),r(n),t.tryRestoreFocusRecorded();return}if(r(n),!!e){if(n.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){e=!1;var a=n.payload.completed.result;a.combine&&t.tryShiftRecord(a.draggableId,a.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},j5e=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},N5e=function(t){return function(e){return function(r){return function(n){if(j5e(n)){t.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=e.getState();a.phase!=="DRAGGING"&&Dt(),t.start(a);return}r(n),t.scroll(e.getState())}}}},A5e=function(t){return function(e){return function(r){if(e(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=t.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||t.dispatch(qQ({reason:n.reason})))}}}},E5e=QZ,C5e=function(t){var e=t.dimensionMarshal,r=t.focusMarshal,n=t.styleMarshal,a=t.getResponders,i=t.announce,s=t.autoScroller;return ZZ(FEe,E5e(uNe(r5e(n),S5e(e),t5e(e),l5e,b5e,w5e,A5e,N5e(s),f5e,_5e(r),x5e(a,i))))},OT=function(){return{additions:{},removals:{},modified:{}}};function T5e(t){var e=t.registry,r=t.callbacks,n=OT(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var d=n,f=d.additions,m=d.removals,h=d.modified,v=Object.keys(f).map(function(y){return e.draggable.getById(y).getDimension(Yi)}).sort(function(y,x){return y.descriptor.index-x.descriptor.index}),g=Object.keys(h).map(function(y){var x=e.droppable.getById(y),b=x.callbacks.getScrollWhileDragging();return{droppableId:y,scroll:b}}),p={additions:v,removals:Object.keys(m),modified:g};n=OT(),r.publish(p)}))},s=function(d){var f=d.descriptor.id;n.additions[f]=d,n.modified[d.descriptor.droppableId]=!0,n.removals[f]&&delete n.removals[f],i()},l=function(d){var f=d.descriptor;n.removals[f.id]=!0,n.modified[f.droppableId]=!0,n.additions[f.id]&&delete n.additions[f.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,n=OT())};return{add:s,remove:l,stop:c}}var XQ=function(t){var e=t.scrollHeight,r=t.scrollWidth,n=t.height,a=t.width,i=cl({x:r,y:e},{x:a,y:n}),s={x:Math.max(0,i.x),y:Math.max(0,i.y)};return s},ZQ=function(){var t=document.documentElement;return t||Dt(),t},QQ=function(){var t=ZQ(),e=XQ({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},k5e=function(){var t=KQ(),e=QQ(),r=t.y,n=t.x,a=ZQ(),i=a.clientWidth,s=a.clientHeight,l=n+i,c=r+s,u=$c({top:r,left:n,right:l,bottom:c}),d={frame:u,scroll:{initial:t,current:t,max:e,diff:{value:Yi,displacement:Yi}}};return d},P5e=function(t){var e=t.critical,r=t.scrollOptions,n=t.registry,a=k5e(),i=a.scroll.current,s=e.droppable,l=n.droppable.getAllByType(s.type).map(function(f){return f.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(e.draggable.type).map(function(f){return f.getDimension(i)}),u={draggables:EQ(c),droppables:AQ(l)},d={dimensions:u,critical:e,viewport:a};return d};function P$(t,e,r){if(r.descriptor.id===e.id||r.descriptor.type!==e.type)return!1;var n=t.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var D5e=function(t,e){var r=null,n=T5e({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),a=function(h,v){t.droppable.exists(h)||Dt(),r&&e.updateDroppableIsEnabled({id:h,isEnabled:v})},i=function(h,v){r&&(t.droppable.exists(h)||Dt(),e.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:v}))},s=function(h,v){r&&(t.droppable.exists(h)||Dt(),e.updateDroppableScroll({id:h,newScroll:v}))},l=function(h,v){r&&t.droppable.getById(h).callbacks.scroll(v)},c=function(){if(r){n.stop();var h=r.critical.droppable;t.droppable.getAllByType(h.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(h){r||Dt();var v=r.critical.draggable;h.type==="ADDITION"&&P$(t,v,h.value)&&n.add(h.value),h.type==="REMOVAL"&&P$(t,v,h.value)&&n.remove(h.value)},d=function(h){r&&Dt();var v=t.draggable.getById(h.draggableId),g=t.droppable.getById(v.descriptor.droppableId),p={draggable:v.descriptor,droppable:g.descriptor},y=t.subscribe(u);return r={critical:p,unsubscribe:y},P5e({critical:p,registry:t,scrollOptions:h.scrollOptions})},f={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:l,updateDroppableScroll:s,startPublishing:d,stopPublishing:c};return f},JQ=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},O5e=function(t){window.scrollBy(t.x,t.y)},I5e=qi(function(t){return EE(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),M5e=function(e,r){var n=om(I5e(r),function(a){return a.frame||Dt(),LQ(a.frame.pageMarginBox)(e)});return n},R5e=function(t){var e=t.center,r=t.destination,n=t.droppables;if(r){var a=n[r];return a.frame?a:null}var i=M5e(e,n);return i},jh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},L5e=function(t,e){var r=t[e.size]*jh.startFromPercentage,n=t[e.size]*jh.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},eJ=function(t){var e=t.startOfRange,r=t.endOfRange,n=t.current,a=r-e;if(a===0)return 0;var i=n-e,s=i/a;return s},xM=1,F5e=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return jh.maxPixelScroll;if(t===e.startScrollingFrom)return xM;var r=eJ({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),n=1-r,a=jh.maxPixelScroll*jh.ease(n);return Math.ceil(a)},D$=jh.durationDampening.accelerateAt,O$=jh.durationDampening.stopDampeningAt,$5e=function(t,e){var r=e,n=O$,a=Date.now(),i=a-r;if(i>=O$)return t;if(i<D$)return xM;var s=eJ({startOfRange:D$,endOfRange:n,current:i}),l=t*jh.ease(s);return Math.ceil(l)},I$=function(t){var e=t.distanceToEdge,r=t.thresholds,n=t.dragStartTime,a=t.shouldUseTimeDampening,i=F5e(e,r);return i===0?0:a?Math.max($5e(i,n),xM):i},M$=function(t){var e=t.container,r=t.distanceToEdges,n=t.dragStartTime,a=t.axis,i=t.shouldUseTimeDampening,s=L5e(e,a),l=r[a.end]<r[a.start];return l?I$({distanceToEdge:r[a.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i}):-1*I$({distanceToEdge:r[a.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i})},B5e=function(t){var e=t.container,r=t.subject,n=t.proposedScroll,a=r.height>e.height,i=r.width>e.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},U5e=jQ(function(t){return t===0?0:t}),tJ=function(t){var e=t.dragStartTime,r=t.container,n=t.subject,a=t.center,i=t.shouldUseTimeDampening,s={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},l=M$({container:r,distanceToEdges:s,dragStartTime:e,axis:uM,shouldUseTimeDampening:i}),c=M$({container:r,distanceToEdges:s,dragStartTime:e,axis:kQ,shouldUseTimeDampening:i}),u=U5e({x:c,y:l});if(_h(u,Yi))return null;var d=B5e({container:r,subject:n,proposedScroll:u});return d?_h(d,Yi)?null:d:null},z5e=jQ(function(t){return t===0?0:t>0?1:-1}),bM=function(){var t=function(r,n){return r<0?r:r>n?r-n:0};return function(e){var r=e.current,n=e.max,a=e.change,i=ds(r,a),s={x:t(i.x,n.x),y:t(i.y,n.y)};return _h(s,Yi)?null:s}}(),rJ=function(e){var r=e.max,n=e.current,a=e.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},s=z5e(a),l=bM({max:i,current:n,change:s});return!l||s.x!==0&&l.x===0||s.y!==0&&l.y===0},wM=function(e,r){return rJ({current:e.scroll.current,max:e.scroll.max,change:r})},V5e=function(e,r){if(!wM(e,r))return null;var n=e.scroll.max,a=e.scroll.current;return bM({current:a,max:n,change:r})},SM=function(e,r){var n=e.frame;return n?rJ({current:n.scroll.current,max:n.scroll.max,change:r}):!1},H5e=function(e,r){var n=e.frame;return!n||!SM(e,r)?null:bM({current:n.scroll.current,max:n.scroll.max,change:r})},W5e=function(t){var e=t.viewport,r=t.subject,n=t.center,a=t.dragStartTime,i=t.shouldUseTimeDampening,s=tJ({dragStartTime:a,container:e.frame,subject:r,center:n,shouldUseTimeDampening:i});return s&&wM(e,s)?s:null},q5e=function(t){var e=t.droppable,r=t.subject,n=t.center,a=t.dragStartTime,i=t.shouldUseTimeDampening,s=e.frame;if(!s)return null;var l=tJ({dragStartTime:a,container:s.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return l&&SM(e,l)?l:null},R$=function(t){var e=t.state,r=t.dragStartTime,n=t.shouldUseTimeDampening,a=t.scrollWindow,i=t.scrollDroppable,s=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id],c=l.page.marginBox;if(e.isWindowScrollAllowed){var u=e.viewport,d=W5e({dragStartTime:r,viewport:u,subject:c,center:s,shouldUseTimeDampening:n});if(d){a(d);return}}var f=R5e({center:s,destination:dl(e.impact),droppables:e.dimensions.droppables});if(f){var m=q5e({dragStartTime:r,droppable:f,subject:c,center:s,shouldUseTimeDampening:n});m&&i(f.descriptor.id,m)}},G5e=function(t){var e=t.scrollWindow,r=t.scrollDroppable,n=hb(e),a=hb(r),i=null,s=function(d){i||Dt();var f=i,m=f.shouldUseTimeDampening,h=f.dragStartTime;R$({state:d,scrollWindow:n,scrollDroppable:a,dragStartTime:h,shouldUseTimeDampening:m})},l=function(d){i&&Dt();var f=Date.now(),m=!1,h=function(){m=!0};R$({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),i={dragStartTime:f,shouldUseTimeDampening:m},m&&s(d)},c=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:l,stop:c,scroll:s}},Y5e=function(t){var e=t.move,r=t.scrollDroppable,n=t.scrollWindow,a=function(u,d){var f=ds(u.current.client.selection,d);e({client:f})},i=function(u,d){if(!SM(u,d))return d;var f=H5e(u,d);if(!f)return r(u.descriptor.id,d),null;var m=cl(d,f);r(u.descriptor.id,m);var h=cl(d,m);return h},s=function(u,d,f){if(!u||!wM(d,f))return f;var m=V5e(d,f);if(!m)return n(f),null;var h=cl(f,m);n(h);var v=cl(f,h);return v},l=function(u){var d=u.scrollJumpRequest;if(d){var f=dl(u.impact);f||Dt();var m=i(u.dimensions.droppables[f],d);if(m){var h=u.viewport,v=s(u.isWindowScrollAllowed,h,m);v&&a(u,v)}}};return l},K5e=function(t){var e=t.scrollDroppable,r=t.scrollWindow,n=t.move,a=G5e({scrollWindow:r,scrollDroppable:e}),i=Y5e({move:n,scrollWindow:r,scrollDroppable:e}),s=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){a.scroll(u);return}u.scrollJumpRequest&&i(u)}},l={scroll:s,start:a.start,stop:a.stop};return l},Pv="data-rbd",Dv=function(){var t=Pv+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),DP=function(){var t=Pv+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),X5e=function(){var t=Pv+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),L$={contextId:Pv+"-scroll-container-context-id"},Z5e=function(e){return function(r){return"["+r+'="'+e+'"]'}},Mx=function(e,r){return e.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},Q5e="pointer-events: none;",J5e=function(t){var e=Z5e(t),r=function(){var l=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Dv.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:l,dragging:Q5e,dropAnimating:l}}}(),n=function(){var l=`
      transition: `+N1.outOfTheWay+`;
    `;return{selector:e(DP.contextId),styles:{dragging:l,dropAnimating:l,userCancel:l}}}(),a={selector:e(X5e.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[n,r,a,i];return{always:Mx(s,"always"),resting:Mx(s,"resting"),dragging:Mx(s,"dragging"),dropAnimating:Mx(s,"dropAnimating"),userCancel:Mx(s,"userCancel")}},fl=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect,IT=function(){var e=document.querySelector("head");return e||Dt(),e},F$=function(e){var r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.type="text/css",r};function eCe(t,e){var r=mn(function(){return J5e(t)},[t]),n=N.useRef(null),a=N.useRef(null),i=or(qi(function(f){var m=a.current;m||Dt(),m.textContent=f}),[]),s=or(function(f){var m=n.current;m||Dt(),m.textContent=f},[]);fl(function(){!n.current&&!a.current||Dt();var f=F$(e),m=F$(e);return n.current=f,a.current=m,f.setAttribute(Pv+"-always",t),m.setAttribute(Pv+"-dynamic",t),IT().appendChild(f),IT().appendChild(m),s(r.always),i(r.resting),function(){var h=function(g){var p=g.current;p||Dt(),IT().removeChild(p),g.current=null};h(n),h(a)}},[e,s,i,r.always,r.resting,t]);var l=or(function(){return i(r.dragging)},[i,r.dragging]),c=or(function(f){if(f==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),u=or(function(){a.current&&i(r.resting)},[i,r.resting]),d=mn(function(){return{dragging:l,dropping:c,resting:u}},[l,c,u]);return d}var nJ=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function PE(t){return t instanceof nJ(t).HTMLElement}function tCe(t,e){var r="["+Dv.contextId+'="'+t+'"]',n=NQ(document.querySelectorAll(r));if(!n.length)return null;var a=om(n,function(i){return i.getAttribute(Dv.draggableId)===e});return!a||!PE(a)?null:a}function rCe(t){var e=N.useRef({}),r=N.useRef(null),n=N.useRef(null),a=N.useRef(!1),i=or(function(m,h){var v={id:m,focus:h};return e.current[m]=v,function(){var p=e.current,y=p[m];y!==v&&delete p[m]}},[]),s=or(function(m){var h=tCe(t,m);h&&h!==document.activeElement&&h.focus()},[t]),l=or(function(m,h){r.current===m&&(r.current=h)},[]),c=or(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var m=r.current;m&&s(m)}))},[s]),u=or(function(m){r.current=null;var h=document.activeElement;h&&h.getAttribute(Dv.draggableId)===m&&(r.current=m)},[]);fl(function(){return a.current=!0,function(){a.current=!1;var m=n.current;m&&cancelAnimationFrame(m)}},[]);var d=mn(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}},[i,u,c,l]);return d}function nCe(){var t={draggables:{},droppables:{}},e=[];function r(f){return e.push(f),function(){var h=e.indexOf(f);h!==-1&&e.splice(h,1)}}function n(f){e.length&&e.forEach(function(m){return m(f)})}function a(f){return t.draggables[f]||null}function i(f){var m=a(f);return m||Dt(),m}var s={register:function(m){t.draggables[m.descriptor.id]=m,n({type:"ADDITION",value:m})},update:function(m,h){var v=t.draggables[h.descriptor.id];v&&v.uniqueId===m.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[m.descriptor.id]=m)},unregister:function(m){var h=m.descriptor.id,v=a(h);v&&m.uniqueId===v.uniqueId&&(delete t.draggables[h],n({type:"REMOVAL",value:m}))},getById:i,findById:a,exists:function(m){return!!a(m)},getAllByType:function(m){return Ij(t.draggables).filter(function(h){return h.descriptor.type===m})}};function l(f){return t.droppables[f]||null}function c(f){var m=l(f);return m||Dt(),m}var u={register:function(m){t.droppables[m.descriptor.id]=m},unregister:function(m){var h=l(m.descriptor.id);h&&m.uniqueId===h.uniqueId&&delete t.droppables[m.descriptor.id]},getById:c,findById:l,exists:function(m){return!!l(m)},getAllByType:function(m){return Ij(t.droppables).filter(function(h){return h.descriptor.type===m})}};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:u,subscribe:r,clean:d}}function aCe(){var t=mn(nCe,[]);return N.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var _M=W.createContext(null),Rj=function(){var t=document.body;return t||Dt(),t},iCe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},sCe=function(e){return"rbd-announcement-"+e};function oCe(t){var e=mn(function(){return sCe(t)},[t]),r=N.useRef(null);N.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=e,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),gr(i.style,iCe),Rj().appendChild(i),function(){setTimeout(function(){var c=Rj();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[e]);var n=or(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return n}var lCe=0,cCe={separator:"::"};function jM(t,e){return e===void 0&&(e=cCe),mn(function(){return""+t+e.separator+lCe++},[e.separator,t])}function uCe(t){var e=t.contextId,r=t.uniqueId;return"rbd-hidden-text-"+e+"-"+r}function dCe(t){var e=t.contextId,r=t.text,n=jM("hidden-text",{separator:"-"}),a=mn(function(){return uCe({contextId:e,uniqueId:n})},[n,e]);return N.useEffect(function(){var s=document.createElement("div");return s.id=a,s.textContent=r,s.style.display="none",Rj().appendChild(s),function(){var c=Rj();c.contains(s)&&c.removeChild(s)}},[a,r]),a}var DE=W.createContext(null);function aJ(t){var e=N.useRef(t);return N.useEffect(function(){e.current=t}),e}function fCe(){var t=null;function e(){return!!t}function r(s){return s===t}function n(s){t&&Dt();var l={abandon:s};return t=l,l}function a(){t||Dt(),t=null}function i(){t&&(t.abandon(),a())}return{isClaimed:e,isActive:r,claim:n,release:a,tryAbandon:i}}var hCe=9,mCe=13,NM=27,iJ=32,pCe=33,gCe=34,vCe=35,yCe=36,xCe=37,bCe=38,wCe=39,SCe=40,US,_Ce=(US={},US[mCe]=!0,US[hCe]=!0,US),sJ=function(t){_Ce[t.keyCode]&&t.preventDefault()},OE=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],r=om(e,function(n){return"on"+n in document});return r||t}(),oJ=0,$$=5;function jCe(t,e){return Math.abs(e.x-t.x)>=$$||Math.abs(e.y-t.y)>=$$}var B$={type:"IDLE"};function NCe(t){var e=t.cancel,r=t.completed,n=t.getPhase,a=t.setPhase;return[{eventName:"mousemove",fn:function(s){var l=s.button,c=s.clientX,u=s.clientY;if(l===oJ){var d={x:c,y:u},f=n();if(f.type==="DRAGGING"){s.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&Dt();var m=f.point;if(jCe(m,d)){s.preventDefault();var h=f.actions.fluidLift(d);a({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(s){var l=n();if(l.type!=="DRAGGING"){e();return}s.preventDefault(),l.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(s){n().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var l=n();if(l.type==="PENDING"){e();return}if(s.keyCode===NM){s.preventDefault(),e();return}sJ(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var l=n();if(l.type==="IDLE"&&Dt(),l.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:OE,fn:e}]}function ACe(t){var e=N.useRef(B$),r=N.useRef(Sh),n=mn(function(){return{eventName:"mousedown",fn:function(f){if(!f.defaultPrevented&&f.button===oJ&&!(f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)){var m=t.findClosestDraggableId(f);if(m){var h=t.tryGetLock(m,s,{sourceEvent:f});if(h){f.preventDefault();var v={x:f.clientX,y:f.clientY};r.current(),u(h,v)}}}}}},[t]),a=mn(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(f){if(!f.defaultPrevented){var m=t.findClosestDraggableId(f);if(m){var h=t.findOptionsForDraggable(m);h&&(h.shouldRespectForcePress||t.canGetLock(m)&&f.preventDefault())}}}}},[t]),i=or(function(){var f={passive:!1,capture:!0};r.current=Yl(window,[a,n],f)},[a,n]),s=or(function(){var d=e.current;d.type!=="IDLE"&&(e.current=B$,r.current(),i())},[i]),l=or(function(){var d=e.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),c=or(function(){var f={capture:!0,passive:!1},m=NCe({cancel:l,completed:s,getPhase:function(){return e.current},setPhase:function(v){e.current=v}});r.current=Yl(window,m,f)},[l,s]),u=or(function(f,m){e.current.type!=="IDLE"&&Dt(),e.current={type:"PENDING",point:m,actions:f},c()},[c]);fl(function(){return i(),function(){r.current()}},[i])}var Zg;function ECe(){}var CCe=(Zg={},Zg[gCe]=!0,Zg[pCe]=!0,Zg[yCe]=!0,Zg[vCe]=!0,Zg);function TCe(t,e){function r(){e(),t.cancel()}function n(){e(),t.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===NM){i.preventDefault(),r();return}if(i.keyCode===iJ){i.preventDefault(),n();return}if(i.keyCode===SCe){i.preventDefault(),t.moveDown();return}if(i.keyCode===bCe){i.preventDefault(),t.moveUp();return}if(i.keyCode===wCe){i.preventDefault(),t.moveRight();return}if(i.keyCode===xCe){i.preventDefault(),t.moveLeft();return}if(CCe[i.keyCode]){i.preventDefault();return}sJ(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:OE,fn:r}]}function kCe(t){var e=N.useRef(ECe),r=mn(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==iJ)return;var s=t.findClosestDraggableId(i);if(!s)return;var l=t.tryGetLock(s,d,{sourceEvent:i});if(!l)return;i.preventDefault();var c=!0,u=l.snapLift();e.current();function d(){c||Dt(),c=!1,e.current(),n()}e.current=Yl(window,TCe(u,d),{capture:!0,passive:!1})}}},[t]),n=or(function(){var i={passive:!1,capture:!0};e.current=Yl(window,[r],i)},[r]);fl(function(){return n(),function(){e.current()}},[n])}var MT={type:"IDLE"},PCe=120,DCe=.15;function OCe(t){var e=t.cancel,r=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){e();return}a.keyCode===NM&&a.preventDefault(),e()}},{eventName:OE,fn:e}]}function ICe(t){var e=t.cancel,r=t.completed,n=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var s=n();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var l=i.touches[0],c=l.clientX,u=l.clientY,d={x:c,y:u};i.preventDefault(),s.actions.move(d)}},{eventName:"touchend",fn:function(i){var s=n();if(s.type!=="DRAGGING"){e();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(i){var s=n();s.type==="IDLE"&&Dt();var l=i.touches[0];if(l){var c=l.force>=DCe;if(c){var u=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){u&&e();return}if(u){if(s.hasMoved){i.preventDefault();return}e();return}i.preventDefault()}}}},{eventName:OE,fn:e}]}function MCe(t){var e=N.useRef(MT),r=N.useRef(Sh),n=or(function(){return e.current},[]),a=or(function(h){e.current=h},[]),i=mn(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var v=t.findClosestDraggableId(h);if(v){var g=t.tryGetLock(v,l,{sourceEvent:h});if(g){var p=h.touches[0],y=p.clientX,x=p.clientY,b={x:y,y:x};r.current(),f(g,b)}}}}}},[t]),s=or(function(){var h={capture:!0,passive:!1};r.current=Yl(window,[i],h)},[i]),l=or(function(){var m=e.current;m.type!=="IDLE"&&(m.type==="PENDING"&&clearTimeout(m.longPressTimerId),a(MT),r.current(),s())},[s,a]),c=or(function(){var m=e.current;l(),m.type==="DRAGGING"&&m.actions.cancel({shouldBlockNextClick:!0}),m.type==="PENDING"&&m.actions.abort()},[l]),u=or(function(){var h={capture:!0,passive:!1},v={cancel:c,completed:l,getPhase:n},g=Yl(window,ICe(v),h),p=Yl(window,OCe(v),h);r.current=function(){g(),p()}},[c,n,l]),d=or(function(){var h=n();h.type!=="PENDING"&&Dt();var v=h.actions.fluidLift(h.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[n,a]),f=or(function(h,v){n().type!=="IDLE"&&Dt();var g=setTimeout(d,PCe);a({type:"PENDING",point:v,actions:h,longPressTimerId:g}),u()},[u,n,a,d]);fl(function(){return s(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a(MT))}},[n,s,a]),fl(function(){var h=Yl(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var RCe={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function lJ(t,e){if(e==null)return!1;var r=!!RCe[e.tagName.toLowerCase()];if(r)return!0;var n=e.getAttribute("contenteditable");return n==="true"||n===""?!0:e===t?!1:lJ(t,e.parentElement)}function LCe(t,e){var r=e.target;return PE(r)?lJ(t,r):!1}var FCe=function(t){return $c(t.getBoundingClientRect()).center};function $Ce(t){return t instanceof nJ(t).Element}var BCe=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],r=om(e,function(n){return n in Element.prototype});return r||t}();function cJ(t,e){return t==null?null:t[BCe](e)?t:cJ(t.parentElement,e)}function UCe(t,e){return t.closest?t.closest(e):cJ(t,e)}function zCe(t){return"["+Dv.contextId+'="'+t+'"]'}function VCe(t,e){var r=e.target;if(!$Ce(r))return null;var n=zCe(t),a=UCe(r,n);return!a||!PE(a)?null:a}function HCe(t,e){var r=VCe(t,e);return r?r.getAttribute(Dv.draggableId):null}function WCe(t,e){var r="["+DP.contextId+'="'+t+'"]',n=NQ(document.querySelectorAll(r)),a=om(n,function(i){return i.getAttribute(DP.id)===e});return!a||!PE(a)?null:a}function qCe(t){t.preventDefault()}function zS(t){var e=t.expected,r=t.phase,n=t.isLockActive;return t.shouldWarn,!(!n()||e!==r)}function uJ(t){var e=t.lockAPI,r=t.store,n=t.registry,a=t.draggableId;if(e.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!JQ(r.getState(),a))}function GCe(t){var e=t.lockAPI,r=t.contextId,n=t.store,a=t.registry,i=t.draggableId,s=t.forceSensorStop,l=t.sourceEvent,c=uJ({lockAPI:e,store:n,registry:a,draggableId:i});if(!c)return null;var u=a.draggable.getById(i),d=WCe(r,u.descriptor.id);if(!d||l&&!u.options.canDragInteractiveElements&&LCe(d,l))return null;var f=e.claim(s||Sh),m="PRE_DRAG";function h(){return u.options.shouldRespectForcePress}function v(){return e.isActive(f)}function g(j,A){zS({expected:j,phase:m,isLockActive:v,shouldWarn:!0})&&n.dispatch(A())}var p=g.bind(null,"DRAGGING");function y(j){function A(){e.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(A(),m!=="PRE_DRAG"&&Dt()),n.dispatch(BEe(j.liftActionArgs)),m="DRAGGING";function E(T,R){if(R===void 0&&(R={shouldBlockNextClick:!1}),j.cleanup(),R.shouldBlockNextClick){var D=Yl(window,[{eventName:"click",fn:qCe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}A(),n.dispatch(qQ({reason:T}))}return gr({isActive:function(){return zS({expected:"DRAGGING",phase:m,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(R){return E("DROP",R)},cancel:function(R){return E("CANCEL",R)}},j.actions)}function x(j){var A=hb(function(T){p(function(){return WQ({client:T})})}),E=y({liftActionArgs:{id:i,clientSelection:j,movementMode:"FLUID"},cleanup:function(){return A.cancel()},actions:{move:A}});return gr({},E,{move:A})}function b(){var j={moveUp:function(){return p(KEe)},moveRight:function(){return p(ZEe)},moveDown:function(){return p(XEe)},moveLeft:function(){return p(QEe)}};return y({liftActionArgs:{id:i,clientSelection:FCe(d),movementMode:"SNAP"},cleanup:Sh,actions:j})}function w(){var j=zS({expected:"PRE_DRAG",phase:m,isLockActive:v,shouldWarn:!0});j&&e.release()}var _={isActive:function(){return zS({expected:"PRE_DRAG",phase:m,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:x,snapLift:b,abort:w};return _}var YCe=[ACe,kCe,MCe];function KCe(t){var e=t.contextId,r=t.store,n=t.registry,a=t.customSensors,i=t.enableDefaultSensors,s=[].concat(i?YCe:[],a||[]),l=N.useState(function(){return fCe()})[0],c=or(function(x,b){x.isDragging&&!b.isDragging&&l.tryAbandon()},[l]);fl(function(){var x=r.getState(),b=r.subscribe(function(){var w=r.getState();c(x,w),x=w});return b},[l,r,c]),fl(function(){return l.tryAbandon},[l.tryAbandon]);for(var u=or(function(y){return uJ({lockAPI:l,registry:n,store:r,draggableId:y})},[l,n,r]),d=or(function(y,x,b){return GCe({lockAPI:l,registry:n,contextId:e,store:r,draggableId:y,forceSensorStop:x,sourceEvent:b&&b.sourceEvent?b.sourceEvent:null})},[e,l,n,r]),f=or(function(y){return HCe(e,y)},[e]),m=or(function(y){var x=n.draggable.findById(y);return x?x.options:null},[n.draggable]),h=or(function(){l.isClaimed()&&(l.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(pM()))},[l,r]),v=or(l.isClaimed,[l]),g=mn(function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:f,findOptionsForDraggable:m,tryReleaseLock:h,isLockClaimed:v}},[u,d,f,m,h,v]),p=0;p<s.length;p++)s[p](g)}var XCe=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Rx(t){return t.current||Dt(),t.current}function ZCe(t){var e=t.contextId,r=t.setCallbacks,n=t.sensors,a=t.nonce,i=t.dragHandleUsageInstructions,s=N.useRef(null),l=aJ(t),c=or(function(){return XCe(l.current)},[l]),u=oCe(e),d=dCe({contextId:e,text:i}),f=eCe(e,a),m=or(function(T){Rx(s).dispatch(T)},[]),h=mn(function(){return c$({publishWhileDragging:zEe,updateDroppableScroll:HEe,updateDroppableIsEnabled:WEe,updateDroppableIsCombineEnabled:qEe,collectionStarting:VEe},m)},[m]),v=aCe(),g=mn(function(){return D5e(v,h)},[v,h]),p=mn(function(){return K5e(gr({scrollWindow:O5e,scrollDroppable:g.scrollDroppable},c$({move:WQ},m)))},[g.scrollDroppable,m]),y=rCe(e),x=mn(function(){return C5e({announce:u,autoScroller:p,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:f})},[u,p,g,y,c,f]);s.current=x;var b=or(function(){var T=Rx(s),R=T.getState();R.phase!=="IDLE"&&T.dispatch(pM())},[]),w=or(function(){var T=Rx(s).getState();return T.isDragging||T.phase==="DROP_ANIMATING"},[]),_=mn(function(){return{isDragging:w,tryAbort:b}},[w,b]);r(_);var j=or(function(T){return JQ(Rx(s).getState(),T)},[]),A=or(function(){return Um(Rx(s).getState())},[]),E=mn(function(){return{marshal:g,focus:y,contextId:e,canLift:j,isMovementAllowed:A,dragHandleUsageInstructionsId:d,registry:v}},[e,g,d,y,j,A,v]);return KCe({contextId:e,store:x,registry:v,customSensors:n,enableDefaultSensors:t.enableDefaultSensors!==!1}),N.useEffect(function(){return b},[b]),W.createElement(DE.Provider,{value:E},W.createElement(bNe,{context:_M,store:x},t.children))}var QCe=0;function JCe(){return mn(function(){return""+QCe++},[])}function eTe(t){var e=JCe(),r=t.dragHandleUsageInstructions||q_.dragHandleUsageInstructions;return W.createElement(kAe,null,function(n){return W.createElement(ZCe,{nonce:t.nonce,contextId:e,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var dJ=function(e){return function(r){return e===r}},tTe=dJ("scroll"),rTe=dJ("auto"),U$=function(e,r){return r(e.overflowX)||r(e.overflowY)},nTe=function(e){var r=window.getComputedStyle(e),n={overflowX:r.overflowX,overflowY:r.overflowY};return U$(n,tTe)||U$(n,rTe)},aTe=function(){return!1},iTe=function t(e){return e==null?null:e===document.body?aTe()?e:null:e===document.documentElement?null:nTe(e)?e:t(e.parentElement)},OP=function(t){return{x:t.scrollLeft,y:t.scrollTop}},sTe=function t(e){if(!e)return!1;var r=window.getComputedStyle(e);return r.position==="fixed"?!0:t(e.parentElement)},oTe=function(t){var e=iTe(t),r=sTe(t);return{closestScrollable:e,isFixedOnPage:r}},lTe=function(t){var e=t.descriptor,r=t.isEnabled,n=t.isCombineEnabled,a=t.isFixedOnPage,i=t.direction,s=t.client,l=t.page,c=t.closest,u=function(){if(!c)return null;var h=c.scrollSize,v=c.client,g=XQ({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:v,scrollSize:h,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:g,diff:{value:Yi,displacement:Yi}}}}(),d=i==="vertical"?uM:kQ,f=kv({page:l,withPlaceholder:null,axis:d,frame:u}),m={descriptor:e,isCombineEnabled:n,isFixedOnPage:a,axis:d,isEnabled:r,client:s,page:l,frame:u,subject:f};return m},cTe=function(e,r){var n=bQ(e);if(!r||e!==r)return n;var a=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,s=a+r.scrollHeight,l=i+r.scrollWidth,c={top:a,right:l,bottom:s,left:i},u=iM(c,n.border),d=sM({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return d},uTe=function(t){var e=t.ref,r=t.descriptor,n=t.env,a=t.windowScroll,i=t.direction,s=t.isDropDisabled,l=t.isCombineEnabled,c=t.shouldClipSubject,u=n.closestScrollable,d=cTe(e,u),f=Pj(d,a),m=function(){if(!u)return null;var v=bQ(u),g={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:Pj(v,a),scroll:OP(u),scrollSize:g,shouldClipSubject:c}}(),h=lTe({descriptor:r,isEnabled:!s,isCombineEnabled:l,isFixedOnPage:n.isFixedOnPage,direction:i,client:d,page:f,closest:m});return h},dTe={passive:!1},fTe={passive:!0},z$=function(t){return t.shouldPublishImmediately?dTe:fTe};function Lj(t){var e=N.useContext(t);return e||Dt(),e}var VS=function(e){return e&&e.env.closestScrollable||null};function hTe(t){var e=N.useRef(null),r=Lj(DE),n=jM("droppable"),a=r.registry,i=r.marshal,s=aJ(t),l=mn(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),c=N.useRef(l),u=mn(function(){return qi(function(w,_){e.current||Dt();var j={x:w,y:_};i.updateDroppableScroll(l.id,j)})},[l.id,i]),d=or(function(){var w=e.current;return!w||!w.env.closestScrollable?Yi:OP(w.env.closestScrollable)},[]),f=or(function(){var w=d();u(w.x,w.y)},[d,u]),m=mn(function(){return hb(f)},[f]),h=or(function(){var w=e.current,_=VS(w);w&&_||Dt();var j=w.scrollOptions;if(j.shouldPublishImmediately){f();return}m()},[m,f]),v=or(function(w,_){e.current&&Dt();var j=s.current,A=j.getDroppableRef();A||Dt();var E=oTe(A),T={ref:A,descriptor:l,env:E,scrollOptions:_};e.current=T;var R=uTe({ref:A,descriptor:l,env:E,windowScroll:w,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),D=E.closestScrollable;return D&&(D.setAttribute(L$.contextId,r.contextId),D.addEventListener("scroll",h,z$(T.scrollOptions))),R},[r.contextId,l,h,s]),g=or(function(){var w=e.current,_=VS(w);return w&&_||Dt(),OP(_)},[]),p=or(function(){var w=e.current;w||Dt();var _=VS(w);e.current=null,_&&(m.cancel(),_.removeAttribute(L$.contextId),_.removeEventListener("scroll",h,z$(w.scrollOptions)))},[h,m]),y=or(function(w){var _=e.current;_||Dt();var j=VS(_);j||Dt(),j.scrollTop+=w.y,j.scrollLeft+=w.x},[]),x=mn(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:g,dragStopped:p,scroll:y}},[p,v,g,y]),b=mn(function(){return{uniqueId:n,descriptor:l,callbacks:x}},[x,l,n]);fl(function(){return c.current=b.descriptor,a.droppable.register(b),function(){e.current&&p(),a.droppable.unregister(b)}},[x,l,p,b,i,a.droppable]),fl(function(){e.current&&i.updateDroppableIsEnabled(c.current.id,!t.isDropDisabled)},[t.isDropDisabled,i]),fl(function(){e.current&&i.updateDroppableIsCombineEnabled(c.current.id,t.isCombineEnabled)},[t.isCombineEnabled,i])}function RT(){}var V$={width:0,height:0,margin:RAe},mTe=function(e){var r=e.isAnimatingOpenOnMount,n=e.placeholder,a=e.animate;return r||a==="close"?V$:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},pTe=function(e){var r=e.isAnimatingOpenOnMount,n=e.placeholder,a=e.animate,i=mTe({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?N1.placeholder:null}};function gTe(t){var e=N.useRef(null),r=or(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),n=t.animate,a=t.onTransitionEnd,i=t.onClose,s=t.contextId,l=N.useState(t.animate==="open"),c=l[0],u=l[1];N.useEffect(function(){return c?n!=="open"?(r(),u(!1),RT):e.current?RT:(e.current=setTimeout(function(){e.current=null,u(!1)}),r):RT},[n,c,r]);var d=or(function(m){m.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),f=pTe({isAnimatingOpenOnMount:c,animate:t.animate,placeholder:t.placeholder});return W.createElement(t.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:t.innerRef})}var vTe=W.memo(gTe),AM=W.createContext(null),yTe=function(t){XZ(e,t);function e(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=t.call.apply(t,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}e.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=e.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},e}(W.PureComponent),H$={dragging:5e3,dropAnimating:4500},xTe=function(e,r){return r?N1.drop(r.duration):e?N1.snap:N1.fluid},bTe=function(e,r){return e?r?vb.opacity.drop:vb.opacity.combining:null},wTe=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function STe(t){var e=t.dimension,r=e.client,n=t.offset,a=t.combineWith,i=t.dropping,s=!!a,l=wTe(t),c=!!i,u=c?kP.drop(n,s):kP.moveTo(n),d={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:xTe(l,i),transform:u,opacity:bTe(s,c),zIndex:c?H$.dropAnimating:H$.dragging,pointerEvents:"none"};return d}function _Te(t){return{transform:kP.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function jTe(t){return t.type==="DRAGGING"?STe(t):_Te(t)}function NTe(t,e,r){r===void 0&&(r=Yi);var n=window.getComputedStyle(e),a=e.getBoundingClientRect(),i=xQ(a,n),s=Pj(i,r),l={client:i,tagName:e.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:t,placeholder:l,displaceBy:c,client:i,page:s};return u}function ATe(t){var e=jM("draggable"),r=t.descriptor,n=t.registry,a=t.getDraggableRef,i=t.canDragInteractiveElements,s=t.shouldRespectForcePress,l=t.isEnabled,c=mn(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:l}},[i,l,s]),u=or(function(h){var v=a();return v||Dt(),NTe(r,v,h)},[r,a]),d=mn(function(){return{uniqueId:e,descriptor:r,options:c,getDimension:u}},[r,u,c,e]),f=N.useRef(d),m=N.useRef(!0);fl(function(){return n.draggable.register(f.current),function(){return n.draggable.unregister(f.current)}},[n.draggable]),fl(function(){if(m.current){m.current=!1;return}var h=f.current;f.current=d,n.draggable.update(d,h)},[d,n.draggable])}function ETe(t){t.preventDefault()}function CTe(t){var e=N.useRef(null),r=or(function(T){e.current=T},[]),n=or(function(){return e.current},[]),a=Lj(DE),i=a.contextId,s=a.dragHandleUsageInstructionsId,l=a.registry,c=Lj(AM),u=c.type,d=c.droppableId,f=mn(function(){return{id:t.draggableId,index:t.index,type:u,droppableId:d}},[t.draggableId,t.index,u,d]),m=t.children,h=t.draggableId,v=t.isEnabled,g=t.shouldRespectForcePress,p=t.canDragInteractiveElements,y=t.isClone,x=t.mapped,b=t.dropAnimationFinished;if(!y){var w=mn(function(){return{descriptor:f,registry:l,getDraggableRef:n,canDragInteractiveElements:p,shouldRespectForcePress:g,isEnabled:v}},[f,l,n,p,g,v]);ATe(w)}var _=mn(function(){return v?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:ETe}:null},[i,s,h,v]),j=or(function(T){x.type==="DRAGGING"&&x.dropping&&T.propertyName==="transform"&&b()},[b,x]),A=mn(function(){var T=jTe(x),R=x.type==="DRAGGING"&&x.dropping?j:null,D={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":h,style:T,onTransitionEnd:R},dragHandleProps:_};return D},[i,_,h,x,j,r]),E=mn(function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}},[f.droppableId,f.id,f.index,f.type]);return m(A,x.snapshot,E)}var fJ=function(t,e){return t===e},hJ=function(t){var e=t.combine,r=t.destination;return r?r.droppableId:e?e.droppableId:null},TTe=function(e){return e.combine?e.combine.draggableId:null},kTe=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function PTe(){var t=qi(function(a,i){return{x:a,y:i}}),e=qi(function(a,i,s,l,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:s,combineWith:l,combineTargetFor:null}}),r=qi(function(a,i,s,l,c,u,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:a,dimension:s,forceShouldAnimate:d,snapshot:e(i,l,c,u,null)}}}),n=function(i,s){if(i.isDragging){if(i.critical.draggable.id!==s.draggableId)return null;var l=i.current.client.offset,c=i.dimensions.draggables[s.draggableId],u=dl(i.impact),d=kTe(i.impact),f=i.forceShouldAnimate;return r(t(l.x,l.y),i.movementMode,c,s.isClone,u,d,f)}if(i.phase==="DROP_ANIMATING"){var m=i.completed;if(m.result.draggableId!==s.draggableId)return null;var h=s.isClone,v=i.dimensions.draggables[s.draggableId],g=m.result,p=g.mode,y=hJ(g),x=TTe(g),b=i.dropDuration,w={duration:b,curve:vM.drop,moveTo:i.newHomeClientOffset,opacity:x?vb.opacity.drop:null,scale:x?vb.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:w,draggingOver:y,combineWith:x,mode:p,forceShouldAnimate:null,snapshot:e(p,h,y,x,w)}}}return null};return n}function mJ(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var DTe={mapped:{type:"SECONDARY",offset:Yi,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:mJ(null)}};function OTe(){var t=qi(function(s,l){return{x:s,y:l}}),e=qi(mJ),r=qi(function(s,l,c){return l===void 0&&(l=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:l,shouldAnimateDisplacement:c,snapshot:e(l)}}}),n=function(l){return l?r(Yi,l,!0):null},a=function(l,c,u,d){var f=u.displaced.visible[l],m=!!(d.inVirtualList&&d.effected[l]),h=CE(u),v=h&&h.draggableId===l?c:null;if(!f){if(!m)return n(v);if(u.displaced.invisible[l])return null;var g=Ny(d.displacedBy.point),p=t(g.x,g.y);return r(p,v,!0)}if(m)return n(v);var y=u.displacedBy.point,x=t(y.x,y.y);return r(x,v,f.shouldAnimate)},i=function(l,c){if(l.isDragging)return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){var u=l.completed;return u.result.draggableId===c.draggableId?null:a(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var ITe=function(){var e=PTe(),r=OTe(),n=function(i,s){return e(i,s)||r(i,s)||DTe};return n},MTe={dropAnimationFinished:GQ},RTe=vQ(ITe,MTe,null,{context:_M,pure:!0,areStatePropsEqual:fJ})(CTe);function pJ(t){var e=Lj(AM),r=e.isUsingCloneFor;return r===t.draggableId&&!t.isClone?null:W.createElement(RTe,t)}function LTe(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,r=!!t.disableInteractiveElementBlocking,n=!!t.shouldRespectForcePress;return W.createElement(pJ,gr({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function FTe(t){var e=N.useContext(DE);e||Dt();var r=e.contextId,n=e.isMovementAllowed,a=N.useRef(null),i=N.useRef(null),s=t.children,l=t.droppableId,c=t.type,u=t.mode,d=t.direction,f=t.ignoreContainerClipping,m=t.isDropDisabled,h=t.isCombineEnabled,v=t.snapshot,g=t.useClone,p=t.updateViewportMaxScroll,y=t.getContainerForClone,x=or(function(){return a.current},[]),b=or(function(D){a.current=D},[]);or(function(){return i.current},[]);var w=or(function(D){i.current=D},[]),_=or(function(){n()&&p({maxScroll:QQ()})},[n,p]);hTe({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:m,isCombineEnabled:h,ignoreContainerClipping:f,getDroppableRef:x});var j=W.createElement(yTe,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(D){var P=D.onClose,I=D.data,L=D.animate;return W.createElement(vTe,{placeholder:I,onClose:P,innerRef:w,animate:L,contextId:r,onTransitionEnd:_})}),A=mn(function(){return{innerRef:b,placeholder:j,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":r}}},[r,l,j,b]),E=g?g.dragging.draggableId:null,T=mn(function(){return{droppableId:l,type:c,isUsingCloneFor:E}},[l,E,c]);function R(){if(!g)return null;var D=g.dragging,P=g.render,I=W.createElement(pJ,{draggableId:D.draggableId,index:D.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(L,V){return P(L,V,D)});return Aq.createPortal(I,y())}return W.createElement(AM.Provider,{value:T},s(A,v),R())}var LT=function(e,r){return e===r.droppable.type},W$=function(e,r){return r.draggables[e.draggable.id]},$Te=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=gr({},e,{shouldAnimatePlaceholder:!1}),n=qi(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),a=qi(function(s,l,c,u,d,f){var m=d.descriptor.id,h=d.descriptor.droppableId===s;if(h){var v=f?{render:f,dragging:n(d.descriptor)}:null,g={isDraggingOver:c,draggingOverWith:c?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:v}}if(!l)return r;if(!u)return e;var p={isDraggingOver:c,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}),i=function(l,c){var u=c.droppableId,d=c.type,f=!c.isDropDisabled,m=c.renderClone;if(l.isDragging){var h=l.critical;if(!LT(d,h))return r;var v=W$(h,l.dimensions),g=dl(l.impact)===u;return a(u,f,g,g,v,m)}if(l.phase==="DROP_ANIMATING"){var p=l.completed;if(!LT(d,p.critical))return r;var y=W$(p.critical,l.dimensions);return a(u,f,hJ(p.result)===u,dl(p.impact)===u,y,m)}if(l.phase==="IDLE"&&l.completed&&!l.shouldFlush){var x=l.completed;if(!LT(d,x.critical))return r;var b=dl(x.impact)===u,w=!!(x.impact.at&&x.impact.at.type==="COMBINE"),_=x.critical.droppable.id===u;return b?w?e:r:_?e:r}return r};return i},BTe={updateViewportMaxScroll:YEe};function UTe(){return document.body||Dt(),document.body}var zTe={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:UTe},gJ=vQ($Te,BTe,null,{context:_M,pure:!0,areStatePropsEqual:fJ})(FTe);gJ.defaultProps=zTe;const VTe=4,HTe=({appointments:t,onDragEnd:e,getStatusDisplayText:r,updateAppointment:n})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(null),[c,u]=N.useState(""),[d,f]=N.useState("default"),m=[{id:"aguardando_atendimento",title:"Aguardando"},{id:"atendimento_iniciado",title:"Em Atendimento"},{id:"atendimento_finalizado",title:"Finalizados"},{id:"agendamento_cancelado",title:"Cancelados"}],h=j=>{switch(j){case"scheduled":return"aguardando_atendimento";case"completed":return"atendimento_finalizado";case"canceled":return"agendamento_cancelado";default:return j}},v=(j,A)=>{const E=new Date(`${j.appointmentDate}T${j.appointmentTime}`),T=new Date(`${A.appointmentDate}T${A.appointmentTime}`),R=new Date(E.getTime()+3*60*60*1e3),D=new Date(T.getTime()+3*60*60*1e3);return R.getTime()-D.getTime()},g=j=>{try{const[A,E,T]=j.split("-").map(Number),R=new Date(A,E-1,T),D=R.getDate().toString().padStart(2,"0"),P=(R.getMonth()+1).toString().padStart(2,"0"),I=R.getFullYear();return`${D}-${P}-${I}`}catch(A){return console.error("Error formatting date:",A),j}},p=j=>{if(!j||j==="")return null;try{if(j.startsWith('{"text":"')){const A=JSON.parse(j);return A.text?A:null}return{text:j,color:"default"}}catch{return{text:j,color:"default"}}},y=j=>{l(j);const A=p(j.notes);u((A==null?void 0:A.text)||""),f((A==null?void 0:A.color)||"default"),i(!0)},x=async()=>{if(!s||!n){i(!1);return}const A={...s,notes:JSON.stringify({text:c,color:d})};await n(A)?Oe.success("Nota salva com sucesso"):Oe.error("Erro ao salvar nota"),i(!1)},b=async()=>{if(!s||!n){i(!1);return}const j={...s,notes:""};await n(j)?Oe.success("Nota excluda com sucesso"):Oe.error("Erro ao excluir nota"),i(!1)},w=[{id:"default",label:"Azul",className:"bg-primary text-primary-foreground"},{id:"secondary",label:"Cinza",className:"bg-secondary text-secondary-foreground"},{id:"destructive",label:"Vermelho",className:"bg-destructive text-destructive-foreground"},{id:"success",label:"Verde",className:"bg-green-500 text-white"},{id:"warning",label:"Amarelo",className:"bg-yellow-500 text-white"},{id:"purple",label:"Roxo",className:"bg-purple-500 text-white"},{id:"blue",label:"Azul Claro",className:"bg-blue-400 text-white"},{id:"orange",label:"Laranja",className:"bg-orange-500 text-white"}],_=({columnId:j})=>{const A=()=>{switch(j){case"aguardando_atendimento":return"Nenhum agendamento aguardando";case"atendimento_iniciado":return"Nenhum atendimento em andamento";case"atendimento_finalizado":return"Nenhum atendimento finalizado";case"agendamento_cancelado":return"Nenhum agendamento cancelado";default:return"Nenhum agendamento"}};return o.jsxs(nt.div,{initial:{opacity:.8},animate:{opacity:[.8,1,.8],scale:[1,1.02,1]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},className:"flex flex-col items-center justify-center p-4 min-h-[200px] bg-white/50 rounded-md border border-dashed border-muted m-1 hover:bg-white/70 transition-colors",children:[o.jsx(J1,{className:"h-12 w-12 mb-3 text-muted-foreground opacity-70"}),o.jsx("p",{className:"text-center font-medium",children:A()}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Arraste agendamentos para esta coluna"})]})};return o.jsxs(o.Fragment,{children:[o.jsx(eTe,{onDragEnd:e,children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-2 mb-8",children:m.map(j=>{const A=t.filter(T=>h(T.status)===j.id).sort(v),E=A.length>VTe;return o.jsxs("div",{className:"flex flex-col",children:[o.jsx(nt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-0",children:o.jsx("h3",{className:"font-medium text-md mb-0 flex items-center justify-between px-3 py-2 rounded-t-lg bg-muted border border-border shadow-sm transition-all duration-200 hover:shadow-md",children:o.jsxs("span",{className:"flex items-center",children:[j.title,o.jsx("span",{className:"ml-2 bg-white/80 text-xs px-2 py-1 rounded-full shadow-inner",children:A.length})]})})}),o.jsx(gJ,{droppableId:j.id,children:(T,R)=>o.jsx("div",{ref:T.innerRef,...T.droppableProps,className:`bg-muted/30 pt-1 px-1 pb-1 rounded-b-lg flex-1 border-x border-b border-border shadow-sm transition-all duration-200 ${R.isDraggingOver?"bg-white/70 shadow-md":""}`,children:A.length===0?o.jsx(_,{columnId:j.id}):E?o.jsxs(mE,{className:"h-[calc(100vh-260px)] min-h-[300px] pr-1",children:[o.jsx("div",{className:"p-0",children:o.jsx(Gi,{children:A.map((D,P)=>o.jsx(q$,{appointment:D,index:P,parseNotes:p,formatDate:g,handleAddNote:y,formatRelativeTime:tF,badgeColors:w},D.id))})}),o.jsx("div",{className:`${R.isDraggingOver?"border-2 border-dashed border-primary/40 rounded-md my-1":""}`,children:T.placeholder})]}):o.jsxs("div",{className:"min-h-[300px] p-0",children:[o.jsx(Gi,{children:A.map((D,P)=>o.jsx(q$,{appointment:D,index:P,parseNotes:p,formatDate:g,handleAddNote:y,formatRelativeTime:tF,badgeColors:w},D.id))}),o.jsx("div",{className:`${R.isDraggingOver?"border-2 border-dashed border-primary/40 rounded-md my-1":""}`,children:T.placeholder})]})})})]},j.id)})})}),o.jsx(wi,{open:a,onOpenChange:i,children:o.jsxs(ai,{className:"sm:max-w-md",children:[o.jsxs(ii,{children:[o.jsx(si,{children:"Adicionar Nota"}),o.jsxs(Bo,{children:["Adicione uma nota para este agendamento com"," ",s==null?void 0:s.clientName,"."]})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(pt,{htmlFor:"note",children:"Nota"}),c&&o.jsx(je,{variant:"ghost",size:"icon",className:"text-destructive",onClick:b,title:"Excluir nota",children:o.jsx(yn,{className:"h-4 w-4"})})]}),o.jsx(li,{id:"note",value:c,onChange:j=>u(j.target.value),placeholder:"Digite sua nota aqui...",className:"resize-none"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{children:"Cor do Badge"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(j=>o.jsx("div",{className:`h-8 w-8 rounded-full cursor-pointer flex items-center justify-center border-2 ${d===j.id?"border-black":"border-transparent"} ${j.className}`,onClick:()=>f(j.id)},j.id))})]})]}),o.jsxs(au,{children:[o.jsx(je,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),o.jsx(je,{onClick:x,children:"Salvar"})]})]})})]})},q$=({appointment:t,index:e,parseNotes:r,formatDate:n,handleAddNote:a,formatRelativeTime:i,badgeColors:s})=>{const l=Ki(),c=r(t.notes),u=(c==null?void 0:c.color)||"default",d=i(t.appointmentDate,t.appointmentTime),f=v=>["default","secondary","destructive","outline","success","warning","primary","purple"].includes(v),m=v=>{const g=s.find(p=>p.id===v);return g==null?void 0:g.className},h=()=>{l("/evolution-api",{state:{activeTab:"disparador",clientPhone:t.clientPhone,clientName:t.clientName}})};return o.jsx(LTe,{draggableId:t.id,index:e,children:(v,g)=>o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{duration:.2},children:o.jsx(ot,{ref:v.innerRef,...v.draggableProps,...v.dragHandleProps,className:`mb-1 mt-0 border ${g.isDragging?"opacity-90 shadow-lg scale-105 bg-white ring-2 ring-primary":"bg-card"} hover:shadow-md hover:translate-y-[-2px] transition-all duration-200 rounded-md overflow-hidden`,children:o.jsx(lt,{className:`p-2 ${g.isDragging?"bg-white/90":""}`,children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-start mb-1",children:[o.jsx("div",{className:"font-medium truncate pr-2",children:t.clientName}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(je,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-blue-600 hover:bg-white/60 rounded-full",onClick:()=>a(t),children:c?o.jsx(go,{className:"h-3 w-3"}):o.jsx(xk,{className:"h-3 w-3"})}),o.jsx(je,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-green-600 hover:bg-white/60 rounded-full",onClick:h,children:o.jsx($o,{className:"h-3 w-3"})})]})]}),o.jsx("div",{className:"text-xs text-muted-foreground mb-2 font-medium",children:d}),o.jsxs("div",{className:"flex items-center text-xs mb-1 hover:bg-white/60 p-1 rounded transition-colors",children:[o.jsx(nn,{className:"h-3 w-3 mr-1 text-primary"}),o.jsxs("span",{className:"truncate",children:[n(t.appointmentDate)," -"," ",t.appointmentTime.substring(0,5)]})]}),o.jsxs("div",{className:"flex items-center text-xs mb-1 hover:bg-white/60 p-1 rounded transition-colors",children:[o.jsx(Gc,{className:"h-3 w-3 mr-1 text-primary"}),o.jsx("span",{className:"truncate",children:t.serviceName})]}),o.jsxs("div",{className:"flex items-center text-xs mb-1 hover:bg-white/60 p-1 rounded transition-colors",children:[o.jsx(eu,{className:"h-3 w-3 mr-1 text-primary"}),o.jsx("span",{className:"truncate",children:t.attendantName})]}),c&&c.text&&o.jsx("div",{className:"mt-2",children:o.jsx(Ur,{variant:f(u)?u:"default",className:`text-xs whitespace-normal break-words ${f(u)?"":m(u)||""} shadow-sm`,children:c.text})})]})})})})},t.id)},WTe={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},HS={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},qTe=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState(null),[a,i]=N.useState("kanban"),s=nd(),{appointments:l,isLoading:c,fetchAppointments:u,updateAppointment:d,updateAppointmentStatus:f,deleteAppointment:m,archiveAppointment:h,printAppointment:v,getStatusDisplayText:g}=sm();N.useEffect(()=>{u()},[]),N.useEffect(()=>{s&&i("list")},[s]);const p=()=>{e(!0),n(null)},y=()=>{e(!1),n(null)},x=()=>{e(!1),n(null),u()},b=H=>{const q=l.find(G=>G.id===H);q?(n(q),e(!1)):Oe.error("Agendamento no encontrado")},w=()=>{n(null),u()},_=H=>{f(H,"agendamento_cancelado")},j=H=>{f(H,"atendimento_finalizado")},A=(H,q)=>{f(H,q)},E=H=>{v(H)},T=H=>{m(H)},R=H=>{h(H)},D=H=>{const{destination:q,source:G,draggableId:re}=H;!q||q.droppableId===G.droppableId&&q.index===G.index||f(re,q.droppableId)},P=l.filter(H=>H.status==="aguardando_atendimento"||H.status==="scheduled").length,I=l.filter(H=>H.status==="atendimento_iniciado").length,L=l.filter(H=>H.status==="atendimento_finalizado"||H.status==="completed").length,V=l.filter(H=>H.status==="agendamento_cancelado"||H.status==="canceled").length;return o.jsx(gs,{children:o.jsxs(nt.div,{className:"container mx-auto p-2 sm:p-4 md:p-6 space-y-4 md:space-y-6",initial:"hidden",animate:"visible",exit:"exit",variants:WTe,children:[o.jsx(nt.h1,{className:"text-xl sm:text-2xl font-bold",variants:HS,children:"Agendamentos"}),o.jsxs(nt.div,{className:"grid gap-2 sm:gap-4 md:gap-6 grid-cols-2 md:grid-cols-4",variants:HS,children:[o.jsx(LS,{title:"Aguardando",value:P.toString(),description:"Aguardando atendimento",icon:o.jsx(nn,{className:"text-blue-500"})}),o.jsx(LS,{title:"Em Atendimento",value:I.toString(),description:"Atendimentos em andamento",icon:o.jsx(xl,{className:"text-amber-500"})}),o.jsx(LS,{title:"Finalizados",value:L.toString(),description:"Atendimentos concludos",icon:o.jsx(Us,{className:"text-green-500"})}),o.jsx(LS,{title:"Cancelados",value:V.toString(),description:"Agendamentos cancelados",icon:o.jsx(nn,{className:"text-red-500"})})]}),o.jsxs(nt.div,{className:"grid gap-4 md:gap-6 grid-cols-1 md:grid-cols-5",variants:HS,children:[o.jsx("div",{className:"col-span-1 md:col-span-3 lg:col-span-3",children:o.jsx(w2e,{})}),o.jsx("div",{className:"col-span-1 md:col-span-2 lg:col-span-2"})]}),o.jsxs(nt.div,{className:"bg-white rounded-lg shadow-sm border p-3 sm:p-4 md:p-6",variants:HS,children:[o.jsxs("div",{className:`flex flex-col ${s?"":"sm:flex-row"} justify-between items-start sm:items-center gap-4 mb-4 sm:mb-6`,children:[o.jsx("h2",{className:"text-lg sm:text-xl font-semibold",children:"Agendamentos"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex border rounded-md overflow-hidden",children:[o.jsx(je,{variant:a==="kanban"?"default":"outline",size:s?"sm":"default",onClick:()=>i("kanban"),className:"rounded-r-none flex-1",children:"Kanban"}),o.jsx(je,{variant:a==="list"?"default":"outline",size:s?"sm":"default",onClick:()=>i("list"),className:"rounded-l-none flex-1",children:"Lista"})]}),o.jsxs(je,{onClick:p,size:s?"sm":"default",className:"w-full sm:w-auto",children:[o.jsx(Jq,{className:"mr-2 h-4 w-4"}),s?"Novo":"Novo Agendamento"]})]})]}),o.jsx(Gi,{mode:"wait",children:t?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:o.jsx(Mje,{onSuccess:x,onCancel:y})}):r?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:o.jsx(Rje,{appointment:r,onSuccess:w,onCancel:()=>n(null)})}):o.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:a==="kanban"?o.jsx(HTe,{appointments:l,onDragEnd:D,getStatusDisplayText:g,updateAppointment:d}):o.jsx(iNe,{appointments:l,isLoading:c,onEditAppointment:b,onCancelAppointment:_,onCompleteAppointment:j,onChangeStatus:A,getStatusDisplayText:g,onPrintAppointment:E,onDeleteAppointment:T,onArchiveAppointment:R})})})]})]})})};var IE,mr,vJ,yJ,Ov,Km,G$,xJ,bJ,Fj={},wJ=[],GTe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function fh(t,e){for(var r in e)t[r]=e[r];return t}function SJ(t){var e=t.parentNode;e&&e.removeChild(t)}function Qe(t,e,r){var n,a,i,s={};for(i in e)i=="key"?n=e[i]:i=="ref"?a=e[i]:s[i]=e[i];if(arguments.length>2&&(s.children=arguments.length>3?IE.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)s[i]===void 0&&(s[i]=t.defaultProps[i]);return G_(t,s,n,a,null)}function G_(t,e,r,n,a){var i={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++vJ};return a==null&&mr.vnode!=null&&mr.vnode(i),i}function tf(){return{current:null}}function za(t){return t.children}function YTe(t,e,r,n,a){var i;for(i in r)i==="children"||i==="key"||i in e||$j(t,i,null,r[i],n);for(i in e)a&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||r[i]===e[i]||$j(t,i,e[i],r[i],n)}function Y$(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||GTe.test(e)?r:r+"px"}function $j(t,e,r,n,a){var i;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Y$(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Y$(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n||t.addEventListener(e,i?X$:K$,i):t.removeEventListener(e,i?X$:K$,i);else if(e!=="dangerouslySetInnerHTML"){if(a)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function K$(t){Ov=!0;try{return this.l[t.type+!1](mr.event?mr.event(t):t)}finally{Ov=!1}}function X$(t){Ov=!0;try{return this.l[t.type+!0](mr.event?mr.event(t):t)}finally{Ov=!1}}function hl(t,e){this.props=t,this.context=e}function yb(t,e){if(e==null)return t.__?yb(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?yb(t):null}function _J(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return _J(t)}}function KTe(t){Ov?setTimeout(t):xJ(t)}function IP(t){(!t.__d&&(t.__d=!0)&&Km.push(t)&&!Bj.__r++||G$!==mr.debounceRendering)&&((G$=mr.debounceRendering)||KTe)(Bj)}function Bj(){var t,e,r,n,a,i,s,l;for(Km.sort(function(c,u){return c.__v.__b-u.__v.__b});t=Km.shift();)t.__d&&(e=Km.length,n=void 0,a=void 0,s=(i=(r=t).__v).__e,(l=r.__P)&&(n=[],(a=fh({},i)).__v=i.__v+1,EM(l,i,a,r.__n,l.ownerSVGElement!==void 0,i.__h!=null?[s]:null,n,s??yb(i),i.__h),CJ(n,i),i.__e!=s&&_J(i)),Km.length>e&&Km.sort(function(c,u){return c.__v.__b-u.__v.__b}));Bj.__r=0}function jJ(t,e,r,n,a,i,s,l,c,u){var d,f,m,h,v,g,p,y=n&&n.__k||wJ,x=y.length;for(r.__k=[],d=0;d<e.length;d++)if((h=r.__k[d]=(h=e[d])==null||typeof h=="boolean"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?G_(null,h,null,null,h):Array.isArray(h)?G_(za,{children:h},null,null,null):h.__b>0?G_(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null){if(h.__=r,h.__b=r.__b+1,(m=y[d])===null||m&&h.key==m.key&&h.type===m.type)y[d]=void 0;else for(f=0;f<x;f++){if((m=y[f])&&h.key==m.key&&h.type===m.type){y[f]=void 0;break}m=null}EM(t,h,m=m||Fj,a,i,s,l,c,u),v=h.__e,(f=h.ref)&&m.ref!=f&&(p||(p=[]),m.ref&&p.push(m.ref,null,h),p.push(f,h.__c||v,h)),v!=null?(g==null&&(g=v),typeof h.type=="function"&&h.__k===m.__k?h.__d=c=NJ(h,c,t):c=AJ(t,h,m,y,v,c),typeof r.type=="function"&&(r.__d=c)):c&&m.__e==c&&c.parentNode!=t&&(c=yb(m))}for(r.__e=g,d=x;d--;)y[d]!=null&&(typeof r.type=="function"&&y[d].__e!=null&&y[d].__e==r.__d&&(r.__d=EJ(n).nextSibling),kJ(y[d],y[d]));if(p)for(d=0;d<p.length;d++)TJ(p[d],p[++d],p[++d])}function NJ(t,e,r){for(var n,a=t.__k,i=0;a&&i<a.length;i++)(n=a[i])&&(n.__=t,e=typeof n.type=="function"?NJ(n,e,r):AJ(r,n,n,a,n.__e,e));return e}function Uj(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Uj(r,e)}):e.push(t)),e}function AJ(t,e,r,n,a,i){var s,l,c;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(r==null||a!=i||a.parentNode==null)e:if(i==null||i.parentNode!==t)t.appendChild(a),s=null;else{for(l=i,c=0;(l=l.nextSibling)&&c<n.length;c+=1)if(l==a)break e;t.insertBefore(a,i),s=i}return s!==void 0?s:a.nextSibling}function EJ(t){var e,r,n;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((r=t.__k[e])&&(n=EJ(r)))return n}return null}function EM(t,e,r,n,a,i,s,l,c){var u,d,f,m,h,v,g,p,y,x,b,w,_,j,A,E=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,l=e.__e=r.__e,e.__h=null,i=[l]),(u=mr.__b)&&u(e);try{e:if(typeof E=="function"){if(p=e.props,y=(u=E.contextType)&&n[u.__c],x=u?y?y.props.value:u.__:n,r.__c?g=(d=e.__c=r.__c).__=d.__E:("prototype"in E&&E.prototype.render?e.__c=d=new E(p,x):(e.__c=d=new hl(p,x),d.constructor=E,d.render=ZTe),y&&y.sub(d),d.props=p,d.state||(d.state={}),d.context=x,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),E.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=fh({},d.__s)),fh(d.__s,E.getDerivedStateFromProps(p,d.__s))),m=d.props,h=d.state,d.__v=e,f)E.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(E.getDerivedStateFromProps==null&&p!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(p,x),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(p,d.__s,x)===!1||e.__v===r.__v){for(e.__v!==r.__v&&(d.props=p,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(T){T&&(T.__=e)}),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(p,d.__s,x),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,h,v)})}if(d.context=x,d.props=p,d.__P=t,w=mr.__r,_=0,"prototype"in E&&E.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(e),u=d.render(d.props,d.state,d.context),j=0;j<d._sb.length;j++)d.__h.push(d._sb[j]);d._sb=[]}else do d.__d=!1,w&&w(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++_<25);d.state=d.__s,d.getChildContext!=null&&(n=fh(fh({},n),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(v=d.getSnapshotBeforeUpdate(m,h)),A=u!=null&&u.type===za&&u.key==null?u.props.children:u,jJ(t,Array.isArray(A)?A:[A],e,r,n,a,i,s,l,c),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),g&&(d.__E=d.__=null),d.__e=!1}else i==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=XTe(r.__e,e,r,n,a,i,s,c);(u=mr.diffed)&&u(e)}catch(T){e.__v=null,(c||i!=null)&&(e.__e=l,e.__h=!!c,i[i.indexOf(l)]=null),mr.__e(T,e,r)}}function CJ(t,e){mr.__c&&mr.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){mr.__e(n,r.__v)}})}function XTe(t,e,r,n,a,i,s,l){var c,u,d,f=r.props,m=e.props,h=e.type,v=0;if(h==="svg"&&(a=!0),i!=null){for(;v<i.length;v++)if((c=i[v])&&"setAttribute"in c==!!h&&(h?c.localName===h:c.nodeType===3)){t=c,i[v]=null;break}}if(t==null){if(h===null)return document.createTextNode(m);t=a?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,m.is&&m),i=null,l=!1}if(h===null)f===m||l&&t.data===m||(t.data=m);else{if(i=i&&IE.call(t.childNodes),u=(f=r.props||Fj).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!l){if(i!=null)for(f={},v=0;v<t.attributes.length;v++)f[t.attributes[v].name]=t.attributes[v].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(YTe(t,m,f,a,l),d)e.__k=[];else if(v=e.props.children,jJ(t,Array.isArray(v)?v:[v],e,r,n,a&&h!=="foreignObject",i,s,i?i[0]:r.__k&&yb(r,0),l),i!=null)for(v=i.length;v--;)i[v]!=null&&SJ(i[v]);l||("value"in m&&(v=m.value)!==void 0&&(v!==t.value||h==="progress"&&!v||h==="option"&&v!==f.value)&&$j(t,"value",v,f.value,!1),"checked"in m&&(v=m.checked)!==void 0&&v!==t.checked&&$j(t,"checked",v,f.checked,!1))}return t}function TJ(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){mr.__e(n,r)}}function kJ(t,e,r){var n,a;if(mr.unmount&&mr.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||TJ(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){mr.__e(i,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(a=0;a<n.length;a++)n[a]&&kJ(n[a],e,r||typeof t.type!="function");r||t.__e==null||SJ(t.__e),t.__=t.__e=t.__d=void 0}function ZTe(t,e,r){return this.constructor(t,r)}function xb(t,e,r){var n,a,i;mr.__&&mr.__(t,e),a=(n=!1)?null:e.__k,i=[],EM(e,t=e.__k=Qe(za,null,[t]),a||Fj,Fj,e.ownerSVGElement!==void 0,a?null:e.firstChild?IE.call(e.childNodes):null,i,a?a.__e:e.firstChild,n),CJ(i,t)}function QTe(t,e){var r={__c:e="__cC"+bJ++,__:t,Consumer:function(n,a){return n.children(a)},Provider:function(n){var a,i;return this.getChildContext||(a=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&a.some(function(l){l.__e=!0,IP(l)})},this.sub=function(s){a.push(s);var l=s.componentWillUnmount;s.componentWillUnmount=function(){a.splice(a.indexOf(s),1),l&&l.call(s)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}IE=wJ.slice,mr={__e:function(t,e,r,n){for(var a,i,s;e=e.__;)if((a=e.__c)&&!a.__)try{if((i=a.constructor)&&i.getDerivedStateFromError!=null&&(a.setState(i.getDerivedStateFromError(t)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,n||{}),s=a.__d),s)return a.__E=a}catch(l){t=l}throw t}},vJ=0,yJ=function(t){return t!=null&&t.constructor===void 0},Ov=!1,hl.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=fh({},this.state),typeof t=="function"&&(t=t(fh({},r),this.props)),t&&fh(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),IP(this))},hl.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),IP(this))},hl.prototype.render=za,Km=[],xJ=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Bj.__r=0,bJ=0;var Au,FT,Z$,PJ=[],$T=[],Q$=mr.__b,J$=mr.__r,eB=mr.diffed,tB=mr.__c,rB=mr.unmount;function JTe(){for(var t;t=PJ.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Y_),t.__H.__h.forEach(MP),t.__H.__h=[]}catch(e){t.__H.__h=[],mr.__e(e,t.__v)}}mr.__b=function(t){Au=null,Q$&&Q$(t)},mr.__r=function(t){J$&&J$(t);var e=(Au=t.__c).__H;e&&(FT===Au?(e.__h=[],Au.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=$T,r.__N=r.i=void 0})):(e.__h.forEach(Y_),e.__h.forEach(MP),e.__h=[])),FT=Au},mr.diffed=function(t){eB&&eB(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(PJ.push(e)!==1&&Z$===mr.requestAnimationFrame||((Z$=mr.requestAnimationFrame)||e4e)(JTe)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==$T&&(r.__=r.__V),r.i=void 0,r.__V=$T})),FT=Au=null},mr.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Y_),r.__h=r.__h.filter(function(n){return!n.__||MP(n)})}catch(n){e.some(function(a){a.__h&&(a.__h=[])}),e=[],mr.__e(n,r.__v)}}),tB&&tB(t,e)},mr.unmount=function(t){rB&&rB(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Y_(n)}catch(a){e=a}}),r.__H=void 0,e&&mr.__e(e,r.__v))};var nB=typeof requestAnimationFrame=="function";function e4e(t){var e,r=function(){clearTimeout(n),nB&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);nB&&(e=requestAnimationFrame(r))}function Y_(t){var e=Au,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Au=e}function MP(t){var e=Au;t.__c=t.__(),Au=e}function t4e(t,e){for(var r in e)t[r]=e[r];return t}function aB(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}function iB(t){this.props=t}(iB.prototype=new hl).isPureReactComponent=!0,iB.prototype.shouldComponentUpdate=function(t,e){return aB(this.props,t)||aB(this.state,e)};var sB=mr.__b;mr.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),sB&&sB(t)};var r4e=mr.__e;mr.__e=function(t,e,r,n){if(t.then){for(var a,i=e;i=i.__;)if((a=i.__c)&&a.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),a.__c(t,e)}r4e(t,e,r,n)};var oB=mr.unmount;function DJ(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),t.__c.__H=null),(t=t4e({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(n){return DJ(n,e,r)})),t}function OJ(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(n){return OJ(n,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}function BT(){this.__u=0,this.t=null,this.__b=null}function IJ(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function WS(){this.u=null,this.o=null}mr.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),oB&&oB(t)},(BT.prototype=new hl).__c=function(t,e){var r=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var a=IJ(n.__v),i=!1,s=function(){i||(i=!0,r.__R=null,a?a(l):l())};r.__R=s;var l=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=OJ(u,u.__c.__P,u.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.t.pop();)d.forceUpdate()}},c=e.__h===!0;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(s,s)},BT.prototype.componentWillUnmount=function(){this.t=[]},BT.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=DJ(this.__b,r,n.__O=n.__P)}this.__b=null}var a=e.__a&&Qe(za,null,t.fallback);return a&&(a.__h=null),[Qe(za,null,e.__a?null:t.children),a]};var lB=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function n4e(t){return this.getChildContext=function(){return t.context},t.children}function a4e(t){var e=this,r=t.i;e.componentWillUnmount=function(){xb(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,a){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),xb(Qe(n4e,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function i4e(t,e){var r=Qe(a4e,{__v:t,i:e});return r.containerInfo=e,r}(WS.prototype=new hl).__a=function(t){var e=this,r=IJ(e.__v),n=e.o.get(t);return n[0]++,function(a){var i=function(){e.props.revealOrder?(n.push(a),lB(e,t,n)):a()};r?r(i):i()}},WS.prototype.render=function(t){this.u=null,this.o=new Map;var e=Uj(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},WS.prototype.componentDidUpdate=WS.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){lB(t,r,e)})};var s4e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,o4e=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,l4e=typeof document<"u",c4e=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};hl.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(hl.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var cB=mr.event;function u4e(){}function d4e(){return this.cancelBubble}function f4e(){return this.defaultPrevented}mr.event=function(t){return cB&&(t=cB(t)),t.persist=u4e,t.isPropagationStopped=d4e,t.isDefaultPrevented=f4e,t.nativeEvent=t};var uB={configurable:!0,get:function(){return this.class}},dB=mr.vnode;mr.vnode=function(t){var e=t.type,r=t.props,n=r;if(typeof e=="string"){var a=e.indexOf("-")===-1;for(var i in n={},r){var s=r[i];l4e&&i==="children"&&e==="noscript"||i==="value"&&"defaultValue"in r&&s==null||(i==="defaultValue"&&"value"in r&&r.value==null?i="value":i==="download"&&s===!0?s="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!c4e(r.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():a&&o4e.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),n[i]&&(i="oninputCapture")),n[i]=s)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Uj(r.children).forEach(function(l){l.props.selected=n.value.indexOf(l.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=Uj(r.children).forEach(function(l){l.props.selected=n.multiple?n.defaultValue.indexOf(l.props.value)!=-1:n.defaultValue==l.props.value})),t.props=n,r.class!=r.className&&(uB.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",uB))}t.$$typeof=s4e,dB&&dB(t)};var fB=mr.__r;mr.__r=function(t){fB&&fB(t),t.__c};const MJ=[],RP=new Map;function RJ(t){MJ.push(t),RP.forEach(e=>{FJ(e,t)})}function h4e(t){t.isConnected&&t.getRootNode&&LJ(t.getRootNode())}function LJ(t){let e=RP.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const r=p4e();r&&(e.nonce=r);const n=t===document?document.head:t,a=t===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,a)}RP.set(t,e),m4e(e)}}function m4e(t){for(const e of MJ)FJ(t,e)}function FJ(t,e){const{sheet:r}=t,n=r.cssRules.length;e.split("}").forEach((a,i)=>{a=a.trim(),a&&r.insertRule(a+"}",n+i)})}let UT;function p4e(){return UT===void 0&&(UT=g4e()),UT}function g4e(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&LJ(document);var v4e=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';RJ(v4e);class CM{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:r}=this;r[e]=(r[e]||0)+1,this.clearTimeout()}resume(e="",r){let{pauseDepths:n}=this;e in n&&(r?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function TM(t){t.parentNode&&t.parentNode.removeChild(t)}function Os(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(y4e(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function y4e(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function x4e(t,e){let r=t instanceof HTMLElement?[t]:t,n=[];for(let a=0;a<r.length;a+=1){let i=r[a].querySelectorAll(e);for(let s=0;s<i.length;s+=1)n.push(i[s])}return n}const b4e=/(top|left|right|bottom|width|height)$/i;function A1(t,e){for(let r in e)$J(t,r,e[r])}function $J(t,e,r){r==null?t.style[e]="":typeof r=="number"&&b4e.test(e)?t.style[e]=`${r}px`:t.style[e]=r}function BJ(t){var e,r;return(r=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&r!==void 0?r:t.target}let hB=0;function ME(){return hB+=1,"fc-dom-"+hB}function RE(t){t.preventDefault()}function w4e(t,e){return r=>{let n=Os(r.target,t);n&&e.call(n,r,n)}}function UJ(t,e,r,n){let a=w4e(r,n);return t.addEventListener(e,a),()=>{t.removeEventListener(e,a)}}function S4e(t,e,r,n){let a;return UJ(t,"mouseover",e,(i,s)=>{if(s!==a){a=s,r(i,s);let l=c=>{a=null,n(c,s),s.removeEventListener("mouseleave",l)};s.addEventListener("mouseleave",l)}})}const mB=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function _4e(t,e){let r=n=>{e(n),mB.forEach(a=>{t.removeEventListener(a,r)})};mB.forEach(n=>{t.addEventListener(n,r)})}function zJ(t){return Object.assign({onClick:t},VJ(t))}function VJ(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}let pB=0;function og(){return pB+=1,String(pB)}function kM(){document.body.classList.add("fc-not-allowed")}function PM(){document.body.classList.remove("fc-not-allowed")}function j4e(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",RE)}function N4e(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",RE)}function A4e(t){t.addEventListener("contextmenu",RE)}function E4e(t){t.removeEventListener("contextmenu",RE)}function C4e(t){let e=[],r=[],n,a;for(typeof t=="string"?r=t.split(/\s*,\s*/):typeof t=="function"?r=[t]:Array.isArray(t)&&(r=t),n=0;n<r.length;n+=1)a=r[n],typeof a=="string"?e.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&e.push({func:a});return e}function T4e(t,e,r){let n,a;for(n=0;n<r.length;n+=1)if(a=k4e(t,e,r[n]),a)return a;return 0}function k4e(t,e,r){return r.func?r.func(t,e):P4e(t[r.field],e[r.field])*(r.order||1)}function P4e(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function zT(t,e){let r=String(t);return"000".substr(0,e-r.length)+r}function E1(t,e,r){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((n,a,i)=>n.replace("$"+i,a||""),t):r}function D4e(t,e){return t-e}function VT(t){return t%1===0}function O4e(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),r=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!r)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+r.getBoundingClientRect().width}const I4e=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function _n(t,e){return typeof t=="string"?M4e(t):typeof t=="object"&&t?gB(t):typeof t=="number"?gB({[e||"milliseconds"]:t}):null}function M4e(t){let e=I4e.exec(t);if(e){let r=e[1]?-1:1;return{years:0,months:0,days:r*(e[2]?parseInt(e[2],10):0),milliseconds:r*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function gB(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},r=t.weeks||t.week;return r&&(e.days+=r*7,e.specifiedWeeks=!0),e}function R4e(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function L4e(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function F4e(t){return U0(t)/365}function $4e(t){return U0(t)/30}function U0(t){return bb(t)/864e5}function bb(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function LP(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Vh(t,e,r){if(t===e)return!0;let n=t.length,a;if(n!==e.length)return!1;for(a=0;a<n;a+=1)if(!(r?r(t[a],e[a]):t[a]===e[a]))return!1;return!0}const B4e=["sun","mon","tue","wed","thu","fri","sat"];function vB(t,e){let r=hh(t);return r[2]+=e*7,Po(r)}function zs(t,e){let r=hh(t);return r[2]+=e,Po(r)}function Hh(t,e){let r=hh(t);return r[6]+=e,Po(r)}function U4e(t,e){return Cy(t,e)/7}function Cy(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function z4e(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function V4e(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function H4e(t,e){return(e.valueOf()-t.valueOf())/1e3}function W4e(t,e){let r=ya(t),n=ya(e);return{years:0,months:0,days:Math.round(Cy(r,n)),milliseconds:e.valueOf()-n.valueOf()-(t.valueOf()-r.valueOf())}}function q4e(t,e){let r=zj(t,e);return r!==null&&r%7===0?r/7:null}function zj(t,e){return mh(t)===mh(e)?Math.round(Cy(t,e)):null}function ya(t){return Po([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function G4e(t){return Po([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function Y4e(t){return Po([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function K4e(t){return Po([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function X4e(t,e,r){let n=t.getUTCFullYear(),a=HT(t,n,e,r);if(a<1)return HT(t,n-1,e,r);let i=HT(t,n+1,e,r);return i>=1?Math.min(a,i):a}function HT(t,e,r,n){let a=Po([e,0,1+Z4e(e,r,n)]),i=ya(t),s=Math.round(Cy(a,i));return Math.floor(s/7)+1}function Z4e(t,e,r){let n=7+e-r;return-((7+Po([t,0,n]).getUTCDay()-e)%7)+n-1}function yB(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function xB(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function hh(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function Po(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function HJ(t){return!isNaN(t.valueOf())}function mh(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function Q4e(t,e,r=!1){let n=t.toISOString();return n=n.replace(".000",""),r&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",OM(e,!0)))),n}function DM(t){return t.toISOString().replace(/T.*$/,"")}function J4e(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function OM(t,e=!1){let r=t<0?"-":"+",n=Math.abs(t),a=Math.floor(n/60),i=Math.round(n%60);return e?`${r+zT(a,2)}:${zT(i,2)}`:`GMT${r}${a}${i?`:${zT(i,2)}`:""}`}function jn(t,e,r){let n,a;return function(...i){if(!n)a=t.apply(this,i);else if(!Vh(n,i)){let s=t.apply(this,i);(!e||!e(s,a))&&(a=s)}return n=i,a}}function K_(t,e,r){let n,a;return i=>(n?Yu(n,i)||(a=t.call(this,i)):a=t.call(this,i),n=i,a)}const WT={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Vj={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},qS=/\s*([ap])\.?m\.?/i,eke=/,/g,tke=/\s+/g,rke=/\u200e/g,nke=/UTC|GMT/;class ake{constructor(e){let r={},n={},a=9;for(let i in e)i in WT?(n[i]=e[i],WT[i]<9&&(a=Math.min(WT[i],a))):(r[i]=e[i],i in Vj&&(a=Math.min(Vj[i],a)));this.standardDateProps=r,this.extendedSettings=n,this.smallestUnitNum=a,this.buildFormattingFunc=jn(bB)}format(e,r){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,r)(e)}formatRange(e,r,n,a){let{standardDateProps:i,extendedSettings:s}=this,l=uke(e.marker,r.marker,n.calendarSystem);if(!l)return this.format(e,n);let c=l;c>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(c=1);let u=this.format(e,n),d=this.format(r,n);if(u===d)return u;let f=dke(i,c),m=bB(f,s,n),h=m(e),v=m(r),g=fke(u,h,d,v),p=s.separator||a||n.defaultSeparator||"";return g?g.before+h+p+v+g.after:u+p+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function bB(t,e,r){let n=Object.keys(t).length;return n===1&&t.timeZoneName==="short"?a=>OM(a.timeZoneOffset):n===0&&e.week?a=>cke(r.computeWeekNumber(a.marker),r.weekText,r.weekTextLong,r.locale,e.week):ike(t,e,r)}function ike(t,e,r){t=Object.assign({},t),e=Object.assign({},e),ske(t,e),t.timeZone="UTC";let n=new Intl.DateTimeFormat(r.locale.codes,t),a;if(e.omitZeroMinute){let i=Object.assign({},t);delete i.minute,a=new Intl.DateTimeFormat(r.locale.codes,i)}return i=>{let{marker:s}=i,l;a&&!s.getUTCMinutes()?l=a:l=n;let c=l.format(s);return oke(c,i,t,e,r)}}function ske(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function oke(t,e,r,n,a){return t=t.replace(rke,""),r.timeZoneName==="short"&&(t=lke(t,a.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":OM(e.timeZoneOffset))),n.omitCommas&&(t=t.replace(eke,"").trim()),n.omitZeroMinute&&(t=t.replace(":00","")),n.meridiem===!1?t=t.replace(qS,"").trim():n.meridiem==="narrow"?t=t.replace(qS,(i,s)=>s.toLocaleLowerCase()):n.meridiem==="short"?t=t.replace(qS,(i,s)=>`${s.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(t=t.replace(qS,i=>i.toLocaleLowerCase())),t=t.replace(tke," "),t=t.trim(),t}function lke(t,e){let r=!1;return t=t.replace(nke,()=>(r=!0,e)),r||(t+=` ${e}`),t}function cke(t,e,r,n,a){let i=[];return a==="long"?i.push(r):(a==="short"||a==="narrow")&&i.push(e),(a==="long"||a==="short")&&i.push(" "),i.push(n.simpleNumberFormat.format(t)),n.options.direction==="rtl"&&i.reverse(),i.join("")}function uke(t,e,r){return r.getMarkerYear(t)!==r.getMarkerYear(e)?5:r.getMarkerMonth(t)!==r.getMarkerMonth(e)?4:r.getMarkerDay(t)!==r.getMarkerDay(e)?2:mh(t)!==mh(e)?1:0}function dke(t,e){let r={};for(let n in t)(!(n in Vj)||Vj[n]<=e)&&(r[n]=t[n]);return r}function fke(t,e,r,n){let a=0;for(;a<t.length;){let i=t.indexOf(e,a);if(i===-1)break;let s=t.substr(0,i);a=i+e.length;let l=t.substr(a),c=0;for(;c<r.length;){let u=r.indexOf(n,c);if(u===-1)break;let d=r.substr(0,u);c=u+n.length;let f=r.substr(c);if(s===d&&l===f)return{before:s,after:l}}}return null}function wB(t,e){let r=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:r,year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]}}function Hj(t,e,r,n){let a=wB(t,r.calendarSystem),i=e?wB(e,r.calendarSystem):null;return{date:a,start:a,end:i,timeZone:r.timeZone,localeCodes:r.locale.codes,defaultSeparator:n||r.defaultSeparator}}class hke{constructor(e){this.cmdStr=e}format(e,r,n){return r.cmdFormatter(this.cmdStr,Hj(e,null,r,n))}formatRange(e,r,n,a){return n.cmdFormatter(this.cmdStr,Hj(e,r,n,a))}}class mke{constructor(e){this.func=e}format(e,r,n){return this.func(Hj(e,null,r,n))}formatRange(e,r,n,a){return this.func(Hj(e,r,n,a))}}function zi(t){return typeof t=="object"&&t?new ake(t):typeof t=="string"?new hke(t):typeof t=="function"?new mke(t):null}const SB={navLinkDayClick:Ze,navLinkWeekClick:Ze,duration:_n,bootstrapFontAwesome:Ze,buttonIcons:Ze,customButtons:Ze,defaultAllDayEventDuration:_n,defaultTimedEventDuration:_n,nextDayThreshold:_n,scrollTime:_n,scrollTimeReset:Boolean,slotMinTime:_n,slotMaxTime:_n,dayPopoverFormat:zi,slotDuration:_n,snapDuration:_n,headerToolbar:Ze,footerToolbar:Ze,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:zi,dayHeaderClassNames:Ze,dayHeaderContent:Ze,dayHeaderDidMount:Ze,dayHeaderWillUnmount:Ze,dayCellClassNames:Ze,dayCellContent:Ze,dayCellDidMount:Ze,dayCellWillUnmount:Ze,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Ze,weekNumbers:Boolean,weekNumberClassNames:Ze,weekNumberContent:Ze,weekNumberDidMount:Ze,weekNumberWillUnmount:Ze,editable:Boolean,viewClassNames:Ze,viewDidMount:Ze,viewWillUnmount:Ze,nowIndicator:Boolean,nowIndicatorClassNames:Ze,nowIndicatorContent:Ze,nowIndicatorDidMount:Ze,nowIndicatorWillUnmount:Ze,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Ze,locale:Ze,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Ze,eventOrder:C4e,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Ze,contentHeight:Ze,direction:String,weekNumberFormat:zi,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Ze,initialDate:Ze,now:Ze,eventDataTransform:Ze,stickyHeaderDates:Ze,stickyFooterScrollbar:Ze,viewHeight:Ze,defaultAllDay:Boolean,eventSourceFailure:Ze,eventSourceSuccess:Ze,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Ze,eventConstraint:Ze,eventAllow:Ze,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Ze,eventContent:Ze,eventDidMount:Ze,eventWillUnmount:Ze,selectConstraint:Ze,selectOverlap:Ze,selectAllow:Ze,droppable:Boolean,unselectCancel:String,slotLabelFormat:Ze,slotLaneClassNames:Ze,slotLaneContent:Ze,slotLaneDidMount:Ze,slotLaneWillUnmount:Ze,slotLabelClassNames:Ze,slotLabelContent:Ze,slotLabelDidMount:Ze,slotLabelWillUnmount:Ze,dayMaxEvents:Ze,dayMaxEventRows:Ze,dayMinWidth:Number,slotLabelInterval:_n,allDayText:String,allDayClassNames:Ze,allDayContent:Ze,allDayDidMount:Ze,allDayWillUnmount:Ze,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:zi,rerenderDelay:Number,moreLinkText:Ze,moreLinkHint:Ze,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Ze,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:_n,hiddenDays:Ze,fixedWeekCount:Boolean,validRange:Ze,visibleRange:Ze,titleFormat:Ze,eventInteractive:Boolean,noEventsText:String,viewHint:Ze,navLinkHint:Ze,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Ze,moreLinkClassNames:Ze,moreLinkContent:Ze,moreLinkDidMount:Ze,moreLinkWillUnmount:Ze,monthStartFormat:zi,handleCustomRendering:Ze,customRenderingMetaMap:Ze,customRenderingReplaces:Boolean},C1={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},_B={datesSet:Ze,eventsSet:Ze,eventAdd:Ze,eventChange:Ze,eventRemove:Ze,windowResize:Ze,eventClick:Ze,eventMouseEnter:Ze,eventMouseLeave:Ze,select:Ze,unselect:Ze,loading:Ze,_unmount:Ze,_beforeprint:Ze,_afterprint:Ze,_noEventDrop:Ze,_noEventResize:Ze,_resize:Ze,_scrollRequest:Ze},jB={buttonText:Ze,buttonHints:Ze,views:Ze,plugins:Ze,initialEvents:Ze,events:Ze,eventSources:Ze},zm={headerToolbar:Vm,footerToolbar:Vm,buttonText:Vm,buttonHints:Vm,buttonIcons:Vm,dateIncrement:Vm,plugins:GS,events:GS,eventSources:GS,resources:GS};function Vm(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?Yu(t,e):t===e}function GS(t,e){return Array.isArray(t)&&Array.isArray(e)?Vh(t,e):t===e}const pke={type:String,component:Ze,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Ze,usesMinMaxTime:Boolean,classNames:Ze,content:Ze,didMount:Ze,willUnmount:Ze};function qT(t){return MM(t,zm)}function IM(t,e){let r={},n={};for(let a in e)a in t&&(r[a]=e[a](t[a]));for(let a in t)a in e||(n[a]=t[a]);return{refined:r,extra:n}}function Ze(t){return t}const{hasOwnProperty:Wj}=Object.prototype;function MM(t,e){let r={};if(e){for(let n in e)if(e[n]===Vm){let a=[];for(let i=t.length-1;i>=0;i-=1){let s=t[i][n];if(typeof s=="object"&&s)a.unshift(s);else if(s!==void 0){r[n]=s;break}}a.length&&(r[n]=MM(a))}}for(let n=t.length-1;n>=0;n-=1){let a=t[n];for(let i in a)i in r||(r[i]=a[i])}return r}function Vp(t,e){let r={};for(let n in t)e(t[n],n)&&(r[n]=t[n]);return r}function lg(t,e){let r={};for(let n in t)r[n]=e(t[n],n);return r}function WJ(t){let e={};for(let r of t)e[r]=!0;return e}function RM(t){let e=[];for(let r in t)e.push(t[r]);return e}function Yu(t,e){if(t===e)return!0;for(let r in t)if(Wj.call(t,r)&&!(r in e))return!1;for(let r in e)if(Wj.call(e,r)&&t[r]!==e[r])return!1;return!0}const gke=/^on[A-Z]/;function vke(t,e){const r=FP(t,e);for(let n of r)if(!gke.test(n))return!1;return!0}function FP(t,e){let r=[];for(let n in t)Wj.call(t,n)&&(n in e||r.push(n));for(let n in e)Wj.call(e,n)&&t[n]!==e[n]&&r.push(n);return r}function GT(t,e,r={}){if(t===e)return!0;for(let n in e)if(!(n in t&&yke(t[n],e[n],r[n])))return!1;for(let n in t)if(!(n in e))return!1;return!0}function yke(t,e,r){return t===e||r===!0?!0:r?r(t,e):!1}function xke(t,e=0,r,n=1){let a=[];r==null&&(r=Object.keys(t).length);for(let i=e;i<r;i+=n){let s=t[i];s!==void 0&&a.push(s)}return a}let qJ={};function bke(t,e){qJ[t]=e}function wke(t){return new qJ[t]}class Ske{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Po(e)}markerToArray(e){return hh(e)}}bke("gregory",Ske);const _ke=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function jke(t){let e=_ke.exec(t);if(e){let r=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(HJ(r)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:r,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class Nke{constructor(e){let r=this.timeZone=e.timeZone,n=r!=="local"&&r!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(r)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=wke(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let r=this.createMarkerMeta(e);return r===null?null:r.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Po(yB(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let r=null;return typeof e=="number"?r=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(r=this.timestampToMarker(e))):Array.isArray(e)&&(r=Po(e)),r===null||!HJ(r)?null:{marker:r,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let r=jke(e);if(r===null)return null;let{marker:n}=r,a=null;return r.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-r.timeZoneOffset*60*1e3):a=r.timeZoneOffset),{marker:n,isTimeUnspecified:r.isTimeUnspecified,forcedTzo:a}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r.years,n[1]+=r.months,n[2]+=r.days,n[6]+=r.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]-=r.years,n[1]-=r.months,n[2]-=r.days,n[6]-=r.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,r){let n=this.calendarSystem.markerToArray(e);return n[0]+=r,this.calendarSystem.arrayToMarker(n)}addMonths(e,r){let n=this.calendarSystem.markerToArray(e);return n[1]+=r,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,r){let{calendarSystem:n}=this;return mh(e)===mh(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)&&n.getMarkerMonth(e)===n.getMarkerMonth(r)?n.getMarkerYear(r)-n.getMarkerYear(e):null}diffWholeMonths(e,r){let{calendarSystem:n}=this;return mh(e)===mh(r)&&n.getMarkerDay(e)===n.getMarkerDay(r)?n.getMarkerMonth(r)-n.getMarkerMonth(e)+(n.getMarkerYear(r)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,r){let n=this.diffWholeYears(e,r);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,r),n!==null?{unit:"month",value:n}:(n=q4e(e,r),n!==null?{unit:"week",value:n}:(n=zj(e,r),n!==null?{unit:"day",value:n}:(n=z4e(e,r),VT(n)?{unit:"hour",value:n}:(n=V4e(e,r),VT(n)?{unit:"minute",value:n}:(n=H4e(e,r),VT(n)?{unit:"second",value:n}:{unit:"millisecond",value:r.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,r,n){let a;return n.years&&(a=this.diffWholeYears(e,r),a!==null)?a/F4e(n):n.months&&(a=this.diffWholeMonths(e,r),a!==null)?a/$4e(n):n.days&&(a=zj(e,r),a!==null)?a/U0(n):(r.valueOf()-e.valueOf())/bb(n)}startOf(e,r){return r==="year"?this.startOfYear(e):r==="month"?this.startOfMonth(e):r==="week"?this.startOfWeek(e):r==="day"?ya(e):r==="hour"?G4e(e):r==="minute"?Y4e(e):r==="second"?K4e(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):X4e(e,this.weekDow,this.weekDoy)}format(e,r,n={}){return r.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,r,n,a={}){return a.isEndExclusive&&(r=Hh(r,-1)),n.formatRange({marker:e,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(e)},{marker:r,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(r)},this,a.defaultSeparator)}formatIso(e,r={}){let n=null;return r.omitTimeZoneOffset||(r.forcedTzo!=null?n=r.forcedTzo:n=this.offsetForMarker(e)),Q4e(e,n,r.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Po(yB(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Po(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-xB(hh(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(hh(e)):null}toDate(e,r){return this.timeZone==="local"?xB(hh(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(hh(e))*1e3*60):new Date(e.valueOf()-(r||0))}}class s2{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let r,n;if(typeof e=="object"&&e){r=Object.assign({},this.iconClasses);for(n in e)r[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=r}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let r=this.iconOverridePrefix;return r&&e.indexOf(r)!==0&&(e=r+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,r){let n;return r&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let r;return this.iconOverrideCustomButtonOption&&(r=e[this.iconOverrideCustomButtonOption],r)?`${this.baseIconClass} ${this.applyIconOverridePrefix(r)}`:""}}s2.prototype.classes={};s2.prototype.iconClasses={};s2.prototype.baseIconClass="";s2.prototype.iconOverridePrefix="";function qj(t){t();let e=mr.debounceRendering,r=[];function n(a){r.push(a)}for(mr.debounceRendering=n,xb(Qe(Ake,{}),document.createElement("div"));r.length;)r.shift()();mr.debounceRendering=e}class Ake extends hl{render(){return Qe("div",{})}componentDidMount(){this.setState({})}}function GJ(t){let e=QTe(t),r=e.Provider;return e.Provider=function(){let n=!this.getChildContext,a=r.apply(this,arguments);if(n){let i=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&i.forEach(l=>{l.context=s.value,l.forceUpdate()})},this.sub=s=>{i.push(s);let l=s.componentWillUnmount;s.componentWillUnmount=()=>{i.splice(i.indexOf(s),1),l&&l.call(s)}}}return a},e}class Eke{constructor(e,r,n,a){this.execFunc=e,this.emitter=r,this.scrollTime=n,this.scrollTimeReset=a,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},r.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const cg=GJ({});function Cke(t,e,r,n,a,i,s,l,c,u,d,f,m,h){return{dateEnv:a,nowManager:i,options:r,pluginHooks:l,emitter:d,dispatch:c,getCurrentData:u,calendarApi:f,viewSpec:t,viewApi:e,dateProfileGenerator:n,theme:s,isRtl:r.direction==="rtl",addResizeHandler(v){d.on("_resize",v)},removeResizeHandler(v){d.off("_resize",v)},createScrollResponder(v){return new Eke(v,d,_n(r.scrollTime),r.scrollTimeReset)},registerInteractiveComponent:m,unregisterInteractiveComponent:h}}class ug extends hl{shouldComponentUpdate(e,r){return this.debug&&console.log(FP(e,this.props),FP(r,this.state)),!GT(this.props,e,this.propEquality)||!GT(this.state,r,this.stateEquality)}safeSetState(e){GT(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}ug.addPropsEquality=Tke;ug.addStateEquality=kke;ug.contextType=cg;ug.prototype.propEquality={};ug.prototype.stateEquality={};class Ca extends ug{}Ca.contextType=cg;function Tke(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function kke(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function rf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}class LM extends Ca{constructor(){super(...arguments),this.id=og(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:r}=this.context,{generatorName:n}=this.props;(!r.customRenderingReplaces||!$P(n,r))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&rf(this.props.elRef,e)}}render(){const{props:e,context:r}=this,{options:n}=r,{customGenerator:a,defaultGenerator:i,renderProps:s}=e,l=YJ(e,[],this.handleEl);let c=!1,u,d=[],f;if(a!=null){const m=typeof a=="function"?a(s,Qe):a;if(m===!0)c=!0;else{const h=m&&typeof m=="object";h&&"html"in m?l.dangerouslySetInnerHTML={__html:m.html}:h&&"domNodes"in m?d=Array.prototype.slice.call(m.domNodes):(h?yJ(m):typeof m!="function")?u=m:f=m}}else c=!$P(e.generatorName,n);return c&&i&&(u=i(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,Qe(e.elTag,l,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var r;const{props:n,context:a}=this,{handleCustomRendering:i,customRenderingMetaMap:s}=a.options;if(i){const l=(r=this.currentGeneratorMeta)!==null&&r!==void 0?r:s==null?void 0:s[n.generatorName];l&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},n),{elClasses:(n.elClasses||[]).filter(Pke)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:r}=this,n=this.base;if(!Vh(e,r)){r.forEach(TM);for(let a of e)n.appendChild(a);this.currentDomNodes=e}}}LM.addPropsEquality({elClasses:Vh,elStyle:Yu,elAttrs:vke,renderProps:Yu});function $P(t,e){var r;return!!(e.handleCustomRendering&&t&&(!((r=e.customRenderingMetaMap)===null||r===void 0)&&r[t]))}function YJ(t,e,r){const n=Object.assign(Object.assign({},t.elAttrs),{ref:r});return(t.elClasses||e)&&(n.className=(t.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),t.elStyle&&(n.style=t.elStyle),n}function Pke(t){return!!t}const KJ=GJ(0);class hf extends hl{constructor(){super(...arguments),this.InnerContent=Dke.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(rf(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,r=Oke(e.classNameGenerator,e.renderProps);if(e.children){const n=YJ(e,r,this.handleEl),a=e.children(this.InnerContent,e.renderProps,n);return e.elTag?Qe(e.elTag,n,a):a}else return Qe(LM,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var e,r;this.el?(r=(e=this.props).didMount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,r;(r=(e=this.props).willUnmount)===null||r===void 0||r.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}hf.contextType=KJ;function Dke(t,e){const r=t.props;return Qe(LM,Object.assign({renderProps:r.renderProps,generatorName:r.generatorName,customGenerator:r.customGenerator,defaultGenerator:r.defaultGenerator,renderId:t.context},e))}function Oke(t,e){const r=typeof t=="function"?t(e):t||[];return typeof r=="string"?[r]:r}class NB extends Ca{render(){let{props:e,context:r}=this,{options:n}=r,a={view:r.viewApi};return Qe(hf,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...XJ(e.viewSpec),...e.elClasses||[]],renderProps:a,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>e.children)}}function XJ(t){return[`fc-${t.type}-view`,"fc-view"]}function Ike(t,e){let r=null,n=null;return t.start&&(r=e.createMarker(t.start)),t.end&&(n=e.createMarker(t.end)),!r&&!n||r&&n&&n<r?null:{start:r,end:n}}function AB(t,e){let r=[],{start:n}=e,a,i;for(t.sort(Mke),a=0;a<t.length;a+=1)i=t[a],i.start>n&&r.push({start:n,end:i.start}),i.end>n&&(n=i.end);return n<e.end&&r.push({start:n,end:e.end}),r}function Mke(t,e){return t.start.valueOf()-e.start.valueOf()}function Iv(t,e){let{start:r,end:n}=t,a=null;return e.start!==null&&(r===null?r=e.start:r=new Date(Math.max(r.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(r===null||n===null||r<n)&&(a={start:r,end:n}),a}function Rke(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function FM(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function LE(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function Nh(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function Lke(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function ZJ(t){let e=Math.floor(Cy(t.start,t.end))||1,r=ya(t.start),n=zs(r,e);return{start:r,end:n}}function QJ(t,e=_n(0)){let r=null,n=null;if(t.end){n=ya(t.end);let a=t.end.valueOf()-n.valueOf();a&&a>=bb(e)&&(n=zs(n,1))}return t.start&&(r=ya(t.start),n&&n<=r&&(n=zs(r,1))),{start:r,end:n}}function N0(t,e,r,n){return n==="year"?_n(r.diffWholeYears(t,e),"year"):n==="month"?_n(r.diffWholeMonths(t,e),"month"):W4e(t,e)}class JJ{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,r,n){let{dateEnv:a}=this.props,i=a.subtract(a.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,n)}buildNext(e,r,n){let{dateEnv:a}=this.props,i=a.add(a.startOf(r,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,n)}build(e,r,n=!0){let{props:a}=this,i,s,l,c,u,d;return i=this.buildValidRange(),i=this.trimHiddenDays(i),n&&(e=Lke(e,i)),s=this.buildCurrentRangeInfo(e,r),l=/^(year|month|week|day)$/.test(s.unit),c=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,l),c=this.trimHiddenDays(c),u=c,a.showNonCurrentDates||(u=Iv(u,s.range)),u=this.adjustActiveRange(u),u=Iv(u,i),d=FM(s.range,i),Nh(c,e)||(e=c.start),{currentDate:e,validRange:i,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:l,activeRange:u,renderRange:c,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,r=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(r)||{start:null,end:null}}buildCurrentRangeInfo(e,r){let{props:n}=this,a=null,i=null,s=null,l;return n.duration?(a=n.duration,i=n.durationUnit,s=this.buildRangeFromDuration(e,r,a,i)):(l=this.props.dayCount)?(i="day",s=this.buildRangeFromDayCount(e,r,l)):(s=this.buildCustomVisibleRange(e))?i=n.dateEnv.greatestWholeUnit(s.start,s.end).unit:(a=this.getFallbackDuration(),i=LP(a).unit,s=this.buildRangeFromDuration(e,r,a,i)),{duration:a,unit:i,range:s}}getFallbackDuration(){return _n({day:1})}adjustActiveRange(e){let{dateEnv:r,usesMinMaxTime:n,slotMinTime:a,slotMaxTime:i}=this.props,{start:s,end:l}=e;return n&&(U0(a)<0&&(s=ya(s),s=r.add(s,a)),U0(i)>1&&(l=ya(l),l=zs(l,-1),l=r.add(l,i))),{start:s,end:l}}buildRangeFromDuration(e,r,n,a){let{dateEnv:i,dateAlignment:s}=this.props,l,c,u;if(!s){let{dateIncrement:f}=this.props;f&&bb(f)<bb(n)?s=LP(f).unit:s=a}U0(n)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,r),l=ya(l));function d(){l=i.startOf(e,s),c=i.add(l,n),u={start:l,end:c}}return d(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,r),d()),u}buildRangeFromDayCount(e,r,n){let{dateEnv:a,dateAlignment:i}=this.props,s=0,l=e,c;i&&(l=a.startOf(l,i)),l=ya(l),l=this.skipHiddenDays(l,r),c=l;do c=zs(c,1),this.isHiddenDay(c)||(s+=1);while(s<n);return{start:l,end:c}}buildCustomVisibleRange(e){let{props:r}=this,n=r.visibleRangeInput,a=typeof n=="function"?n.call(r.calendarApi,r.dateEnv.toDate(e)):n,i=this.refineRange(a);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(e,r,n){return e}buildDateIncrement(e){let{dateIncrement:r}=this.props,n;return r||((n=this.props.dateAlignment)?_n(1,n):e||_n({days:1}))}refineRange(e){if(e){let r=Ike(e,this.props.dateEnv);return r&&(r=QJ(r)),r}return null}initHiddenDays(){let e=this.props.hiddenDays||[],r=[],n=0,a;for(this.props.weekends===!1&&e.push(0,6),a=0;a<7;a+=1)(r[a]=e.indexOf(a)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=r}trimHiddenDays(e){let{start:r,end:n}=e;return r&&(r=this.skipHiddenDays(r)),n&&(n=this.skipHiddenDays(n,-1,!0)),r==null||n==null||r<n?{start:r,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,r=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?r:0)+7)%7];)e=zs(e,r);return e}}function $M(t,e,r,n){return{instanceId:og(),defId:t,range:e,forcedStartTzo:r??null,forcedEndTzo:n??null}}function Fke(t,e,r,n){for(let a=0;a<n.length;a+=1){let i=n[a].parse(t,r);if(i){let{allDay:s}=t;return s==null&&(s=e,s==null&&(s=i.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:i.duration,typeData:i.typeData,typeId:a}}}return null}function Hp(t,e,r){let{dateEnv:n,pluginHooks:a,options:i}=r,{defs:s,instances:l}=t;l=Vp(l,c=>!s[c.defId].recurringDef);for(let c in s){let u=s[c];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let f=$ke(u,d,e,n,a.recurringTypes);for(let m of f){let h=$M(c,{start:m,end:n.add(m,d)});l[h.instanceId]=h}}}return{defs:s,instances:l}}function $ke(t,e,r,n,a){let s=a[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:n.subtract(r.start,e),end:r.end},n);return t.allDay&&(s=s.map(ya)),s}const X_={id:String,groupId:String,title:String,url:String,interactive:Boolean},eee={start:Ze,end:Ze,date:Ze,allDay:Boolean},Bke=Object.assign(Object.assign(Object.assign({},X_),eee),{extendedProps:Ze});function tee(t,e,r,n,a=BM(r),i,s){let{refined:l,extra:c}=ree(t,r,a),u=zke(e,r),d=Fke(l,u,r.dateEnv,r.pluginHooks.recurringTypes);if(d){let m=BP(l,c,e?e.sourceId:"",d.allDay,!!d.duration,r,i);return m.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:m,instance:null}}let f=Uke(l,u,r,n);if(f){let m=BP(l,c,e?e.sourceId:"",f.allDay,f.hasEnd,r,i),h=$M(m.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return s&&m.publicId&&s[m.publicId]&&(h.instanceId=s[m.publicId]),{def:m,instance:h}}return null}function ree(t,e,r=BM(e)){return IM(t,r)}function BM(t){return Object.assign(Object.assign(Object.assign({},Gj),Bke),t.pluginHooks.eventRefiners)}function BP(t,e,r,n,a,i,s){let l={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(s&&t.id?s[t.id]:"")||og(),sourceId:r,allDay:n,hasEnd:a,interactive:t.interactive,ui:Yj(t,i),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let c of i.pluginHooks.eventDefMemberAdders)Object.assign(l,c(t));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function Uke(t,e,r,n){let{allDay:a}=t,i,s=null,l=!1,c,u=null,d=t.start!=null?t.start:t.date;if(i=r.dateEnv.createMarkerMeta(d),i)s=i.marker;else if(!n)return null;return t.end!=null&&(c=r.dateEnv.createMarkerMeta(t.end)),a==null&&(e!=null?a=e:a=(!i||i.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),a&&s&&(s=ya(s)),c&&(u=c.marker,a&&(u=ya(u)),s&&u<=s&&(u=null)),u?l=!0:n||(l=r.options.forceEventDuration||!1,u=r.dateEnv.add(s,a?r.options.defaultAllDayEventDuration:r.options.defaultTimedEventDuration)),{allDay:a,hasEnd:l,range:{start:s,end:u},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function zke(t,e){let r=null;return t&&(r=t.defaultAllDay),r==null&&(r=e.options.defaultAllDay),r}function wb(t,e,r,n,a,i){let s=Yc(),l=BM(r);for(let c of t){let u=tee(c,e,r,n,l,a,i);u&&UP(u,s)}return s}function UP(t,e=Yc()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function UM(t,e){let r=t.instances[e];if(r){let n=t.defs[r.defId],a=FE(t,i=>Vke(n,i));return a.defs[n.defId]=n,a.instances[r.instanceId]=r,a}return Yc()}function Vke(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function Yc(){return{defs:{},instances:{}}}function zM(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function FE(t,e){let r=Vp(t.defs,e),n=Vp(t.instances,a=>r[a.defId]);return{defs:r,instances:n}}function Hke(t,e){let{defs:r,instances:n}=t,a={},i={};for(let s in r)e.defs[s]||(a[s]=r[s]);for(let s in n)!e.instances[s]&&a[n[s].defId]&&(i[s]=n[s]);return{defs:a,instances:i}}function Wke(t,e){return Array.isArray(t)?wb(t,null,e,!0):typeof t=="object"&&t?wb([t],null,e,!0):t!=null?String(t):null}function EB(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}const Gj={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Ze,overlap:Ze,allow:Ze,className:EB,classNames:EB,color:String,backgroundColor:String,borderColor:String,textColor:String},qke={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Yj(t,e){let r=Wke(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:r!=null?[r]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function Gke(t){return t.reduce(Yke,qke)}function Yke(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const Kke={id:String,defaultAllDay:Boolean,url:String,format:String,events:Ze,eventDataTransform:Ze,success:Ze,failure:Ze};function nee(t,e,r=aee(e)){let n;if(typeof t=="string"?n={url:t}:typeof t=="function"||Array.isArray(t)?n={events:t}:typeof t=="object"&&t&&(n=t),n){let{refined:a,extra:i}=IM(n,r),s=Xke(a,e);if(s)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:og(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Yj(a,e),extendedProps:i}}return null}function aee(t){return Object.assign(Object.assign(Object.assign({},Gj),Kke),t.pluginHooks.eventSourceRefiners)}function Xke(t,e){let r=e.pluginHooks.eventSourceDefs;for(let n=r.length-1;n>=0;n-=1){let i=r[n].parseMeta(t);if(i)return{sourceDefId:n,meta:i}}return null}function Zke(t,e,r,n,a){switch(e.type){case"RECEIVE_EVENTS":return Qke(t,r[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,a);case"RESET_RAW_EVENTS":return Jke(t,r[e.sourceId],e.rawEvents,n.activeRange,a);case"ADD_EVENTS":return ePe(t,e.eventStore,n?n.activeRange:null,a);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return zM(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Hp(t,n.activeRange,a):t;case"REMOVE_EVENTS":return Hke(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return see(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return FE(t,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return Yc();default:return t}}function Qke(t,e,r,n,a,i){if(e&&r===e.latestFetchId){let s=wb(iee(a,e,i),e,i);return n&&(s=Hp(s,n,i)),zM(see(t,e.sourceId),s)}return t}function Jke(t,e,r,n,a){const{defIdMap:i,instanceIdMap:s}=rPe(t);let l=wb(iee(r,e,a),e,a,!1,i,s);return Hp(l,n,a)}function iee(t,e,r){let n=r.options.eventDataTransform,a=e?e.eventDataTransform:null;return a&&(t=CB(t,a)),n&&(t=CB(t,n)),t}function CB(t,e){let r;if(!e)r=t;else{r=[];for(let n of t){let a=e(n);a?r.push(a):a==null&&r.push(n)}}return r}function ePe(t,e,r,n){return r&&(e=Hp(e,r,n)),zM(t,e)}function TB(t,e,r){let{defs:n}=t,a=lg(t.instances,i=>n[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:r.createMarker(e.toDate(i.range.start,i.forcedStartTzo)),end:r.createMarker(e.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:r.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:r.canComputeOffset?null:i.forcedEndTzo}));return{defs:n,instances:a}}function see(t,e){return FE(t,r=>r.sourceId!==e)}function tPe(t,e){return{defs:t.defs,instances:Vp(t.instances,r=>!e[r.instanceId])}}function rPe(t){const{defs:e,instances:r}=t,n={},a={};for(let i in e){const s=e[i],{publicId:l}=s;l&&(n[l]=i)}for(let i in r){const s=r[i],l=e[s.defId],{publicId:c}=l;c&&(a[c]=i)}return{defIdMap:n,instanceIdMap:a}}class $E{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,r){nPe(this.handlers,e,r)}off(e,r){aPe(this.handlers,e,r)}trigger(e,...r){let n=this.handlers[e]||[],a=this.options&&this.options[e],i=[].concat(a||[],n);for(let s of i)s.apply(this.thisContext,r)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function nPe(t,e,r){(t[e]||(t[e]=[])).push(r)}function aPe(t,e,r){r?t[e]&&(t[e]=t[e].filter(n=>n!==r)):delete t[e]}const iPe={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function sPe(t,e){return wb(oPe(t),null,e)}function oPe(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(r=>r.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(r=>Object.assign(Object.assign({},iPe),r)),e}function oee(t,e,r){r.emitter.trigger("select",Object.assign(Object.assign({},VM(t,r)),{jsEvent:e?e.origEvent:null,view:r.viewApi||r.calendarApi.view}))}function lPe(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function VM(t,e){let r={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(r,n(t,e));return Object.assign(r,_Pe(t,e.dateEnv)),r}function kB(t,e,r){let{dateEnv:n,options:a}=r,i=e;return t?(i=ya(i),i=n.add(i,a.defaultAllDayEventDuration)):i=n.add(i,a.defaultTimedEventDuration),i}function HM(t,e,r,n){let a=Kj(t.defs,e),i=Yc();for(let s in t.defs){let l=t.defs[s];i.defs[s]=cPe(l,a[s],r,n)}for(let s in t.instances){let l=t.instances[s],c=i.defs[l.defId];i.instances[s]=uPe(l,c,a[l.defId],r,n)}return i}function cPe(t,e,r,n){let a=r.standardProps||{};a.hasEnd==null&&e.durationEditable&&(r.startDelta||r.endDelta)&&(a.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},t),a),{ui:Object.assign(Object.assign({},t.ui),a.ui)});r.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),r.extendedProps));for(let s of n.pluginHooks.eventDefMutationAppliers)s(i,r,n);return!i.hasEnd&&n.options.forceEventDuration&&(i.hasEnd=!0),i}function uPe(t,e,r,n,a){let{dateEnv:i}=a,s=n.standardProps&&n.standardProps.allDay===!0,l=n.standardProps&&n.standardProps.hasEnd===!1,c=Object.assign({},t);return s&&(c.range=ZJ(c.range)),n.datesDelta&&r.startEditable&&(c.range={start:i.add(c.range.start,n.datesDelta),end:i.add(c.range.end,n.datesDelta)}),n.startDelta&&r.durationEditable&&(c.range={start:i.add(c.range.start,n.startDelta),end:c.range.end}),n.endDelta&&r.durationEditable&&(c.range={start:c.range.start,end:i.add(c.range.end,n.endDelta)}),l&&(c.range={start:c.range.start,end:kB(e.allDay,c.range.start,a)}),e.allDay&&(c.range={start:ya(c.range.start),end:ya(c.range.end)}),c.range.end<c.range.start&&(c.range.end=kB(e.allDay,c.range.start,a)),c}class p0{constructor(e,r){this.context=e,this.internalEventSource=r}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class xa{constructor(e,r,n){this._context=e,this._def=r,this._instance=n||null}setProp(e,r){if(e in eee)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")r=X_[e](r),this.mutate({standardProps:{publicId:r}});else if(e in X_)r=X_[e](r),this.mutate({standardProps:{[e]:r}});else if(e in Gj){let n=Gj[e](r);e==="color"?n={backgroundColor:r,borderColor:r}:e==="editable"?n={startEditable:r,durationEditable:r}:n={[e]:r},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,r){this.mutate({extendedProps:{[e]:r}})}setStart(e,r={}){let{dateEnv:n}=this._context,a=n.createMarker(e);if(a&&this._instance){let i=this._instance.range,s=N0(i.start,a,n,r.granularity);r.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,r={}){let{dateEnv:n}=this._context,a;if(!(e!=null&&(a=n.createMarker(e),!a))&&this._instance)if(a){let i=N0(this._instance.range.end,a,n,r.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,r,n={}){let{dateEnv:a}=this._context,i={allDay:n.allDay},s=a.createMarker(e),l;if(s&&!(r!=null&&(l=a.createMarker(r),!l))&&this._instance){let c=this._instance.range;n.allDay===!0&&(c=ZJ(c));let u=N0(c.start,s,a,n.granularity);if(l){let d=N0(c.end,l,a,n.granularity);R4e(u,d)?this.mutate({datesDelta:u,standardProps:i}):this.mutate({startDelta:u,endDelta:d,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:u,standardProps:i})}}moveStart(e){let r=_n(e);r&&this.mutate({startDelta:r})}moveEnd(e){let r=_n(e);r&&this.mutate({endDelta:r})}moveDates(e){let r=_n(e);r&&this.mutate({datesDelta:r})}setAllDay(e,r={}){let n={allDay:e},{maintainDuration:a}=r;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=a),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:r}=this._context,n=this._instance,a=zi(e);return this._def.hasEnd?r.formatRange(n.range.start,n.range.end,a,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):r.format(n.range.start,a,{forcedTzo:n.forcedStartTzo})}mutate(e){let r=this._instance;if(r){let n=this._def,a=this._context,{eventStore:i}=a.getCurrentData(),s=UM(i,r.instanceId);s=HM(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,a);let c=new xa(a,n,r);this._def=s.defs[n.defId],this._instance=s.instances[r.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:s}),a.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:_p(s,a,r),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,r=lee(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:r}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:r})}})}get source(){let{sourceId:e}=this._def;return e?new p0(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let r=this._def,{ui:n}=r,{startStr:a,endStr:i}=this,s={allDay:r.allDay};return r.title&&(s.title=r.title),a&&(s.start=a),i&&(s.end=i),r.publicId&&(s.id=r.publicId),r.groupId&&(s.groupId=r.groupId),r.url&&(s.url=r.url),n.display&&n.display!=="auto"&&(s.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.color=n.backgroundColor:(n.backgroundColor&&(s.backgroundColor=n.backgroundColor),n.borderColor&&(s.borderColor=n.borderColor)),n.textColor&&(s.textColor=n.textColor),n.classNames.length&&(s.classNames=n.classNames),Object.keys(r.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,r.extendedProps):s.extendedProps=r.extendedProps),s}toJSON(){return this.toPlainObject()}}function lee(t){let e=t._def,r=t._instance;return{defs:{[e.defId]:e},instances:r?{[r.instanceId]:r}:{}}}function _p(t,e,r){let{defs:n,instances:a}=t,i=[],s=r?r.instanceId:"";for(let l in a){let c=a[l],u=n[c.defId];c.instanceId!==s&&i.push(new xa(e,u,c))}return i}function PB(t,e,r,n){let a={},i={},s={},l=[],c=[],u=Kj(t.defs,e);for(let d in t.defs){let f=t.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(a[f.groupId]=[],s[f.groupId]||(s[f.groupId]=f)):i[d]=[])}for(let d in t.instances){let f=t.instances[d],m=t.defs[f.defId],h=u[m.defId],v=f.range,g=!m.allDay&&n?QJ(v,n):v,p=Iv(g,r);p&&(h.display==="inverse-background"?m.groupId?a[m.groupId].push(p):i[f.defId].push(p):h.display!=="none"&&(h.display==="background"?l:c).push({def:m,ui:h,instance:f,range:p,isStart:g.start&&g.start.valueOf()===p.start.valueOf(),isEnd:g.end&&g.end.valueOf()===p.end.valueOf()}))}for(let d in a){let f=a[d],m=AB(f,r);for(let h of m){let v=s[d],g=u[v.defId];l.push({def:v,ui:g,instance:null,range:h,isStart:!1,isEnd:!1})}}for(let d in i){let f=i[d],m=AB(f,r);for(let h of m)l.push({def:t.defs[d],ui:u[d],instance:null,range:h,isStart:!1,isEnd:!1})}return{bg:l,fg:c}}function DB(t,e){t.fcSeg=e}function Mv(t){return t.fcSeg||t.parentNode.fcSeg||null}function Kj(t,e){return lg(t,r=>cee(r,e))}function cee(t,e){let r=[];return e[""]&&r.push(e[""]),e[t.defId]&&r.push(e[t.defId]),r.push(t.ui),Gke(r)}function dPe(t,e){let r=t.map(fPe);return r.sort((n,a)=>T4e(n,a,e)),r.map(n=>n._seg)}function fPe(t){let{eventRange:e}=t,r=e.def,n=e.instance?e.instance.range:e.range,a=n.start?n.start.valueOf():0,i=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},r.extendedProps),r),{id:r.publicId,start:a,end:i,duration:i-a,allDay:Number(r.allDay),_seg:t})}function hPe(t,e){let{pluginHooks:r}=e,n=r.isDraggableTransformers,{def:a,ui:i}=t.eventRange,s=i.startEditable;for(let l of n)s=l(s,a,i,e);return s}function mPe(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function pPe(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function uee(t,e,r,n,a,i,s){let{dateEnv:l,options:c}=r,{displayEventTime:u,displayEventEnd:d}=c,f=t.eventRange.def,m=t.eventRange.instance;u==null&&(u=n!==!1),d==null&&(d=a!==!1);let h=m.range.start,v=m.range.end,g=t.start||t.eventRange.range.start,p=t.end||t.eventRange.range.end,y=ya(h).valueOf()===ya(g).valueOf(),x=ya(Hh(v,-1)).valueOf()===ya(Hh(p,-1)).valueOf();return u&&!f.allDay&&(y||x)?(g=y?h:g,p=x?v:p,d&&f.hasEnd?l.formatRange(g,p,e,{forcedStartTzo:m.forcedStartTzo,forcedEndTzo:m.forcedEndTzo}):l.format(g,e,{forcedTzo:m.forcedStartTzo})):""}function T1(t,e,r){let n=t.eventRange.range;return{isPast:n.end<=e.start,isFuture:n.start>=e.end,isToday:e&&Nh(e,n.start)}}function gPe(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function vPe(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function dee(t,e){let{def:r,instance:n}=t.eventRange,{url:a}=r;if(a)return{href:a};let{emitter:i,options:s}=e,{eventInteractive:l}=s;return l==null&&(l=r.interactive,l==null&&(l=!!i.hasHandlers("eventClick"))),l?VJ(c=>{i.trigger("eventClick",{el:c.target,event:new xa(e,r,n),jsEvent:c,view:e.viewApi})}):{}}const yPe={start:Ze,end:Ze,allDay:Boolean};function xPe(t,e,r){let n=bPe(t,e),{range:a}=n;if(!a.start)return null;if(!a.end){if(r==null)return null;a.end=e.add(a.start,r)}return n}function bPe(t,e){let{refined:r,extra:n}=IM(t,yPe),a=r.start?e.createMarkerMeta(r.start):null,i=r.end?e.createMarkerMeta(r.end):null,{allDay:s}=r;return s==null&&(s=a&&a.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:i?i.marker:null},allDay:s},n)}function wPe(t,e){return Rke(t.range,e.range)&&t.allDay===e.allDay&&SPe(t,e)}function SPe(t,e){for(let r in e)if(r!=="range"&&r!=="allDay"&&t[r]!==e[r])return!1;for(let r in t)if(!(r in e))return!1;return!0}function _Pe(t,e){return Object.assign(Object.assign({},hee(t.range,e,t.allDay)),{allDay:t.allDay})}function fee(t,e,r){return Object.assign(Object.assign({},hee(t,e,r)),{timeZone:e.timeZone})}function hee(t,e,r){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:r}),endStr:e.formatIso(t.end,{omitTime:r})}}function jPe(t,e,r){let n=ree({editable:!1},r),a=BP(n.refined,n.extra,"",t.allDay,!0,r);return{def:a,ui:cee(a,e),instance:$M(a.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function NPe(t,e,r){let n=!1,a=function(l){n||(n=!0,e(l))},i=function(l){n||(n=!0,r(l))},s=t(a,i);s&&typeof s.then=="function"&&s.then(a,i)}class OB extends Error{constructor(e,r){super(e),this.response=r}}function APe(t,e,r){t=t.toUpperCase();const n={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(r):(n.body=new URLSearchParams(r),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(a=>{if(a.ok)return a.json().then(i=>[i,a],()=>{throw new OB("Failure parsing JSON",a)});throw new OB("Request failed",a)})}let YT;function mee(){return YT==null&&(YT=EPe()),YT}function EPe(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let r=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),r}class CPe extends Ca{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{qj(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{qj(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:r}=e,{forPrint:n}=this.state,a=n||r.height==="auto"||r.contentHeight==="auto",i=!a&&r.height!=null?r.height:"",s=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,e.theme.getClass("root")];return mee()||s.push("fc-liquid-hack"),e.children(s,i,a,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Ty{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function TPe(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function WM(t){return{[t.component.uid]:t}}const zP={};class BE extends hl{constructor(e,r){super(e,r),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:r}=this;return e.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:r}=this,n=r.nowManager.getDateMarker(),a=r.dateEnv.startOf(n,e.unit),s=r.dateEnv.add(a,_n(1,e.unit)).valueOf()-n.valueOf();return s=Math.min(1e3*60*60*24,s),{state:{nowDate:a,todayRange:kPe(a)},waitMs:s}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const r=this.computeTiming();this.setState(r.state,()=>{this.setTimeout(r.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}BE.contextType=cg;function kPe(t){let e=ya(t),r=zs(e,1);return{start:e,end:r}}class PPe{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,r){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:r})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,r){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,r):console.warn(`Unknown listener name '${e}'`)}off(e,r){this.currentDataManager.emitter.off(e,r)}trigger(e,...r){this.currentDataManager.emitter.trigger(e,...r)}changeView(e,r){this.batchRendering(()=>{if(this.unselect(),r)if(r.start&&r.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:r});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(r)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,r){let n=this.getCurrentData(),a;r=r||"day",a=n.viewSpecs[r]||this.getUnitViewSpec(r),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:r,toolbarConfig:n}=this.getCurrentData(),a=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),i,s;for(let l in r)a.push(l);for(i=0;i<a.length;i+=1)if(s=r[a[i]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let r=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.createMarker(e)})}incrementDate(e){let r=this.getCurrentData(),n=_n(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.add(r.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,r){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),zi(r))}formatRange(e,r,n){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(e),a.createMarker(r),zi(n),n)}formatIso(e,r){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:r})}select(e,r){let n;r==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:r};let a=this.getCurrentData(),i=xPe(n,a.dateEnv,_n({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),oee(i,null,a))}unselect(e){let r=this.getCurrentData();r.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),lPe(e,r))}addEvent(e,r){if(e instanceof xa){let s=e._def,l=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:UP({def:s,instance:l})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),a;if(r instanceof p0)a=r.internalEventSource;else if(typeof r=="boolean")r&&([a]=RM(n.eventSources));else if(r!=null){let s=this.getEventSourceById(r);if(!s)return console.warn(`Could not find an event source with ID "${r}"`),null;a=s.internalEventSource}let i=tee(e,a,n,!1);if(i){let s=new xa(n,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:UP(i)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:r}=this.getCurrentData();r.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:lee(e)})}})}getEventById(e){let r=this.getCurrentData(),{defs:n,instances:a}=r.eventStore;e=String(e);for(let i in n){let s=n[i];if(s.publicId===e){if(s.recurringDef)return new xa(r,s,null);for(let l in a){let c=a[l];if(c.defId===s.defId)return new xa(r,s,c)}}}return null}getEvents(){let e=this.getCurrentData();return _p(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),r=e.eventSources,n=[];for(let a in r)n.push(new p0(e,r[a]));return n}getEventSourceById(e){let r=this.getCurrentData(),n=r.eventSources;e=String(e);for(let a in n)if(n[a].publicId===e)return new p0(r,n[a]);return null}addEventSource(e){let r=this.getCurrentData();if(e instanceof p0)return r.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=nee(e,r);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new p0(r,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let r=_n(e);r&&this.trigger("_scrollRequest",{time:r})}}function DPe(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function pee(t,e){let r={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return r.left<r.right&&r.top<r.bottom?r:!1}function OPe(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function IPe(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function MPe(t,e){return{left:t.left-e.left,top:t.top-e.top}}function gee(t,e,r,n){return{dow:t.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!Nh(n.activeRange,t))),isOther:!!(n&&!Nh(n.currentRange,t)),isToday:!!(e&&Nh(e,t)),isPast:!!(e&&t<e.start),isFuture:!!(e&&t>=e.end)}}function qM(t,e){let r=["fc-day",`fc-day-${B4e[t.dow]}`];return t.isDisabled?r.push("fc-day-disabled"):(t.isToday&&(r.push("fc-day-today"),r.push(e.getClass("today"))),t.isPast&&r.push("fc-day-past"),t.isFuture&&r.push("fc-day-future"),t.isOther&&r.push("fc-day-other")),r}const RPe=zi({year:"numeric",month:"long",day:"numeric"}),LPe=zi({week:"long"});function VP(t,e,r="day",n=!0){const{dateEnv:a,options:i,calendarApi:s}=t;let l=a.format(e,r==="week"?LPe:RPe);if(i.navLinks){let c=a.toDate(e);const u=d=>{let f=r==="day"?i.navLinkDayClick:r==="week"?i.navLinkWeekClick:null;typeof f=="function"?f.call(s,a.toDate(e),d):(typeof f=="string"&&(r=f),s.zoomTo(e,r))};return Object.assign({title:E1(i.navLinkHint,[l,c],l),"data-navlink":""},n?zJ(u):{onClick:u})}return{"aria-label":l}}let KT=null;function FPe(){return KT===null&&(KT=$Pe()),KT}function $Pe(){let t=document.createElement("div");A1(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let r=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return TM(t),r}let XT;function BPe(){return XT||(XT=UPe()),XT}function UPe(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=vee(t);return document.body.removeChild(t),e}function vee(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function zPe(t,e=!1){let r=window.getComputedStyle(t),n=parseInt(r.borderLeftWidth,10)||0,a=parseInt(r.borderRightWidth,10)||0,i=parseInt(r.borderTopWidth,10)||0,s=parseInt(r.borderBottomWidth,10)||0,l=vee(t),c=l.y-n-a,u=l.x-i-s,d={borderLeft:n,borderRight:a,borderTop:i,borderBottom:s,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return FPe()&&r.direction==="rtl"?d.scrollbarLeft=c:d.scrollbarRight=c,e&&(d.paddingLeft=parseInt(r.paddingLeft,10)||0,d.paddingRight=parseInt(r.paddingRight,10)||0,d.paddingTop=parseInt(r.paddingTop,10)||0,d.paddingBottom=parseInt(r.paddingBottom,10)||0),d}function VPe(t,e=!1,r){let n=GM(t),a=zPe(t,e),i={left:n.left+a.borderLeft+a.scrollbarLeft,right:n.right-a.borderRight-a.scrollbarRight,top:n.top+a.borderTop,bottom:n.bottom-a.borderBottom-a.scrollbarBottom};return e&&(i.left+=a.paddingLeft,i.right-=a.paddingRight,i.top+=a.paddingTop,i.bottom-=a.paddingBottom),i}function GM(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function HPe(t){let e=yee(t),r=t.getBoundingClientRect();for(let n of e){let a=pee(r,n.getBoundingClientRect());if(a)r=a;else return null}return r}function yee(t){let e=[];for(;t instanceof HTMLElement;){let r=window.getComputedStyle(t);if(r.position==="fixed")break;/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&e.push(t),t=t.parentNode}return e}class Xj{constructor(e,r,n,a){this.els=r;let i=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(i.left),a&&this.buildElVerticals(i.top)}buildElHorizontals(e){let r=[],n=[];for(let a of this.els){let i=a.getBoundingClientRect();r.push(i.left-e),n.push(i.right-e)}this.lefts=r,this.rights=n}buildElVerticals(e){let r=[],n=[];for(let a of this.els){let i=a.getBoundingClientRect();r.push(i.top-e),n.push(i.bottom-e)}this.tops=r,this.bottoms=n}leftToIndex(e){let{lefts:r,rights:n}=this,a=r.length,i;for(i=0;i<a;i+=1)if(e>=r[i]&&e<n[i])return i}topToIndex(e){let{tops:r,bottoms:n}=this,a=r.length,i;for(i=0;i<a;i+=1)if(e>=r[i]&&e<n[i])return i}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return YS(this.tops||[],e.tops||[])&&YS(this.bottoms||[],e.bottoms||[])&&YS(this.lefts||[],e.lefts||[])&&YS(this.rights||[],e.rights||[])}}function YS(t,e){const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(Math.round(t[n])!==Math.round(e[n]))return!1;return!0}class YM{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class WPe extends YM{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class qPe extends YM{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class dg extends Ca{constructor(){super(...arguments),this.uid=og()}prepareHits(){}queryHit(e,r,n,a){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!Os(e,".fc-event-mirror")}isValidDateDownEl(e){return!Os(e,".fc-event:not(.fc-bg-event)")&&!Os(e,".fc-more-link")&&!Os(e,"a[data-navlink]")&&!Os(e,".fc-popover")}}class GPe{constructor(e=r=>r.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let r=[];for(let n of e)this.insertEntry(n,r);return r}insertEntry(e,r){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,r)}isInsertionValid(e,r){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(r)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,r,n){if(this.allowReslicing&&e.touchingEntry){const a=Object.assign(Object.assign({},r),{span:xee(r.span,e.touchingEntry.span)});n.push(a),this.splitEntry(r,e.touchingEntry,n)}else n.push(r)}splitEntry(e,r,n){let a=e.span,i=r.span;a.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:a.start,end:i.start}},n),a.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:a.end}},n)}insertEntryAt(e,r){let{entriesByLevel:n,levelCoords:a}=this;r.lateral===-1?(ZT(a,r.level,r.levelCoord),ZT(n,r.level,[e])):ZT(n[r.level],r.lateral,e),this.stackCnts[k1(e)]=r.stackCnt}findInsertion(e){let{levelCoords:r,entriesByLevel:n,strictOrder:a,stackCnts:i}=this,s=r.length,l=0,c=-1,u=-1,d=null,f=0;for(let v=0;v<s;v+=1){const g=r[v];if(!a&&g>=l+this.getEntryThickness(e))break;let p=n[v],y,x=MB(p,e.span.start,IB),b=x[0]+x[1];for(;(y=p[b])&&y.span.start<e.span.end;){let w=g+this.getEntryThickness(y);w>l&&(l=w,d=y,c=v,u=b),w===l&&(f=Math.max(f,i[k1(y)]+1)),b+=1}}let m=0;if(d)for(m=c+1;m<s&&r[m]<l;)m+=1;let h=-1;return m<s&&r[m]===l&&(h=MB(n[m],e.span.end,IB)[0]),{touchingLevel:c,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:l,level:m,lateral:h}}toRects(){let{entriesByLevel:e,levelCoords:r}=this,n=e.length,a=[];for(let i=0;i<n;i+=1){let s=e[i],l=r[i];for(let c of s)a.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:l}))}return a}}function IB(t){return t.span.end}function k1(t){return t.index+":"+t.span.start}function xee(t,e){let r=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return r<n?{start:r,end:n}:null}function ZT(t,e,r){t.splice(e,0,r)}function MB(t,e,r){let n=0,a=t.length;if(!a||e<r(t[n]))return[0,0];if(e>r(t[a-1]))return[a,0];for(;n<a;){let i=Math.floor(n+(a-n)/2),s=r(t[i]);if(e<s)a=i;else if(e>s)n=i+1;else return[i,1]}return[n,0]}class YPe{constructor(e,r){this.emitter=new $E}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const KM={};function KPe(t,e){return!t||e>10?zi({weekday:"short"}):e>1?zi({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):zi({weekday:"long"})}const bee="fc-col-header-cell";function wee(t){return t.text}class XPe extends Ca{render(){let{dateEnv:e,options:r,theme:n,viewApi:a}=this.context,{props:i}=this,{date:s,dateProfile:l}=i,c=gee(s,i.todayRange,null,l),u=[bee].concat(qM(c,n)),d=e.format(s,i.dayHeaderFormat),f=!c.isDisabled&&i.colCnt>1?VP(this.context,s):{},m=e.toDate(s);e.namedTimeZoneImpl&&(m=Hh(m,36e5));let h=Object.assign(Object.assign(Object.assign({date:m,view:a},i.extraRenderProps),{text:d}),c);return Qe(hf,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":c.isDisabled?void 0:DM(s)},i.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:wee,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},v=>Qe("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&Qe(v,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const ZPe=zi({weekday:"long"});class QPe extends Ca{render(){let{props:e}=this,{dateEnv:r,theme:n,viewApi:a,options:i}=this.context,s=zs(new Date(2592e5),e.dow),l={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=r.format(s,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:s},l),{view:a}),e.extraRenderProps),{text:c});return Qe(hf,{elTag:"th",elClasses:[bee,...qM(l,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:wee,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},d=>Qe("div",{className:"fc-scrollgrid-sync-inner"},Qe(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":r.format(s,ZPe)}})))}}class JPe extends Ca{constructor(){super(...arguments),this.createDayHeaderFormatter=jn(eDe)}render(){let{context:e}=this,{dates:r,dateProfile:n,datesRepDistinctDays:a,renderIntro:i}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,a,r.length);return Qe(BE,{unit:"day"},(l,c)=>Qe("tr",{role:"row"},i&&i("day"),r.map(u=>a?Qe(XPe,{key:u.toISOString(),date:u,dateProfile:n,todayRange:c,colCnt:r.length,dayHeaderFormat:s}):Qe(QPe,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:s}))))}}function eDe(t,e,r){return t||KPe(e,r)}class tDe{constructor(e,r){let n=e.start,{end:a}=e,i=[],s=[],l=-1;for(;n<a;)r.isHiddenDay(n)?i.push(l+.5):(l+=1,i.push(l),s.push(n)),n=zs(n,1);this.dates=s,this.indices=i,this.cnt=s.length}sliceRange(e){let r=this.getDateDayIndex(e.start),n=this.getDateDayIndex(zs(e.end,-1)),a=Math.max(0,r),i=Math.min(this.cnt-1,n);return a=Math.ceil(a),i=Math.floor(i),a<=i?{firstIndex:a,lastIndex:i,isStart:r===a,isEnd:n===i}:null}getDateDayIndex(e){let{indices:r}=this,n=Math.floor(Cy(this.dates[0],e));return n<0?r[0]-1:n>=r.length?r[r.length-1]+1:r[n]}}class rDe{constructor(e,r){let{dates:n}=e,a,i,s;if(r){for(i=n[0].getUTCDay(),a=1;a<n.length&&n[a].getUTCDay()!==i;a+=1);s=Math.ceil(n.length/a)}else s=1,a=n.length;this.rowCnt=s,this.colCnt=a,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let r=0;r<this.rowCnt;r+=1){let n=[];for(let a=0;a<this.colCnt;a+=1)n.push(this.buildCell(r,a));e.push(n)}return e}buildCell(e,r){let n=this.daySeries.dates[e*this.colCnt+r];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let r=0;r<this.colCnt;r+=1)e.push(this.cells[0][r].date);return e}sliceRange(e){let{colCnt:r}=this,n=this.daySeries.sliceRange(e),a=[];if(n){let{firstIndex:i,lastIndex:s}=n,l=i;for(;l<=s;){let c=Math.floor(l/r),u=Math.min((c+1)*r,s+1);a.push({row:c,firstCol:l%r,lastCol:(u-1)%r,isStart:n.isStart&&l===i,isEnd:n.isEnd&&u-1===s}),l=u}}return a}}class nDe{constructor(){this.sliceBusinessHours=jn(this._sliceBusinessHours),this.sliceDateSelection=jn(this._sliceDateSpan),this.sliceEventStore=jn(this._sliceEventStore),this.sliceEventDrag=jn(this._sliceInteraction),this.sliceEventResize=jn(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,r,n,a,...i){let{eventUiBases:s}=e,l=this.sliceEventStore(e.eventStore,s,r,n,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,r,n,s,a,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,r,n,a,...i),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,r,n,...i),eventResize:this.sliceEventResize(e.eventResize,s,r,n,...i),eventSelection:e.eventSelection}}sliceNowDate(e,r,n,a,...i){return this._sliceDateSpan({range:{start:e,end:Hh(e,1)},allDay:!1},r,n,{},a,...i)}_sliceBusinessHours(e,r,n,a,...i){return e?this._sliceEventStore(Hp(e,KS(r,!!n),a),{},r,n,...i).bg:[]}_sliceEventStore(e,r,n,a,...i){if(e){let s=PB(e,r,KS(n,!!a),a);return{bg:this.sliceEventRanges(s.bg,i),fg:this.sliceEventRanges(s.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,r,n,a,...i){if(!e)return null;let s=PB(e.mutatedEvents,r,KS(n,!!a),a);return{segs:this.sliceEventRanges(s.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,r,n,a,i,...s){if(!e)return[];let l=KS(r,!!n),c=Iv(e.range,l);if(c){e=Object.assign(Object.assign({},e),{range:c});let u=jPe(e,a,i),d=this.sliceRange(e.range,...s);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(e,r){let n=[];for(let a of e)n.push(...this.sliceEventRange(a,r));return n}sliceEventRange(e,r){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:zs(n.start,1)});let a=this.sliceRange(n,...r);for(let i of a)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return a}}function KS(t,e){let r=t.activeRange;return e?r:{start:Hh(r.start,t.slotMinTime.milliseconds),end:Hh(r.end,t.slotMaxTime.milliseconds-864e5)}}function See(t,e,r){let{instances:n}=t.mutatedEvents;for(let a in n)if(!LE(e.validRange,n[a].range))return!1;return _ee({eventDrag:t},r)}function aDe(t,e,r){return LE(e.validRange,t.range)?_ee({dateSelection:t},r):!1}function _ee(t,e){let r=e.getCurrentData(),n=Object.assign({businessHours:r.businessHours,dateSelection:"",eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||iDe)(n,e)}function iDe(t,e,r={},n){return!(t.eventDrag&&!sDe(t,e,r,n)||t.dateSelection&&!oDe(t,e,r,n))}function sDe(t,e,r,n){let a=e.getCurrentData(),i=t.eventDrag,s=i.mutatedEvents,l=s.defs,c=s.instances,u=Kj(l,i.isEvent?t.eventUiBases:{"":a.selectionConfig});n&&(u=lg(u,n));let d=tPe(t.eventStore,i.affectedEvents.instances),f=d.defs,m=d.instances,h=Kj(f,t.eventUiBases);for(let v in c){let g=c[v],p=g.range,y=u[g.defId],x=l[g.defId];if(!jee(y.constraints,p,d,t.businessHours,e))return!1;let{eventOverlap:b}=e.options,w=typeof b=="function"?b:null;for(let j in m){let A=m[j];if(FM(p,A.range)&&(h[A.defId].overlap===!1&&i.isEvent||y.overlap===!1||w&&!w(new xa(e,f[A.defId],A),new xa(e,x,g))))return!1}let _=a.eventStore;for(let j of y.allows){let A=Object.assign(Object.assign({},r),{range:g.range,allDay:x.allDay}),E=_.defs[x.defId],T=_.instances[v],R;if(E?R=new xa(e,E,T):R=new xa(e,x),!j(VM(A,e),R))return!1}}return!0}function oDe(t,e,r,n){let a=t.eventStore,i=a.defs,s=a.instances,l=t.dateSelection,c=l.range,{selectionConfig:u}=e.getCurrentData();if(n&&(u=n(u)),!jee(u.constraints,c,a,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,f=typeof d=="function"?d:null;for(let m in s){let h=s[m];if(FM(c,h.range)&&(u.overlap===!1||f&&!f(new xa(e,i[h.defId],h),null)))return!1}for(let m of u.allows){let h=Object.assign(Object.assign({},r),l);if(!m(VM(h,e),null))return!1}return!0}function jee(t,e,r,n,a){for(let i of t)if(!cDe(lDe(i,e,r,n,a),e))return!1;return!0}function lDe(t,e,r,n,a){return t==="businessHours"?QT(Hp(n,e,a)):typeof t=="string"?QT(FE(r,i=>i.groupId===t)):typeof t=="object"&&t?QT(Hp(t,e,a)):[]}function QT(t){let{instances:e}=t,r=[];for(let n in e)r.push(e[n].range);return r}function cDe(t,e){for(let r of t)if(LE(r,e))return!0;return!1}const XS=/^(visible|hidden)$/;class uDe extends Ca{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,rf(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:r,liquidIsAbsolute:n}=e,a=r&&n,i=["fc-scroller"];return r&&(n?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),Qe("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:a&&-(e.overcomeLeft||0)||"",right:a&&-(e.overcomeRight||0)||"",bottom:a&&-(e.overcomeBottom||0)||"",marginLeft:!a&&-(e.overcomeLeft||0)||"",marginRight:!a&&-(e.overcomeRight||0)||"",marginBottom:!a&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(XS.test(this.props.overflowX))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().width>r)return!0;return!1}needsYScrolling(){if(XS.test(this.props.overflowY))return!1;let{el:e}=this,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().height>r)return!0;return!1}getXScrollbarWidth(){return XS.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return XS.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class sp{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(r,n)=>{let{depths:a,currentMap:i}=this,s=!1,l=!1;r!==null?(s=n in i,i[n]=r,a[n]=(a[n]||0)+1,l=!0):(a[n]-=1,a[n]||(delete i[n],delete this.callbackMap[n],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(n)),l&&this.masterCallback(r,String(n)))}}createRef(e){let r=this.callbackMap[e];return r||(r=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),r}collect(e,r,n){return xke(this.currentMap,e,r,n)}getAll(){return RM(this.currentMap)}}function dDe(t){let e=x4e(t,".fc-scrollgrid-shrink"),r=0;for(let n of e)r=Math.max(r,O4e(n));return Math.ceil(r)}function Nee(t,e){return t.liquid&&e.liquid}function fDe(t,e){return e.maxHeight!=null||Nee(t,e)}function hDe(t,e,r,n){let{expandRows:a}=r;return typeof e.content=="function"?e.content(r):Qe("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:a?r.clientHeight:""}},r.tableColGroupNode,Qe(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(r):e.rowContent))}function mDe(t,e){return Vh(t,e,Yu)}function pDe(t,e){let r=[];for(let n of t){let a=n.span||1;for(let i=0;i<a;i+=1)r.push(Qe("col",{style:{width:n.width==="shrink"?gDe(e):n.width||"",minWidth:n.minWidth||""}}))}return Qe("colgroup",{},...r)}function gDe(t){return t??4}function vDe(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function yDe(t,e){let r=["fc-scrollgrid",e.theme.getClass("table")];return t&&r.push("fc-scrollgrid-liquid"),r}function xDe(t,e){let r=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&r.push("fc-scrollgrid-section-liquid"),t.isSticky&&r.push("fc-scrollgrid-section-sticky"),r}function bDe(t){return Qe("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function RB(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function wDe(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}class Aee extends Ca{constructor(){super(...arguments),this.processCols=jn(e=>e,mDe),this.renderMicroColGroup=jn(pDe),this.scrollerRefs=new sp,this.scrollerElRefs=new sp(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:r,context:n}=this,a=e.sections||[],i=this.processCols(e.cols),s=this.renderMicroColGroup(i,r.shrinkWidth),l=yDe(e.liquid,n);e.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let c=a.length,u=0,d,f=[],m=[],h=[];for(;u<c&&(d=a[u]).type==="header";)f.push(this.renderSection(d,s,!0)),u+=1;for(;u<c&&(d=a[u]).type==="body";)m.push(this.renderSection(d,s,!1)),u+=1;for(;u<c&&(d=a[u]).type==="footer";)h.push(this.renderSection(d,s,!0)),u+=1;let v=!mee();const g={role:"rowgroup"};return Qe("table",{role:"grid",className:l.join(" "),style:{height:e.height}},!!(!v&&f.length)&&Qe("thead",g,...f),!!(!v&&m.length)&&Qe("tbody",g,...m),!!(!v&&h.length)&&Qe("tfoot",g,...h),v&&Qe("tbody",g,...f,...m,...h))}renderSection(e,r,n){return"outerContent"in e?Qe(za,{key:e.key},e.outerContent):Qe("tr",{key:e.key,role:"presentation",className:xDe(e,this.props.liquid).join(" ")},this.renderChunkTd(e,r,e.chunk,n))}renderChunkTd(e,r,n,a){if("outerContent"in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:s,scrollerClientWidths:l,scrollerClientHeights:c}=this.state,u=fDe(i,e),d=Nee(i,e),f=i.liquid?s?"scroll":u?"auto":"hidden":"visible",m=e.key,h=hDe(e,n,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&l[m]!==void 0?l[m]:null,clientHeight:c[m]!==void 0?c[m]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return Qe(a?"th":"td",{ref:n.elRef,role:"presentation"},Qe("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},Qe(uDe,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:f,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},h)))}_handleScrollerEl(e,r){let n=SDe(this.props.sections,r);n&&rf(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return vDe(this.props.cols)?dDe(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=BPe(),{scrollerRefs:r,scrollerElRefs:n}=this,a=!1,i={},s={};for(let l in r.currentMap){let c=r.currentMap[l];if(c&&c.needsYScrolling()){a=!0;break}}for(let l of this.props.sections){let c=l.key,u=n.currentMap[c];if(u){let d=u.parentNode;i[c]=Math.floor(d.getBoundingClientRect().width-(a?e.y:0)),s[c]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:i,scrollerClientHeights:s}}}Aee.addStateEquality({scrollerClientWidths:Yu,scrollerClientHeights:Yu});function SDe(t,e){for(let r of t)if(r.key===e)return r;return null}class XM extends Ca{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&DB(e,this.props.seg)}}render(){const{props:e,context:r}=this,{options:n}=r,{seg:a}=e,{eventRange:i}=a,{ui:s}=i,l={event:new xa(r,i.def,i.instance),view:r.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&hPe(a,r),isStartResizable:!e.disableResizing&&mPe(a,r),isEndResizable:!e.disableResizing&&pPe(a),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return Qe(hf,Object.assign({},e,{elRef:this.handleEl,elClasses:[...gPe(l),...a.eventRange.ui.classNames,...e.elClasses||[]],renderProps:l,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&DB(this.el,this.props.seg)}}class _De extends Ca{render(){let{props:e,context:r}=this,{options:n}=r,{seg:a}=e,{ui:i}=a.eventRange,s=n.eventTimeFormat||e.defaultTimeFormat,l=uee(a,s,r,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return Qe(XM,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:dee(a,r),defaultGenerator:jDe,timeText:l}),(c,u)=>Qe(za,null,Qe(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&Qe("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&Qe("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function jDe(t){return Qe("div",{className:"fc-event-main-frame"},t.timeText&&Qe("div",{className:"fc-event-time"},t.timeText),Qe("div",{className:"fc-event-title-container"},Qe("div",{className:"fc-event-title fc-sticky"},t.event.title||Qe(za,null,""))))}const NDe=zi({day:"numeric"});class Eee extends Ca{constructor(){super(...arguments),this.refineRenderProps=K_(ADe)}render(){let{props:e,context:r}=this,{options:n}=r,a=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:r.viewApi,dateEnv:r.dateEnv,monthStartFormat:n.monthStartFormat});return Qe(hf,Object.assign({},e,{elClasses:[...qM(a,r.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),a.isDisabled?{}:{"data-date":DM(e.date)}),renderProps:a,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:a.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function Cee(t){return!!(t.dayCellContent||$P("dayCellContent",t))}function ADe(t){let{date:e,dateEnv:r,dateProfile:n,isMonthStart:a}=t,i=gee(e,t.todayRange,null,n),s=t.showDayNumber?r.format(e,a?t.monthStartFormat:NDe):"";return Object.assign(Object.assign(Object.assign({date:r.toDate(e),view:t.viewApi},i),{isMonthStart:a,dayNumberText:s}),t.extraRenderProps)}class EDe extends Ca{render(){let{props:e}=this,{seg:r}=e;return Qe(XM,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:r.eventRange.ui.backgroundColor},defaultGenerator:CDe,seg:r,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function CDe(t){let{title:e}=t.event;return e&&Qe("div",{className:"fc-event-title"},t.event.title)}function TDe(t){return Qe("div",{className:`fc-${t}`})}const kDe=t=>Qe(cg.Consumer,null,e=>{let{dateEnv:r,options:n}=e,{date:a}=t,i=n.weekNumberFormat||t.defaultFormat,s=r.computeWeekNumber(a),l=r.format(a,i);return Qe(hf,Object.assign({},t,{renderProps:{num:s,text:l,date:a},generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:PDe,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))});function PDe(t){return t.text}const JT=10;class DDe extends Ca{constructor(){super(...arguments),this.state={titleId:ME()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&rf(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const r=BJ(e);this.rootEl.contains(r)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:r}=this.context,{props:n,state:a}=this,i=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return i4e(Qe("div",Object.assign({},n.extraAttrs,{id:n.id,className:i.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),Qe("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},Qe("span",{className:"fc-popover-title",id:a.titleId},n.title),Qe("span",{className:"fc-popover-close "+e.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),Qe("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:r,alignGridTop:n}=this.props,{rootEl:a}=this,i=HPe(r);if(i){let s=a.getBoundingClientRect(),l=n?Os(r,".fc-scrollgrid").getBoundingClientRect().top:i.top,c=e?i.right-s.width:i.left;l=Math.max(l,JT),c=Math.min(c,document.documentElement.clientWidth-JT-s.width),c=Math.max(c,JT);let u=a.offsetParent.getBoundingClientRect();A1(a,{top:l-u.top,left:c-u.left})}}}class ODe extends dg{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:r}=this.context,{props:n}=this,{startDate:a,todayRange:i,dateProfile:s}=n,l=r.format(a,e.dayPopoverFormat);return Qe(Eee,{elRef:this.handleRootEl,date:a,dateProfile:s,todayRange:i},(c,u,d)=>Qe(DDe,{elRef:d.ref,id:n.id,title:l,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Cee(e)&&Qe(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,r,n,a){let{rootEl:i,props:s}=this;return e>=0&&e<n&&r>=0&&r<a?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:a},layer:1}:null}}class IDe extends Ca{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:ME()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&rf(this.props.elRef,e)},this.handleClick=e=>{let{props:r,context:n}=this,{moreLinkClick:a}=n.options,i=LB(r).start;function s(l){let{def:c,instance:u,range:d}=l.eventRange;return{event:new xa(n,c,u),start:n.dateEnv.toDate(d.start),end:n.dateEnv.toDate(d.end),isStart:l.isStart,isEnd:l.isEnd}}typeof a=="function"&&(a=a({date:i,allDay:!!r.allDayDate,allSegs:r.allSegs.map(s),hiddenSegs:r.hiddenSegs.map(s),jsEvent:e,view:n.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&n.calendarApi.zoomTo(i,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:r}=this;return Qe(cg.Consumer,null,n=>{let{viewApi:a,options:i,calendarApi:s}=n,{moreLinkText:l}=i,{moreCnt:c}=e,u=LB(e),d=typeof l=="function"?l.call(s,c):`+${c} ${l}`,f=E1(i.moreLinkHint,[c],d),m={num:c,shortText:`+${c}`,text:d,view:a};return Qe(za,null,!!e.moreCnt&&Qe(hf,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),zJ(this.handleClick)),{title:f,"aria-expanded":r.isPopoverOpen,"aria-controls":r.isPopoverOpen?r.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||MDe,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),r.isPopoverOpen&&Qe(ODe,{id:r.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Os(this.linkEl,".fc-view-harness"))}}function MDe(t){return t.text}function LB(t){if(t.allDayDate)return{start:t.allDayDate,end:zs(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:RDe(e),end:FDe(e)}}function RDe(t){return t.reduce(LDe).eventRange.range.start}function LDe(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function FDe(t){return t.reduce($De).eventRange.range.end}function $De(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class BDe{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let r of this.handlers)r(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class UDe extends BDe{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:r}=this;let n=!1;e.isActive?(r.set(e.id,e),n=!0):r.has(e.id)&&(r.delete(e.id),n=!0),n&&this.set(r)}}const zDe=[],Tee={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},kee=Object.assign(Object.assign({},Tee),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function VDe(t){let e=t.length>0?t[0].code:"en",r=zDe.concat(t),n={en:kee};for(let a of r)n[a.code]=a;return{map:n,defaultCode:e}}function Pee(t,e){return typeof t=="object"&&!Array.isArray(t)?Dee(t.code,[t.code],t):HDe(t,e)}function HDe(t,e){let r=[].concat(t||[]),n=WDe(r,e)||kee;return Dee(t,r,n)}function WDe(t,e){for(let r=0;r<t.length;r+=1){let n=t[r].toLocaleLowerCase().split("-");for(let a=n.length;a>0;a-=1){let i=n.slice(0,a).join("-");if(e[i])return e[i]}}return null}function Dee(t,e,r){let n=MM([Tee,r],["buttonText"]);delete n.code;let{week:a}=n;return delete n.week,{codeArg:t,codes:e,week:a,simpleNumberFormat:new Intl.NumberFormat(t),options:n}}function lm(t){return{id:og(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function qDe(t,e){let r={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(i){for(let s of i){const l=s.name,c=r[l];c===void 0?(r[l]=s.id,a(s.deps),n=YDe(n,s)):c!==s.id&&console.warn(`Duplicate plugin '${l}'`)}}return t&&a(t),a(e),n}function GDe(){let t=[],e=[],r;return(n,a)=>((!r||!Vh(n,t)||!Vh(a,e))&&(r=qDe(n,a)),t=n,e=a,r)}function YDe(t,e){return{premiumReleaseDate:KDe(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function KDe(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class cm extends s2{}cm.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};cm.prototype.baseIconClass="fc-icon";cm.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};cm.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};cm.prototype.iconOverrideOption="buttonIcons";cm.prototype.iconOverrideCustomButtonOption="icon";cm.prototype.iconOverridePrefix="fc-icon-";function XDe(t,e){let r={},n;for(n in t)HP(n,r,t,e);for(n in e)HP(n,r,t,e);return r}function HP(t,e,r,n){if(e[t])return e[t];let a=ZDe(t,e,r,n);return a&&(e[t]=a),a}function ZDe(t,e,r,n){let a=r[t],i=n[t],s=d=>a&&a[d]!==null?a[d]:i&&i[d]!==null?i[d]:null,l=s("component"),c=s("superType"),u=null;if(c){if(c===t)throw new Error("Can't have a custom view type that references itself");u=HP(c,e,r,n)}return!l&&u&&(l=u.component),l?{type:t,component:l,defaults:Object.assign(Object.assign({},u?u.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),i?i.rawOptions:{})}:null}function FB(t){return lg(t,QDe)}function QDe(t){let e=typeof t=="function"?{component:t}:t,{component:r}=e;return e.content?r=$B(e):r&&!(r.prototype instanceof Ca)&&(r=$B(Object.assign(Object.assign({},e),{content:r}))),{superType:e.type,component:r,rawOptions:e}}function $B(t){return e=>Qe(cg.Consumer,null,r=>Qe(hf,{elTag:"div",elClasses:XJ(r.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:r.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function JDe(t,e,r,n){let a=FB(t),i=FB(e.views),s=XDe(a,i);return lg(s,l=>eOe(l,i,e,r,n))}function eOe(t,e,r,n,a){let i=t.overrides.duration||t.defaults.duration||n.duration||r.duration,s=null,l="",c="",u={};if(i&&(s=tOe(i),s)){let m=LP(s);l=m.unit,m.value===1&&(c=l,u=e[l]?e[l].rawOptions:{})}let d=m=>{let h=m.buttonText||{},v=t.defaults.buttonTextKey;return v!=null&&h[v]!=null?h[v]:h[t.type]!=null?h[t.type]:h[c]!=null?h[c]:null},f=m=>{let h=m.buttonHints||{},v=t.defaults.buttonTextKey;return v!=null&&h[v]!=null?h[v]:h[t.type]!=null?h[t.type]:h[c]!=null?h[c]:null};return{type:t.type,component:t.component,duration:s,durationUnit:l,singleUnit:c,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:d(n)||d(r)||t.overrides.buttonText,buttonTextDefault:d(a)||t.defaults.buttonText||d(C1)||t.type,buttonTitleOverride:f(n)||f(r)||t.overrides.buttonHint,buttonTitleDefault:f(a)||t.defaults.buttonHint||f(C1)}}let BB={};function tOe(t){let e=JSON.stringify(t),r=BB[e];return r===void 0&&(r=_n(t),BB[e]=r),r}function rOe(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function nOe(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function aOe(t,e,r){let n=t.initialDate;return n!=null?e.createMarker(n):r.getDateMarker()}function iOe(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function sOe(t,e,r,n){let a;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||r);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(a=n.buildPrev(t,r),a.isValid)return a;break;case"NEXT":if(a=n.buildNext(t,r),a.isValid)return a;break}return t}function oOe(t,e,r){let n=e?e.activeRange:null;return Iee({},mOe(t,r),n,r)}function lOe(t,e,r,n){let a=r?r.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Iee(t,e.sources,a,n);case"REMOVE_EVENT_SOURCE":return uOe(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Mee(t,a,n):t;case"FETCH_EVENT_SOURCES":return ZM(t,e.sourceIds?WJ(e.sourceIds):Ree(t,n),a,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return hOe(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function cOe(t,e,r){let n=e?e.activeRange:null;return ZM(t,Ree(t,r),n,!0,r)}function Oee(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function Iee(t,e,r,n){let a={};for(let i of e)a[i.sourceId]=i;return r&&(a=Mee(a,r,n)),Object.assign(Object.assign({},t),a)}function uOe(t,e){return Vp(t,r=>r.sourceId!==e)}function Mee(t,e,r){return ZM(t,Vp(t,n=>dOe(n,e,r)),e,!1,r)}function dOe(t,e,r){return Lee(t,r)?!r.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function ZM(t,e,r,n,a){let i={};for(let s in t){let l=t[s];e[s]?i[s]=fOe(l,r,n,a):i[s]=l}return i}function fOe(t,e,r,n){let{options:a,calendarApi:i}=n,s=n.pluginHooks.eventSourceDefs[t.sourceDefId],l=og();return s.fetch({eventSource:t,range:e,isRefetch:r,context:n},c=>{let{rawEvents:u}=c;a.eventSourceSuccess&&(u=a.eventSourceSuccess.call(i,u,c.response)||u),t.success&&(u=t.success.call(i,u,c.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:l,fetchRange:e,rawEvents:u})},c=>{let u=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(i,c),u=!0),t.failure&&(t.failure(c),u=!0),u||console.warn(c.message,c),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:l,fetchRange:e,error:c})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:l})}function hOe(t,e,r,n){let a=t[e];return a&&r===a.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:n})}):t}function Ree(t,e){return Vp(t,r=>Lee(r,e))}function mOe(t,e){let r=aee(e),n=[].concat(t.eventSources||[]),a=[];t.initialEvents&&n.unshift(t.initialEvents),t.events&&n.unshift(t.events);for(let i of n){let s=nee(i,e,r);s&&a.push(s)}return a}function Lee(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function pOe(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function gOe(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function vOe(t,e){let r;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function yOe(t,e){let r;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return r=e.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return t}}function xOe(t,e,r,n,a){let i=t.headerToolbar?UB(t.headerToolbar,t,e,r,n,a):null,s=t.footerToolbar?UB(t.footerToolbar,t,e,r,n,a):null;return{header:i,footer:s}}function UB(t,e,r,n,a,i){let s={},l=[],c=!1;for(let u in t){let d=t[u],f=bOe(d,e,r,n,a,i);s[u]=f.widgets,l.push(...f.viewsWithButtons),c=c||f.hasTitle}return{sectionWidgets:s,viewsWithButtons:l,hasTitle:c}}function bOe(t,e,r,n,a,i){let s=e.direction==="rtl",l=e.customButtons||{},c=r.buttonText||{},u=e.buttonText||{},d=r.buttonHints||{},f=e.buttonHints||{},m=t?t.split(" "):[],h=[],v=!1;return{widgets:m.map(p=>p.split(",").map(y=>{if(y==="title")return v=!0,{buttonName:y};let x,b,w,_,j,A;if(x=l[y])w=E=>{x.click&&x.click.call(E.target,E,E.target)},(_=n.getCustomButtonIconClass(x))||(_=n.getIconClass(y,s))||(j=x.text),A=x.hint||x.text;else if(b=a[y]){h.push(y),w=()=>{i.changeView(y)},(j=b.buttonTextOverride)||(_=n.getIconClass(y,s))||(j=b.buttonTextDefault);let E=b.buttonTextOverride||b.buttonTextDefault;A=E1(b.buttonTitleOverride||b.buttonTitleDefault||e.viewHint,[E,y],E)}else if(i[y])if(w=()=>{i[y]()},(j=c[y])||(_=n.getIconClass(y,s))||(j=u[y]),y==="prevYear"||y==="nextYear"){let E=y==="prevYear"?"prev":"next";A=E1(d[E]||f[E],[u.year||"year","year"],u[y])}else A=E=>E1(d[y]||f[y],[u[E]||E,E],u[y]);return{buttonName:y,buttonClick:w,buttonIcon:_,buttonText:j,buttonHint:A}})),viewsWithButtons:h,hasTitle:v}}class wOe{constructor(e,r,n){this.type=e,this.getCurrentData=r,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let SOe={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}};const _Oe=lm({name:"array-event-source",eventSourceDefs:[SOe]});let jOe={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,r){const{dateEnv:n}=t.context,a=t.eventSource.meta;NPe(a.bind(null,fee(t.range,n)),i=>e({rawEvents:i}),r)}};const NOe=lm({name:"func-event-source",eventSourceDefs:[jOe]}),AOe={method:String,extraParams:Ze,startParam:String,endParam:String,timeZoneParam:String};let EOe={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,r){const{meta:n}=t.eventSource,a=TOe(n,t.range,t.context);APe(n.method,n.url,a).then(([i,s])=>{e({rawEvents:i,response:s})},r)}};const COe=lm({name:"json-event-source",eventSourceRefiners:AOe,eventSourceDefs:[EOe]});function TOe(t,e,r){let{dateEnv:n,options:a}=r,i,s,l,c,u={};return i=t.startParam,i==null&&(i=a.startParam),s=t.endParam,s==null&&(s=a.endParam),l=t.timeZoneParam,l==null&&(l=a.timeZoneParam),typeof t.extraParams=="function"?c=t.extraParams():c=t.extraParams||{},Object.assign(u,c),u[i]=n.formatIso(e.start),u[s]=n.formatIso(e.end),n.timeZone!=="local"&&(u[l]=n.timeZone),u}const kOe={daysOfWeek:Ze,startTime:_n,endTime:_n,duration:_n,startRecur:Ze,endRecur:Ze};let POe={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let r={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null,dateEnv:e},n;return t.duration&&(n=t.duration),!n&&t.startTime&&t.endTime&&(n=L4e(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:n,typeData:r}}return null},expand(t,e,r){let n=Iv(e,{start:t.startRecur,end:t.endRecur});return n?OOe(t.daysOfWeek,t.startTime,t.dateEnv,r,n):[]}};const DOe=lm({name:"simple-recurring-event",recurringTypes:[POe],eventRefiners:kOe});function OOe(t,e,r,n,a){let i=t?WJ(t):null,s=ya(a.start),l=a.end,c=[];for(;s<l;){let u;(!i||i[s.getUTCDay()])&&(e?u=n.add(s,e):u=s,c.push(n.createMarker(r.toDate(u)))),s=zs(s,1)}return c}const IOe=lm({name:"change-handler",optionChangeHandlers:{events(t,e){zB([t],e)},eventSources:zB}});function zB(t,e){let r=RM(e.getCurrentData().eventSources);if(r.length===1&&t.length===1&&Array.isArray(r[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:r[0].sourceId,rawEvents:t[0]});return}let n=[];for(let a of t){let i=!1;for(let s=0;s<r.length;s+=1)if(r[s]._raw===a){r.splice(s,1),i=!0;break}i||n.push(a)}for(let a of r)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of n)e.calendarApi.addEventSource(a)}function MOe(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},fee(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function ROe(t,e){let{emitter:r}=e;r.hasHandlers("eventsSet")&&r.trigger("eventsSet",_p(t,e))}const LOe=[_Oe,NOe,COe,DOe,IOe,lm({name:"misc",isLoadingFuncs:[t=>Oee(t.eventSources)],propSetHandlers:{dateProfile:MOe,eventStore:ROe}})];class FOe{constructor(e,r){this.runTaskOption=e,this.drainedOption=r,this.queue=[],this.delayedRunner=new CM(this.drain.bind(this))}request(e,r){this.queue.push(e),this.delayedRunner.request(r)}pause(e){this.delayedRunner.pause(e)}resume(e,r){this.delayedRunner.resume(e,r)}drain(){let{queue:e}=this;for(;e.length;){let r=[],n;for(;n=e.shift();)this.runTask(n),r.push(n);this.drained(r)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function $Oe(t,e,r){let n;return/^(year|month)$/.test(t.currentRangeUnit)?n=t.currentRange:n=t.activeRange,r.formatRange(n.start,n.end,zi(e.titleFormat||BOe(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function BOe(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let r=zj(t.currentRange.start,t.currentRange.end);return r!==null&&r>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class VB{constructor(){this.resetListeners=new Set}handleInput(e,r){const n=this.dateEnv;if(e!==n&&(typeof r=="function"?this.nowFn=r:n||(this.nowAnchorDate=e.toDate(r?e.createMarker(r):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class UOe{constructor(e){this.computeCurrentViewData=jn(this._computeCurrentViewData),this.organizeRawLocales=jn(VDe),this.buildLocale=jn(Pee),this.buildPluginHooks=GDe(),this.buildDateEnv=jn(zOe),this.buildTheme=jn(VOe),this.parseToolbars=jn(xOe),this.buildViewSpecs=jn(JDe),this.buildDateProfileGenerator=K_(HOe),this.buildViewApi=jn(WOe),this.buildViewUiProps=K_(YOe),this.buildEventUiBySource=jn(qOe,Yu),this.buildEventUiBases=jn(GOe),this.parseContextBusinessHours=K_(KOe),this.buildTitle=jn($Oe),this.nowManager=new VB,this.emitter=new $E,this.actionRunner=new FOe(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=e,this.actionRunner.pause(),this.nowManager=new VB;let r={},n=this.computeOptionsData(e.optionOverrides,r,e.calendarApi),a=n.calendarOptions.initialView||n.pluginHooks.initialView,i=this.computeCurrentViewData(a,n,e.optionOverrides,r);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let s={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=aOe(n.calendarOptions,n.dateEnv,this.nowManager),c=i.dateProfileGenerator.build(l);Nh(c.activeRange,l)||(l=c.currentRange.start);for(let m of n.pluginHooks.contextInit)m(s);let u=oOe(n.calendarOptions,c,s),d={dynamicOptionOverrides:r,currentViewType:a,currentDate:l,dateProfile:c,businessHours:this.parseContextBusinessHours(s),eventSources:u,eventUiBases:{},eventStore:Yc(),renderableEventStore:Yc(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(s).selectionConfig},f=Object.assign(Object.assign({},s),d);for(let m of n.pluginHooks.reducers)Object.assign(d,m(null,null,f));e4(d,s)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,r){let{props:n}=this;r===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...r)),(r===void 0||r.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:r,state:n,emitter:a}=this,i=iOe(n.dynamicOptionOverrides,e),s=this.computeOptionsData(r.optionOverrides,i,r.calendarApi),l=rOe(n.currentViewType,e),c=this.computeCurrentViewData(l,s,r.optionOverrides,i);r.calendarApi.currentDataManager=this,a.setThisContext(r.calendarApi),a.setOptions(c.options);let u={nowManager:this.nowManager,dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=n;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(f=c.dateProfileGenerator.build(d)),d=nOe(d,e),f=sOe(f,e,d,c.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Nh(f.currentRange,d))&&(d=f.currentRange.start);let m=lOe(n.eventSources,e,f,u),h=Zke(n.eventStore,e,m,f,u),g=Oee(m)&&!c.options.progressiveEventRendering&&n.renderableEventStore||h,{eventUiSingleBase:p,selectionConfig:y}=this.buildViewUiProps(u),x=this.buildEventUiBySource(m),b=this.buildEventUiBases(g.defs,p,x),w={dynamicOptionOverrides:i,currentViewType:l,currentDate:d,dateProfile:f,eventSources:m,eventStore:h,renderableEventStore:g,selectionConfig:y,eventUiBases:b,businessHours:this.parseContextBusinessHours(u),dateSelection:pOe(n.dateSelection,e),eventSelection:gOe(n.eventSelection,e),eventDrag:vOe(n.eventDrag,e),eventResize:yOe(n.eventResize,e)},_=Object.assign(Object.assign({},u),w);for(let E of s.pluginHooks.reducers)Object.assign(w,E(n,e,_));let j=e4(n,u),A=e4(w,u);!j&&A?a.trigger("loading",!0):j&&!A&&a.trigger("loading",!1),this.state=w,r.onAction&&r.onAction(e)}updateData(){let{props:e,state:r}=this,n=this.data,a=this.computeOptionsData(e.optionOverrides,r.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(r.currentViewType,a,e.optionOverrides,r.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(r.dateProfile,i.options,a.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),i),r),l=a.pluginHooks.optionChangeHandlers,c=n&&n.calendarOptions,u=a.calendarOptions;if(c&&c!==u){c.timeZone!==u.timeZone&&(r.eventSources=s.eventSources=cOe(s.eventSources,r.dateProfile,s),r.eventStore=s.eventStore=TB(s.eventStore,n.dateEnv,s.dateEnv),r.renderableEventStore=s.renderableEventStore=TB(s.renderableEventStore,n.dateEnv,s.dateEnv));for(let d in l)(this.optionsForHandling.indexOf(d)!==-1||c[d]!==u[d])&&l[d](u[d],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,r,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&r===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:i,localeDefaults:s,availableLocaleData:l,extra:c}=this.processRawCalendarOptions(e,r);HB(c);let u=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,i,l,a.defaultRangeSeparator),d=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),f=this.buildTheme(a,i),m=this.parseToolbars(a,this.stableOptionOverrides,f,d,n);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:i,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:m,localeDefaults:s,availableRawLocales:l.map}}processRawCalendarOptions(e,r){let{locales:n,locale:a}=qT([C1,e,r]),i=this.organizeRawLocales(n),s=i.map,l=this.buildLocale(a||i.defaultCode,s).options,c=this.buildPluginHooks(e.plugins||[],LOe),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},SB),_B),jB),c.listenerRefiners),c.optionRefiners),d={},f=qT([C1,l,e,r]),m={},h=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,g=!1;for(let p in f)this.optionsForRefining.indexOf(p)===-1&&(f[p]===h[p]||zm[p]&&p in h&&zm[p](h[p],f[p]))?m[p]=v[p]:u[p]?(m[p]=u[p](f[p]),g=!0):d[p]=h[p];return g&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=r),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:i,localeDefaults:l,extra:d}}_computeCurrentViewData(e,r,n,a){let i=r.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:l}=this.processRawViewOptions(i,r.pluginHooks,r.localeDefaults,n,a);HB(l),this.nowManager.handleInput(r.dateEnv,s.now);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:r.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,r.dateEnv);return{viewSpec:i,options:s,dateProfileGenerator:c,viewApi:u}}processRawViewOptions(e,r,n,a,i){let s=qT([C1,e.optionDefaults,n,a,e.optionOverrides,i]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},SB),_B),jB),pke),r.listenerRefiners),r.optionRefiners),c={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,m={};for(let h in s)s[h]===u[h]||zm[h]&&zm[h](s[h],u[h])?c[h]=d[h]:(s[h]===this.currentCalendarOptionsInput[h]||zm[h]&&zm[h](s[h],this.currentCalendarOptionsInput[h])?h in this.currentCalendarOptionsRefined&&(c[h]=this.currentCalendarOptionsRefined[h]):l[h]?c[h]=l[h](s[h]):m[h]=s[h],f=!0);return f&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}}function zOe(t,e,r,n,a,i,s,l){let c=Pee(e||s.defaultCode,s.map);return new Nke({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:c,weekNumberCalculation:r,firstDay:n,weekText:a,cmdFormatter:i.cmdFormatter,defaultSeparator:l})}function VOe(t,e){let r=e.themeClasses[t.themeSystem]||cm;return new r(t)}function HOe(t){let e=t.dateProfileGeneratorClass||JJ;return new e(t)}function WOe(t,e,r){return new wOe(t,e,r)}function qOe(t){return lg(t,e=>e.ui)}function GOe(t,e,r){let n={"":e};for(let a in t){let i=t[a];i.sourceId&&r[i.sourceId]&&(n[a]=r[i.sourceId])}return n}function YOe(t){let{options:e}=t;return{eventUiSingleBase:Yj({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Yj({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function e4(t,e){for(let r of e.pluginHooks.isLoadingFuncs)if(r(t))return!0;return!1}function KOe(t){return sPe(t.options.businessHours,t)}function HB(t,e){for(let r in t)console.warn(`Unknown option '${r}'`)}class XOe extends Ca{render(){let e=this.props.widgetGroups.map(r=>this.renderWidgetGroup(r));return Qe("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:r}=this,{theme:n}=this.context,a=[],i=!0;for(let s of e){let{buttonName:l,buttonClick:c,buttonText:u,buttonIcon:d,buttonHint:f}=s;if(l==="title")i=!1,a.push(Qe("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{let m=l===r.activeButton,h=!r.isTodayEnabled&&l==="today"||!r.isPrevEnabled&&l==="prev"||!r.isNextEnabled&&l==="next",v=[`fc-${l}-button`,n.getClass("button")];m&&v.push(n.getClass("buttonActive")),a.push(Qe("button",{type:"button",title:typeof f=="function"?f(r.navUnit):f,disabled:h,"aria-pressed":m,className:v.join(" "),onClick:c},u||(d?Qe("span",{className:d,role:"img"}):"")))}}if(a.length>1){let s=i&&n.getClass("buttonGroup")||"";return Qe("div",{className:s},...a)}return a[0]}}class WB extends Ca{render(){let{model:e,extraClassName:r}=this.props,n=!1,a,i,s=e.sectionWidgets,l=s.center;return s.left?(n=!0,a=s.left):a=s.start,s.right?(n=!0,i=s.right):i=s.end,Qe("div",{className:[r||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",l||[]),this.renderSection("end",i||[]))}renderSection(e,r){let{props:n}=this;return Qe(XOe,{key:e,widgetGroups:r,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class ZOe extends Ca{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,rf(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:r}=this,{aspectRatio:n}=e,a=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",s="";return n?r.availableWidth!==null?i=r.availableWidth/n:s=`${1/n*100}%`:i=e.height||"",Qe("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:i,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class QOe extends Ty{constructor(e){super(e),this.handleSegClick=(r,n)=>{let{component:a}=this,{context:i}=a,s=Mv(n);if(s&&a.isValidSegDownEl(r.target)){let l=Os(r.target,".fc-event-forced-url"),c=l?l.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:n,event:new xa(a.context,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:i.viewApi}),c&&!r.defaultPrevented&&(window.location.href=c)}},this.destroy=UJ(e.el,"click",".fc-event",this.handleSegClick)}}class JOe extends Ty{constructor(e){super(e),this.handleEventElRemove=r=>{r===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(r,n)=>{Mv(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",r,n))},this.handleSegLeave=(r,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",r,n))},this.removeHoverListeners=S4e(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,r,n){let{component:a}=this,{context:i}=a,s=Mv(n);(!r||a.isValidSegDownEl(r.target))&&i.emitter.trigger(e,{el:n,event:new xa(i,s.eventRange.def,s.eventRange.instance),jsEvent:r,view:i.viewApi})}}class e3e extends ug{constructor(){super(...arguments),this.buildViewContext=jn(Cke),this.buildViewPropTransformers=jn(r3e),this.buildToolbarProps=jn(t3e),this.headerRef=tf(),this.footerRef=tf(),this.interactionsStore={},this.state={viewLabelId:ME()},this.registerInteractiveComponent=(e,r)=>{let n=TPe(e,r),s=[QOe,JOe].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(n));this.interactionsStore[e.uid]=s,zP[e.uid]=n},this.unregisterInteractiveComponent=e=>{let r=this.interactionsStore[e.uid];if(r){for(let n of r)n.destroy();delete this.interactionsStore[e.uid]}delete zP[e.uid]},this.resizeRunner=new CM(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:r}=this.props;r.handleWindowResize&&e.target===window&&this.resizeRunner.request(r.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:r,options:n}=e,a=!1,i="",s;e.isHeightAuto||e.forPrint?i="":n.height!=null?a=!0:n.contentHeight!=null?i=n.contentHeight:s=Math.max(n.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=r.header&&r.header.hasTitle?this.state.viewLabelId:void 0;return Qe(cg.Provider,{value:l},Qe(BE,{unit:"day"},u=>{let d=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,u,e.viewTitle);return Qe(za,null,r.header&&Qe(WB,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:c},d)),Qe(ZOe,{liquid:a,height:i,aspectRatio:s,labeledById:c},this.renderView(e),this.buildAppendContent()),r.footer&&Qe(WB,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},d)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:r}=e.pluginHooks;for(let n in r)r[n](e[n],e)}componentDidUpdate(e){let{props:r}=this,{propSetHandlers:n}=r.pluginHooks;for(let a in n)r[a]!==e[a]&&n[a](r[a],r)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,r=e.pluginHooks.viewContainerAppends.map(n=>n(e));return Qe(za,{},...r)}renderView(e){let{pluginHooks:r}=e,{viewSpec:n}=e,a={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(r.viewPropsTransformers);for(let l of i)Object.assign(a,l.transform(a,e));let s=n.component;return Qe(s,Object.assign({},a))}}function t3e(t,e,r,n,a,i){let s=r.build(a,void 0,!1),l=r.buildPrev(e,n,!1),c=r.buildNext(e,n,!1);return{title:i,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:s.isValid&&!Nh(e.currentRange,a),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function r3e(t){return t.map(e=>new e)}class n3e extends PPe{constructor(e,r={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;qj(()=>{xb(Qe(CPe,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(a,i,s,l)=>(this.setClassNames(a),this.setHeight(i),Qe(KJ.Provider,{value:this.customContentRenderId},Qe(e3e,Object.assign({isHeightAuto:s,forPrint:l},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,xb(null,this.el),this.setClassNames([]),this.setHeight(""))},h4e(e),this.el=e,this.renderRunner=new CM(this.handleRenderRequest),new UOe({optionOverrides:r,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){qj(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,r){this.currentDataManager.resetOptions(e,r)}setClassNames(e){if(!Vh(e,this.currentClassNames)){let{classList:r}=this.el;for(let n of this.currentClassNames)r.remove(n);for(let n of e)r.add(n);this.currentClassNames=e}}setHeight(e){$J(this.el,"height",e)}}const a3e=parseInt(String(W.version).split(".")[0]),i3e=a3e<18;class Fee extends N.Component{constructor(){super(...arguments),this.elRef=N.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const r of this.state.customRenderingMap.values())e.push(W.createElement(s3e,{key:r.id,customRendering:r}));return W.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new UDe;this.handleCustomRendering=e.handle.bind(e),this.calendar=new n3e(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ph.flushSync(()=>{})});let r;e.subscribe(n=>{const a=Date.now(),i=!r;(i3e||i||this.isUpdating||this.isUnmounting||a-r<100?$ee:Ph.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{r=a,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}Fee.act=$ee;class s3e extends N.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:r}=e,n=typeof r=="function"?r(e.renderProps):r;return Ph.createPortal(n,e.containerEl)}}function $ee(t){t()}class o3e extends dg{constructor(){super(...arguments),this.headerElRef=tf()}renderSimpleLayout(e,r){let{props:n,context:a}=this,i=[],s=RB(a.options);return e&&i.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),Qe(NB,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},Qe(Aee,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,r,n,a){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:s,context:l}=this,c=!s.forPrint&&RB(l.options),u=!s.forPrint&&wDe(l.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:bDe}]}),Qe(NB,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},Qe(i,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:n,minWidth:a}]}],sections:d}))}}function ZS(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.row].push(n);return r}function QS(t,e){let r=[];for(let n=0;n<e;n+=1)r[n]=[];for(let n of t)r[n.firstCol].push(n);return r}function qB(t,e){let r=[];if(t){for(let n=0;n<e;n+=1)r[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let n of t.segs)r[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)r[n]=null;return r}const Bee=zi({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Uee(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}class zee extends Ca{render(){let{props:e}=this;return Qe(_De,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Bee,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Vee extends Ca{render(){let{props:e,context:r}=this,{options:n}=r,{seg:a}=e,i=n.eventTimeFormat||Bee,s=uee(a,i,r,!0,e.defaultDisplayEventEnd);return Qe(XM,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:dee(e.seg,r),defaultGenerator:l3e,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function l3e(t){return Qe(za,null,Qe("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&Qe("div",{className:"fc-event-time"},t.timeText),Qe("div",{className:"fc-event-title"},t.event.title||Qe(za,null,"")))}class c3e extends Ca{constructor(){super(...arguments),this.compileSegs=jn(u3e)}render(){let{props:e}=this,{allSegs:r,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return Qe(IDe,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:r,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let a=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return Qe(za,null,r.map(i=>{let s=i.eventRange.instance.instanceId;return Qe("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:a[s]?"hidden":""}},Uee(i)?Qe(Vee,Object.assign({seg:i,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},T1(i,e.todayRange))):Qe(zee,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},T1(i,e.todayRange))))}))}})}}function u3e(t){let e=[],r=[];for(let n of t)e.push(n.seg),n.isVisible||r.push(n.seg);return{allSegs:e,invisibleSegs:r}}const d3e=zi({week:"narrow"});class f3e extends dg{constructor(){super(...arguments),this.rootElRef=tf(),this.state={dayNumberId:ME()},this.handleRootEl=e=>{rf(this.rootElRef,e),rf(this.props.elRef,e)}}render(){let{context:e,props:r,state:n,rootElRef:a}=this,{options:i,dateEnv:s}=e,{date:l,dateProfile:c}=r;const u=r.showDayNumber&&m3e(l,c.currentRange,s);return Qe(Eee,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:h3e,date:l,dateProfile:c,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:u,extraRenderProps:r.extraRenderProps},(d,f)=>Qe("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&Qe(kDe,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:VP(e,l,"week"),date:l,defaultFormat:d3e}),!f.isDisabled&&(r.showDayNumber||Cee(i)||r.forceDayTop)?Qe("div",{className:"fc-daygrid-day-top"},Qe(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},VP(e,l)),{id:n.dayNumberId})})):r.showDayNumber?Qe("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},Qe("a",{className:"fc-daygrid-day-number"},"")):void 0,Qe("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,Qe("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},Qe(c3e,{allDayDate:l,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:a,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),Qe("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}}function h3e(t){return t.dayNumberText||Qe(za,null,"")}function m3e(t,e,r){const{start:n,end:a}=e,i=Hh(a,-1),s=r.getYear(n),l=r.getMonth(n),c=r.getYear(i),u=r.getMonth(i);return!(s===c&&l===u)&&(t.valueOf()===n.valueOf()||r.getDay(t)===1&&t.valueOf()<a.valueOf())}function Hee(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function Wee(t){return Hee(t)+":"+t.lastCol}function p3e(t,e,r,n,a,i,s){let l=new y3e(y=>{let x=t[y.index].eventRange.instance.instanceId+":"+y.span.start+":"+(y.span.end-1);return a[x]||1});l.allowReslicing=!0,l.strictOrder=n,e===!0||r===!0?(l.maxCoord=i,l.hiddenConsumes=!0):typeof e=="number"?l.maxStackCnt=e:typeof r=="number"&&(l.maxStackCnt=r,l.hiddenConsumes=!0);let c=[],u=[];for(let y=0;y<t.length;y+=1){let x=t[y],b=Wee(x);a[b]!=null?c.push({index:y,span:{start:x.firstCol,end:x.lastCol+1}}):u.push(x)}let d=l.addSegs(c),f=l.toRects(),{singleColPlacements:m,multiColPlacements:h,leftoverMargins:v}=g3e(f,t,s),g=[],p=[];for(let y of u){h[y.firstCol].push({seg:y,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let x=y.firstCol;x<=y.lastCol;x+=1)m[x].push({seg:z0(y,x,x+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<s.length;y+=1)g.push(0);for(let y of d){let x=t[y.index],b=y.span;h[b.start].push({seg:z0(x,b.start,b.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let w=b.start;w<b.end;w+=1)g[w]+=1,m[w].push({seg:z0(x,w,w+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<s.length;y+=1)p.push(v[y]);return{singleColPlacements:m,multiColPlacements:h,moreCnts:g,moreMarginTops:p}}function g3e(t,e,r){let n=v3e(t,r.length),a=[],i=[],s=[];for(let l=0;l<r.length;l+=1){let c=n[l],u=[],d=0,f=0;for(let h of c){let v=e[h.index];u.push({seg:z0(v,l,l+1,r),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:h.levelCoord-d}),d=h.levelCoord+h.thickness}let m=[];d=0,f=0;for(let h of c){let v=e[h.index],g=h.span.end-h.span.start>1,p=h.span.start===l;f+=h.levelCoord-d,d=h.levelCoord+h.thickness,g?(f+=h.thickness,p&&m.push({seg:z0(v,h.span.start,h.span.end,r),isVisible:!0,isAbsolute:!0,absoluteTop:h.levelCoord,marginTop:0})):p&&(m.push({seg:z0(v,h.span.start,h.span.end,r),isVisible:!0,isAbsolute:!1,absoluteTop:h.levelCoord,marginTop:f}),f=0)}a.push(u),i.push(m),s.push(f)}return{singleColPlacements:a,multiColPlacements:i,leftoverMargins:s}}function v3e(t,e){let r=[];for(let n=0;n<e;n+=1)r.push([]);for(let n of t)for(let a=n.span.start;a<n.span.end;a+=1)r[a].push(n);return r}function z0(t,e,r,n){if(t.firstCol===e&&t.lastCol===r-1)return t;let a=t.eventRange,i=a.range,s=Iv(i,{start:n[e].date,end:zs(n[r-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:r-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:s},isStart:t.isStart&&s.start.valueOf()===i.start.valueOf(),isEnd:t.isEnd&&s.end.valueOf()===i.end.valueOf()})}class y3e extends GPe{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const r=super.addSegs(e),{entriesByLevel:n}=this,a=i=>!this.forceHidden[k1(i)];for(let i=0;i<n.length;i+=1)n[i]=n[i].filter(a);return r}handleInvalidInsertion(e,r,n){const{entriesByLevel:a,forceHidden:i}=this,{touchingEntry:s,touchingLevel:l,touchingLateral:c}=e;if(this.hiddenConsumes&&s){const u=k1(s);if(!i[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},s),{span:xee(s.span,r.span)}),f=k1(d);i[f]=!0,a[l][c]=d,n.push(d),this.splitEntry(s,r,n)}else i[u]=!0,n.push(s)}super.handleInvalidInsertion(e,r,n)}}class qee extends dg{constructor(){super(...arguments),this.cellElRefs=new sp,this.frameElRefs=new sp,this.fgElRefs=new sp,this.segHarnessRefs=new sp,this.rootElRef=tf(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:r,context:n}=this,{options:a}=n,i=e.cells.length,s=QS(e.businessHourSegs,i),l=QS(e.bgEventSegs,i),c=QS(this.getHighlightSegs(),i),u=QS(this.getMirrorSegs(),i),{singleColPlacements:d,multiColPlacements:f,moreCnts:m,moreMarginTops:h}=p3e(dPe(e.fgEventSegs,a.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,a.eventOrderStrict,r.segHeights,r.maxContentHeight,e.cells),v=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return Qe("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((g,p)=>{let y=this.renderFgSegs(p,e.forPrint?d[p]:f[p],e.todayRange,v),x=this.renderFgSegs(p,x3e(u[p],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return Qe(f3e,{key:g.key,elRef:this.cellElRefs.createRef(g.key),innerElRef:this.frameElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&p===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,moreCnt:m[p],moreMarginTop:h[p],singlePlacements:d[p],fgContentElRef:this.fgElRefs.createRef(g.key),fgContent:Qe(za,null,Qe(za,null,y),Qe(za,null,x)),bgContent:Qe(za,null,this.renderFillSegs(c[p],"highlight"),this.renderFillSegs(s[p],"non-business"),this.renderFillSegs(l[p],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,r){let n=this.props;this.updateSizing(!Yu(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,r,n,a,i,s,l){let{context:c}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,m=i||s||l,h=[];if(d)for(let v of r){let{seg:g}=v,{instanceId:p}=g.eventRange.instance,y=v.isVisible&&!a[p],x=v.isAbsolute,b="",w="";x&&(c.isRtl?(w=0,b=d.lefts[g.lastCol]-d.lefts[g.firstCol]):(b=0,w=d.rights[g.firstCol]-d.rights[g.lastCol])),h.push(Qe("div",{className:"fc-daygrid-event-harness"+(x?" fc-daygrid-event-harness-abs":""),key:Hee(g),ref:m?null:this.segHarnessRefs.createRef(Wee(g)),style:{visibility:y?"":"hidden",marginTop:x?"":v.marginTop,top:x?v.absoluteTop:"",left:b,right:w}},Uee(g)?Qe(Vee,Object.assign({seg:g,isDragging:i,isSelected:p===u,defaultDisplayEventEnd:f},T1(g,n))):Qe(zee,Object.assign({seg:g,isDragging:i,isResizing:s,isDateSelecting:l,isSelected:p===u,defaultDisplayEventEnd:f},T1(g,n)))))}return h}renderFillSegs(e,r){let{isRtl:n}=this.context,{todayRange:a}=this.props,{framePositions:i}=this.state,s=[];if(i)for(let l of e){let c=n?{right:0,left:i.lefts[l.lastCol]-i.lefts[l.firstCol]}:{left:0,right:i.rights[l.firstCol]-i.rights[l.lastCol]};s.push(Qe("div",{key:vPe(l.eventRange),className:"fc-daygrid-bg-harness",style:c},r==="bg-event"?Qe(EDe,Object.assign({seg:l},T1(l,a))):TDe(r)))}return Qe(za,{},...s)}updateSizing(e){let{props:r,state:n,frameElRefs:a}=this;if(!r.forPrint&&r.clientWidth!==null){if(e){let c=r.cells.map(u=>a.currentMap[u.key]);if(c.length){let u=this.rootElRef.current,d=new Xj(u,c,!0,!1);(!n.framePositions||!n.framePositions.similarTo(d))&&this.setState({framePositions:new Xj(u,c,!0,!1)})}}const i=this.state.segHeights,s=this.querySegHeights(),l=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),s),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,r={};for(let n in e){let a=Math.round(e[n].getBoundingClientRect().height);r[n]=Math.max(r[n]||0,a)}return r}computeMaxContentHeight(){let e=this.props.cells[0].key,r=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return r.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(r=>e[r.key])}}qee.addStateEquality({segHeights:Yu});function x3e(t,e){if(!t.length)return[];let r=b3e(e);return t.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:r[n.eventRange.instance.instanceId],marginTop:0}))}function b3e(t){let e={};for(let r of t)for(let n of r)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class w3e extends dg{constructor(){super(...arguments),this.splitBusinessHourSegs=jn(ZS),this.splitBgEventSegs=jn(ZS),this.splitFgEventSegs=jn(ZS),this.splitDateSelectionSegs=jn(ZS),this.splitEventDrag=jn(qB),this.splitEventResize=jn(qB),this.rowRefs=new sp}render(){let{props:e,context:r}=this,n=e.cells.length,a=this.splitBusinessHourSegs(e.businessHourSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),s=this.splitFgEventSegs(e.fgEventSegs,n),l=this.splitDateSelectionSegs(e.dateSelectionSegs,n),c=this.splitEventDrag(e.eventDrag,n),u=this.splitEventResize(e.eventResize,n),d=n>=7&&e.clientWidth?e.clientWidth/r.options.aspectRatio/6:null;return Qe(BE,{unit:"day"},(f,m)=>Qe(za,null,e.cells.map((h,v)=>Qe(qee,{ref:this.rowRefs.createRef(v),key:h.length?h[0].date.toISOString():v,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:m,dateProfile:e.dateProfile,cells:h,renderIntro:e.renderRowIntro,businessHourSegs:a[v],eventSelection:e.eventSelection,bgEventSegs:i[v].filter(S3e),fgEventSegs:s[v],dateSelectionSegs:l[v],eventDrag:c[v],eventResize:u[v],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],r=e?e.closest(".fc-daygrid-body"):null;r&&(this.rootEl=r,this.context.registerInteractiveComponent(this,{el:r,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Xj(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Xj(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,r){let{colPositions:n,rowPositions:a}=this,i=n.leftToIndex(e),s=a.topToIndex(r);if(s!=null&&i!=null){let l=this.props.cells[s][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,i),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(s,i),rect:{left:n.lefts[i],right:n.rights[i],top:a.tops[s],bottom:a.bottoms[s]},layer:0}}return null}getCellEl(e,r){return this.rowRefs.currentMap[e].getCellEls()[r]}getCellRange(e,r){let n=this.props.cells[e][r].date,a=zs(n,1);return{start:n,end:a}}}function S3e(t){return t.eventRange.def.allDay}let _3e=class extends dg{constructor(){super(...arguments),this.elRef=tf(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:r,dayMaxEvents:n,expandRows:a}=e,i=n===!0||r===!0;i&&!a&&(i=!1,r=null,n=null);let s=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return Qe("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},Qe("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:a?e.clientHeight:""}},e.colGroupNode,Qe("tbody",{role:"presentation"},Qe(w3e,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:r,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=j3e(this.elRef.current,this.props.dateProfile);if(e){const r=e.closest(".fc-daygrid-body"),n=r.closest(".fc-scroller"),a=e.getBoundingClientRect().top-r.getBoundingClientRect().top;n.scrollTop=a?a+1:0}this.needsScrollReset=!1}}};function j3e(t,e){let r;return e.currentRangeUnit.match(/year|month/)&&(r=t.querySelector(`[data-date="${J4e(e.currentDate)}-01"]`)),r||(r=t.querySelector(`[data-date="${DM(e.currentDate)}"]`)),r}class N3e extends nDe{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,r){return r.sliceRange(e)}}class A3e extends dg{constructor(){super(...arguments),this.slicer=new N3e,this.tableRef=tf()}render(){let{props:e,context:r}=this;return Qe(_3e,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,r,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class E3e extends o3e{constructor(){super(...arguments),this.buildDayTableModel=jn(C3e),this.headerRef=tf(),this.tableRef=tf()}render(){let{options:e,dateProfileGenerator:r}=this.context,{props:n}=this,a=this.buildDayTableModel(n.dateProfile,r),i=e.dayHeaders&&Qe(JPe,{ref:this.headerRef,dateProfile:n.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),s=l=>Qe(A3e,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:a,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,s,a.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,s)}}function C3e(t,e){let r=new tDe(t.renderRange,e);return new rDe(r,/year|month|week/.test(t.currentRangeUnit))}class T3e extends JJ{buildRenderRange(e,r,n){let a=super.buildRenderRange(e,r,n),{props:i}=this;return k3e({currentRange:a,snapToWeek:/^(year|month)$/.test(r),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function k3e(t){let{dateEnv:e,currentRange:r}=t,{start:n,end:a}=r,i;if(t.snapToWeek&&(n=e.startOfWeek(n),i=e.startOfWeek(a),i.valueOf()!==a.valueOf()&&(a=vB(i,1))),t.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(zs(r.end,-1))),l=Math.ceil(U4e(s,a));a=vB(a,6-l)}return{start:n,end:a}}var P3e=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';RJ(P3e);var D3e=lm({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:E3e,dateProfileGeneratorClass:T3e},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});KM.touchMouseIgnoreWait=500;let WP=0,Zj=0,qP=!1;class Gee{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&O3e(r)&&this.tryStart(r)){let n=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let n=this.createEventFromMouse(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let n=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let a=r.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let n=this.createEventFromTouch(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=r=>{if(this.isDragging){let n=r.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,I3e()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:a,deltaX:n-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=e,this.emitter=new $E,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),M3e()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),R3e()}tryStart(e){let r=this.querySubjectEl(e),n=e.target;return r&&(!this.handleSelector||Os(n,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){qP=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?Os(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return WP||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(qP=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,r){let n=0,a=0;return r?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,a=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:a}}createEventFromTouch(e,r){let n=e.touches,a,i,s=0,l=0;return n&&n.length?(a=n[0].pageX,i=n[0].pageY):(a=e.pageX,i=e.pageY),r?(this.origPageX=a,this.origPageY=i):(s=a-this.origPageX,l=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:i,deltaX:s,deltaY:l}}}function O3e(t){return t.button===0&&!t.ctrlKey}function I3e(){WP+=1,setTimeout(()=>{WP-=1},KM.touchMouseIgnoreWait)}function M3e(){Zj+=1,Zj===1&&window.addEventListener("touchmove",Yee,{passive:!1})}function R3e(){Zj-=1,Zj||window.removeEventListener("touchmove",Yee,{passive:!1})}function Yee(t){qP&&t.preventDefault()}class L3e{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,r,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,r){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,r){let n=()=>{this.cleanup(),r()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,r){let n=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();n.style.transition="top "+r+"ms,left "+r+"ms",A1(n,{left:a.left,top:a.top}),_4e(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(TM(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&A1(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),A1(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}}class Kee extends YM{constructor(e,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=r,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class Xee extends Kee{constructor(e,r){super(new WPe(e),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return VPe(this.scrollController.el)}}class F3e extends Kee{constructor(e){super(new qPe,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const GB=typeof performance=="function"?performance.now:Date.now;class $3e{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let r=GB();this.handleSide(e,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(e,r,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,r))}handleMove(e,r){if(this.isEnabled){let n=e-window.scrollX,a=r-window.scrollY,i=this.pointerScreenY===null?0:a-this.pointerScreenY,s=this.pointerScreenX===null?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),s<0?this.everMovedLeft=!0:s>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(GB()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,r){let{scrollCache:n}=e,{edgeThreshold:a}=this,i=a-e.distance,s=i*i/(a*a)*this.maxVelocity*r,l=1;switch(e.name){case"left":l=-1;case"right":n.setScrollLeft(n.getScrollLeft()+s*l);break;case"top":l=-1;case"bottom":n.setScrollTop(n.getScrollTop()+s*l);break}}computeBestEdge(e,r){let{edgeThreshold:n}=this,a=null,i=this.scrollCaches||[];for(let s of i){let l=s.clientRect,c=e-l.left,u=l.right-e,d=r-l.top,f=l.bottom-r;c>=0&&u>=0&&d>=0&&f>=0&&(d<=n&&this.everMovedUp&&s.canScrollUp()&&(!a||a.distance>d)&&(a={scrollCache:s,name:"top",distance:d}),f<=n&&this.everMovedDown&&s.canScrollDown()&&(!a||a.distance>f)&&(a={scrollCache:s,name:"bottom",distance:f}),c<=n&&this.everMovedLeft&&s.canScrollLeft()&&(!a||a.distance>c)&&(a={scrollCache:s,name:"left",distance:c}),u<=n&&this.everMovedRight&&s.canScrollRight()&&(!a||a.distance>u)&&(a={scrollCache:s,name:"right",distance:u}))}return a}buildCaches(e){return this.queryScrollEls(e).map(r=>r===window?new F3e(!1):new Xee(r,!1))}queryScrollEls(e){let r=[];for(let n of this.scrollQuery)typeof n=="object"?r.push(n):r.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return r}}class o2 extends YPe{constructor(e,r){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,j4e(document.body),A4e(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let i=this.minDistance,s,{deltaX:l,deltaY:c}=a;s=l*l+c*c,s>=i*i&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,N4e(document.body),E4e(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new Gee(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),r&&(n.selector=r),this.mirror=new L3e,this.autoScroller=new $3e}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class B3e{constructor(e){this.el=e,this.origRect=GM(e),this.scrollCaches=yee(e).map(r=>new Xee(r,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let r of this.scrollCaches)e+=r.origScrollLeft-r.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let r of this.scrollCaches)e+=r.origScrollTop-r.getScrollTop();return e}isWithinClipping(e,r){let n={left:e,top:r};for(let a of this.scrollCaches)if(!U3e(a.getEventTarget())&&!DPe(n,a.clientRect))return!1;return!0}}function U3e(t){let e=t.tagName;return e==="HTML"||e==="BODY"}class UE{constructor(e,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):a.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=r,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new $E}processFirstCoord(e){let r={left:e.pageX,top:e.pageY},n=r,a=e.subjectEl,i;a instanceof HTMLElement&&(i=GM(a),n=OPe(n,i));let s=this.initialHit=this.queryHitForOffset(n.left,n.top);if(s){if(this.useSubjectCenter&&i){let l=pee(i,s.rect);l&&(n=IPe(l))}this.coordAdjust=MPe(n,r)}else this.coordAdjust={left:0,top:0}}handleMove(e,r){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(r||!zE(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=lg(this.droppableStore,e=>(e.component.prepareHits(),new B3e(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let r in e)e[r].destroy();this.offsetTrackers={}}queryHitForOffset(e,r){let{droppableStore:n,offsetTrackers:a}=this,i=null;for(let s in n){let l=n[s].component,c=a[s];if(c&&c.isWithinClipping(e,r)){let u=c.computeLeft(),d=c.computeTop(),f=e-u,m=r-d,{origRect:h}=c,v=h.right-h.left,g=h.bottom-h.top;if(f>=0&&f<v&&m>=0&&m<g){let p=l.queryHit(f,m,v,g);p&&LE(p.dateProfile.activeRange,p.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(f+u-window.scrollX,m+d-window.scrollY)))&&(!i||p.layer>i.layer)&&(p.componentId=s,p.context=l.context,p.rect.left+=u,p.rect.right+=u,p.rect.top+=d,p.rect.bottom+=d,i=p)}}}return i}}function zE(t,e){return!t&&!e?!0:!!t!=!!e?!1:wPe(t.dateSpan,e.dateSpan)}function Zee(t,e){let r={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(r,n(t,e));return Object.assign(r,z3e(t,e.dateEnv)),r}function z3e(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}class V3e extends Ty{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:a}=this,i=n.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=n=>{let{component:a}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:s,finalHit:l}=this.hitDragging;if(s&&l&&zE(s,l)){let{context:c}=a,u=Object.assign(Object.assign({},Zee(s.dateSpan,c)),{dayEl:s.dayEl,jsEvent:n.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",u)}}},this.dragging=new o2(e.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new UE(this.dragging,WM(e));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class H3e extends Ty{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=s=>{let{component:l,dragging:c}=this,{options:u}=l.context,d=u.selectable&&l.isValidDateDownEl(s.origEvent.target);c.setIgnoreMove(!d),c.delay=s.isTouch?W3e(l):null},this.handleDragStart=s=>{this.component.context.calendarApi.unselect(s)},this.handleHitUpdate=(s,l)=>{let{context:c}=this.component,u=null,d=!1;if(s){let f=this.hitDragging.initialHit;s.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,s)||(u=q3e(f,s,c.pluginHooks.dateSelectionTransformers)),(!u||!aDe(u,s.dateProfile,c))&&(d=!0,u=null)}u?c.dispatch({type:"SELECT_DATES",selection:u}):l||c.dispatch({type:"UNSELECT_DATES"}),d?kM():PM(),l||(this.dragSelection=u)},this.handlePointerUp=s=>{this.dragSelection&&(oee(this.dragSelection,s,this.component.context),this.dragSelection=null)};let{component:r}=e,{options:n}=r.context,a=this.dragging=new o2(e.el);a.touchScrollAllowed=!1,a.minDistance=n.selectMinDistance||0,a.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new UE(this.dragging,WM(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function W3e(t){let{options:e}=t.context,r=e.selectLongPressDelay;return r==null&&(r=e.longPressDelay),r}function q3e(t,e,r){let n=t.dateSpan,a=e.dateSpan,i=[n.range.start,n.range.end,a.range.start,a.range.end];i.sort(D4e);let s={};for(let l of r){let c=l(t,e);if(c===!1)return null;c&&Object.assign(s,c)}return s.range={start:i[0],end:i[3]},s.allDay=n.allDay,s}class l2 extends Ty{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let l=s.origEvent.target,{component:c,dragging:u}=this,{mirror:d}=u,{options:f}=c.context,m=c.context;this.subjectEl=s.subjectEl;let h=this.subjectSeg=Mv(s.subjectEl),g=(this.eventRange=h.eventRange).instance.instanceId;this.relevantEvents=UM(m.getCurrentData().eventStore,g),u.minDistance=s.isTouch?0:f.eventDragMinDistance,u.delay=s.isTouch&&g!==c.props.eventSelection?Y3e(c):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=Os(l,".fc"),d.revertDuration=f.dragRevertDuration;let p=c.isValidSegDownEl(l)&&!Os(l,".fc-event-resizer");u.setIgnoreMove(!p),this.isDragging=p&&s.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=s=>{let l=this.component.context,c=this.eventRange,u=c.instance.instanceId;s.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(s),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new xa(l,c.def,c.instance),jsEvent:s.origEvent,view:l.viewApi}))},this.handleHitUpdate=(s,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,m=null,h=null,v=!1,g={affectedEvents:c,mutatedEvents:Yc(),isEvent:!0};if(s){f=s.context;let p=f.options;d===f||p.editable&&p.droppable?(m=G3e(u,s,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),m&&(h=HM(c,f.getCurrentData().eventUiBases,m,f),g.mutatedEvents=h,See(g,s.dateProfile,f)||(v=!0,m=null,h=null,g.mutatedEvents=Yc()))):f=null}this.displayDrag(f,g),v?kM():PM(),l||(d===f&&zE(u,s)&&(m=null),this.dragging.setMirrorNeedsRevert(!m),this.dragging.setMirrorIsVisible(!s||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=m,this.mutatedRelevantEvents=h)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=s=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,m=this.eventRange.instance,h=new xa(l,f,m),v=this.relevantEvents,g=this.mutatedRelevantEvents,{finalHit:p}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:h,jsEvent:s.origEvent,view:c}),d){if(u===l){let y=new xa(l,g.defs[f.defId],m?g.instances[m.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:g});let x={oldEvent:h,event:y,relatedEvents:_p(g,l,m),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}},b={};for(let w of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(b,w(d,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},x),b),{el:s.subjectEl,delta:d.datesDelta,jsEvent:s.origEvent,view:c})),l.emitter.trigger("eventChange",x)}else if(u){let y={event:h,relatedEvents:_p(v,l,m),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},y),{draggedEl:s.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:v}),l.emitter.trigger("eventRemove",y);let x=g.defs[f.defId],b=g.instances[m.instanceId],w=new xa(u,x,b);u.dispatch({type:"MERGE_EVENTS",eventStore:g});let _={event:w,relatedEvents:_p(g,u,b),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:g})}};u.emitter.trigger("eventAdd",_),s.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:m.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},Zee(p.dateSpan,u)),{draggedEl:s.subjectEl,jsEvent:s.origEvent,view:p.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},_),{draggedEl:s.subjectEl,view:p.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:n}=r.context,a=this.dragging=new o2(e.el);a.pointer.selector=l2.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new UE(this.dragging,zP);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,r){let n=this.component.context,a=this.receivingContext;a&&a!==e&&(a===n?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:Yc(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let e=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e!==r&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}l2.SELECTOR=".fc-event-draggable, .fc-event-resizable";function G3e(t,e,r,n){let a=t.dateSpan,i=e.dateSpan,s=a.range.start,l=i.range.start,c={};a.allDay!==i.allDay&&(c.allDay=i.allDay,c.hasEnd=e.context.options.allDayMaintainDuration,i.allDay?s=ya(r):s=r);let u=N0(s,l,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(c.allDay=!1);let d={datesDelta:u,standardProps:c};for(let f of n)f(d,t,e);return d}function Y3e(t){let{options:e}=t.context,r=e.eventLongPressDelay;return r==null&&(r=e.longPressDelay),r}class K3e extends Ty{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:s}=this,l=this.querySegEl(i),c=Mv(l),u=this.eventRange=c.eventRange;this.dragging.minDistance=s.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=i=>{let{context:s}=this.component,l=this.eventRange;this.relevantEvents=UM(s.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(i);this.draggingSegEl=c,this.draggingSeg=Mv(c),s.calendarApi.unselect(),s.emitter.trigger("eventResizeStart",{el:c,event:new xa(s,l.def,l.instance),jsEvent:i.origEvent,view:s.viewApi})},this.handleHitUpdate=(i,s,l)=>{let{context:c}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,m=null,h=null,v=!1,g={affectedEvents:u,mutatedEvents:Yc(),isEvent:!0};i&&(i.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,i)||(m=X3e(d,i,l.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),m&&(h=HM(u,c.getCurrentData().eventUiBases,m,c),g.mutatedEvents=h,See(g,i.dateProfile,c)||(v=!0,m=null,h=null,g.mutatedEvents=null)),h?c.dispatch({type:"SET_EVENT_RESIZE",state:g}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),v?kM():PM(),s||(m&&zE(d,i)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=h)},this.handleDragEnd=i=>{let{context:s}=this.component,l=this.eventRange.def,c=this.eventRange.instance,u=new xa(s,l,c),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(s.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:i.origEvent,view:s.viewApi}),this.validMutation){let m=new xa(s,f.defs[l.defId],c?f.instances[c.instanceId]:null);s.dispatch({type:"MERGE_EVENTS",eventStore:f});let h={oldEvent:u,event:m,relatedEvents:_p(f,s,c),revert(){s.dispatch({type:"MERGE_EVENTS",eventStore:d})}};s.emitter.trigger("eventResize",Object.assign(Object.assign({},h),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||_n(0),endDelta:this.validMutation.endDelta||_n(0),jsEvent:i.origEvent,view:s.viewApi})),s.emitter.trigger("eventChange",h)}else s.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=e,n=this.dragging=new o2(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.context.options.dragScroll;let a=this.hitDragging=new UE(this.dragging,WM(e));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return Os(e.subjectEl,".fc-event")}}function X3e(t,e,r,n){let a=t.context.dateEnv,i=t.dateSpan.range.start,s=e.dateSpan.range.start,l=N0(i,s,a,t.largeUnit);if(r){if(a.add(n.start,l)<n.end)return{startDelta:l}}else if(a.add(n.end,l)>n.start)return{endDelta:l};return null}class Z3e{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let a=this.context.options.unselectCancel,i=BJ(n.origEvent);this.matchesCancel=!!Os(i,a),this.matchesEvent=!!Os(i,l2.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:a}=this,{documentPointer:i}=this,s=a.getCurrentData();if(!i.wasTouchScroll){if(s.dateSelection&&!this.isRecentPointerDateSelect){let l=a.options.unselectAuto;l&&(!l||!this.matchesCancel)&&a.calendarApi.unselect(n)}s.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new Gee(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const Q3e={fixedMirrorParent:Ze},J3e={dateClick:Ze,eventDragStart:Ze,eventDragStop:Ze,eventDrop:Ze,eventResizeStart:Ze,eventResizeStop:Ze,eventResize:Ze,drop:Ze,eventReceive:Ze,eventLeave:Ze};KM.dataAttrPrefix="";var eIe=lm({name:"@fullcalendar/interaction",componentInteractions:[V3e,H3e,l2,K3e],calendarInteractions:[Z3e],elementDraggingImpl:o2,optionRefiners:Q3e,listenerRefiners:J3e}),tIe={code:"pt-br",buttonText:{prev:"Anterior",next:"Prximo",prevYear:"Ano anterior",nextYear:"Prximo ano",year:"Ano",today:"Hoje",month:"Ms",week:"Semana",day:"Dia",list:"Lista"},buttonHints:{prev:"$0 Anterior",next:"Prximo $0",today(t){return t==="Dia"?"Hoje":(t==="Semana"?"Esta":"Este")+" "+t.toLocaleLowerCase()}},viewHint(t){return"Visualizar "+(t==="Semana"?"a":"o")+" "+t.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"dia inteiro",moreLinkText(t){return"mais +"+t},moreLinkHint(t){return`Mostrar mais ${t} eventos`},noEventsText:"No h eventos para mostrar",navLinkHint:"Ir para $0",closeHint:"Fechar",timeHint:"A hora",eventHint:"Evento"};const t4={aguardando_atendimento:{bg:"#60a5fa",border:"#3b82f6",text:"#ffffff"},atendimento_iniciado:{bg:"#fbbf24",border:"#f59e0b",text:"#000000"},atendimento_finalizado:{bg:"#34d399",border:"#10b981",text:"#ffffff"},agendamento_cancelado:{bg:"#f87171",border:"#ef4444",text:"#ffffff"},scheduled:{bg:"#60a5fa",border:"#3b82f6",text:"#ffffff"},completed:{bg:"#34d399",border:"#10b981",text:"#ffffff"},canceled:{bg:"#f87171",border:"#ef4444",text:"#ffffff"}},rIe=t=>{switch(t){case"aguardando_atendimento":case"scheduled":return"Aguardando Atendimento";case"atendimento_iniciado":return"Em Atendimento";case"atendimento_finalizado":case"completed":return"Finalizado";case"agendamento_cancelado":case"canceled":return"Cancelado";default:return t}};function nIe(){const[t,e]=N.useState([]),{appointments:r,isLoading:n,fetchAppointments:a}=sm();return N.useEffect(()=>{if(r){const i=r.map(s=>{var l,c,u;return{id:s.id,title:s.serviceName,start:s.appointmentDatetime||`${s.appointmentDate}T${s.appointmentTime}`,backgroundColor:((l=t4[s.status])==null?void 0:l.bg)||"#6b7280",borderColor:((c=t4[s.status])==null?void 0:c.border)||"#4b5563",textColor:((u=t4[s.status])==null?void 0:u.text)||"#ffffff",extendedProps:{status:rIe(s.status),cliente:s.clientName,telefone:s.clientPhone,servico:s.serviceName}}});e(i)}},[r]),{events:t,isLoading:n,fetchAppointments:a}}function aIe(){var f;const t=Ki(),e=nd(),{events:r,isLoading:n,fetchAppointments:a}=nIe(),[i,s]=N.useState(null);W.useEffect(()=>{a()},[]);const l=m=>{t("/agendamentos",{state:{tab:"list",appointmentId:m}})},c=()=>{i&&i.prev()},u=()=>{i&&i.next()};if(n)return o.jsx(SZ,{text:"Carregando calendrio..."});const d=({title:m})=>o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(je,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:c,children:o.jsx(BA,{className:"h-4 w-4"})}),o.jsx("h3",{className:"text-sm font-medium truncate px-2",children:m}),o.jsx(je,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:u,children:o.jsx(hy,{className:"h-4 w-4"})})]});return o.jsx(ot,{className:"z-10 relative",children:o.jsx(lt,{className:"p-2 sm:p-4 md:p-6 max-h-[90vh] sm:max-h-[75vh] md:max-h-[200vh] overflow-auto",children:o.jsxs(pj,{children:[e&&o.jsx(d,{title:((f=i==null?void 0:i.view)==null?void 0:f.title)||""}),o.jsx(Fee,{ref:m=>{m&&s(m.getApi())},plugins:[D3e,eIe],initialView:"dayGridMonth",locale:tIe,events:r,height:e?450:650,contentHeight:e?450:650,aspectRatio:e?.7:1.35,eventContent:m=>o.jsxs(Ck,{children:[o.jsx(Tk,{asChild:!0,children:o.jsxs("div",{className:"cursor-pointer p-1 w-full h-full",style:{backgroundColor:m.event.backgroundColor,borderColor:m.event.borderColor,color:m.event.textColor,borderRadius:"4px",border:`1px solid ${m.event.borderColor}`},onClick:h=>{h.preventDefault(),h.stopPropagation(),l(m.event.id)},children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium truncate",children:m.event.title}),o.jsx("div",{className:"text-xs",style:{opacity:.9},children:new Date(m.event.start).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})}),o.jsx(gj,{side:"top",sideOffset:5,className:"z-50",children:o.jsxs("div",{className:"p-2 space-y-1",children:[o.jsx("p",{className:"font-medium",children:m.event.title}),o.jsxs("p",{children:[o.jsx("strong",{children:"Cliente:"})," ",m.event.extendedProps.cliente]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Telefone:"})," ",m.event.extendedProps.telefone]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Status:"})," ",m.event.extendedProps.status]})]})})]}),headerToolbar:e?!1:{left:"prev,next",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay"},buttonText:{today:"Hoje",month:"Ms",week:"Semana",day:"Dia"},dayHeaderFormat:{weekday:e?"narrow":"short"},firstDay:0,weekends:!0,fixedWeekCount:!1,showNonCurrentDates:!0,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1,hour12:!1},viewClassNames:"text-sm",dayHeaderClassNames:e?"text-xs py-1":"",eventClassNames:"rounded-md shadow-sm",dayCellClassNames:e?"p-1":"",slotLabelClassNames:e?"text-xs":""})]})})})}class fg extends Error{}class iIe extends fg{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class sIe extends fg{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class oIe extends fg{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class A0 extends fg{}class Qee extends fg{constructor(e){super(`Invalid unit ${e}`)}}class Ps extends fg{}class Lf extends fg{constructor(){super("Zone is an abstract class")}}const Ut="numeric",iu="short",ml="long",Qj={year:Ut,month:Ut,day:Ut},Jee={year:Ut,month:iu,day:Ut},lIe={year:Ut,month:iu,day:Ut,weekday:iu},ete={year:Ut,month:ml,day:Ut},tte={year:Ut,month:ml,day:Ut,weekday:ml},rte={hour:Ut,minute:Ut},nte={hour:Ut,minute:Ut,second:Ut},ate={hour:Ut,minute:Ut,second:Ut,timeZoneName:iu},ite={hour:Ut,minute:Ut,second:Ut,timeZoneName:ml},ste={hour:Ut,minute:Ut,hourCycle:"h23"},ote={hour:Ut,minute:Ut,second:Ut,hourCycle:"h23"},lte={hour:Ut,minute:Ut,second:Ut,hourCycle:"h23",timeZoneName:iu},cte={hour:Ut,minute:Ut,second:Ut,hourCycle:"h23",timeZoneName:ml},ute={year:Ut,month:Ut,day:Ut,hour:Ut,minute:Ut},dte={year:Ut,month:Ut,day:Ut,hour:Ut,minute:Ut,second:Ut},fte={year:Ut,month:iu,day:Ut,hour:Ut,minute:Ut},hte={year:Ut,month:iu,day:Ut,hour:Ut,minute:Ut,second:Ut},cIe={year:Ut,month:iu,day:Ut,weekday:iu,hour:Ut,minute:Ut},mte={year:Ut,month:ml,day:Ut,hour:Ut,minute:Ut,timeZoneName:iu},pte={year:Ut,month:ml,day:Ut,hour:Ut,minute:Ut,second:Ut,timeZoneName:iu},gte={year:Ut,month:ml,day:Ut,weekday:ml,hour:Ut,minute:Ut,timeZoneName:ml},vte={year:Ut,month:ml,day:Ut,weekday:ml,hour:Ut,minute:Ut,second:Ut,timeZoneName:ml};class c2{get type(){throw new Lf}get name(){throw new Lf}get ianaName(){return this.name}get isUniversal(){throw new Lf}offsetName(e,r){throw new Lf}formatOffset(e,r){throw new Lf}offset(e){throw new Lf}equals(e){throw new Lf}get isValid(){throw new Lf}}let r4=null;class VE extends c2{static get instance(){return r4===null&&(r4=new VE),r4}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Cte(e,r,n)}formatOffset(e,r){return P1(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const GP=new Map;function uIe(t){let e=GP.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),GP.set(t,e)),e}const dIe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function fIe(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,a,i,s,l,c,u,d]=n;return[s,a,i,l,c,u,d]}function hIe(t,e){const r=t.formatToParts(e),n=[];for(let a=0;a<r.length;a++){const{type:i,value:s}=r[a],l=dIe[i];i==="era"?n[l]=s:Pr(l)||(n[l]=parseInt(s,10))}return n}const n4=new Map;class nf extends c2{static create(e){let r=n4.get(e);return r===void 0&&n4.set(e,r=new nf(e)),r}static resetCache(){n4.clear(),GP.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=nf.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return Cte(e,r,n,this.name)}formatOffset(e,r){return P1(this.offset(e),r)}offset(e){if(!this.valid)return NaN;const r=new Date(e);if(isNaN(r))return NaN;const n=uIe(this.name);let[a,i,s,l,c,u,d]=n.formatToParts?hIe(n,r):fIe(n,r);l==="BC"&&(a=-Math.abs(a)+1);const m=WE({year:a,month:i,day:s,hour:c===24?0:c,minute:u,second:d,millisecond:0});let h=+r;const v=h%1e3;return h-=v>=0?v:1e3+v,(m-h)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let YB={};function mIe(t,e={}){const r=JSON.stringify([t,e]);let n=YB[r];return n||(n=new Intl.ListFormat(t,e),YB[r]=n),n}const YP=new Map;function KP(t,e={}){const r=JSON.stringify([t,e]);let n=YP.get(r);return n===void 0&&(n=new Intl.DateTimeFormat(t,e),YP.set(r,n)),n}const XP=new Map;function pIe(t,e={}){const r=JSON.stringify([t,e]);let n=XP.get(r);return n===void 0&&(n=new Intl.NumberFormat(t,e),XP.set(r,n)),n}const ZP=new Map;function gIe(t,e={}){const{base:r,...n}=e,a=JSON.stringify([t,n]);let i=ZP.get(a);return i===void 0&&(i=new Intl.RelativeTimeFormat(t,e),ZP.set(a,i)),i}let o1=null;function vIe(){return o1||(o1=new Intl.DateTimeFormat().resolvedOptions().locale,o1)}const QP=new Map;function yte(t){let e=QP.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),QP.set(t,e)),e}const JP=new Map;function yIe(t){let e=JP.get(t);if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in e||(e={...xte,...e}),JP.set(t,e)}return e}function xIe(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,a;try{n=KP(t).resolvedOptions(),a=t}catch{const c=t.substring(0,r);n=KP(c).resolvedOptions(),a=c}const{numberingSystem:i,calendar:s}=n;return[a,i,s]}}function bIe(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function wIe(t){const e=[];for(let r=1;r<=12;r++){const n=yr.utc(2009,r,1);e.push(t(n))}return e}function SIe(t){const e=[];for(let r=1;r<=7;r++){const n=yr.utc(2016,11,13+r);e.push(t(n))}return e}function JS(t,e,r,n){const a=t.listingMode();return a==="error"?null:a==="en"?r(e):n(e)}function _Ie(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||yte(t.locale).numberingSystem==="latn"}class jIe{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:a,floor:i,...s}=n;if(!r||Object.keys(s).length>0){const l={useGrouping:!1,...n};n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=pIe(e,l)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):rR(e,3);return xi(r,this.padTo)}}}class NIe{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let a;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const s=-1*(e.offset/60),l=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;e.offset!==0&&nf.create(l).valid?(a=l,this.dt=e):(a="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,a=e.zone.name):(a="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||a,this.dtf=KP(r,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class AIe{constructor(e,r,n){this.opts={style:"long",...n},!r&&Ate()&&(this.rtf=gIe(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):YIe(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const xte={firstDay:1,minimalDays:4,weekend:[6,7]};class Pn{static fromOpts(e){return Pn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,a,i=!1){const s=e||$a.defaultLocale,l=s||(i?"en-US":vIe()),c=r||$a.defaultNumberingSystem,u=n||$a.defaultOutputCalendar,d=tD(a)||$a.defaultWeekSettings;return new Pn(l,c,u,d,s)}static resetCache(){o1=null,YP.clear(),XP.clear(),ZP.clear(),QP.clear(),JP.clear()}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:a}={}){return Pn.create(e,r,n,a)}constructor(e,r,n,a,i){const[s,l,c]=xIe(e);this.locale=s,this.numberingSystem=r||l||null,this.outputCalendar=n||c||null,this.weekSettings=a,this.intl=bIe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=_Ie(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Pn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,tD(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return JS(this,e,Pte,()=>{const n=r?{month:e,day:"numeric"}:{month:e},a=r?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=wIe(i=>this.extract(i,n,"month"))),this.monthsCache[a][e]})}weekdays(e,r=!1){return JS(this,e,Ite,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=r?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=SIe(i=>this.extract(i,n,"weekday"))),this.weekdaysCache[a][e]})}meridiems(){return JS(this,void 0,()=>Mte,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[yr.utc(2016,11,13,9),yr.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return JS(this,e,Rte,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[yr.utc(-40,1,1),yr.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const a=this.dtFormatter(e,r),i=a.formatToParts(),s=i.find(l=>l.type.toLowerCase()===n);return s?s.value:null}numberFormatter(e={}){return new jIe(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new NIe(e,this.intl,r)}relFormatter(e={}){return new AIe(this.intl,this.isEnglish(),e)}listFormatter(e={}){return mIe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||yte(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ete()?yIe(this.locale):xte}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let a4=null;class co extends c2{static get utcInstance(){return a4===null&&(a4=new co(0)),a4}static instance(e){return e===0?co.utcInstance:new co(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new co(qE(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${P1(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${P1(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return P1(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class EIe extends c2{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Qf(t,e){if(Pr(t)||t===null)return e;if(t instanceof c2)return t;if(OIe(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?VE.instance:r==="utc"||r==="gmt"?co.utcInstance:co.parseSpecifier(r)||nf.create(t)}else return Ah(t)?co.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new EIe(t)}const QM={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},KB={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},CIe=QM.hanidec.replace(/[\[|\]]/g,"").split("");function TIe(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(QM.hanidec)!==-1)e+=CIe.indexOf(t[r]);else for(const a in KB){const[i,s]=KB[a];n>=i&&n<=s&&(e+=n-i)}}return parseInt(e,10)}else return e}const eD=new Map;function kIe(){eD.clear()}function vc({numberingSystem:t},e=""){const r=t||"latn";let n=eD.get(r);n===void 0&&(n=new Map,eD.set(r,n));let a=n.get(e);return a===void 0&&(a=new RegExp(`${QM[r]}${e}`),n.set(e,a)),a}let XB=()=>Date.now(),ZB="system",QB=null,JB=null,e7=null,t7=60,r7,n7=null,$a=class{static get now(){return XB}static set now(e){XB=e}static set defaultZone(e){ZB=e}static get defaultZone(){return Qf(ZB,VE.instance)}static get defaultLocale(){return QB}static set defaultLocale(e){QB=e}static get defaultNumberingSystem(){return JB}static set defaultNumberingSystem(e){JB=e}static get defaultOutputCalendar(){return e7}static set defaultOutputCalendar(e){e7=e}static get defaultWeekSettings(){return n7}static set defaultWeekSettings(e){n7=tD(e)}static get twoDigitCutoffYear(){return t7}static set twoDigitCutoffYear(e){t7=e%100}static get throwOnInvalid(){return r7}static set throwOnInvalid(e){r7=e}static resetCaches(){Pn.resetCache(),nf.resetCache(),yr.resetCache(),kIe()}};class Bc{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const bte=[0,31,59,90,120,151,181,212,243,273,304,334],wte=[0,31,60,91,121,152,182,213,244,274,305,335];function Kl(t,e){return new Bc("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function JM(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const a=n.getUTCDay();return a===0?7:a}function Ste(t,e,r){return r+(u2(t)?wte:bte)[e-1]}function _te(t,e){const r=u2(t)?wte:bte,n=r.findIndex(i=>i<e),a=e-r[n];return{month:n+1,day:a}}function eR(t,e){return(t-e+7)%7+1}function Jj(t,e=4,r=1){const{year:n,month:a,day:i}=t,s=Ste(n,a,i),l=eR(JM(n,a,i),r);let c=Math.floor((s-l+14-e)/7),u;return c<1?(u=n-1,c=Sb(u,e,r)):c>Sb(n,e,r)?(u=n+1,c=1):u=n,{weekYear:u,weekNumber:c,weekday:l,...GE(t)}}function a7(t,e=4,r=1){const{weekYear:n,weekNumber:a,weekday:i}=t,s=eR(JM(n,1,e),r),l=V0(n);let c=a*7+i-s-7+e,u;c<1?(u=n-1,c+=V0(u)):c>l?(u=n+1,c-=V0(n)):u=n;const{month:d,day:f}=_te(u,c);return{year:u,month:d,day:f,...GE(t)}}function i4(t){const{year:e,month:r,day:n}=t,a=Ste(e,r,n);return{year:e,ordinal:a,...GE(t)}}function i7(t){const{year:e,ordinal:r}=t,{month:n,day:a}=_te(e,r);return{year:e,month:n,day:a,...GE(t)}}function s7(t,e){if(!Pr(t.localWeekday)||!Pr(t.localWeekNumber)||!Pr(t.localWeekYear)){if(!Pr(t.weekday)||!Pr(t.weekNumber)||!Pr(t.weekYear))throw new A0("Cannot mix locale-based week fields with ISO-based week fields");return Pr(t.localWeekday)||(t.weekday=t.localWeekday),Pr(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Pr(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function PIe(t,e=4,r=1){const n=HE(t.weekYear),a=Xl(t.weekNumber,1,Sb(t.weekYear,e,r)),i=Xl(t.weekday,1,7);return n?a?i?!1:Kl("weekday",t.weekday):Kl("week",t.weekNumber):Kl("weekYear",t.weekYear)}function DIe(t){const e=HE(t.year),r=Xl(t.ordinal,1,V0(t.year));return e?r?!1:Kl("ordinal",t.ordinal):Kl("year",t.year)}function jte(t){const e=HE(t.year),r=Xl(t.month,1,12),n=Xl(t.day,1,eN(t.year,t.month));return e?r?n?!1:Kl("day",t.day):Kl("month",t.month):Kl("year",t.year)}function Nte(t){const{hour:e,minute:r,second:n,millisecond:a}=t,i=Xl(e,0,23)||e===24&&r===0&&n===0&&a===0,s=Xl(r,0,59),l=Xl(n,0,59),c=Xl(a,0,999);return i?s?l?c?!1:Kl("millisecond",a):Kl("second",n):Kl("minute",r):Kl("hour",e)}function Pr(t){return typeof t>"u"}function Ah(t){return typeof t=="number"}function HE(t){return typeof t=="number"&&t%1===0}function OIe(t){return typeof t=="string"}function IIe(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ate(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Ete(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function MIe(t){return Array.isArray(t)?t:[t]}function o7(t,e,r){if(t.length!==0)return t.reduce((n,a)=>{const i=[e(a),a];return n&&r(n[0],i[0])===n[0]?n:i},null)[1]}function RIe(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Rv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tD(t){if(t==null)return null;if(typeof t!="object")throw new Ps("Week settings must be an object");if(!Xl(t.firstDay,1,7)||!Xl(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Xl(e,1,7)))throw new Ps("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Xl(t,e,r){return HE(t)&&t>=e&&t<=r}function LIe(t,e){return t-e*Math.floor(t/e)}function xi(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function Kf(t){if(!(Pr(t)||t===null||t===""))return parseInt(t,10)}function Dm(t){if(!(Pr(t)||t===null||t===""))return parseFloat(t)}function tR(t){if(!(Pr(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function rR(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function u2(t){return t%4===0&&(t%100!==0||t%400===0)}function V0(t){return u2(t)?366:365}function eN(t,e){const r=LIe(e-1,12)+1,n=t+(e-r)/12;return r===2?u2(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function WE(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function l7(t,e,r){return-eR(JM(t,1,e),r)+e-1}function Sb(t,e=4,r=1){const n=l7(t,e,r),a=l7(t+1,e,r);return(V0(t)-n+a)/7}function rD(t){return t>99?t:t>$a.twoDigitCutoffYear?1900+t:2e3+t}function Cte(t,e,r,n=null){const a=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(i.timeZone=n);const s={timeZoneName:e,...i},l=new Intl.DateTimeFormat(r,s).formatToParts(a).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function qE(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,a=r<0||Object.is(r,-0)?-n:n;return r*60+a}function Tte(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Ps(`Invalid unit value ${t}`);return e}function tN(t,e){const r={};for(const n in t)if(Rv(t,n)){const a=t[n];if(a==null)continue;r[e(n)]=Tte(a)}return r}function P1(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),a=t>=0?"+":"-";switch(e){case"short":return`${a}${xi(r,2)}:${xi(n,2)}`;case"narrow":return`${a}${r}${n>0?`:${n}`:""}`;case"techie":return`${a}${xi(r,2)}${xi(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function GE(t){return RIe(t,["hour","minute","second","millisecond"])}const FIe=["January","February","March","April","May","June","July","August","September","October","November","December"],kte=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],$Ie=["J","F","M","A","M","J","J","A","S","O","N","D"];function Pte(t){switch(t){case"narrow":return[...$Ie];case"short":return[...kte];case"long":return[...FIe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Dte=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ote=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],BIe=["M","T","W","T","F","S","S"];function Ite(t){switch(t){case"narrow":return[...BIe];case"short":return[...Ote];case"long":return[...Dte];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Mte=["AM","PM"],UIe=["Before Christ","Anno Domini"],zIe=["BC","AD"],VIe=["B","A"];function Rte(t){switch(t){case"narrow":return[...VIe];case"short":return[...zIe];case"long":return[...UIe];default:return null}}function HIe(t){return Mte[t.hour<12?0:1]}function WIe(t,e){return Ite(e)[t.weekday-1]}function qIe(t,e){return Pte(e)[t.month-1]}function GIe(t,e){return Rte(e)[t.year<0?0:1]}function YIe(t,e,r="always",n=!1){const a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&i){const f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${a[t][0]}`;case-1:return f?"yesterday":`last ${a[t][0]}`;case 0:return f?"today":`this ${a[t][0]}`}}const s=Object.is(e,-0)||e<0,l=Math.abs(e),c=l===1,u=a[t],d=n?c?u[1]:u[2]||u[1]:c?a[t][0]:t;return s?`${l} ${d} ago`:`in ${l} ${d}`}function c7(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const KIe={D:Qj,DD:Jee,DDD:ete,DDDD:tte,t:rte,tt:nte,ttt:ate,tttt:ite,T:ste,TT:ote,TTT:lte,TTTT:cte,f:ute,ff:fte,fff:mte,ffff:gte,F:dte,FF:hte,FFF:pte,FFFF:vte};class Is{static create(e,r={}){return new Is(e,r)}static parseFormat(e){let r=null,n="",a=!1;const i=[];for(let s=0;s<e.length;s++){const l=e.charAt(s);l==="'"?(n.length>0&&i.push({literal:a||/^\s+$/.test(n),val:n}),r=null,n="",a=!a):a||l===r?n+=l:(n.length>0&&i.push({literal:/^\s+$/.test(n),val:n}),n=l,r=l)}return n.length>0&&i.push({literal:a||/^\s+$/.test(n),val:n}),i}static macroTokenToFormatOpts(e){return KIe[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return xi(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(h,v)=>this.loc.extract(e,h,v),s=h=>e.isOffsetFixed&&e.offset===0&&h.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,h.format):"",l=()=>n?HIe(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(h,v)=>n?qIe(e,h):i(v?{month:h}:{month:h,day:"numeric"},"month"),u=(h,v)=>n?WIe(e,h):i(v?{weekday:h}:{weekday:h,month:"long",day:"numeric"},"weekday"),d=h=>{const v=Is.macroTokenToFormatOpts(h);return v?this.formatWithSystemDefault(e,v):h},f=h=>n?GIe(e,h):i({era:h},"era"),m=h=>{switch(h){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return a?i({day:"numeric"},"day"):this.num(e.day);case"dd":return a?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return a?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return a?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return a?i({month:"numeric"},"month"):this.num(e.month);case"MM":return a?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return a?i({year:"numeric"},"year"):this.num(e.year);case"yy":return a?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return a?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return a?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(h)}};return c7(Is.parseFormat(r),m)}formatDurationFromString(e,r){const n=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=c=>u=>{const d=n(u);return d?this.num(c.get(d),u.length):u},i=Is.parseFormat(r),s=i.reduce((c,{literal:u,val:d})=>u?c:c.concat(d),[]),l=e.shiftTo(...s.map(n).filter(c=>c));return c7(i,a(l))}}const Lte=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ky(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Py(...t){return e=>t.reduce(([r,n,a],i)=>{const[s,l,c]=i(e,a);return[{...r,...s},l||n,c]},[{},null,1]).slice(0,2)}function Dy(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const a=r.exec(t);if(a)return n(a)}return[null,null]}function Fte(...t){return(e,r)=>{const n={};let a;for(a=0;a<t.length;a++)n[t[a]]=Kf(e[r+a]);return[n,null,r+a]}}const $te=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,XIe=`(?:${$te.source}?(?:\\[(${Lte.source})\\])?)?`,nR=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Bte=RegExp(`${nR.source}${XIe}`),aR=RegExp(`(?:T${Bte.source})?`),ZIe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,QIe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,JIe=/(\d{4})-?(\d{3})/,eMe=Fte("weekYear","weekNumber","weekDay"),tMe=Fte("year","ordinal"),rMe=/(\d{4})-(\d\d)-(\d\d)/,Ute=RegExp(`${nR.source} ?(?:${$te.source}|(${Lte.source}))?`),nMe=RegExp(`(?: ${Ute.source})?`);function H0(t,e,r){const n=t[e];return Pr(n)?r:Kf(n)}function aMe(t,e){return[{year:H0(t,e),month:H0(t,e+1,1),day:H0(t,e+2,1)},null,e+3]}function Oy(t,e){return[{hours:H0(t,e,0),minutes:H0(t,e+1,0),seconds:H0(t,e+2,0),milliseconds:tR(t[e+3])},null,e+4]}function d2(t,e){const r=!t[e]&&!t[e+1],n=qE(t[e+1],t[e+2]),a=r?null:co.instance(n);return[{},a,e+3]}function f2(t,e){const r=t[e]?nf.create(t[e]):null;return[{},r,e+1]}const iMe=RegExp(`^T?${nR.source}$`),sMe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function oMe(t){const[e,r,n,a,i,s,l,c,u]=t,d=e[0]==="-",f=c&&c[0]==="-",m=(h,v=!1)=>h!==void 0&&(v||h&&d)?-h:h;return[{years:m(Dm(r)),months:m(Dm(n)),weeks:m(Dm(a)),days:m(Dm(i)),hours:m(Dm(s)),minutes:m(Dm(l)),seconds:m(Dm(c),c==="-0"),milliseconds:m(tR(u),f)}]}const lMe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function iR(t,e,r,n,a,i,s){const l={year:e.length===2?rD(Kf(e)):Kf(e),month:kte.indexOf(r)+1,day:Kf(n),hour:Kf(a),minute:Kf(i)};return s&&(l.second=Kf(s)),t&&(l.weekday=t.length>3?Dte.indexOf(t)+1:Ote.indexOf(t)+1),l}const cMe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function uMe(t){const[,e,r,n,a,i,s,l,c,u,d,f]=t,m=iR(e,a,n,r,i,s,l);let h;return c?h=lMe[c]:u?h=0:h=qE(d,f),[m,new co(h)]}function dMe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const fMe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,hMe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,mMe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function u7(t){const[,e,r,n,a,i,s,l]=t;return[iR(e,a,n,r,i,s,l),co.utcInstance]}function pMe(t){const[,e,r,n,a,i,s,l]=t;return[iR(e,l,r,n,a,i,s),co.utcInstance]}const gMe=ky(ZIe,aR),vMe=ky(QIe,aR),yMe=ky(JIe,aR),xMe=ky(Bte),zte=Py(aMe,Oy,d2,f2),bMe=Py(eMe,Oy,d2,f2),wMe=Py(tMe,Oy,d2,f2),SMe=Py(Oy,d2,f2);function _Me(t){return Dy(t,[gMe,zte],[vMe,bMe],[yMe,wMe],[xMe,SMe])}function jMe(t){return Dy(dMe(t),[cMe,uMe])}function NMe(t){return Dy(t,[fMe,u7],[hMe,u7],[mMe,pMe])}function AMe(t){return Dy(t,[sMe,oMe])}const EMe=Py(Oy);function CMe(t){return Dy(t,[iMe,EMe])}const TMe=ky(rMe,nMe),kMe=ky(Ute),PMe=Py(Oy,d2,f2);function DMe(t){return Dy(t,[TMe,zte],[kMe,PMe])}const d7="Invalid Duration",Vte={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},OMe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Vte},Il=146097/400,Qg=146097/4800,IMe={years:{quarters:4,months:12,weeks:Il/7,days:Il,hours:Il*24,minutes:Il*24*60,seconds:Il*24*60*60,milliseconds:Il*24*60*60*1e3},quarters:{months:3,weeks:Il/28,days:Il/4,hours:Il*24/4,minutes:Il*24*60/4,seconds:Il*24*60*60/4,milliseconds:Il*24*60*60*1e3/4},months:{weeks:Qg/7,days:Qg,hours:Qg*24,minutes:Qg*24*60,seconds:Qg*24*60*60,milliseconds:Qg*24*60*60*1e3},...Vte},op=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],MMe=op.slice(0).reverse();function Ff(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new hn(n)}function Hte(t,e){let r=e.milliseconds??0;for(const n of MMe.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function f7(t,e){const r=Hte(t,e)<0?-1:1;op.reduceRight((n,a)=>{if(Pr(e[a]))return n;if(n){const i=e[n]*r,s=t[a][n],l=Math.floor(i/s);e[a]+=l*r,e[n]-=l*s*r}return a},null),op.reduce((n,a)=>{if(Pr(e[a]))return n;if(n){const i=e[n]%1;e[n]-=i,e[a]+=i*t[n][a]}return a},null)}function RMe(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class hn{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?IMe:OMe;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Pn.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return hn.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Ps(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new hn({values:tN(e,hn.normalizeUnit),loc:Pn.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(Ah(e))return hn.fromMillis(e);if(hn.isDuration(e))return e;if(typeof e=="object")return hn.fromObject(e);throw new Ps(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=AMe(e);return n?hn.fromObject(n,r):hn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=CMe(e);return n?hn.fromObject(n,r):hn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Ps("need to specify a reason the Duration is invalid");const n=e instanceof Bc?e:new Bc(e,r);if($a.throwOnInvalid)throw new oIe(n);return new hn({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new Qee(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Is.create(this.loc,n).formatDurationFromString(this,e):d7}toHuman(e={}){if(!this.isValid)return d7;const r=op.map(n=>{const a=this.values[n];return Pr(a)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(a)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=rR(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},yr.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Hte(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=hn.fromDurationLike(e),n={};for(const a of op)(Rv(r.values,a)||Rv(this.values,a))&&(n[a]=r.get(a)+this.get(a));return Ff(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=hn.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=Tte(e(this.values[n],n));return Ff(this,{values:r},!0)}get(e){return this[hn.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...tN(e,hn.normalizeUnit)};return Ff(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:a}={}){const s={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:a,conversionAccuracy:n};return Ff(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return f7(this.matrix,e),Ff(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=RMe(this.normalize().shiftToAll().toObject());return Ff(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(s=>hn.normalizeUnit(s));const r={},n={},a=this.toObject();let i;for(const s of op)if(e.indexOf(s)>=0){i=s;let l=0;for(const u in n)l+=this.matrix[u][s]*n[u],n[u]=0;Ah(a[s])&&(l+=a[s]);const c=Math.trunc(l);r[s]=c,n[s]=(l*1e3-c*1e3)/1e3}else Ah(a[s])&&(n[s]=a[s]);for(const s in n)n[s]!==0&&(r[i]+=s===i?n[s]:n[s]/this.matrix[i][s]);return f7(this.matrix,r),Ff(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return Ff(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,a){return n===void 0||n===0?a===void 0||a===0:n===a}for(const n of op)if(!r(this.values[n],e.values[n]))return!1;return!0}}const Jg="Invalid Interval";function LMe(t,e){return!t||!t.isValid?Ra.invalid("missing or invalid start"):!e||!e.isValid?Ra.invalid("missing or invalid end"):e<t?Ra.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Ra{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Ps("need to specify a reason the Interval is invalid");const n=e instanceof Bc?e:new Bc(e,r);if($a.throwOnInvalid)throw new sIe(n);return new Ra({invalid:n})}static fromDateTimes(e,r){const n=Lx(e),a=Lx(r),i=LMe(n,a);return i??new Ra({start:n,end:a})}static after(e,r){const n=hn.fromDurationLike(r),a=Lx(e);return Ra.fromDateTimes(a,a.plus(n))}static before(e,r){const n=hn.fromDurationLike(r),a=Lx(e);return Ra.fromDateTimes(a.minus(n),a)}static fromISO(e,r){const[n,a]=(e||"").split("/",2);if(n&&a){let i,s;try{i=yr.fromISO(n,r),s=i.isValid}catch{s=!1}let l,c;try{l=yr.fromISO(a,r),c=l.isValid}catch{c=!1}if(s&&c)return Ra.fromDateTimes(i,l);if(s){const u=hn.fromISO(a,r);if(u.isValid)return Ra.after(i,u)}else if(c){const u=hn.fromISO(n,r);if(u.isValid)return Ra.before(l,u)}}return Ra.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let a;return r!=null&&r.useLocaleWeeks?a=this.end.reconfigure({locale:n.locale}):a=this.end,a=a.startOf(e,r),Math.floor(a.diff(n,e).get(e))+(a.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?Ra.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Lx).filter(s=>this.contains(s)).sort((s,l)=>s.toMillis()-l.toMillis()),n=[];let{s:a}=this,i=0;for(;a<this.e;){const s=r[i]||this.e,l=+s>+this.e?this.e:s;n.push(Ra.fromDateTimes(a,l)),a=l,i+=1}return n}splitBy(e){const r=hn.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,a=1,i;const s=[];for(;n<this.e;){const l=this.start.plus(r.mapUnits(c=>c*a));i=+l>+this.e?this.e:l,s.push(Ra.fromDateTimes(n,i)),n=i,a+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:Ra.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return Ra.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((a,i)=>a.s-i.s).reduce(([a,i],s)=>i?i.overlaps(s)||i.abutsStart(s)?[a,i.union(s)]:[a.concat([i]),s]:[a,s],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const a=[],i=e.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),s=Array.prototype.concat(...i),l=s.sort((c,u)=>c.time-u.time);for(const c of l)n+=c.type==="s"?1:-1,n===1?r=c.time:(r&&+r!=+c.time&&a.push(Ra.fromDateTimes(r,c.time)),r=null);return Ra.merge(a)}difference(...e){return Ra.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Jg}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Qj,r={}){return this.isValid?Is.create(this.s.loc.clone(r),e).formatInterval(this):Jg}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Jg}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Jg}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Jg}toFormat(e,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Jg}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):hn.invalid(this.invalidReason)}mapEndpoints(e){return Ra.fromDateTimes(e(this.s),e(this.e))}}class e_{static hasDST(e=$a.defaultZone){const r=yr.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return nf.isValidZone(e)}static normalizeZone(e){return Qf(e,$a.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Pn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Pn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Pn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null,outputCalendar:i="gregory"}={}){return(a||Pn.create(r,n,i)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null,outputCalendar:i="gregory"}={}){return(a||Pn.create(r,n,i)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null}={}){return(a||Pn.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:a=null}={}){return(a||Pn.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Pn.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Pn.create(r,null,"gregory").eras(e)}static features(){return{relative:Ate(),localeWeek:Ete()}}}function h7(t,e){const r=a=>a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(hn.fromMillis(n).as("days"))}function FMe(t,e,r){const n=[["years",(c,u)=>u.year-c.year],["quarters",(c,u)=>u.quarter-c.quarter+(u.year-c.year)*4],["months",(c,u)=>u.month-c.month+(u.year-c.year)*12],["weeks",(c,u)=>{const d=h7(c,u);return(d-d%7)/7}],["days",h7]],a={},i=t;let s,l;for(const[c,u]of n)r.indexOf(c)>=0&&(s=c,a[c]=u(t,e),l=i.plus(a),l>e?(a[c]--,t=i.plus(a),t>e&&(l=t,a[c]--,t=i.plus(a))):t=l);return[t,a,l,s]}function $Me(t,e,r,n){let[a,i,s,l]=FMe(t,e,r);const c=e-a,u=r.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);u.length===0&&(s<e&&(s=a.plus({[l]:1})),s!==a&&(i[l]=(i[l]||0)+c/(s-a)));const d=hn.fromObject(i,n);return u.length>0?hn.fromMillis(c,n).shiftTo(...u).plus(d):d}const BMe="missing Intl.DateTimeFormat.formatToParts support";function Sn(t,e=r=>r){return{regex:t,deser:([r])=>e(TIe(r))}}const UMe="",Wte=`[ ${UMe}]`,qte=new RegExp(Wte,"g");function zMe(t){return t.replace(/\./g,"\\.?").replace(qte,Wte)}function m7(t){return t.replace(/\./g,"").replace(qte," ").toLowerCase()}function yc(t,e){return t===null?null:{regex:RegExp(t.map(zMe).join("|")),deser:([r])=>t.findIndex(n=>m7(r)===m7(n))+e}}function p7(t,e){return{regex:t,deser:([,r,n])=>qE(r,n),groups:e}}function t_(t){return{regex:t,deser:([e])=>e}}function VMe(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function HMe(t,e){const r=vc(e),n=vc(e,"{2}"),a=vc(e,"{3}"),i=vc(e,"{4}"),s=vc(e,"{6}"),l=vc(e,"{1,2}"),c=vc(e,"{1,3}"),u=vc(e,"{1,6}"),d=vc(e,"{1,9}"),f=vc(e,"{2,4}"),m=vc(e,"{4,6}"),h=p=>({regex:RegExp(VMe(p.val)),deser:([y])=>y,literal:!0}),g=(p=>{if(t.literal)return h(p);switch(p.val){case"G":return yc(e.eras("short"),0);case"GG":return yc(e.eras("long"),0);case"y":return Sn(u);case"yy":return Sn(f,rD);case"yyyy":return Sn(i);case"yyyyy":return Sn(m);case"yyyyyy":return Sn(s);case"M":return Sn(l);case"MM":return Sn(n);case"MMM":return yc(e.months("short",!0),1);case"MMMM":return yc(e.months("long",!0),1);case"L":return Sn(l);case"LL":return Sn(n);case"LLL":return yc(e.months("short",!1),1);case"LLLL":return yc(e.months("long",!1),1);case"d":return Sn(l);case"dd":return Sn(n);case"o":return Sn(c);case"ooo":return Sn(a);case"HH":return Sn(n);case"H":return Sn(l);case"hh":return Sn(n);case"h":return Sn(l);case"mm":return Sn(n);case"m":return Sn(l);case"q":return Sn(l);case"qq":return Sn(n);case"s":return Sn(l);case"ss":return Sn(n);case"S":return Sn(c);case"SSS":return Sn(a);case"u":return t_(d);case"uu":return t_(l);case"uuu":return Sn(r);case"a":return yc(e.meridiems(),0);case"kkkk":return Sn(i);case"kk":return Sn(f,rD);case"W":return Sn(l);case"WW":return Sn(n);case"E":case"c":return Sn(r);case"EEE":return yc(e.weekdays("short",!1),1);case"EEEE":return yc(e.weekdays("long",!1),1);case"ccc":return yc(e.weekdays("short",!0),1);case"cccc":return yc(e.weekdays("long",!0),1);case"Z":case"ZZ":return p7(new RegExp(`([+-]${l.source})(?::(${n.source}))?`),2);case"ZZZ":return p7(new RegExp(`([+-]${l.source})(${n.source})?`),2);case"z":return t_(/[a-z_+-/]{1,256}?/i);case" ":return t_(/[^\S\n\r]/);default:return h(p)}})(t)||{invalidReason:BMe};return g.token=t,g}const WMe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function qMe(t,e,r){const{type:n,value:a}=t;if(n==="literal"){const c=/^\s+$/.test(a);return{literal:!c,val:c?" ":a}}const i=e[n];let s=n;n==="hour"&&(e.hour12!=null?s=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?s="hour12":s="hour24":s=r.hour12?"hour12":"hour24");let l=WMe[s];if(typeof l=="object"&&(l=l[i]),l)return{literal:!1,val:l}}function GMe(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function YMe(t,e,r){const n=t.match(e);if(n){const a={};let i=1;for(const s in r)if(Rv(r,s)){const l=r[s],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(a[l.token.val[0]]=l.deser(n.slice(i,i+c))),i+=c}return[n,a]}else return[n,{}]}function KMe(t){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return Pr(t.z)||(r=nf.create(t.z)),Pr(t.Z)||(r||(r=new co(t.Z)),n=t.Z),Pr(t.q)||(t.M=(t.q-1)*3+1),Pr(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Pr(t.u)||(t.S=tR(t.u)),[Object.keys(t).reduce((i,s)=>{const l=e(s);return l&&(i[l]=t[s]),i},{}),r,n]}let s4=null;function XMe(){return s4||(s4=yr.fromMillis(1555555555555)),s4}function ZMe(t,e){if(t.literal)return t;const r=Is.macroTokenToFormatOpts(t.val),n=Xte(r,e);return n==null||n.includes(void 0)?t:n}function Gte(t,e){return Array.prototype.concat(...t.map(r=>ZMe(r,e)))}class Yte{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=Gte(Is.parseFormat(r),e),this.units=this.tokens.map(n=>HMe(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,a]=GMe(this.units);this.regex=RegExp(n,"i"),this.handlers=a}}explainFromTokens(e){if(this.isValid){const[r,n]=YMe(e,this.regex,this.handlers),[a,i,s]=n?KMe(n):[null,null,void 0];if(Rv(n,"a")&&Rv(n,"H"))throw new A0("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:a,zone:i,specificOffset:s}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Kte(t,e,r){return new Yte(t,r).explainFromTokens(e)}function QMe(t,e,r){const{result:n,zone:a,specificOffset:i,invalidReason:s}=Kte(t,e,r);return[n,a,i,s]}function Xte(t,e){if(!t)return null;const n=Is.create(e,t).dtFormatter(XMe()),a=n.formatToParts(),i=n.resolvedOptions();return a.map(s=>qMe(s,t,i))}const o4="Invalid DateTime",JMe=864e13;function l1(t){return new Bc("unsupported zone",`the zone "${t.name}" is not supported`)}function l4(t){return t.weekData===null&&(t.weekData=Jj(t.c)),t.weekData}function c4(t){return t.localWeekData===null&&(t.localWeekData=Jj(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Om(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new yr({...r,...e,old:r})}function Zte(t,e,r){let n=t-e*60*1e3;const a=r.offset(n);if(e===a)return[n,e];n-=(a-e)*60*1e3;const i=r.offset(n);return a===i?[n,a]:[t-Math.min(a,i)*60*1e3,Math.max(a,i)]}function r_(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Z_(t,e,r){return Zte(WE(t),e,r)}function g7(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),a=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...t.c,year:n,month:a,day:Math.min(t.c.day,eN(n,a))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},s=hn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=WE(i);let[c,u]=Zte(l,r,t.zone);return s!==0&&(c+=s,u=t.zone.offset(c)),{ts:c,o:u}}function e0(t,e,r,n,a,i){const{setZone:s,zone:l}=r;if(t&&Object.keys(t).length!==0||e){const c=e||l,u=yr.fromObject(t,{...r,zone:c,specificOffset:i});return s?u:u.setZone(l)}else return yr.invalid(new Bc("unparsable",`the input "${a}" can't be parsed as ${n}`))}function n_(t,e,r=!0){return t.isValid?Is.create(Pn.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function u4(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=xi(t.c.year,r?6:4),e?(n+="-",n+=xi(t.c.month),n+="-",n+=xi(t.c.day)):(n+=xi(t.c.month),n+=xi(t.c.day)),n}function v7(t,e,r,n,a,i){let s=xi(t.c.hour);return e?(s+=":",s+=xi(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(s+=":")):s+=xi(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(s+=xi(t.c.second),(t.c.millisecond!==0||!n)&&(s+=".",s+=xi(t.c.millisecond,3))),a&&(t.isOffsetFixed&&t.offset===0&&!i?s+="Z":t.o<0?(s+="-",s+=xi(Math.trunc(-t.o/60)),s+=":",s+=xi(Math.trunc(-t.o%60))):(s+="+",s+=xi(Math.trunc(t.o/60)),s+=":",s+=xi(Math.trunc(t.o%60)))),i&&(s+="["+t.zone.ianaName+"]"),s}const Qte={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},eRe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},tRe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Jte=["year","month","day","hour","minute","second","millisecond"],rRe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],nRe=["year","ordinal","hour","minute","second","millisecond"];function aRe(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Qee(t);return e}function y7(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return aRe(t)}}function iRe(t){if(c1===void 0&&(c1=$a.now()),t.type!=="iana")return t.offset(c1);const e=t.name;let r=nD.get(e);return r===void 0&&(r=t.offset(c1),nD.set(e,r)),r}function x7(t,e){const r=Qf(e.zone,$a.defaultZone);if(!r.isValid)return yr.invalid(l1(r));const n=Pn.fromObject(e);let a,i;if(Pr(t.year))a=$a.now();else{for(const c of Jte)Pr(t[c])&&(t[c]=Qte[c]);const s=jte(t)||Nte(t);if(s)return yr.invalid(s);const l=iRe(r);[a,i]=Z_(t,l,r)}return new yr({ts:a,zone:r,loc:n,o:i})}function b7(t,e,r){const n=Pr(r.round)?!0:r.round,a=(s,l)=>(s=rR(s,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(s,l)),i=s=>r.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(r.unit)return a(i(r.unit),r.unit);for(const s of r.units){const l=i(s);if(Math.abs(l)>=1)return a(l,s)}return a(t>e?-0:0,r.units[r.units.length-1])}function w7(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let c1;const nD=new Map;class yr{constructor(e){const r=e.zone||$a.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Bc("invalid input"):null)||(r.isValid?null:l1(r));this.ts=Pr(e.ts)?$a.now():e.ts;let a=null,i=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[a,i]=[e.old.c,e.old.o];else{const l=Ah(e.o)&&!e.old?e.o:r.offset(this.ts);a=r_(this.ts,l),n=Number.isNaN(a.year)?new Bc("invalid input"):null,a=n?null:a,i=n?null:l}this._zone=r,this.loc=e.loc||Pn.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=a,this.o=i,this.isLuxonDateTime=!0}static now(){return new yr({})}static local(){const[e,r]=w7(arguments),[n,a,i,s,l,c,u]=r;return x7({year:n,month:a,day:i,hour:s,minute:l,second:c,millisecond:u},e)}static utc(){const[e,r]=w7(arguments),[n,a,i,s,l,c,u]=r;return e.zone=co.utcInstance,x7({year:n,month:a,day:i,hour:s,minute:l,second:c,millisecond:u},e)}static fromJSDate(e,r={}){const n=IIe(e)?e.valueOf():NaN;if(Number.isNaN(n))return yr.invalid("invalid input");const a=Qf(r.zone,$a.defaultZone);return a.isValid?new yr({ts:n,zone:a,loc:Pn.fromObject(r)}):yr.invalid(l1(a))}static fromMillis(e,r={}){if(Ah(e))return e<-864e13||e>JMe?yr.invalid("Timestamp out of range"):new yr({ts:e,zone:Qf(r.zone,$a.defaultZone),loc:Pn.fromObject(r)});throw new Ps(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Ah(e))return new yr({ts:e*1e3,zone:Qf(r.zone,$a.defaultZone),loc:Pn.fromObject(r)});throw new Ps("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=Qf(r.zone,$a.defaultZone);if(!n.isValid)return yr.invalid(l1(n));const a=Pn.fromObject(r),i=tN(e,y7),{minDaysInFirstWeek:s,startOfWeek:l}=s7(i,a),c=$a.now(),u=Pr(r.specificOffset)?n.offset(c):r.specificOffset,d=!Pr(i.ordinal),f=!Pr(i.year),m=!Pr(i.month)||!Pr(i.day),h=f||m,v=i.weekYear||i.weekNumber;if((h||d)&&v)throw new A0("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&d)throw new A0("Can't mix ordinal dates with month/day");const g=v||i.weekday&&!h;let p,y,x=r_(c,u);g?(p=rRe,y=eRe,x=Jj(x,s,l)):d?(p=nRe,y=tRe,x=i4(x)):(p=Jte,y=Qte);let b=!1;for(const R of p){const D=i[R];Pr(D)?b?i[R]=y[R]:i[R]=x[R]:b=!0}const w=g?PIe(i,s,l):d?DIe(i):jte(i),_=w||Nte(i);if(_)return yr.invalid(_);const j=g?a7(i,s,l):d?i7(i):i,[A,E]=Z_(j,u,n),T=new yr({ts:A,zone:n,o:E,loc:a});return i.weekday&&h&&e.weekday!==T.weekday?yr.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${T.toISO()}`):T.isValid?T:yr.invalid(T.invalid)}static fromISO(e,r={}){const[n,a]=_Me(e);return e0(n,a,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,a]=jMe(e);return e0(n,a,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,a]=NMe(e);return e0(n,a,r,"HTTP",r)}static fromFormat(e,r,n={}){if(Pr(e)||Pr(r))throw new Ps("fromFormat requires an input string and a format");const{locale:a=null,numberingSystem:i=null}=n,s=Pn.fromOpts({locale:a,numberingSystem:i,defaultToEN:!0}),[l,c,u,d]=QMe(s,e,r);return d?yr.invalid(d):e0(l,c,n,`format ${r}`,e,u)}static fromString(e,r,n={}){return yr.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,a]=DMe(e);return e0(n,a,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Ps("need to specify a reason the DateTime is invalid");const n=e instanceof Bc?e:new Bc(e,r);if($a.throwOnInvalid)throw new iIe(n);return new yr({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=Xte(e,Pn.fromObject(r));return n?n.map(a=>a?a.val:null).join(""):null}static expandFormat(e,r={}){return Gte(Is.parseFormat(e),Pn.fromObject(r)).map(a=>a.val).join("")}static resetCache(){c1=void 0,nD.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?l4(this).weekYear:NaN}get weekNumber(){return this.isValid?l4(this).weekNumber:NaN}get weekday(){return this.isValid?l4(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?c4(this).weekday:NaN}get localWeekNumber(){return this.isValid?c4(this).weekNumber:NaN}get localWeekYear(){return this.isValid?c4(this).weekYear:NaN}get ordinal(){return this.isValid?i4(this.c).ordinal:NaN}get monthShort(){return this.isValid?e_.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?e_.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?e_.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?e_.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=WE(this.c),a=this.zone.offset(n-e),i=this.zone.offset(n+e),s=this.zone.offset(n-a*r),l=this.zone.offset(n-i*r);if(s===l)return[this];const c=n-s*r,u=n-l*r,d=r_(c,s),f=r_(u,l);return d.hour===f.hour&&d.minute===f.minute&&d.second===f.second&&d.millisecond===f.millisecond?[Om(this,{ts:c}),Om(this,{ts:u})]:[this]}get isInLeapYear(){return u2(this.year)}get daysInMonth(){return eN(this.year,this.month)}get daysInYear(){return this.isValid?V0(this.year):NaN}get weeksInWeekYear(){return this.isValid?Sb(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Sb(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:a}=Is.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:a}}toUTC(e=0,r={}){return this.setZone(co.instance(e),r)}toLocal(){return this.setZone($a.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Qf(e,$a.defaultZone),e.equals(this.zone))return this;if(e.isValid){let a=this.ts;if(r||n){const i=e.offset(this.ts),s=this.toObject();[a]=Z_(s,i,e)}return Om(this,{ts:a,zone:e})}else return yr.invalid(l1(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const a=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Om(this,{loc:a})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=tN(e,y7),{minDaysInFirstWeek:n,startOfWeek:a}=s7(r,this.loc),i=!Pr(r.weekYear)||!Pr(r.weekNumber)||!Pr(r.weekday),s=!Pr(r.ordinal),l=!Pr(r.year),c=!Pr(r.month)||!Pr(r.day),u=l||c,d=r.weekYear||r.weekNumber;if((u||s)&&d)throw new A0("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&s)throw new A0("Can't mix ordinal dates with month/day");let f;i?f=a7({...Jj(this.c,n,a),...r},n,a):Pr(r.ordinal)?(f={...this.toObject(),...r},Pr(r.day)&&(f.day=Math.min(eN(f.year,f.month),f.day))):f=i7({...i4(this.c),...r});const[m,h]=Z_(f,this.o,this.zone);return Om(this,{ts:m,o:h})}plus(e){if(!this.isValid)return this;const r=hn.fromDurationLike(e);return Om(this,g7(this,r))}minus(e){if(!this.isValid)return this;const r=hn.fromDurationLike(e).negate();return Om(this,g7(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},a=hn.normalizeUnit(e);switch(a){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(a==="weeks")if(r){const i=this.loc.getStartOfWeek(),{weekday:s}=this;s<i&&(n.weekNumber=this.weekNumber-1),n.weekday=i}else n.weekday=1;if(a==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?Is.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):o4}toLocaleString(e=Qj,r={}){return this.isValid?Is.create(this.loc.clone(r),e).formatDateTime(this):o4}toLocaleParts(e={}){return this.isValid?Is.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:a=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const s=e==="extended";let l=u4(this,s);return l+="T",l+=v7(this,s,r,n,a,i),l}toISODate({format:e="extended"}={}){return this.isValid?u4(this,e==="extended"):null}toISOWeekDate(){return n_(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:a=!1,extendedZone:i=!1,format:s="extended"}={}){return this.isValid?(a?"T":"")+v7(this,s==="extended",r,e,n,i):null}toRFC2822(){return n_(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return n_(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?u4(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let a="HH:mm:ss.SSS";return(r||e)&&(n&&(a+=" "),r?a+="z":e&&(a+="ZZ")),n_(this,a,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():o4}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return hn.invalid("created by diffing an invalid DateTime");const a={locale:this.locale,numberingSystem:this.numberingSystem,...n},i=MIe(r).map(hn.normalizeUnit),s=e.valueOf()>this.valueOf(),l=s?this:e,c=s?e:this,u=$Me(l,c,i,a);return s?u.negate():u}diffNow(e="milliseconds",r={}){return this.diff(yr.now(),e,r)}until(e){return this.isValid?Ra.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const a=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(r,n)<=a&&a<=i.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||yr.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let a=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(a=e.unit,i=void 0),b7(r,this.plus(n),{...e,numeric:"always",units:a,unit:i})}toRelativeCalendar(e={}){return this.isValid?b7(e.base||yr.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(yr.isDateTime))throw new Ps("min requires all arguments be DateTimes");return o7(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(yr.isDateTime))throw new Ps("max requires all arguments be DateTimes");return o7(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:a=null,numberingSystem:i=null}=n,s=Pn.fromOpts({locale:a,numberingSystem:i,defaultToEN:!0});return Kte(s,e,r)}static fromStringExplain(e,r,n={}){return yr.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){const{locale:n=null,numberingSystem:a=null}=r,i=Pn.fromOpts({locale:n,numberingSystem:a,defaultToEN:!0});return new Yte(i,e)}static fromFormatParser(e,r,n={}){if(Pr(e)||Pr(r))throw new Ps("fromFormatParser requires an input string and a format parser");const{locale:a=null,numberingSystem:i=null}=n,s=Pn.fromOpts({locale:a,numberingSystem:i,defaultToEN:!0});if(!s.equals(r.locale))throw new Ps(`fromFormatParser called with a locale of ${s}, but the format parser was created for ${r.locale}`);const{result:l,zone:c,specificOffset:u,invalidReason:d}=r.explainFromTokens(e);return d?yr.invalid(d):e0(l,c,n,`format ${r.format}`,e,u)}static get DATE_SHORT(){return Qj}static get DATE_MED(){return Jee}static get DATE_MED_WITH_WEEKDAY(){return lIe}static get DATE_FULL(){return ete}static get DATE_HUGE(){return tte}static get TIME_SIMPLE(){return rte}static get TIME_WITH_SECONDS(){return nte}static get TIME_WITH_SHORT_OFFSET(){return ate}static get TIME_WITH_LONG_OFFSET(){return ite}static get TIME_24_SIMPLE(){return ste}static get TIME_24_WITH_SECONDS(){return ote}static get TIME_24_WITH_SHORT_OFFSET(){return lte}static get TIME_24_WITH_LONG_OFFSET(){return cte}static get DATETIME_SHORT(){return ute}static get DATETIME_SHORT_WITH_SECONDS(){return dte}static get DATETIME_MED(){return fte}static get DATETIME_MED_WITH_SECONDS(){return hte}static get DATETIME_MED_WITH_WEEKDAY(){return cIe}static get DATETIME_FULL(){return mte}static get DATETIME_FULL_WITH_SECONDS(){return pte}static get DATETIME_HUGE(){return gte}static get DATETIME_HUGE_WITH_SECONDS(){return vte}}function Lx(t){if(yr.isDateTime(t))return t;if(t&&t.valueOf&&Ah(t.valueOf()))return yr.fromJSDate(t);if(t&&typeof t=="object")return yr.fromObject(t);throw new Ps(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const sRe=t=>{switch(t){case"scheduled":case"aguardando_atendimento":return{text:"Aguardando",className:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-50",icon:pn};case"atendimento_iniciado":return{text:"Em Atendimento",className:"bg-amber-50 text-amber-700 border-amber-200 hover:bg-amber-50",icon:Qq};case"atendimento_finalizado":case"completed":return{text:"Finalizado",className:"bg-green-50 text-green-700 border-green-200 hover:bg-green-50",icon:Iw};case"agendamento_cancelado":case"canceled":return{text:"Cancelado",className:"bg-red-50 text-red-700 border-red-200 hover:bg-red-50",icon:yv};case"archived":return{text:"Arquivado",className:"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-50",icon:oj};default:return{text:t,className:"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-50",icon:nn}}},S7=({status:t})=>{const e=sRe(t),r=e.icon;return o.jsxs(Ur,{variant:"outline",className:Ke("gap-1.5 font-medium",e.className),children:[o.jsx(r,{className:"w-3 h-3"}),o.jsx("span",{children:e.text})]})},oRe=({limit:t=5,showTitle:e=!0})=>{const{appointments:r,isLoading:n,fetchAppointments:a,printAppointment:i}=sm(),s=Ki(),l=nd();N.useEffect(()=>{a()},[]);const c=(r==null?void 0:r.filter(m=>m.status==="aguardando_atendimento"||m.status==="scheduled").sort((m,h)=>{const v=yr.fromISO(m.appointmentDatetime||m.appointmentDate),g=yr.fromISO(h.appointmentDatetime||h.appointmentDate);return v.toMillis()-g.toMillis()}).slice(0,t))||[],u=async m=>{try{await i(m)||Oe.error("Erro ao imprimir agendamento")}catch(h){console.error("Erro ao imprimir agendamento:",h),Oe.error("Erro ao imprimir agendamento")}},d=(m,h)=>{s("/evolution-api",{state:{activeTab:"disparador",clientPhone:m,clientName:h}})},f=m=>{try{const h=yr.fromISO(m.appointmentDatetime||m.appointmentDate),v=h.toFormat("dd-MM-yyyy"),g=m.appointmentTime,p=g.split(":"),y=parseInt(p[0]),x=parseInt(p[1]),b=m.serviceDuration,w=Math.floor(b/60),_=b%60;let j=y+w,A=x+_;A>=60&&(j+=1,A-=60);const E=`${j.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`;return{date:v,formattedDate:h.toFormat("dd-MM-yyyy"),time:`${g} - ${E}`,formattedTime:`${g.substring(0,5)} - ${E.substring(0,5)}`}}catch(h){return console.error("Erro ao formatar data e hora:",h),{date:"Data invlida",formattedDate:"Data invlida",time:"Hora invlida",formattedTime:"Hora invlida"}}};return o.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm animate-fade-in",style:{animationDelay:"400ms"},children:[e&&o.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Prximos Agendamentos"}),o.jsxs(je,{variant:"ghost",size:"sm",className:"text-sm font-medium text-primary hover:underline",onClick:()=>s("/agendamentos"),children:[o.jsx("span",{children:"Ver todos"}),o.jsx(rG,{className:"ml-1 h-3 w-3"})]})]}),n?o.jsx("div",{className:"p-8 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"Carregando agendamentos..."})}):o.jsxs("div",{className:"divide-y",children:[c.map((m,h)=>{const{formattedDate:v,formattedTime:g}=f(m);return o.jsxs("div",{className:"p-3 hover:bg-accent/50 transition-colors",style:{opacity:0,animation:`fade-in 0.5s ease-out ${200+h*100}ms forwards`},children:[!l&&o.jsxs("div",{className:"hidden sm:flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-shrink",children:[o.jsx(eu,{className:"h-4 w-4 text-primary flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 overflow-hidden",children:[o.jsx("p",{className:"font-medium truncate",children:m.clientName}),o.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[o.jsx(Gc,{className:"h-3 w-3 mr-1 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:m.serviceName})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end mx-2 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(pn,{className:"h-3 w-3 mr-1"}),g]}),o.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[o.jsx(nn,{className:"h-3 w-3 mr-1"}),v]})]}),o.jsx(S7,{status:m.status}),o.jsxs("div",{className:"flex items-center flex-shrink-0 gap-1",children:[o.jsx(je,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 bg-yellow-50 hover:bg-yellow-100 border-yellow-200 text-yellow-700",onClick:()=>u(m.id),children:o.jsx(tb,{className:"h-3 w-3"})}),o.jsx(je,{variant:"outline",size:"sm",className:"h-7 w-7 p-0 bg-green-50 hover:bg-green-100 border-green-200 text-green-700",onClick:()=>d(m.clientPhone,m.clientName),children:o.jsx($o,{className:"h-3 w-3"})})]})]}),l&&o.jsxs("div",{className:"flex flex-col sm:hidden space-y-4",children:[o.jsxs("div",{className:"flex flex-col items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eu,{className:"h-4 w-4 text-primary"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:m.clientName}),o.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[o.jsx(Gc,{className:"h-3 w-3 mr-1"}),m.serviceName]})]})]}),o.jsx(S7,{status:m.status}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center text-sm",children:[o.jsx(pn,{className:"h-3 w-3 mr-1"}),g]}),o.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[o.jsx(nn,{className:"h-3 w-3 mr-1"}),v]})]})]}),o.jsxs("div",{className:"flex items-center w-full justify-between gap-1",children:[o.jsx(je,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-yellow-50 hover:bg-yellow-100 border-yellow-200 text-yellow-700",onClick:()=>u(m.id),children:o.jsx(tb,{className:"h-3.5 w-3.5"})}),o.jsx(je,{variant:"outline",size:"sm",className:"h-8 w-8 p-0 bg-green-50 hover:bg-green-100 border-green-200 text-green-700",onClick:()=>d(m.clientPhone,m.clientName),children:o.jsx($o,{className:"h-3.5 w-3.5"})})]})]})]},m.id)}),c.length===0&&o.jsx("div",{className:"p-6 text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No h agendamentos prximos."})})]})]})},lRe={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},Q_={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},a_=({title:t,value:e,subtitle:r,icon:n,className:a})=>o.jsx(nt.div,{variants:Q_,children:o.jsx(ot,{className:a,children:o.jsxs(lt,{className:"flex items-center p-4 md:p-6 h-full",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-2xl md:text-4xl font-bold mb-1 whitespace-nowrap",children:e}),o.jsx("p",{className:"text-xs md:text-sm text-white/80",children:r})]}),o.jsx(n,{className:"w-6 h-6 md:w-8 md:h-8 opacity-80 ml-3"})]})})});function cRe(){const{appointments:t,fetchAppointments:e}=sm();nd();const[r,n]=N.useState("overview"),[a,i]=N.useState("month");W.useEffect(()=>{e(),(async()=>{})()},[]);const s=yr.now().setLocale("pt-BR"),l=s.startOf("month"),c=s.endOf("month"),d=(()=>{if(!t)return[];let p,y=s;switch(a){case"week":p=s.startOf("week"),y=s.endOf("week");break;case"month":p=l,y=c;break;case"year":p=s.startOf("year"),y=s.endOf("year");break;default:p=l,y=c}return t.filter(x=>{const b=yr.fromISO(x.appointmentDatetime||x.appointmentDate);return b>=p&&b<=y})})(),f=(t==null?void 0:t.filter(p=>p.status!=="agendamento_cancelado"&&p.status!=="canceled"&&p.status!=="archived"&&p.status!=="atendimento_finalizado"&&p.status!=="completed"))||[],m=d.filter(p=>p.status==="atendimento_finalizado"||p.status==="completed"),h=(t==null?void 0:t.filter(p=>p.status==="scheduled"||p.status==="aguardando_atendimento"))||[],v=new Set((t==null?void 0:t.filter(p=>p.status!=="agendamento_cancelado"&&p.status!=="canceled"&&p.status!=="archived").map(p=>p.clientPhone))||[]).size,g=d.filter(p=>p.status!=="agendamento_cancelado"&&p.status!=="canceled"&&p.status!=="archived").reduce((p,y)=>p+y.servicePrice,0);return W.useMemo(()=>{const p={};return d.forEach(y=>{p[y.serviceName]||(p[y.serviceName]=0),p[y.serviceName]++}),Object.entries(p).map(([y,x])=>({name:y,value:x}))},[d]),W.useMemo(()=>{const p={};return d.forEach(y=>{p[y.attendantName]||(p[y.attendantName]=0),p[y.attendantName]++}),Object.entries(p).map(([y,x])=>({name:y,count:x}))},[d]),o.jsx(gs,{children:o.jsxs(nt.div,{className:"container mx-auto space-y-4 md:space-y-6",initial:"hidden",animate:"visible",exit:"exit",variants:lRe,children:[o.jsxs(nt.div,{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",variants:Q_,children:[o.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Dashboard"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(un,{value:a,onValueChange:i,children:[o.jsx(sn,{className:"w-[180px]",children:o.jsx(dn,{placeholder:"Filtrar por perodo"})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"week",children:"Esta Semana"}),o.jsx(Vt,{value:"month",children:"Este Ms"}),o.jsx(Vt,{value:"year",children:"Este Ano"})]})]})})]}),o.jsxs(nt.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4",variants:Q_,children:[o.jsx(a_,{title:"Total",value:f.length,subtitle:"agendamentos ativos",icon:CL,className:"bg-blue-600 text-white h-full min-w-[120px]"}),o.jsx(a_,{title:"Este Perodo",value:m.length,subtitle:"finalizados",icon:CL,className:"bg-emerald-600 text-white h-full min-w-[120px]"}),o.jsx(a_,{title:"Aguardando",value:h.length,subtitle:"aguardando",icon:pn,className:"bg-amber-500 text-white h-full min-w-[120px]"}),o.jsx(a_,{title:"Faturamento",value:`R$ ${g.toFixed(2)}`,subtitle:"no perodo",icon:EL,className:"bg-purple-600 text-white h-full min-w-[120px]"})]}),o.jsxs(ys,{value:r,onValueChange:n,className:"w-full",children:[o.jsxs(Di,{className:"grid grid-cols-2 mb-4",children:[o.jsx(qt,{value:"overview",children:"Calendrio"}),o.jsx(qt,{value:"appointments",children:"Prximos Agendamentos"})]}),o.jsx(nr,{value:"overview",className:"space-y-4",children:o.jsx(nt.div,{variants:Q_,className:"overflow-hidden rounded-lg relative",children:o.jsx(aIe,{})})}),o.jsxs(nr,{value:"appointments",className:"space-y-4",children:[o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{className:"text-lg",children:"Prximos Agendamentos"})}),o.jsx(lt,{className:"p-0",children:o.jsx("div",{className:"flex flex-col justify-center p-6 rounded-lg",children:o.jsx(oRe,{limit:10,showTitle:!1})})})]}),o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{className:"text-lg",children:"Estatsticas Gerais"})}),o.jsx(lt,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-slate-100 rounded-lg",children:[o.jsx(Kde,{className:"w-8 h-8 text-blue-500 mb-2"}),o.jsx("span",{className:"text-2xl font-bold",children:v}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Clientes nicos"})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-slate-100 rounded-lg",children:[o.jsx(nn,{className:"w-8 h-8 text-green-500 mb-2"}),o.jsx("span",{className:"text-2xl font-bold",children:d.length}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Agendamentos no Perodo"})]}),o.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-slate-100 rounded-lg",children:[o.jsx(EL,{className:"w-8 h-8 text-purple-500 mb-2"}),o.jsx("span",{className:"text-2xl font-bold",children:d.length>0?`R$ ${(g/d.length).toFixed(2)}`:"R$ 0.00"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Ticket Mdio"})]})]})})]})]})]})]})})}const _7=({isAvailable:t})=>{const e=t?{label:"Disponvel",className:"bg-green-50 text-green-700 border-green-200 hover:bg-green-50",icon:Iw}:{label:"Indisponvel",className:"bg-red-50 text-red-700 border-red-200 hover:bg-red-50",icon:yv},r=e.icon;return o.jsxs(Ur,{variant:"outline",className:Ke("gap-1.5 font-medium",e.className),children:[o.jsx(r,{className:"w-3 h-3"}),o.jsx("span",{children:e.label})]})},uRe=({attendants:t,onEdit:e,onDelete:r})=>{const n=[...t].sort((s,l)=>s.name.localeCompare(l.name)),a=s=>s.split(" ").map(l=>l[0]).join("").toUpperCase().substring(0,2),i=({attendant:s})=>o.jsxs("div",{className:"bg-card rounded-lg border p-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Lh,{children:[o.jsx(Fh,{src:s.photoUrl||void 0,alt:s.name}),o.jsx($h,{children:a(s.name)})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:s.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:s.position})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(s),title:"Editar atendente",className:"text-blue-600",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>r(s.id),title:"Excluir atendente",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})]})]}),(s.phone||s.email)&&o.jsxs("div",{className:"space-y-1 text-sm",children:[s.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ru,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:s.phone})]}),s.email&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eb,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:s.email})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Dias de Atendimento"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:s.workDays.map(l=>o.jsx(Ur,{variant:"outline",className:"text-xs",children:l},l))})]}),o.jsx("div",{children:o.jsx(_7,{isAvailable:s.available})})]});return n.length===0?o.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Nenhum atendente cadastrado"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid gap-4 sm:hidden",children:n.map(s=>o.jsx(i,{attendant:s},s.id))}),o.jsx("div",{className:"hidden sm:block overflow-x-auto",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Atendente"}),o.jsx(wt,{children:"Contato"}),o.jsx(wt,{children:"Dias de Atendimento"}),o.jsx(wt,{children:"Status"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsx(di,{children:n.map(s=>o.jsxs(dr,{children:[o.jsx(ct,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(Lh,{children:[o.jsx(Fh,{src:s.photoUrl||void 0,alt:s.name}),o.jsx($h,{children:a(s.name)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:s.name}),o.jsx("div",{className:"text-sm text-muted-foreground",children:s.position})]})]})}),o.jsx(ct,{children:o.jsxs("div",{className:"space-y-1 text-sm",children:[s.phone&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ru,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:s.phone})]}),s.email&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eb,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:s.email})]})]})}),o.jsx(ct,{children:o.jsx("div",{className:"flex flex-wrap gap-1",children:s.workDays.map(l=>o.jsx(Ur,{variant:"outline",className:"text-xs",children:l},l))})}),o.jsx(ct,{children:o.jsx(_7,{isAvailable:s.available})}),o.jsx(ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(s),title:"Editar atendente",className:"text-blue-600",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>r(s.id),title:"Excluir atendente",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})]})})]},s.id))})]})})]})},dRe=[{id:"Segunda",label:"Segunda-feira"},{id:"Tera",label:"Tera-feira"},{id:"Quarta",label:"Quarta-feira"},{id:"Quinta",label:"Quinta-feira"},{id:"Sexta",label:"Sexta-feira"},{id:"Sbado",label:"Sbado"},{id:"Domingo",label:"Domingo"}],fRe=({attendant:t,onSave:e,onCancel:r})=>{const[n,a]=N.useState({id:"",name:"",position:"",workDays:[],available:!0,phone:"",email:"",photoUrl:null,shareUrl:null}),[i,s]=N.useState(!1),[l,c]=N.useState("informacoes"),{toast:u}=ga(),d=w=>w.split(" ").map(_=>_[0]).join("").toUpperCase().substring(0,2);N.useEffect(()=>{a(t?{...t,phone:t.phone||"",email:t.email||"",photoUrl:t.photoUrl||null,shareUrl:t.shareUrl||null}:{id:"",name:"",position:"",workDays:[],available:!0,phone:"",email:"",photoUrl:null,shareUrl:null})},[t]);const f=w=>{const{name:_,value:j}=w.target;a(A=>({...A,[_]:j}))},m=w=>{a(_=>({..._,available:w}))},h=w=>{a(_=>{const j=_.workDays.includes(w)?_.workDays.filter(A=>A!==w):[..._.workDays,w];return{..._,workDays:j}})},v=w=>{c(w)},g=async w=>{if(w.preventDefault(),!(!n.name||!n.position)){s(!0);try{console.log("Salvando atendente com URL:",n.shareUrl);const _={...n,id:(t==null?void 0:t.id)||n.id};await e(_),n.shareUrl&&u({title:"URL de compartilhamento salva",description:`O link ${n.shareUrl} foi salvo com sucesso.`})}catch(_){console.error("Error saving attendant:",_)}finally{s(!1)}}},p=()=>{const w=new URL("/a/",window.location.href).href,_=n.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/g,"").replace(/\s+/g,"-"),j=`${w}${_}`;a(A=>({...A,shareUrl:j}))},y=()=>{n.shareUrl&&(navigator.clipboard.writeText(n.shareUrl),u({title:"Link copiado!",description:"O link de compartilhamento foi copiado para a rea de transferncia."}))},x=()=>{n.shareUrl&&(navigator.share?navigator.share({title:`Agenda de ${n.name}`,text:`Agende um horrio com ${n.name}`,url:n.shareUrl}).catch(w=>console.log("Erro ao compartilhar",w)):y())},b=w=>{var j;const _=(j=w.target.files)==null?void 0:j[0];if(_){const A=new FileReader;A.onloadend=()=>{const E=A.result;a(T=>({...T,photoUrl:E}))},A.readAsDataURL(_)}};return o.jsxs("form",{onSubmit:g,className:"space-y-6",children:[o.jsxs(ys,{value:l,onValueChange:v,children:[o.jsxs(Di,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsx(qt,{value:"informacoes",children:"Informaes"}),o.jsx(qt,{value:"contato",children:"Contato"}),o.jsx(qt,{value:"compartilhar",children:"Compartilhar Agenda"})]}),o.jsxs(nr,{value:"informacoes",className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"name",children:"Nome"}),o.jsx(mt,{id:"name",name:"name",value:n.name,onChange:f,placeholder:"Nome do atendente",required:!0,disabled:i})]}),o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"position",children:"Cargo"}),o.jsx(mt,{id:"position",name:"position",value:n.position,onChange:f,placeholder:"Cargo ou funo",required:!0,disabled:i})]}),o.jsxs("div",{children:[o.jsx(pt,{children:"Dias de Atendimento"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-2 mt-2",children:dRe.map(w=>o.jsx(je,{type:"button",variant:n.workDays.includes(w.id)?"default":"secondary",className:Ke("transition-colors font-medium w-full",n.workDays.includes(w.id)?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),onClick:()=>h(w.id),disabled:i,children:w.label.split("-")[0]},w.id))})]}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fs,{id:"available",checked:n.available,onCheckedChange:m,disabled:i,className:Ke("data-[state=checked]:bg-emerald-500","data-[state=unchecked]:bg-destructive")}),o.jsx(pt,{htmlFor:"available",className:Ke(n.available?"text-emerald-500":"text-destructive","font-medium"),children:n.available?"Disponvel":"Indisponvel"})]})})]}),o.jsxs(nr,{value:"contato",className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"phone",children:"Telefone"}),o.jsx(mt,{id:"phone",name:"phone",value:n.phone,onChange:f,placeholder:"(00) 00000-0000",disabled:i})]}),o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"email",children:"E-mail"}),o.jsx(mt,{id:"email",name:"email",type:"email",value:n.email,onChange:f,placeholder:"email@exemplo.com",disabled:i})]}),o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"photoUrl",children:"Foto do Atendente"}),o.jsxs("div",{className:"flex flex-col items-center space-y-4 mt-2",children:[o.jsxs(Lh,{className:"h-24 w-24",children:[o.jsx(Fh,{src:n.photoUrl||void 0,alt:n.name}),o.jsx($h,{children:n.name?d(n.name):"AT"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("label",{htmlFor:"photo-upload",className:"cursor-pointer text-sm text-primary hover:underline",children:n.photoUrl?"Alterar foto":"Adicionar foto"}),o.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:b,disabled:i})]})]})]})]}),o.jsx(nr,{value:"compartilhar",className:"space-y-4",children:o.jsx(ot,{children:o.jsxs(lt,{className:"pt-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"bg-gray-100 rounded-full p-4 inline-block mx-auto mb-4",children:o.jsx(nn,{className:"h-8 w-8 text-primary"})}),o.jsx("h3",{className:"text-xl font-bold",children:"Compartilhe Sua Agenda"}),o.jsx("p",{className:"text-muted-foreground mt-1",children:"Permita que seus clientes conheam seus servios e agendem horrios atravs do seu link personalizado"})]}),o.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:[o.jsx("p",{className:"text-red-700 font-medium",children:"Ateno"}),o.jsx("p",{className:"text-red-600 text-sm",children:"Certifique-se de que todas as configuraes de servios, horrios e prazos de agendamento estejam completas antes de compartilhar."})]}),o.jsx("div",{className:"space-y-4",children:n.shareUrl?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"relative",children:o.jsx(mt,{id:"shareUrl",name:"shareUrl",value:n.shareUrl,onChange:f,className:"pr-16",readOnly:!0})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs(je,{type:"button",variant:"outline",onClick:y,className:"flex items-center justify-center gap-2",children:[o.jsx(UA,{size:16}),"Copiar Link"]}),o.jsxs(je,{type:"button",onClick:x,className:"flex items-center justify-center gap-2 bg-black text-white",children:[o.jsx($de,{size:16}),"Compartilhar"]})]})]}):o.jsx(je,{type:"button",onClick:p,className:"w-full",disabled:!n.name,children:"Gerar Link Personalizado"})})]})})})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(je,{type:"button",variant:"outline",onClick:r,disabled:i,children:"Cancelar"}),o.jsx(je,{type:"submit",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mr-2",children:o.jsx("span",{className:"animate-spin inline-block h-4 w-4 border-2 border-current border-t-transparent rounded-full"})}),t?"Atualizando...":"Adicionando..."]}):t?"Atualizar":"Adicionar"})]})]})};function hRe(){const[t,e]=N.useState([]),[r,n]=N.useState(!0),{toast:a}=ga();N.useEffect(()=>{i()},[]);const i=async()=>{try{n(!0);const{data:u,error:d}=await ye.from("attendants").select("*").order("name");if(d){console.error("Error fetching attendants:",d),a({title:"Erro ao carregar atendentes",description:d.message,variant:"destructive"});return}const f=u.map(m=>({id:m.id,name:m.name,position:m.position,workDays:m.work_days,available:m.available,phone:m.phone||"",email:m.email||"",photoUrl:m.photo_url,shareUrl:m.share_url}));e(f)}catch(u){console.error("Unexpected error:",u),a({title:"Erro inesperado",description:"Ocorreu um erro ao carregar os atendentes.",variant:"destructive"})}finally{n(!1)}};return{attendants:t,isLoading:r,fetchAttendants:i,addAttendant:async u=>{try{const d=Mo(),{error:f}=await ye.from("attendants").insert({id:d,name:u.name,position:u.position,work_days:u.workDays,available:u.available,phone:u.phone||null,email:u.email||null,photo_url:u.photoUrl||null,share_url:u.shareUrl||null});if(f)return console.error("Error adding attendant:",f),a({title:"Erro ao adicionar atendente",description:f.message,variant:"destructive"}),!1;const m={...u,id:d};return e(h=>[...h,m]),a({title:"Atendente adicionado",description:"Novo atendente adicionado com sucesso."}),!0}catch(d){return console.error("Unexpected error:",d),a({title:"Erro inesperado",description:"Ocorreu um erro ao salvar o atendente.",variant:"destructive"}),!1}},updateAttendant:async u=>{try{const{error:d}=await ye.from("attendants").update({name:u.name,position:u.position,work_days:u.workDays,available:u.available,phone:u.phone||null,email:u.email||null,photo_url:u.photoUrl||null,share_url:u.shareUrl||null,updated_at:new Date().toISOString()}).eq("id",u.id);return d?(console.error("Error updating attendant:",d),a({title:"Erro ao atualizar atendente",description:d.message,variant:"destructive"}),!1):(e(f=>f.map(m=>m.id===u.id?u:m)),a({title:"Atendente atualizado",description:"As informaes do atendente foram atualizadas com sucesso."}),!0)}catch(d){return console.error("Unexpected error:",d),a({title:"Erro inesperado",description:"Ocorreu um erro ao atualizar o atendente.",variant:"destructive"}),!1}},deleteAttendant:async u=>{try{const{error:d}=await ye.from("attendants").delete().eq("id",u);return d?(console.error("Error deleting attendant:",d),a({title:"Erro ao remover atendente",description:d.message,variant:"destructive"}),!1):(e(f=>f.filter(m=>m.id!==u)),a({title:"Atendente removido",description:"O atendente foi removido com sucesso."}),!0)}catch(d){return console.error("Unexpected error:",d),a({title:"Erro inesperado",description:"Ocorreu um erro ao remover o atendente.",variant:"destructive"}),!1}}}}const mRe=()=>{const t=Ki(),e=ac(),{attendants:r,isLoading:n,addAttendant:a,updateAttendant:i,deleteAttendant:s}=hRe(),[l,c]=N.useState(!1),[u,d]=N.useState(null);N.useEffect(()=>{if(e.state){const{openForm:x,attendant:b}=e.state;x!==void 0&&c(x),b&&d(b)}},[e]);const f=()=>{d(null),c(!0),t("/atendentes",{replace:!0,state:{openForm:!0}})},m=x=>{d({...x}),c(!0),t("/atendentes",{replace:!0,state:{openForm:!0,attendant:x}})},h=async x=>{await s(x)},v=async x=>{let b;u?b=await i(x):b=await a(x),b&&g()},g=()=>{c(!1),d(null),t("/atendentes",{replace:!0,state:{openForm:!1}})},p={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},y={hidden:{y:10,opacity:0},visible:{y:0,opacity:1},exit:{y:-10,opacity:0}};return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-4 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:p,children:[o.jsxs(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",variants:y,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[l&&o.jsx(je,{variant:"outline",size:"icon",onClick:g,className:"mr-2",children:o.jsx(yl,{size:16})}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:l?u?"Editar Atendente":"Novo Atendente":"Gerenciamento de Atendentes"})]}),!l&&o.jsxs(je,{onClick:f,className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[o.jsx(ms,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Novo Atendente"}),o.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),o.jsx(Gi,{mode:"wait",children:l?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsxs(ot,{className:"w-full",children:[o.jsx(Ot,{children:o.jsx(It,{children:u?"Editar Atendente":"Novo Atendente"})}),o.jsx(lt,{children:o.jsx(fRe,{attendant:u,onSave:v,onCancel:g})})]})},"form"):o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsxs(ot,{className:"w-full overflow-x-auto",children:[o.jsx(Ot,{children:o.jsx(It,{children:"Atendentes"})}),o.jsx(lt,{children:n?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):o.jsx(uRe,{attendants:r,onEdit:m,onDelete:h})})]})},"list")})]})})},pRe=[{id:"Segunda",label:"Segunda-feira"},{id:"Tera",label:"Tera-feira"},{id:"Quarta",label:"Quarta-feira"},{id:"Quinta",label:"Quinta-feira"},{id:"Sexta",label:"Sexta-feira"},{id:"Sbado",label:"Sbado"},{id:"Domingo",label:"Domingo"}],j7=["08:00:00","08:30:00","09:00:00","09:30:00","10:00:00","10:30:00","11:00:00","11:30:00","12:00:00","12:30:00","13:00:00","13:30:00","14:00:00","14:30:00","15:00:00","15:30:00","16:00:00","16:30:00","17:00:00","17:30:00","18:00:00","18:30:00","19:00:00","19:30:00","20:00:00"],N7=[{value:"30",label:"30 minutos"},{value:"60",label:"1 hora"},{value:"90",label:"1 hora e 30 minutos"},{value:"120",label:"2 horas"}],gRe=({schedule:t,onSave:e,onCancel:r})=>{const[n,a]=N.useState({id:"",day:"Segunda",days:["Segunda"],startTime:"08:00:00",duration:30,available:!0}),[i,s]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(!1);N.useEffect(()=>{t&&(a({...t,days:t.days||[t.day]}),c(!j7.includes(t.startTime)),d(!N7.map(_=>parseInt(_.value)).includes(t.duration)))},[t]);const f=_=>{a(j=>{const A=j.days.includes(_)?j.days.filter(E=>E!==_):[...j.days,_];return{...j,days:A,day:A[0]||"Segunda"}})},m=_=>{a(j=>({...j,startTime:_}))},h=_=>{const j=_.target.value;a(A=>({...A,startTime:j}))},v=_=>{a(j=>({...j,duration:parseInt(_)}))},g=_=>{const j=parseInt(_.target.value);!isNaN(j)&&j>0&&a(A=>({...A,duration:j}))},p=_=>{a(j=>({...j,available:_}))},y=()=>{c(_=>!_)},x=()=>{d(_=>!_)},b=_=>/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/.test(_),w=async _=>{if(_.preventDefault(),!(!n.startTime||n.days.length===0)){if(l&&!b(n.startTime)){alert("Horrio deve estar no formato HH:MM:SS");return}s(!0);try{await e({...n,day:n.days[0]})}catch(j){console.error("Error saving schedule:",j)}finally{s(!1)}}};return o.jsxs("form",{onSubmit:w,className:"space-y-6 bg-card p-6 rounded-lg border",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(pt,{className:"text-base font-medium pb-2 block",children:"Dias da Semana"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-2 mt-2",children:pRe.map(_=>o.jsx(je,{type:"button",variant:n.days.includes(_.id)?"default":"secondary",className:Ke("transition-colors font-medium w-full",n.days.includes(_.id)?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),onClick:()=>f(_.id),disabled:i,children:_.label.split("-")[0]},_.id))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(pt,{htmlFor:"startTime",children:"Horrio"}),o.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:y,className:"text-xs h-7 px-2",disabled:i,children:l?"Usar lista predefinida":"Personalizar"})]}),l?o.jsx(mt,{id:"customTime",type:"text",value:n.startTime,onChange:h,placeholder:"HH:MM:SS (ex: 08:00:00)",className:"w-full",disabled:i}):o.jsxs(un,{value:n.startTime,onValueChange:m,disabled:i,children:[o.jsx(sn,{id:"startTime",className:"w-full",children:o.jsx(dn,{placeholder:"Selecione o horrio"})}),o.jsx(on,{children:j7.map(_=>o.jsx(Vt,{value:_,children:_},_))})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(pt,{htmlFor:"duration",children:"Durao"}),o.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:x,className:"text-xs h-7 px-2",disabled:i,children:u?"Usar lista predefinida":"Personalizar"})]}),u?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mt,{id:"customDuration",type:"number",min:"1",value:n.duration,onChange:g,className:"w-full",disabled:i}),o.jsx("span",{className:"whitespace-nowrap",children:"minutos"})]}):o.jsxs(un,{value:n.duration.toString(),onValueChange:v,disabled:i,children:[o.jsx(sn,{id:"duration",className:"w-full",children:o.jsx(dn,{placeholder:"Selecione a durao"})}),o.jsx(on,{children:N7.map(_=>o.jsx(Vt,{value:_.value,children:_.label},_.value))})]})]})]}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fs,{id:"available",checked:n.available,onCheckedChange:p,disabled:i,className:Ke("data-[state=checked]:bg-emerald-500","data-[state=unchecked]:bg-destructive")}),o.jsx(pt,{htmlFor:"available",className:Ke(n.available?"text-emerald-500":"text-destructive","font-medium"),children:n.available?"Disponvel":"Indisponvel"})]})})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(je,{type:"button",variant:"outline",onClick:r,disabled:i,children:"Cancelar"}),o.jsx(je,{type:"submit",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mr-2",children:o.jsx("span",{className:"animate-spin inline-block h-4 w-4 border-2 border-current border-t-transparent rounded-full"})}),t?"Atualizando...":"Adicionando..."]}):t?"Atualizar":"Adicionar"})]})]})},A7=({available:t})=>{const e=t?{label:"Disponvel",className:"bg-green-50 text-green-700 border-green-200 hover:bg-green-50",icon:Iw}:{label:"Indisponvel",className:"bg-red-50 text-red-700 border-red-200 hover:bg-red-50",icon:Xq},r=e.icon;return o.jsxs(Ur,{variant:"outline",className:Ke("gap-1.5 font-medium",e.className),children:[o.jsx(r,{className:"w-3 h-3"}),o.jsx("span",{children:e.label})]})},vRe=({schedules:t,onEdit:e,onDelete:r,onToggleAvailability:n,formatDuration:a,isLoading:i=!1})=>{const s=[...t].sort((u,d)=>{const f=["Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Domingo"],m=f.indexOf(u.day),h=f.indexOf(d.day);return m!==h?m-h:u.startTime.localeCompare(d.startTime)}),l=u=>{var g;if(!u.days||u.days.length===0)return u.day;if(u.days.length===1)return u.days[0];if(u.days.length===7)return"Todos os dias";if(["Segunda","Tera","Quarta","Quinta","Sexta"].every(p=>{var y;return(y=u.days)==null?void 0:y.includes(p)})&&((g=u.days)==null?void 0:g.length)===5)return"Segunda a Sexta";const m=["Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Domingo"],h=[...u.days||[]].sort((p,y)=>m.indexOf(p)-m.indexOf(y));let v=!0;for(let p=1;p<h.length;p++)if(m.indexOf(h[p])!==m.indexOf(h[p-1])+1){v=!1;break}return v&&h.length>1?`${h[0]} a ${h[h.length-1]}`:h.join(", ")},c=({schedule:u})=>o.jsxs("div",{className:"bg-card rounded-lg border p-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pn,{size:16,className:"text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:u.startTime})]}),o.jsx("div",{children:o.jsx(Ur,{variant:"outline",className:"font-medium",children:l(u)})}),o.jsx("div",{className:"text-sm text-muted-foreground",children:a(u.duration)})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(u),title:"Editar horrio",className:"text-blue-600",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>r(u.id),title:"Excluir horrio",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"cursor-pointer",onClick:()=>n(u.id,!u.available),children:o.jsx(A7,{available:u.available})})]});return i?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):s.length===0?o.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Nenhum horrio cadastrado"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid gap-4 sm:hidden",children:s.map(u=>o.jsx(c,{schedule:u},u.id))}),o.jsx("div",{className:"hidden sm:block",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Horrio"}),o.jsx(wt,{children:"Dias"}),o.jsx(wt,{children:"Durao"}),o.jsx(wt,{children:"Status"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsx(di,{children:s.map(u=>o.jsxs(dr,{children:[o.jsx(ct,{children:u.startTime}),o.jsx(ct,{children:o.jsx(Ur,{variant:"outline",className:"font-medium",children:l(u)})}),o.jsx(ct,{children:a(u.duration)}),o.jsx(ct,{children:o.jsx("div",{className:"cursor-pointer",onClick:()=>n(u.id,!u.available),children:o.jsx(A7,{available:u.available})})}),o.jsx(ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(u),title:"Editar horrio",className:"text-blue-600",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>r(u.id),title:"Excluir horrio",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})]})})]},u.id))})]})})]})},yRe=({schedules:t,existingAssignments:e,onAssign:r,formatDuration:n,isLoading:a=!1})=>{const[i,s]=N.useState([]),[l,c]=N.useState(!1),[u,d]=N.useState(""),[f,m]=N.useState([]),[h,v]=N.useState([]);N.useEffect(()=>{(async()=>{c(!0);try{const{data:T,error:R}=await ye.from("attendants").select("*");if(R){console.error("Error fetching attendants:",R);return}const D=(T||[]).map(P=>({id:P.id,name:P.name,position:P.position,workDays:P.work_days||[],available:P.available}));s(D)}catch(T){console.error("Error fetching attendants:",T)}finally{c(!1)}})()},[]),N.useEffect(()=>{if(u){const E=e.filter(T=>T.attendantId===u).map(T=>T.scheduleId);v(t.filter(T=>T.available&&!E.includes(T.id))),m([])}else v([])},[u,t,e]);const g=E=>{d(E)},p=E=>{m(T=>T.includes(E)?T.filter(R=>R!==E):[...T,E])},y=()=>{if(!u||f.length===0)return;const E=i.find(T=>T.id===u);E&&(f.forEach(T=>{r({attendantId:u,attendantName:E.name,scheduleId:T})}),m([]))},x=E=>{if(E.days&&E.days.length>1)if(E.days.length>2){const T=E.days[0],R=E.days[E.days.length-1];return`${T} a ${R}`}else return E.days.join(", ");return E.day},w=(()=>{const E={};return h.forEach(T=>{const R=x(T);E[R]||(E[R]=[]),E[R].push(T)}),E})(),_={Segunda:1,Tera:2,Quarta:3,Quinta:4,Sexta:5,Sbado:6,Domingo:7},j=Object.keys(w).sort((E,T)=>{const R=E.split(" ")[0],D=T.split(" ")[0];return(_[R]||99)-(_[D]||99)}),A=E=>[...E].sort((T,R)=>T.startTime.localeCompare(R.startTime));return a||l?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"attendant",children:"Selecionar Atendente"}),o.jsxs(un,{value:u,onValueChange:g,children:[o.jsx(sn,{id:"attendant",className:"w-full",children:o.jsx(dn,{placeholder:"Selecione um atendente"})}),o.jsx(on,{children:i.map(E=>o.jsxs(Vt,{value:E.id,children:[E.name," - ",E.position]},E.id))})]})]}),u&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Horrios Disponveis"}),j.length===0?o.jsx("p",{className:"text-muted-foreground",children:"No h horrios disponveis para atribuio."}):o.jsx("div",{className:"space-y-4",children:j.map(E=>o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:E}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:A(w[E]).map(T=>o.jsx(ot,{className:`cursor-pointer transition-all ${f.includes(T.id)?"border-primary":"hover:border-primary/50"}`,onClick:()=>p(T.id),children:o.jsxs(lt,{className:"p-4 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:T.startTime}),f.includes(T.id)&&o.jsx(Bs,{className:"h-5 w-5 text-primary"})]}),o.jsx("span",{className:"text-sm text-muted-foreground",children:n(T.duration)})]})},T.id))})]},E))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{children:f.length>0&&o.jsxs(Ur,{variant:"outline",className:"text-sm",children:[f.length," horrio(s) selecionado(s)"]})}),o.jsx(je,{onClick:y,disabled:f.length===0,children:"Atribuir Horrios"})]})]})]})},xRe=({assignments:t,onRemove:e,isLoading:r=!1})=>{const n=N.useMemo(()=>t.reduce((l,c)=>(l[c.attendantId]||(l[c.attendantId]={attendantName:c.attendantName,schedules:[]}),l[c.attendantId].schedules.push(c),l),{}),[t]);if(r)return o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})});if(t.length===0)return o.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Nenhum horrio atribudo"});const a=l=>{const c={Segunda:1,Tera:2,Quarta:3,Quinta:4,Sexta:5,Sbado:6,Domingo:7};return[...l].sort((u,d)=>{const f=u.scheduleInfo.split(" - ")[0],m=d.scheduleInfo.split(" - ")[0];if(f!==m)return c[f]-c[m];const h=u.scheduleInfo.split(" - ")[1],v=d.scheduleInfo.split(" - ")[1];return h.localeCompare(v)})},i=(l,c)=>{const u=l.split(" - ")[0],d=t.find(f=>f.scheduleId===c);return d&&d.scheduleInfo.includes(" a ")?d.scheduleInfo.split(" - ")[0]:u},s=({assignment:l})=>{const c=l.scheduleInfo.split(" - "),u=c[1]?c[1]:"",d=c[2]?c[2]:"";return o.jsx("div",{className:"bg-card rounded-lg border p-4 space-y-3",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pn,{size:16,className:"text-muted-foreground"}),o.jsx("span",{className:"font-medium",children:u})]}),o.jsx("div",{children:o.jsx(Ur,{variant:"outline",className:"font-medium",children:i(l.scheduleInfo,l.scheduleId)})}),o.jsx("div",{className:"text-sm text-muted-foreground",children:d})]}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(l.id),title:"Remover horrio",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})]})})};return o.jsx("div",{className:"space-y-8",children:Object.entries(n).map(([l,c])=>o.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:c.attendantName}),o.jsx("div",{className:"grid gap-4 sm:hidden",children:a(c.schedules).map(u=>o.jsx(s,{assignment:u},u.id))}),o.jsx("div",{className:"hidden sm:block",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Dia"}),o.jsx(wt,{children:"Horrio"}),o.jsx(wt,{children:"Durao"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsx(di,{children:a(c.schedules).map(u=>{const d=u.scheduleInfo.split(" - "),f=d[1]?d[1]:"",m=d[2]?d[2]:"";return o.jsxs(dr,{children:[o.jsx(ct,{children:o.jsx(Ur,{variant:"outline",className:"font-medium",children:i(u.scheduleInfo,u.scheduleId)})}),o.jsx(ct,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pn,{size:16,className:"text-muted-foreground"}),o.jsx("span",{children:f})]})}),o.jsx(ct,{children:m}),o.jsx(ct,{className:"text-right",children:o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(u.id),title:"Remover horrio",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})})]},u.id)})})]})})]},l))})},bRe=()=>{const[t,e]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!1),[s,l]=N.useState(null);return{schedules:t,assignments:r,isLoading:a,error:s,fetchSchedules:async()=>{try{i(!0),l(null);const{data:p,error:y}=await ye.from("schedules").select("*").order("day");if(y)return l("Erro ao carregar horrios"),console.error("Error fetching schedules:",y),Oe.error("Erro ao carregar horrios"),!1;const x=p.map(b=>({id:b.id,day:b.day,days:b.days||[b.day],startTime:b.start_time,duration:b.duration,available:b.available}));return e(x),!0}catch(p){return l("Erro ao carregar horrios"),console.error("Error fetching schedules:",p),Oe.error("Erro ao carregar horrios"),!1}finally{i(!1)}},fetchAssignments:async()=>{try{i(!0),l(null);const{data:p,error:y}=await ye.from("schedule_assignments").select("*");if(y)return l("Erro ao carregar atribuies de horrios"),console.error("Error fetching schedule assignments:",y),Oe.error("Erro ao carregar atribuies de horrios"),!1;const x=p.map(b=>({id:b.id,attendantId:b.attendant_id,attendantName:b.attendant_name,scheduleId:b.schedule_id,scheduleInfo:b.schedule_info}));return n(x),!0}catch(p){return l("Erro ao carregar atribuies de horrios"),console.error("Error fetching schedule assignments:",p),Oe.error("Erro ao carregar atribuies de horrios"),!1}finally{i(!1)}},addSchedule:async p=>{var y;try{l(null);const x={...p,id:Mo(),day:((y=p.days)==null?void 0:y[0])||p.day},{error:b}=await ye.from("schedules").insert({id:x.id,day:x.day,days:x.days||[x.day],start_time:x.startTime,duration:x.duration,available:x.available});return b?(l("Erro ao adicionar horrio"),console.error("Error adding schedule:",b),Oe.error("Erro ao adicionar horrio"),!1):(e(w=>[...w,x]),Oe.success("Horrio adicionado com sucesso"),!0)}catch(x){return l("Erro ao adicionar horrio"),console.error("Error adding schedule:",x),Oe.error("Erro ao adicionar horrio"),!1}},updateSchedule:async p=>{try{l(null);const{error:y}=await ye.from("schedules").update({day:p.day,days:p.days||[p.day],start_time:p.startTime,duration:p.duration,available:p.available}).eq("id",p.id);return y?(l("Erro ao atualizar horrio"),console.error("Error updating schedule:",y),Oe.error("Erro ao atualizar horrio"),!1):(e(x=>x.map(b=>b.id===p.id?p:b)),Oe.success("Horrio atualizado com sucesso"),!0)}catch(y){return l("Erro ao atualizar horrio"),console.error("Error updating schedule:",y),Oe.error("Erro ao atualizar horrio"),!1}},deleteSchedule:async p=>{try{if(l(null),r.some(b=>b.scheduleId===p))return l("No  possvel excluir um horrio que est atribudo a um atendente"),Oe.error("No  possvel excluir um horrio que est atribudo a um atendente"),!1;const{error:x}=await ye.from("schedules").delete().eq("id",p);return x?(l("Erro ao excluir horrio"),console.error("Error deleting schedule:",x),Oe.error("Erro ao excluir horrio"),!1):(e(b=>b.filter(w=>w.id!==p)),Oe.success("Horrio excludo com sucesso"),!0)}catch(y){return l("Erro ao excluir horrio"),console.error("Error deleting schedule:",y),Oe.error("Erro ao excluir horrio"),!1}},toggleScheduleAvailability:async(p,y)=>{try{l(null);const{error:x}=await ye.from("schedules").update({available:y}).eq("id",p);return x?(l("Erro ao alterar disponibilidade do horrio"),console.error("Error toggling schedule availability:",x),Oe.error("Erro ao alterar disponibilidade do horrio"),!1):(e(b=>b.map(w=>w.id===p?{...w,available:y}:w)),Oe.success(`Horrio ${y?"disponibilizado":"indisponibilizado"} com sucesso`),!0)}catch(x){return l("Erro ao alterar disponibilidade do horrio"),console.error("Error toggling schedule availability:",x),Oe.error("Erro ao alterar disponibilidade do horrio"),!1}},assignSchedule:async p=>{try{l(null);const y=t.find(j=>j.id===p.scheduleId);if(!y)return l("Horrio no encontrado"),Oe.error("Horrio no encontrado"),!1;let x=y.day;if(y.days&&y.days.length>1)if(y.days.length>2){const j=y.days[0],A=y.days[y.days.length-1];x=`${j} a ${A}`}else x=y.days.join(", ");const b=`${x} - ${y.startTime} - ${y.duration} minutos`,w={...p,id:Mo(),scheduleInfo:b},{error:_}=await ye.from("schedule_assignments").insert({id:w.id,attendant_id:w.attendantId,attendant_name:w.attendantName,schedule_id:w.scheduleId,schedule_info:w.scheduleInfo});return _?(l("Erro ao atribuir horrio"),console.error("Error assigning schedule:",_),Oe.error("Erro ao atribuir horrio"),!1):(n(j=>[...j,w]),Oe.success("Horrio atribudo com sucesso"),!0)}catch(y){return l("Erro ao atribuir horrio"),console.error("Error assigning schedule:",y),Oe.error("Erro ao atribuir horrio"),!1}},removeAssignment:async p=>{try{l(null);const{error:y}=await ye.from("schedule_assignments").delete().eq("id",p);return y?(l("Erro ao remover atribuio"),console.error("Error removing assignment:",y),Oe.error("Erro ao remover atribuio"),!1):(n(x=>x.filter(b=>b.id!==p)),Oe.success("Atribuio removida com sucesso"),!0)}catch(y){return l("Erro ao remover atribuio"),console.error("Error removing assignment:",y),Oe.error("Erro ao remover atribuio"),!1}}}},E7=t=>{if(t<60)return`${t} minutos`;if(t===60)return"1 hora";{const e=Math.floor(t/60),r=t%60;return r>0?`${e} hora${e>1?"s":""} e ${r} minutos`:`${e} hora${e>1?"s":""}`}},wRe=()=>{const t=Ki(),e=ac(),{schedules:r,assignments:n,isLoading:a,error:i,fetchSchedules:s,fetchAssignments:l,addSchedule:c,updateSchedule:u,deleteSchedule:d,toggleScheduleAvailability:f,assignSchedule:m,removeAssignment:h}=bRe(),[v,g]=N.useState(null),[p,y]=N.useState(!1),[x,b]=N.useState("schedules");N.useEffect(()=>{if((async()=>{await s(),await l()})(),e.state){const{tab:q,form:G,schedule:re}=e.state;q&&b(q),G!==void 0&&y(G),re&&g(re)}},[]);const w=(H,q,G)=>{t("/horarios",{replace:!0,state:{tab:H,form:q,schedule:G}})},_=H=>{b(H),y(!1),g(null),w(H,!1,null)},j=()=>{g(null),y(!0),w(x,!0,null)},A=H=>{u(H),g(null),y(!1),w(x,!1,null)},E=async H=>{await d(H)},T=H=>{g(H),y(!0),w(x,!0,H)},R=()=>{y(!1),g(null),w(x,!1,null)},D=async(H,q)=>{await f(H,q)},P=async H=>{await m(H)},I=async H=>{await h(H)},L={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},V={hidden:{opacity:0,y:20},visible:{y:0,opacity:1},exit:{y:-20,opacity:0}};return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-4 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:L,children:[o.jsxs(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",variants:V,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[p&&o.jsx(je,{variant:"outline",size:"icon",onClick:R,className:"mr-2",children:o.jsx(yl,{size:16})}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:p?v?"Editar Horrio":"Novo Horrio":"Gerenciamento de Horrios"})]}),!p&&x==="schedules"&&o.jsxs(je,{onClick:j,className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[o.jsx(ms,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Novo Horrio"}),o.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),o.jsx(Gi,{mode:"wait",children:p?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsxs(ot,{className:"w-full",children:[o.jsx(Ot,{children:o.jsx(It,{children:v?"Editar Horrio":"Novo Horrio"})}),o.jsx(lt,{children:o.jsx(gRe,{schedule:v,onSave:v?A:c,onCancel:R})})]})},"form"):o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsxs(ot,{className:"w-full",children:[o.jsx(Ot,{children:o.jsx(It,{children:"Horrios"})}),o.jsx(lt,{children:o.jsxs(ys,{value:x,onValueChange:_,className:"w-full",children:[o.jsxs(Di,{className:"grid w-full grid-cols-3 gap-2 sm:gap-0",children:[o.jsxs(qt,{value:"schedules",className:"flex items-center justify-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Horrios Disponveis"}),o.jsx("span",{className:"sm:hidden",children:"Disponveis"})]}),o.jsxs(qt,{value:"assignments",className:"flex items-center justify-center gap-2",children:[o.jsx(bv,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Atribuir Horrios"}),o.jsx("span",{className:"sm:hidden",children:"Atribuir"})]}),o.jsxs(qt,{value:"assigned",className:"flex items-center justify-center gap-2",children:[o.jsx(xl,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Horrios Atribudos"}),o.jsx("span",{className:"sm:hidden",children:"Atribudos"})]})]}),o.jsx(nr,{value:"schedules",className:"mt-6",children:a?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):i?o.jsxs("div",{className:"py-6 text-center",children:[o.jsx("p",{className:"text-destructive",children:i}),o.jsx(je,{variant:"outline",className:"mt-2",onClick:()=>window.location.reload(),children:"Tentar novamente"})]}):o.jsx(vRe,{schedules:r,onEdit:T,onDelete:E,onToggleAvailability:D,formatDuration:E7,isLoading:a})}),o.jsx(nr,{value:"assignments",className:"mt-6",children:a?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):i?o.jsxs("div",{className:"py-6 text-center",children:[o.jsx("p",{className:"text-destructive",children:i}),o.jsx(je,{variant:"outline",className:"mt-2",onClick:()=>window.location.reload(),children:"Tentar novamente"})]}):o.jsx(yRe,{schedules:r,existingAssignments:n,onAssign:P,formatDuration:E7,isLoading:a})}),o.jsx(nr,{value:"assigned",className:"mt-6",children:a?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):i?o.jsxs("div",{className:"py-6 text-center",children:[o.jsx("p",{className:"text-destructive",children:i}),o.jsx(je,{variant:"outline",className:"mt-2",onClick:()=>window.location.reload(),children:"Tentar novamente"})]}):o.jsx(xRe,{assignments:n,onRemove:I,isLoading:a})})]})})]})},"list")})]})})},C7=({available:t})=>{const e=t?{label:"Disponvel",className:"bg-green-50 text-green-700 border-green-200 hover:bg-green-50",icon:Iw}:{label:"Indisponvel",className:"bg-red-50 text-red-700 border-red-200 hover:bg-red-50",icon:Xq},r=e.icon;return o.jsxs(Ur,{variant:"outline",className:Ke("gap-1.5 font-medium",e.className),children:[o.jsx(r,{className:"w-3 h-3"}),o.jsx("span",{children:e.label})]})},SRe=({services:t,onEdit:e,onDelete:r,onToggleAvailability:n,formatDuration:a,formatPrice:i})=>{const s=[...t].sort((c,u)=>c.name.localeCompare(u.name)),l=({service:c})=>o.jsxs("div",{className:"bg-card rounded-lg border p-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:c.name}),o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-muted-foreground text-sm",children:[o.jsx(Ql,{size:14}),i(c.price)]}),o.jsxs("div",{className:"flex items-center gap-1 mt-1 text-muted-foreground text-sm",children:[o.jsx(pn,{size:14}),a(c.duration)]})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(c),className:"text-blue-600",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>r(c.id),className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})]})]}),o.jsx("div",{onClick:()=>n(c.id,!c.available),className:"cursor-pointer w-fit",children:o.jsx(C7,{available:c.available})})]});return s.length===0?o.jsx("div",{className:"text-center py-6 text-muted-foreground",children:"Nenhum servio cadastrado"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid gap-4 sm:hidden",children:s.map(c=>o.jsx(l,{service:c},c.id))}),o.jsx("div",{className:"hidden sm:block overflow-x-auto",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Nome do Servio"}),o.jsx(wt,{children:"Preo"}),o.jsx(wt,{children:"Durao"}),o.jsx(wt,{children:"Status"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsx(di,{children:s.map(c=>o.jsxs(dr,{children:[o.jsx(ct,{className:"font-medium",children:c.name}),o.jsx(ct,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ql,{size:16,className:"text-muted-foreground"}),i(c.price)]})}),o.jsx(ct,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(pn,{size:16,className:"text-muted-foreground"}),a(c.duration)]})}),o.jsx(ct,{children:o.jsx("div",{onClick:()=>n(c.id,!c.available),className:"cursor-pointer w-fit",children:o.jsx(C7,{available:c.available})})}),o.jsx(ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(c),title:"Editar servio",className:"text-blue-600",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>r(c.id),title:"Excluir servio",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})]})})]},c.id))})]})})]})},_Re=({service:t,onSave:e,onCancel:r})=>{const[n,a]=N.useState({id:"",name:"",price:0,duration:30,available:!0}),[i,s]=N.useState(!1);N.useEffect(()=>{t&&(a(t),[15,30,45,60,90,120].includes(t.duration)||s(!0))},[t]);const l=f=>{const{name:m,value:h}=f.target;if(m==="price"){const v=parseFloat(h)||0;a(g=>({...g,[m]:v}))}else if(m==="duration"){const v=parseInt(h)||0;a(g=>({...g,[m]:v}))}else a(v=>({...v,[m]:h}))},c=f=>{a(m=>({...m,available:f}))},u=f=>{a(m=>({...m,duration:parseInt(f)}))},d=f=>{f.preventDefault(),e(n)};return o.jsxs("form",{onSubmit:d,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"name",children:"Nome do Servio"}),o.jsx(mt,{id:"name",name:"name",value:n.name,onChange:l,placeholder:"Nome do servio",required:!0})]}),o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"price",children:"Preo (R$)"}),o.jsx(mt,{id:"price",name:"price",type:"number",min:"0",step:"0.01",value:n.price,onChange:l,placeholder:"0.00",required:!0})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx(pt,{htmlFor:"duration",children:"Durao (minutos)"}),o.jsx(je,{type:"button",variant:"outline",size:"sm",onClick:()=>s(!i),children:i?"Usar Opes Pr-definidas":"Inserir Manualmente"})]}),i?o.jsx(mt,{id:"duration",name:"duration",type:"number",min:"1",value:n.duration,onChange:l,placeholder:"Durao em minutos",required:!0}):o.jsxs(un,{value:n.duration.toString(),onValueChange:u,children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione a durao"})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"15",children:"15 minutos"}),o.jsx(Vt,{value:"30",children:"30 minutos"}),o.jsx(Vt,{value:"45",children:"45 minutos"}),o.jsx(Vt,{value:"60",children:"1 hora"}),o.jsx(Vt,{value:"90",children:"1 hora e 30 minutos"}),o.jsx(Vt,{value:"120",children:"2 horas"})]})]})]}),o.jsx("div",{children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fs,{id:"available",checked:n.available,onCheckedChange:c,className:Ke("data-[state=checked]:bg-emerald-500","data-[state=unchecked]:bg-destructive")}),o.jsx(pt,{htmlFor:"available",className:Ke(n.available?"text-emerald-500":"text-destructive","font-medium"),children:n.available?"Disponvel":"Indisponvel"})]})})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(je,{type:"button",variant:"outline",onClick:r,children:"Cancelar"}),o.jsx(je,{type:"submit",children:t?"Atualizar":"Adicionar"})]})]})},jRe=({services:t,existingAssignments:e,onAssign:r,formatDuration:n,formatPrice:a})=>{const[i,s]=N.useState(""),[l,c]=N.useState([]),[u,d]=N.useState([]),[f,m]=N.useState([]),[h,v]=N.useState(!1),{toast:g}=ga();N.useEffect(()=>{(async()=>{v(!0);try{const{data:w,error:_}=await ye.from("attendants").select("*").order("name");if(_){console.error("Error fetching attendants:",_);return}const j=(w||[]).map(A=>({id:A.id,name:A.name,position:A.position,workDays:A.work_days||[],available:A.available}));m(j)}catch(w){console.error("Error fetching attendants:",w)}finally{v(!1)}})()},[]),N.useEffect(()=>{if(i){const b=e.filter(w=>w.attendantId===i).map(w=>w.serviceId);d(t.filter(w=>w.available&&!b.includes(w.id))),c([])}else d([])},[i,t,e]);const p=b=>{s(b)},y=b=>{c(w=>w.includes(b)?w.filter(_=>_!==b):[...w,b])},x=()=>{if(!i||l.length===0)return;const b=f.find(_=>_.id===i);if(!b)return;const w=l.map(_=>{const j=t.find(A=>A.id===_);return{attendantId:i,attendantName:b.name,attendantPosition:b.position,serviceId:_,serviceName:j==null?void 0:j.name,servicePrice:j==null?void 0:j.price,serviceDuration:j==null?void 0:j.duration}});w.forEach(_=>{r(_)}),g({title:"Servios atribudos",description:`${w.length} servio(s) foram atribudos a ${b.name} com sucesso.`}),c([])};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"attendant",children:"Selecionar Atendente"}),o.jsxs(un,{value:i,onValueChange:p,disabled:h,children:[o.jsx(sn,{id:"attendant",className:"w-full",children:o.jsx(dn,{placeholder:h?"Carregando atendentes...":"Selecione um atendente"})}),o.jsx(on,{children:f.map(b=>o.jsxs(Vt,{value:b.id,children:[b.name," - ",b.position]},b.id))})]})]}),i&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium mb-4",children:"Servios Disponveis"}),u.length===0?o.jsx("p",{className:"text-muted-foreground",children:"No h servios disponveis para atribuio."}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:u.map(b=>o.jsx(ot,{className:`cursor-pointer transition-all ${l.includes(b.id)?"border-primary":"hover:border-primary/50"}`,onClick:()=>y(b.id),children:o.jsxs(lt,{className:"p-4 flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("h4",{className:"font-medium",children:b.name}),l.includes(b.id)&&o.jsx(Bs,{className:"h-5 w-5 text-primary"})]}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(Ql,{size:16}),o.jsx("span",{children:a(b.price)})]}),o.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[o.jsx(pn,{size:16}),o.jsx("span",{children:n(b.duration)})]})]})},b.id))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{children:l.length>0&&o.jsxs(Ur,{variant:"outline",className:"text-sm",children:[l.length," servio(s) selecionado(s)"]})}),o.jsx(je,{onClick:x,disabled:l.length===0,children:"Atribuir Servios"})]})]})]})},NRe=({assignments:t,onRemove:e,formatDuration:r,formatPrice:n})=>{const a=N.useMemo(()=>t.reduce((l,c)=>(l[c.attendantId]||(l[c.attendantId]={attendantName:c.attendantName,attendantPosition:c.attendantPosition,services:[]}),l[c.attendantId].services.push(c),l),{}),[t]),i=l=>[...l].sort((c,u)=>c.serviceName.localeCompare(u.serviceName)),s=({assignment:l})=>o.jsx("div",{className:"bg-card rounded-lg border p-4 space-y-3",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:l.serviceName}),o.jsxs("div",{className:"flex items-center gap-1 mt-2 text-muted-foreground text-sm",children:[o.jsx(Ql,{size:14}),n(l.servicePrice)]}),o.jsxs("div",{className:"flex items-center gap-1 mt-1 text-muted-foreground text-sm",children:[o.jsx(pn,{size:14}),r(l.serviceDuration)]})]}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(l.id),title:"Remover servio",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})]})});return t.length===0?o.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Nenhum servio atribudo"}):o.jsx("div",{className:"space-y-8",children:Object.entries(a).map(([l,c])=>o.jsxs("div",{className:"bg-card p-4 rounded-lg border",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:c.attendantName}),o.jsx("p",{className:"text-muted-foreground",children:c.attendantPosition})]}),o.jsx("div",{className:"grid gap-4 sm:hidden",children:i(c.services).map(u=>o.jsx(s,{assignment:u},u.id))}),o.jsx("div",{className:"hidden sm:block overflow-x-auto",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Servio"}),o.jsx(wt,{children:"Preo"}),o.jsx(wt,{children:"Durao"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsx(di,{children:i(c.services).map(u=>o.jsxs(dr,{children:[o.jsx(ct,{className:"font-medium",children:o.jsx(Ur,{variant:"outline",className:"font-medium",children:u.serviceName})}),o.jsx(ct,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ql,{size:16,className:"text-muted-foreground"}),n(u.servicePrice)]})}),o.jsx(ct,{children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(pn,{size:16,className:"text-muted-foreground"}),r(u.serviceDuration)]})}),o.jsx(ct,{className:"text-right",children:o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(u.id),title:"Remover servio",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})})]},u.id))})]})})]},l))})},ARe=()=>{const[t,e]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState(!0),[s,l]=N.useState(null),{toast:c}=ga(),u=async()=>{i(!0),l(null);try{const{data:y,error:x}=await ye.from("services").select("*").order("name");if(x)throw x;const b=y.map(w=>({id:w.id,name:w.name,price:Number(w.price),duration:w.duration,available:w.available}));e(b)}catch(y){console.error("Error fetching services:",y),l("Falha ao carregar servios."),c({title:"Erro",description:"No foi possvel carregar os servios.",variant:"destructive"})}finally{i(!1)}},d=async()=>{i(!0),l(null);try{const{data:y,error:x}=await ye.from("service_assignments").select("*");if(x)throw x;const b=y.map(w=>({id:w.id,serviceId:w.service_id,serviceName:w.service_name,servicePrice:Number(w.service_price),serviceDuration:w.service_duration,attendantId:w.attendant_id,attendantName:w.attendant_name,attendantPosition:w.attendant_position}));n(b)}catch(y){console.error("Error fetching service assignments:",y),l("Falha ao carregar atribuies de servios."),c({title:"Erro",description:"No foi possvel carregar as atribuies de servios.",variant:"destructive"})}finally{i(!1)}},f=async y=>{try{const{data:x,error:b}=await ye.from("services").insert([{name:y.name,price:y.price,duration:y.duration,available:y.available}]).select().single();if(b)throw b;const w={id:x.id,name:x.name,price:Number(x.price),duration:x.duration,available:x.available};return e(_=>[..._,w]),c({title:"Sucesso",description:"Servio adicionado com sucesso."}),w}catch(x){throw console.error("Error adding service:",x),c({title:"Erro",description:"No foi possvel adicionar o servio.",variant:"destructive"}),x}},m=async y=>{try{const{error:x}=await ye.from("services").update({name:y.name,price:y.price,duration:y.duration,available:y.available,updated_at:new Date().toISOString()}).eq("id",y.id);if(x)throw x;return e(b=>b.map(w=>w.id===y.id?y:w)),n(b=>b.map(w=>w.serviceId===y.id?{...w,serviceName:y.name,servicePrice:y.price,serviceDuration:y.duration}:w)),await ye.from("service_assignments").update({service_name:y.name,service_price:y.price,service_duration:y.duration,updated_at:new Date().toISOString()}).eq("service_id",y.id),c({title:"Sucesso",description:"Servio atualizado com sucesso."}),y}catch(x){throw console.error("Error updating service:",x),c({title:"Erro",description:"No foi possvel atualizar o servio.",variant:"destructive"}),x}},h=async y=>{try{const{error:x}=await ye.from("service_assignments").delete().eq("service_id",y);if(x)throw x;const{error:b}=await ye.from("services").delete().eq("id",y);if(b)throw b;e(w=>w.filter(_=>_.id!==y)),n(w=>w.filter(_=>_.serviceId!==y)),c({title:"Sucesso",description:"Servio removido com sucesso."})}catch(x){throw console.error("Error deleting service:",x),c({title:"Erro",description:"No foi possvel remover o servio.",variant:"destructive"}),x}},v=async(y,x)=>{try{const{error:b}=await ye.from("services").update({available:x,updated_at:new Date().toISOString()}).eq("id",y);if(b)throw b;e(w=>w.map(_=>_.id===y?{..._,available:x}:_)),c({title:"Sucesso",description:`Servio ${x?"disponibilizado":"indisponibilizado"} com sucesso.`})}catch(b){throw console.error("Error toggling service availability:",b),c({title:"Erro",description:"No foi possvel alterar a disponibilidade do servio.",variant:"destructive"}),b}},g=async y=>{try{const x=t.find(j=>j.id===y.serviceId);if(!x)throw new Error("Servio no encontrado.");const{data:b,error:w}=await ye.from("service_assignments").insert([{service_id:y.serviceId,service_name:x.name,service_price:x.price,service_duration:x.duration,attendant_id:y.attendantId,attendant_name:y.attendantName,attendant_position:y.attendantPosition}]).select().single();if(w)throw w;const _={id:b.id,serviceId:b.service_id,serviceName:b.service_name,servicePrice:Number(b.service_price),serviceDuration:b.service_duration,attendantId:b.attendant_id,attendantName:b.attendant_name,attendantPosition:b.attendant_position};return n(j=>[...j,_]),c({title:"Sucesso",description:"Servio atribudo com sucesso."}),_}catch(x){throw console.error("Error assigning service:",x),c({title:"Erro",description:"No foi possvel atribuir o servio.",variant:"destructive"}),x}},p=async y=>{try{const{error:x}=await ye.from("service_assignments").delete().eq("id",y);if(x)throw x;n(b=>b.filter(w=>w.id!==y)),c({title:"Sucesso",description:"Atribuio removida com sucesso."})}catch(x){throw console.error("Error removing assignment:",x),c({title:"Erro",description:"No foi possvel remover a atribuio.",variant:"destructive"}),x}};return N.useEffect(()=>{(async()=>{await u(),await d()})()},[]),{services:t,assignments:r,isLoading:a,error:s,addService:f,updateService:m,deleteService:h,toggleServiceAvailability:v,assignService:g,removeAssignment:p,reloadServices:u,reloadAssignments:d}},ERe={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},CRe={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},TRe=()=>{const t=Ki(),e=ac(),{services:r,assignments:n,isLoading:a,error:i,addService:s,updateService:l,deleteService:c,toggleServiceAvailability:u,assignService:d,removeAssignment:f}=ARe(),[m,h]=N.useState("manage"),[v,g]=N.useState(!1),[p,y]=N.useState(null);N.useEffect(()=>{if(e.state){const{tab:L,form:V,service:H}=e.state;L&&h(L),V!==void 0&&g(V),H&&y(H)}},[e]);const x=(L,V,H)=>{t("/servicos",{replace:!0,state:{tab:L,form:V,service:H}})},b=L=>{h(L),g(!1),y(null),x(L,!1,null)},w=()=>{y(null),g(!0),x(m,!0,null)},_=L=>{y(L),g(!0),x(m,!0,L)},j=()=>{g(!1),y(null),x(m,!1,null)},A=async L=>{p?await l(L):await s(L),j()},E=async L=>{await c(L)},T=async(L,V)=>{await u(L,V)},R=async L=>{await d(L)},D=async L=>{await f(L)},P=L=>{if(L<60)return`${L} minutos`;const V=Math.floor(L/60),H=L%60;return H===0?`${V} hora${V>1?"s":""}`:`${V} hora${V>1?"s":""} e ${H} minutos`},I=L=>`R$ ${L.toFixed(2)}`;return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-4 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:ERe,children:[o.jsxs(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",variants:CRe,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[v&&o.jsx(je,{variant:"outline",size:"icon",onClick:j,className:"mr-2",children:o.jsx(yl,{size:16})}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:v?p?"Editar Servio":"Novo Servio":"Gerenciamento de Servios"})]}),!v&&m==="manage"&&o.jsxs(je,{onClick:w,className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[o.jsx(ms,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Novo Servio"}),o.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),o.jsx(Gi,{mode:"wait",children:v?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsxs(ot,{className:"w-full",children:[o.jsx(Ot,{children:o.jsx(It,{children:p?"Editar Servio":"Novo Servio"})}),o.jsx(lt,{children:o.jsx(_Re,{service:p,onSave:A,onCancel:j})})]})},"form"):o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsxs(ot,{className:"w-full",children:[o.jsx(Ot,{children:o.jsx(It,{children:"Servios"})}),o.jsx(lt,{children:o.jsxs(ys,{value:m,onValueChange:b,className:"w-full",children:[o.jsxs(Di,{className:"grid w-full grid-cols-3 gap-2 sm:gap-0",children:[o.jsxs(qt,{value:"manage",className:"flex items-center justify-center gap-2",children:[o.jsx(xde,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Gerenciar Servios"}),o.jsx("span",{className:"sm:hidden",children:"Gerenciar"})]}),o.jsxs(qt,{value:"assign",className:"flex items-center justify-center gap-2",children:[o.jsx(bv,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Atribuir Servios"}),o.jsx("span",{className:"sm:hidden",children:"Atribuir"})]}),o.jsxs(qt,{value:"assigned",className:"flex items-center justify-center gap-2",children:[o.jsx(xl,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Servios Atribudos"}),o.jsx("span",{className:"sm:hidden",children:"Atribudos"})]})]}),o.jsx(nr,{value:"manage",className:"mt-6",children:a?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):i?o.jsxs("div",{className:"py-6 text-center",children:[o.jsx("p",{className:"text-destructive",children:i}),o.jsx(je,{variant:"outline",className:"mt-2",onClick:()=>window.location.reload(),children:"Tentar novamente"})]}):o.jsx(SRe,{services:r,onEdit:_,onDelete:E,onToggleAvailability:T,formatDuration:P,formatPrice:I})}),o.jsx(nr,{value:"assign",className:"mt-6",children:a?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):i?o.jsxs("div",{className:"py-6 text-center",children:[o.jsx("p",{className:"text-destructive",children:i}),o.jsx(je,{variant:"outline",className:"mt-2",onClick:()=>window.location.reload(),children:"Tentar novamente"})]}):o.jsx(jRe,{services:r,existingAssignments:n,onAssign:R,formatDuration:P,formatPrice:I})}),o.jsx(nr,{value:"assigned",className:"mt-6",children:a?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):i?o.jsxs("div",{className:"py-6 text-center",children:[o.jsx("p",{className:"text-destructive",children:i}),o.jsx(je,{variant:"outline",className:"mt-2",onClick:()=>window.location.reload(),children:"Tentar novamente"})]}):o.jsx(NRe,{assignments:n,onRemove:D,formatDuration:P,formatPrice:I})})]})})]})},"list")})]})})},Zo=({title:t,value:e,description:r,icon:n,iconColor:a="text-primary",isLoading:i=!1})=>o.jsxs(ot,{children:[o.jsxs(Ot,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsx(It,{className:"text-sm font-medium",children:t}),o.jsx(n,{className:`h-4 w-4 ${a}`})]}),o.jsx(lt,{children:i?o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-7 w-24 bg-muted rounded"}),r&&o.jsx("div",{className:"h-4 w-32 bg-muted rounded mt-1"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-2xl font-bold",children:e}),r&&o.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})})]});var kRe=Array.isArray,Ho=kRe,PRe=typeof Rs=="object"&&Rs&&Rs.Object===Object&&Rs,ere=PRe,DRe=ere,ORe=typeof self=="object"&&self&&self.Object===Object&&self,IRe=DRe||ORe||Function("return this")(),id=IRe,MRe=id,RRe=MRe.Symbol,h2=RRe,T7=h2,tre=Object.prototype,LRe=tre.hasOwnProperty,FRe=tre.toString,Fx=T7?T7.toStringTag:void 0;function $Re(t){var e=LRe.call(t,Fx),r=t[Fx];try{t[Fx]=void 0;var n=!0}catch{}var a=FRe.call(t);return n&&(e?t[Fx]=r:delete t[Fx]),a}var BRe=$Re,URe=Object.prototype,zRe=URe.toString;function VRe(t){return zRe.call(t)}var HRe=VRe,k7=h2,WRe=BRe,qRe=HRe,GRe="[object Null]",YRe="[object Undefined]",P7=k7?k7.toStringTag:void 0;function KRe(t){return t==null?t===void 0?YRe:GRe:P7&&P7 in Object(t)?WRe(t):qRe(t)}var mf=KRe;function XRe(t){return t!=null&&typeof t=="object"}var pf=XRe,ZRe=mf,QRe=pf,JRe="[object Symbol]";function e6e(t){return typeof t=="symbol"||QRe(t)&&ZRe(t)==JRe}var Iy=e6e,t6e=Ho,r6e=Iy,n6e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a6e=/^\w*$/;function i6e(t,e){if(t6e(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||r6e(t)?!0:a6e.test(t)||!n6e.test(t)||e!=null&&t in Object(e)}var sR=i6e;function s6e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var um=s6e;const My=bn(um);var o6e=mf,l6e=um,c6e="[object AsyncFunction]",u6e="[object Function]",d6e="[object GeneratorFunction]",f6e="[object Proxy]";function h6e(t){if(!l6e(t))return!1;var e=o6e(t);return e==u6e||e==d6e||e==c6e||e==f6e}var oR=h6e;const br=bn(oR);var m6e=id,p6e=m6e["__core-js_shared__"],g6e=p6e,d4=g6e,D7=function(){var t=/[^.]+$/.exec(d4&&d4.keys&&d4.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function v6e(t){return!!D7&&D7 in t}var y6e=v6e,x6e=Function.prototype,b6e=x6e.toString;function w6e(t){if(t!=null){try{return b6e.call(t)}catch{}try{return t+""}catch{}}return""}var rre=w6e,S6e=oR,_6e=y6e,j6e=um,N6e=rre,A6e=/[\\^$.*+?()[\]{}|]/g,E6e=/^\[object .+?Constructor\]$/,C6e=Function.prototype,T6e=Object.prototype,k6e=C6e.toString,P6e=T6e.hasOwnProperty,D6e=RegExp("^"+k6e.call(P6e).replace(A6e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O6e(t){if(!j6e(t)||_6e(t))return!1;var e=S6e(t)?D6e:E6e;return e.test(N6e(t))}var I6e=O6e;function M6e(t,e){return t==null?void 0:t[e]}var R6e=M6e,L6e=I6e,F6e=R6e;function $6e(t,e){var r=F6e(t,e);return L6e(r)?r:void 0}var hg=$6e,B6e=hg,U6e=B6e(Object,"create"),YE=U6e,O7=YE;function z6e(){this.__data__=O7?O7(null):{},this.size=0}var V6e=z6e;function H6e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var W6e=H6e,q6e=YE,G6e="__lodash_hash_undefined__",Y6e=Object.prototype,K6e=Y6e.hasOwnProperty;function X6e(t){var e=this.__data__;if(q6e){var r=e[t];return r===G6e?void 0:r}return K6e.call(e,t)?e[t]:void 0}var Z6e=X6e,Q6e=YE,J6e=Object.prototype,eLe=J6e.hasOwnProperty;function tLe(t){var e=this.__data__;return Q6e?e[t]!==void 0:eLe.call(e,t)}var rLe=tLe,nLe=YE,aLe="__lodash_hash_undefined__";function iLe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nLe&&e===void 0?aLe:e,this}var sLe=iLe,oLe=V6e,lLe=W6e,cLe=Z6e,uLe=rLe,dLe=sLe;function Ry(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ry.prototype.clear=oLe;Ry.prototype.delete=lLe;Ry.prototype.get=cLe;Ry.prototype.has=uLe;Ry.prototype.set=dLe;var fLe=Ry;function hLe(){this.__data__=[],this.size=0}var mLe=hLe;function pLe(t,e){return t===e||t!==t&&e!==e}var lR=pLe,gLe=lR;function vLe(t,e){for(var r=t.length;r--;)if(gLe(t[r][0],e))return r;return-1}var KE=vLe,yLe=KE,xLe=Array.prototype,bLe=xLe.splice;function wLe(t){var e=this.__data__,r=yLe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():bLe.call(e,r,1),--this.size,!0}var SLe=wLe,_Le=KE;function jLe(t){var e=this.__data__,r=_Le(e,t);return r<0?void 0:e[r][1]}var NLe=jLe,ALe=KE;function ELe(t){return ALe(this.__data__,t)>-1}var CLe=ELe,TLe=KE;function kLe(t,e){var r=this.__data__,n=TLe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var PLe=kLe,DLe=mLe,OLe=SLe,ILe=NLe,MLe=CLe,RLe=PLe;function Ly(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ly.prototype.clear=DLe;Ly.prototype.delete=OLe;Ly.prototype.get=ILe;Ly.prototype.has=MLe;Ly.prototype.set=RLe;var XE=Ly,LLe=hg,FLe=id,$Le=LLe(FLe,"Map"),cR=$Le,I7=fLe,BLe=XE,ULe=cR;function zLe(){this.size=0,this.__data__={hash:new I7,map:new(ULe||BLe),string:new I7}}var VLe=zLe;function HLe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var WLe=HLe,qLe=WLe;function GLe(t,e){var r=t.__data__;return qLe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var ZE=GLe,YLe=ZE;function KLe(t){var e=YLe(this,t).delete(t);return this.size-=e?1:0,e}var XLe=KLe,ZLe=ZE;function QLe(t){return ZLe(this,t).get(t)}var JLe=QLe,eFe=ZE;function tFe(t){return eFe(this,t).has(t)}var rFe=tFe,nFe=ZE;function aFe(t,e){var r=nFe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var iFe=aFe,sFe=VLe,oFe=XLe,lFe=JLe,cFe=rFe,uFe=iFe;function Fy(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fy.prototype.clear=sFe;Fy.prototype.delete=oFe;Fy.prototype.get=lFe;Fy.prototype.has=cFe;Fy.prototype.set=uFe;var uR=Fy,nre=uR,dFe="Expected a function";function dR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(dFe);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=t.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(dR.Cache||nre),r}dR.Cache=nre;var are=dR;const fFe=bn(are);var hFe=are,mFe=500;function pFe(t){var e=hFe(t,function(n){return r.size===mFe&&r.clear(),n}),r=e.cache;return e}var gFe=pFe,vFe=gFe,yFe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xFe=/\\(\\)?/g,bFe=vFe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yFe,function(r,n,a,i){e.push(a?i.replace(xFe,"$1"):n||r)}),e}),wFe=bFe;function SFe(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var fR=SFe,M7=h2,_Fe=fR,jFe=Ho,NFe=Iy,R7=M7?M7.prototype:void 0,L7=R7?R7.toString:void 0;function ire(t){if(typeof t=="string")return t;if(jFe(t))return _Fe(t,ire)+"";if(NFe(t))return L7?L7.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var AFe=ire,EFe=AFe;function CFe(t){return t==null?"":EFe(t)}var sre=CFe,TFe=Ho,kFe=sR,PFe=wFe,DFe=sre;function OFe(t,e){return TFe(t)?t:kFe(t,e)?[t]:PFe(DFe(t))}var ore=OFe,IFe=Iy;function MFe(t){if(typeof t=="string"||IFe(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var QE=MFe,RFe=ore,LFe=QE;function FFe(t,e){e=RFe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[LFe(e[r++])];return r&&r==n?t:void 0}var hR=FFe,$Fe=hR;function BFe(t,e,r){var n=t==null?void 0:$Fe(t,e);return n===void 0?r:n}var lre=BFe;const pl=bn(lre);function UFe(t){return t==null}var zFe=UFe;const Ir=bn(zFe);var VFe=mf,HFe=Ho,WFe=pf,qFe="[object String]";function GFe(t){return typeof t=="string"||!HFe(t)&&WFe(t)&&VFe(t)==qFe}var YFe=GFe;const Wp=bn(YFe);var cre={exports:{}},zn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR=Symbol.for("react.element"),pR=Symbol.for("react.portal"),JE=Symbol.for("react.fragment"),e5=Symbol.for("react.strict_mode"),t5=Symbol.for("react.profiler"),r5=Symbol.for("react.provider"),n5=Symbol.for("react.context"),KFe=Symbol.for("react.server_context"),a5=Symbol.for("react.forward_ref"),i5=Symbol.for("react.suspense"),s5=Symbol.for("react.suspense_list"),o5=Symbol.for("react.memo"),l5=Symbol.for("react.lazy"),XFe=Symbol.for("react.offscreen"),ure;ure=Symbol.for("react.module.reference");function sc(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mR:switch(t=t.type,t){case JE:case t5:case e5:case i5:case s5:return t;default:switch(t=t&&t.$$typeof,t){case KFe:case n5:case a5:case l5:case o5:case r5:return t;default:return e}}case pR:return e}}}zn.ContextConsumer=n5;zn.ContextProvider=r5;zn.Element=mR;zn.ForwardRef=a5;zn.Fragment=JE;zn.Lazy=l5;zn.Memo=o5;zn.Portal=pR;zn.Profiler=t5;zn.StrictMode=e5;zn.Suspense=i5;zn.SuspenseList=s5;zn.isAsyncMode=function(){return!1};zn.isConcurrentMode=function(){return!1};zn.isContextConsumer=function(t){return sc(t)===n5};zn.isContextProvider=function(t){return sc(t)===r5};zn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mR};zn.isForwardRef=function(t){return sc(t)===a5};zn.isFragment=function(t){return sc(t)===JE};zn.isLazy=function(t){return sc(t)===l5};zn.isMemo=function(t){return sc(t)===o5};zn.isPortal=function(t){return sc(t)===pR};zn.isProfiler=function(t){return sc(t)===t5};zn.isStrictMode=function(t){return sc(t)===e5};zn.isSuspense=function(t){return sc(t)===i5};zn.isSuspenseList=function(t){return sc(t)===s5};zn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===JE||t===t5||t===e5||t===i5||t===s5||t===XFe||typeof t=="object"&&t!==null&&(t.$$typeof===l5||t.$$typeof===o5||t.$$typeof===r5||t.$$typeof===n5||t.$$typeof===a5||t.$$typeof===ure||t.getModuleId!==void 0)};zn.typeOf=sc;cre.exports=zn;var ZFe=cre.exports,QFe=mf,JFe=pf,e8e="[object Number]";function t8e(t){return typeof t=="number"||JFe(t)&&QFe(t)==e8e}var dre=t8e;const r8e=bn(dre);var n8e=dre;function a8e(t){return n8e(t)&&t!=+t}var i8e=a8e;const $y=bn(i8e);var uo=function(e){return e===0?0:e>0?1:-1},lp=function(e){return Wp(e)&&e.indexOf("%")===e.length-1},Et=function(e){return r8e(e)&&!$y(e)},Pi=function(e){return Et(e)||Wp(e)},s8e=0,mg=function(e){var r=++s8e;return"".concat(e||"").concat(r)},fo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Et(e)&&!Wp(e))return n;var i;if(lp(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return $y(i)&&(i=n),a&&i>r&&(i=r),i},Jf=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},o8e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},ki=function(e,r){return Et(e)&&Et(r)?function(n){return e+n*(r-e)}:function(){return r}};function rN(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):pl(n,e))===r})}var l8e=function(e,r){return Et(e)&&Et(r)?e-r:Wp(e)&&Wp(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function W0(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function aD(t){"@babel/helpers - typeof";return aD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aD(t)}var c8e=["viewBox","children"],u8e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],F7=["points","pathLength"],f4={svg:c8e,polygon:F7,polyline:F7},gR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],nN=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),!My(n))return null;var a={};return Object.keys(n).forEach(function(i){gR.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},d8e=function(e,r,n){return function(a){return e(r,n,a),null}},qp=function(e,r,n){if(!My(e)||aD(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];gR.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=d8e(s,r,n))}),a},f8e=["children"],h8e=["children"];function $7(t,e){if(t==null)return{};var r=m8e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iD(t){"@babel/helpers - typeof";return iD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iD(t)}var B7={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Wd=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},U7=null,h4=null,vR=function t(e){if(e===U7&&Array.isArray(h4))return h4;var r=[];return N.Children.forEach(e,function(n){Ir(n)||(ZFe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),h4=r,U7=e,r};function gl(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Wd(a)}):n=[Wd(e)],vR(t).forEach(function(a){var i=pl(a,"type.displayName")||pl(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function nl(t,e){var r=gl(t,e);return r&&r[0]}var z7=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Et(n)||n<=0||!Et(a)||a<=0)},p8e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],g8e=function(e){return e&&e.type&&Wp(e.type)&&p8e.indexOf(e.type)>=0},fre=function(e){return e&&iD(e)==="object"&&"clipDot"in e},v8e=function(e,r,n,a){var i,s=(i=f4==null?void 0:f4[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!br(e)&&(a&&s.includes(r)||u8e.includes(r))||n&&gR.includes(r)},ar=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(N.isValidElement(e)&&(a=e.props),!My(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;v8e((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},sD=function t(e,r){if(e===r)return!0;var n=N.Children.count(e);if(n!==N.Children.count(r))return!1;if(n===0)return!0;if(n===1)return V7(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!V7(i,s))return!1}return!0},V7=function(e,r){if(Ir(e)&&Ir(r))return!0;if(!Ir(e)&&!Ir(r)){var n=e.props||{},a=n.children,i=$7(n,f8e),s=r.props||{},l=s.children,c=$7(s,h8e);return a&&l?W0(i,c)&&sD(a,l):!a&&!l?W0(i,c):!1}return!1},H7=function(e,r){var n=[],a={};return vR(e).forEach(function(i,s){if(g8e(i))n.push(i);else if(i){var l=Wd(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},y8e=function(e){var r=e&&e.type;return r&&B7[r]?B7[r]:null},x8e=function(e,r){return vR(r).indexOf(e)},b8e=["children","width","height","viewBox","className","style","title","desc"];function oD(){return oD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oD.apply(this,arguments)}function w8e(t,e){if(t==null)return{};var r=S8e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function S8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lD(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,l=t.title,c=t.desc,u=w8e(t,b8e),d=a||{width:r,height:n,x:0,y:0},f=Lr("recharts-surface",i);return W.createElement("svg",oD({},ar(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),W.createElement("title",null,l),W.createElement("desc",null,c),e)}var _8e=["children","className"];function cD(){return cD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cD.apply(this,arguments)}function j8e(t,e){if(t==null)return{};var r=N8e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var en=W.forwardRef(function(t,e){var r=t.children,n=t.className,a=j8e(t,_8e),i=Lr("recharts-layer",n);return W.createElement("g",cD({className:i},ar(a,!0),{ref:e}),r)}),Kc=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function A8e(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var E8e=A8e,C8e=E8e;function T8e(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:C8e(t,e,r)}var k8e=T8e,P8e="\\ud800-\\udfff",D8e="\\u0300-\\u036f",O8e="\\ufe20-\\ufe2f",I8e="\\u20d0-\\u20ff",M8e=D8e+O8e+I8e,R8e="\\ufe0e\\ufe0f",L8e="\\u200d",F8e=RegExp("["+L8e+P8e+M8e+R8e+"]");function $8e(t){return F8e.test(t)}var hre=$8e;function B8e(t){return t.split("")}var U8e=B8e,mre="\\ud800-\\udfff",z8e="\\u0300-\\u036f",V8e="\\ufe20-\\ufe2f",H8e="\\u20d0-\\u20ff",W8e=z8e+V8e+H8e,q8e="\\ufe0e\\ufe0f",G8e="["+mre+"]",uD="["+W8e+"]",dD="\\ud83c[\\udffb-\\udfff]",Y8e="(?:"+uD+"|"+dD+")",pre="[^"+mre+"]",gre="(?:\\ud83c[\\udde6-\\uddff]){2}",vre="[\\ud800-\\udbff][\\udc00-\\udfff]",K8e="\\u200d",yre=Y8e+"?",xre="["+q8e+"]?",X8e="(?:"+K8e+"(?:"+[pre,gre,vre].join("|")+")"+xre+yre+")*",Z8e=xre+yre+X8e,Q8e="(?:"+[pre+uD+"?",uD,gre,vre,G8e].join("|")+")",J8e=RegExp(dD+"(?="+dD+")|"+Q8e+Z8e,"g");function e$e(t){return t.match(J8e)||[]}var t$e=e$e,r$e=U8e,n$e=hre,a$e=t$e;function i$e(t){return n$e(t)?a$e(t):r$e(t)}var s$e=i$e,o$e=k8e,l$e=hre,c$e=s$e,u$e=sre;function d$e(t){return function(e){e=u$e(e);var r=l$e(e)?c$e(e):void 0,n=r?r[0]:e.charAt(0),a=r?o$e(r,1).join(""):e.slice(1);return n[t]()+a}}var f$e=d$e,h$e=f$e,m$e=h$e("toUpperCase"),p$e=m$e;const c5=bn(p$e);function sa(t){return function(){return t}}const bre=Math.cos,aN=Math.sin,uu=Math.sqrt,iN=Math.PI,u5=2*iN,fD=Math.PI,hD=2*fD,Hm=1e-6,g$e=hD-Hm;function wre(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function v$e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return wre;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class y$e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?wre:v$e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-e,u=a-r,d=s-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>Hm)if(!(Math.abs(f*c-u*d)>Hm)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,v=a-l,g=c*c+u*u,p=h*h+v*v,y=Math.sqrt(g),x=Math.sqrt(m),b=i*Math.tan((fD-Math.acos((g+m-p)/(2*y*x)))/2),w=b/x,_=b/y;Math.abs(w-1)>Hm&&this._append`L${e+w*d},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*h>d*v)},${this._x1=e+_*c},${this._y1=r+_*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,d=r+c,f=1^s,m=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Hm||Math.abs(this._y1-d)>Hm)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%hD+hD),m>g$e?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>Hm&&this._append`A${n},${n},0,${+(m>=fD)},${f},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yR(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new y$e(e)}function xR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Sre(t){this._context=t}Sre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function d5(t){return new Sre(t)}function _re(t){return t[0]}function jre(t){return t[1]}function Nre(t,e){var r=sa(!0),n=null,a=d5,i=null,s=yR(l);t=typeof t=="function"?t:t===void 0?_re:sa(t),e=typeof e=="function"?e:e===void 0?jre:sa(e);function l(c){var u,d=(c=xR(c)).length,f,m=!1,h;for(n==null&&(i=a(h=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(f,u,c),+e(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:sa(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:sa(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:sa(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function i_(t,e,r){var n=null,a=sa(!0),i=null,s=d5,l=null,c=yR(u);t=typeof t=="function"?t:t===void 0?_re:sa(+t),e=typeof e=="function"?e:sa(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jre:sa(+r);function u(f){var m,h,v,g=(f=xR(f)).length,p,y=!1,x,b=new Array(g),w=new Array(g);for(i==null&&(l=s(x=c())),m=0;m<=g;++m){if(!(m<g&&a(p=f[m],m,f))===y)if(y=!y)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=m-1;v>=h;--v)l.point(b[v],w[v]);l.lineEnd(),l.areaEnd()}y&&(b[m]=+t(p,m,f),w[m]=+e(p,m,f),l.point(n?+n(p,m,f):b[m],r?+r(p,m,f):w[m]))}if(x)return l=null,x+""||null}function d(){return Nre().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:sa(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:sa(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:sa(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:sa(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:sa(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:sa(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:sa(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class Are{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function x$e(t){return new Are(t,!0)}function b$e(t){return new Are(t,!1)}const bR={draw(t,e){const r=uu(e/iN);t.moveTo(r,0),t.arc(0,0,r,0,u5)}},w$e={draw(t,e){const r=uu(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Ere=uu(1/3),S$e=Ere*2,_$e={draw(t,e){const r=uu(e/S$e),n=r*Ere;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},j$e={draw(t,e){const r=uu(e),n=-r/2;t.rect(n,n,r,r)}},N$e=.8908130915292852,Cre=aN(iN/10)/aN(7*iN/10),A$e=aN(u5/10)*Cre,E$e=-bre(u5/10)*Cre,C$e={draw(t,e){const r=uu(e*N$e),n=A$e*r,a=E$e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=u5*i/5,l=bre(s),c=aN(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},m4=uu(3),T$e={draw(t,e){const r=-uu(e/(m4*3));t.moveTo(0,r*2),t.lineTo(-m4*r,-r),t.lineTo(m4*r,-r),t.closePath()}},Ml=-.5,Rl=uu(3)/2,mD=1/uu(12),k$e=(mD/2+1)*3,P$e={draw(t,e){const r=uu(e/k$e),n=r/2,a=r*mD,i=n,s=r*mD+r,l=-i,c=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(l,c),t.lineTo(Ml*n-Rl*a,Rl*n+Ml*a),t.lineTo(Ml*i-Rl*s,Rl*i+Ml*s),t.lineTo(Ml*l-Rl*c,Rl*l+Ml*c),t.lineTo(Ml*n+Rl*a,Ml*a-Rl*n),t.lineTo(Ml*i+Rl*s,Ml*s-Rl*i),t.lineTo(Ml*l+Rl*c,Ml*c-Rl*l),t.closePath()}};function D$e(t,e){let r=null,n=yR(a);t=typeof t=="function"?t:sa(t||bR),e=typeof e=="function"?e:sa(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:sa(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:sa(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function sN(){}function oN(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Tre(t){this._context=t}Tre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:oN(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:oN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function O$e(t){return new Tre(t)}function kre(t){this._context=t}kre.prototype={areaStart:sN,areaEnd:sN,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:oN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function I$e(t){return new kre(t)}function Pre(t){this._context=t}Pre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:oN(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M$e(t){return new Pre(t)}function Dre(t){this._context=t}Dre.prototype={areaStart:sN,areaEnd:sN,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function R$e(t){return new Dre(t)}function W7(t){return t<0?-1:1}function q7(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(W7(i)+W7(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function G7(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function p4(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,s-l*r,i,s)}function lN(t){this._context=t}lN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p4(this,this._t0,G7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,p4(this,G7(this,r=q7(this,t,e)),r);break;default:p4(this,this._t0,r=q7(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Ore(t){this._context=new Ire(t)}(Ore.prototype=Object.create(lN.prototype)).point=function(t,e){lN.prototype.point.call(this,e,t)};function Ire(t){this._context=t}Ire.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function L$e(t){return new lN(t)}function F$e(t){return new Ore(t)}function Mre(t){this._context=t}Mre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Y7(t),a=Y7(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Y7(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function $$e(t){return new Mre(t)}function f5(t,e){this._context=t,this._t=e}f5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function B$e(t){return new f5(t,.5)}function U$e(t){return new f5(t,0)}function z$e(t){return new f5(t,1)}function Lv(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,l=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function pD(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function V$e(t,e){return t[e]}function H$e(t){const e=[];return e.key=t,e}function W$e(){var t=sa([]),e=pD,r=Lv,n=V$e;function a(i){var s=Array.from(t.apply(this,arguments),H$e),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=xR(e(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:sa(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:sa(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?pD:typeof i=="function"?i:sa(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Lv,a):r},a}function q$e(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}Lv(t,e)}}function G$e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Lv(t,e)}}function Y$e(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,h=(f-m)/2,v=0;v<l;++v){var g=t[e[v]],p=g[n][1]||0,y=g[n-1][1]||0;h+=p-y}c+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Lv(t,e)}}function _b(t){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}var K$e=["type","size","sizeType"];function gD(){return gD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gD.apply(this,arguments)}function K7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function X7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K7(Object(r),!0).forEach(function(n){X$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X$e(t,e,r){return e=Z$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z$e(t){var e=Q$e(t,"string");return _b(e)=="symbol"?e:e+""}function Q$e(t,e){if(_b(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_b(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J$e(t,e){if(t==null)return{};var r=eBe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Rre={symbolCircle:bR,symbolCross:w$e,symbolDiamond:_$e,symbolSquare:j$e,symbolStar:C$e,symbolTriangle:T$e,symbolWye:P$e},tBe=Math.PI/180,rBe=function(e){var r="symbol".concat(c5(e));return Rre[r]||bR},nBe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*tBe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aBe=function(e,r){Rre["symbol".concat(c5(e))]=r},wR=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,l=s===void 0?"area":s,c=J$e(e,K$e),u=X7(X7({},c),{},{type:n,size:i,sizeType:l}),d=function(){var p=rBe(n),y=D$e().type(p).size(nBe(i,l,n));return y()},f=u.className,m=u.cx,h=u.cy,v=ar(u,!0);return m===+m&&h===+h&&i===+i?W.createElement("path",gD({},v,{className:Lr("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};wR.registerSymbol=aBe;function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function vD(){return vD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vD.apply(this,arguments)}function Z7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iBe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z7(Object(r),!0).forEach(function(n){jb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fre(n.key),n)}}function lBe(t,e,r){return e&&oBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cBe(t,e,r){return e=cN(e),uBe(t,Lre()?Reflect.construct(e,r||[],cN(t).constructor):e.apply(t,r))}function uBe(t,e){if(e&&(Fv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dBe(t)}function dBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lre=function(){return!!t})()}function cN(t){return cN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cN(t)}function fBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yD(t,e)}function yD(t,e){return yD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yD(t,e)}function jb(t,e,r){return e=Fre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fre(t){var e=hBe(t,"string");return Fv(e)=="symbol"?e:e+""}function hBe(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xc=32,SR=function(t){function e(){return sBe(this,e),cBe(this,e,arguments)}return fBe(e,t),lBe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=xc/2,s=xc/6,l=xc/3,c=n.inactive?a:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:xc,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(xc,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(xc/8,"h").concat(xc,"v").concat(xc*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var u=iBe({},n);return delete u.legendIcon,W.cloneElement(n.legendIcon,u)}return W.createElement(wR,{fill:c,cx:i,cy:i,size:xc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:xc,height:xc},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,v){var g=h.formatter||c,p=Lr(jb(jb({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=br(h.value)?null:h.value;Kc(!br(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=h.inactive?u:h.color;return W.createElement("li",vD({className:p,style:f,key:"legend-item-".concat(v)},qp(n.props,h,v)),W.createElement(lD,{width:s,height:s,viewBox:d,style:m},n.renderIcon(h)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},g?g(y,h,v):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);jb(SR,"displayName","Legend");jb(SR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mBe=XE;function pBe(){this.__data__=new mBe,this.size=0}var gBe=pBe;function vBe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var yBe=vBe;function xBe(t){return this.__data__.get(t)}var bBe=xBe;function wBe(t){return this.__data__.has(t)}var SBe=wBe,_Be=XE,jBe=cR,NBe=uR,ABe=200;function EBe(t,e){var r=this.__data__;if(r instanceof _Be){var n=r.__data__;if(!jBe||n.length<ABe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new NBe(n)}return r.set(t,e),this.size=r.size,this}var CBe=EBe,TBe=XE,kBe=gBe,PBe=yBe,DBe=bBe,OBe=SBe,IBe=CBe;function By(t){var e=this.__data__=new TBe(t);this.size=e.size}By.prototype.clear=kBe;By.prototype.delete=PBe;By.prototype.get=DBe;By.prototype.has=OBe;By.prototype.set=IBe;var $re=By,MBe="__lodash_hash_undefined__";function RBe(t){return this.__data__.set(t,MBe),this}var LBe=RBe;function FBe(t){return this.__data__.has(t)}var $Be=FBe,BBe=uR,UBe=LBe,zBe=$Be;function uN(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new BBe;++e<r;)this.add(t[e])}uN.prototype.add=uN.prototype.push=UBe;uN.prototype.has=zBe;var Bre=uN;function VBe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Ure=VBe;function HBe(t,e){return t.has(e)}var zre=HBe,WBe=Bre,qBe=Ure,GBe=zre,YBe=1,KBe=2;function XBe(t,e,r,n,a,i){var s=r&YBe,l=t.length,c=e.length;if(l!=c&&!(s&&c>l))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var f=-1,m=!0,h=r&KBe?new WBe:void 0;for(i.set(t,e),i.set(e,t);++f<l;){var v=t[f],g=e[f];if(n)var p=s?n(g,v,f,e,t,i):n(v,g,f,t,e,i);if(p!==void 0){if(p)continue;m=!1;break}if(h){if(!qBe(e,function(y,x){if(!GBe(h,x)&&(v===y||a(v,y,r,n,i)))return h.push(x)})){m=!1;break}}else if(!(v===g||a(v,g,r,n,i))){m=!1;break}}return i.delete(t),i.delete(e),m}var Vre=XBe,ZBe=id,QBe=ZBe.Uint8Array,JBe=QBe;function e7e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var t7e=e7e;function r7e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var _R=r7e,Q7=h2,J7=JBe,n7e=lR,a7e=Vre,i7e=t7e,s7e=_R,o7e=1,l7e=2,c7e="[object Boolean]",u7e="[object Date]",d7e="[object Error]",f7e="[object Map]",h7e="[object Number]",m7e="[object RegExp]",p7e="[object Set]",g7e="[object String]",v7e="[object Symbol]",y7e="[object ArrayBuffer]",x7e="[object DataView]",e9=Q7?Q7.prototype:void 0,g4=e9?e9.valueOf:void 0;function b7e(t,e,r,n,a,i,s){switch(r){case x7e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case y7e:return!(t.byteLength!=e.byteLength||!i(new J7(t),new J7(e)));case c7e:case u7e:case h7e:return n7e(+t,+e);case d7e:return t.name==e.name&&t.message==e.message;case m7e:case g7e:return t==e+"";case f7e:var l=i7e;case p7e:var c=n&o7e;if(l||(l=s7e),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;n|=l7e,s.set(t,e);var d=a7e(l(t),l(e),n,a,i,s);return s.delete(t),d;case v7e:if(g4)return g4.call(t)==g4.call(e)}return!1}var w7e=b7e;function S7e(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var Hre=S7e,_7e=Hre,j7e=Ho;function N7e(t,e,r){var n=e(t);return j7e(t)?n:_7e(n,r(t))}var A7e=N7e;function E7e(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var s=t[r];e(s,r,t)&&(i[a++]=s)}return i}var C7e=E7e;function T7e(){return[]}var k7e=T7e,P7e=C7e,D7e=k7e,O7e=Object.prototype,I7e=O7e.propertyIsEnumerable,t9=Object.getOwnPropertySymbols,M7e=t9?function(t){return t==null?[]:(t=Object(t),P7e(t9(t),function(e){return I7e.call(t,e)}))}:D7e,R7e=M7e;function L7e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var F7e=L7e,$7e=mf,B7e=pf,U7e="[object Arguments]";function z7e(t){return B7e(t)&&$7e(t)==U7e}var V7e=z7e,r9=V7e,H7e=pf,Wre=Object.prototype,W7e=Wre.hasOwnProperty,q7e=Wre.propertyIsEnumerable,G7e=r9(function(){return arguments}())?r9:function(t){return H7e(t)&&W7e.call(t,"callee")&&!q7e.call(t,"callee")},jR=G7e,dN={exports:{}};function Y7e(){return!1}var K7e=Y7e;dN.exports;(function(t,e){var r=id,n=K7e,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(dN,dN.exports);var qre=dN.exports,X7e=9007199254740991,Z7e=/^(?:0|[1-9]\d*)$/;function Q7e(t,e){var r=typeof t;return e=e??X7e,!!e&&(r=="number"||r!="symbol"&&Z7e.test(t))&&t>-1&&t%1==0&&t<e}var NR=Q7e,J7e=9007199254740991;function e9e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=J7e}var AR=e9e,t9e=mf,r9e=AR,n9e=pf,a9e="[object Arguments]",i9e="[object Array]",s9e="[object Boolean]",o9e="[object Date]",l9e="[object Error]",c9e="[object Function]",u9e="[object Map]",d9e="[object Number]",f9e="[object Object]",h9e="[object RegExp]",m9e="[object Set]",p9e="[object String]",g9e="[object WeakMap]",v9e="[object ArrayBuffer]",y9e="[object DataView]",x9e="[object Float32Array]",b9e="[object Float64Array]",w9e="[object Int8Array]",S9e="[object Int16Array]",_9e="[object Int32Array]",j9e="[object Uint8Array]",N9e="[object Uint8ClampedArray]",A9e="[object Uint16Array]",E9e="[object Uint32Array]",fa={};fa[x9e]=fa[b9e]=fa[w9e]=fa[S9e]=fa[_9e]=fa[j9e]=fa[N9e]=fa[A9e]=fa[E9e]=!0;fa[a9e]=fa[i9e]=fa[v9e]=fa[s9e]=fa[y9e]=fa[o9e]=fa[l9e]=fa[c9e]=fa[u9e]=fa[d9e]=fa[f9e]=fa[h9e]=fa[m9e]=fa[p9e]=fa[g9e]=!1;function C9e(t){return n9e(t)&&r9e(t.length)&&!!fa[t9e(t)]}var T9e=C9e;function k9e(t){return function(e){return t(e)}}var Gre=k9e,fN={exports:{}};fN.exports;(function(t,e){var r=ere,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l})(fN,fN.exports);var P9e=fN.exports,D9e=T9e,O9e=Gre,n9=P9e,a9=n9&&n9.isTypedArray,I9e=a9?O9e(a9):D9e,Yre=I9e,M9e=F7e,R9e=jR,L9e=Ho,F9e=qre,$9e=NR,B9e=Yre,U9e=Object.prototype,z9e=U9e.hasOwnProperty;function V9e(t,e){var r=L9e(t),n=!r&&R9e(t),a=!r&&!n&&F9e(t),i=!r&&!n&&!a&&B9e(t),s=r||n||a||i,l=s?M9e(t.length,String):[],c=l.length;for(var u in t)(e||z9e.call(t,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$9e(u,c)))&&l.push(u);return l}var H9e=V9e,W9e=Object.prototype;function q9e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||W9e;return t===r}var G9e=q9e;function Y9e(t,e){return function(r){return t(e(r))}}var Kre=Y9e,K9e=Kre,X9e=K9e(Object.keys,Object),Z9e=X9e,Q9e=G9e,J9e=Z9e,eUe=Object.prototype,tUe=eUe.hasOwnProperty;function rUe(t){if(!Q9e(t))return J9e(t);var e=[];for(var r in Object(t))tUe.call(t,r)&&r!="constructor"&&e.push(r);return e}var nUe=rUe,aUe=oR,iUe=AR;function sUe(t){return t!=null&&iUe(t.length)&&!aUe(t)}var m2=sUe,oUe=H9e,lUe=nUe,cUe=m2;function uUe(t){return cUe(t)?oUe(t):lUe(t)}var h5=uUe,dUe=A7e,fUe=R7e,hUe=h5;function mUe(t){return dUe(t,hUe,fUe)}var pUe=mUe,i9=pUe,gUe=1,vUe=Object.prototype,yUe=vUe.hasOwnProperty;function xUe(t,e,r,n,a,i){var s=r&gUe,l=i9(t),c=l.length,u=i9(e),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var m=l[f];if(!(s?m in e:yUe.call(e,m)))return!1}var h=i.get(t),v=i.get(e);if(h&&v)return h==e&&v==t;var g=!0;i.set(t,e),i.set(e,t);for(var p=s;++f<c;){m=l[f];var y=t[m],x=e[m];if(n)var b=s?n(x,y,m,e,t,i):n(y,x,m,t,e,i);if(!(b===void 0?y===x||a(y,x,r,n,i):b)){g=!1;break}p||(p=m=="constructor")}if(g&&!p){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(t),i.delete(e),g}var bUe=xUe,wUe=hg,SUe=id,_Ue=wUe(SUe,"DataView"),jUe=_Ue,NUe=hg,AUe=id,EUe=NUe(AUe,"Promise"),CUe=EUe,TUe=hg,kUe=id,PUe=TUe(kUe,"Set"),Xre=PUe,DUe=hg,OUe=id,IUe=DUe(OUe,"WeakMap"),MUe=IUe,xD=jUe,bD=cR,wD=CUe,SD=Xre,_D=MUe,Zre=mf,Uy=rre,s9="[object Map]",RUe="[object Object]",o9="[object Promise]",l9="[object Set]",c9="[object WeakMap]",u9="[object DataView]",LUe=Uy(xD),FUe=Uy(bD),$Ue=Uy(wD),BUe=Uy(SD),UUe=Uy(_D),Wm=Zre;(xD&&Wm(new xD(new ArrayBuffer(1)))!=u9||bD&&Wm(new bD)!=s9||wD&&Wm(wD.resolve())!=o9||SD&&Wm(new SD)!=l9||_D&&Wm(new _D)!=c9)&&(Wm=function(t){var e=Zre(t),r=e==RUe?t.constructor:void 0,n=r?Uy(r):"";if(n)switch(n){case LUe:return u9;case FUe:return s9;case $Ue:return o9;case BUe:return l9;case UUe:return c9}return e});var zUe=Wm,v4=$re,VUe=Vre,HUe=w7e,WUe=bUe,d9=zUe,f9=Ho,h9=qre,qUe=Yre,GUe=1,m9="[object Arguments]",p9="[object Array]",s_="[object Object]",YUe=Object.prototype,g9=YUe.hasOwnProperty;function KUe(t,e,r,n,a,i){var s=f9(t),l=f9(e),c=s?p9:d9(t),u=l?p9:d9(e);c=c==m9?s_:c,u=u==m9?s_:u;var d=c==s_,f=u==s_,m=c==u;if(m&&h9(t)){if(!h9(e))return!1;s=!0,d=!1}if(m&&!d)return i||(i=new v4),s||qUe(t)?VUe(t,e,r,n,a,i):HUe(t,e,c,r,n,a,i);if(!(r&GUe)){var h=d&&g9.call(t,"__wrapped__"),v=f&&g9.call(e,"__wrapped__");if(h||v){var g=h?t.value():t,p=v?e.value():e;return i||(i=new v4),a(g,p,r,n,i)}}return m?(i||(i=new v4),WUe(t,e,r,n,a,i)):!1}var XUe=KUe,ZUe=XUe,v9=pf;function Qre(t,e,r,n,a){return t===e?!0:t==null||e==null||!v9(t)&&!v9(e)?t!==t&&e!==e:ZUe(t,e,r,n,Qre,a)}var ER=Qre,QUe=$re,JUe=ER,eze=1,tze=2;function rze(t,e,r,n){var a=r.length,i=a,s=!n;if(t==null)return!i;for(t=Object(t);a--;){var l=r[a];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<i;){l=r[a];var c=l[0],u=t[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new QUe;if(n)var m=n(u,d,c,t,e,f);if(!(m===void 0?JUe(d,u,eze|tze,n,f):m))return!1}}return!0}var nze=rze,aze=um;function ize(t){return t===t&&!aze(t)}var Jre=ize,sze=Jre,oze=h5;function lze(t){for(var e=oze(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,sze(a)]}return e}var cze=lze;function uze(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var ene=uze,dze=nze,fze=cze,hze=ene;function mze(t){var e=fze(t);return e.length==1&&e[0][2]?hze(e[0][0],e[0][1]):function(r){return r===t||dze(r,t,e)}}var pze=mze;function gze(t,e){return t!=null&&e in Object(t)}var vze=gze,yze=ore,xze=jR,bze=Ho,wze=NR,Sze=AR,_ze=QE;function jze(t,e,r){e=yze(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var s=_ze(e[n]);if(!(i=t!=null&&r(t,s)))break;t=t[s]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&Sze(a)&&wze(s,a)&&(bze(t)||xze(t)))}var Nze=jze,Aze=vze,Eze=Nze;function Cze(t,e){return t!=null&&Eze(t,e,Aze)}var Tze=Cze,kze=ER,Pze=lre,Dze=Tze,Oze=sR,Ize=Jre,Mze=ene,Rze=QE,Lze=1,Fze=2;function $ze(t,e){return Oze(t)&&Ize(e)?Mze(Rze(t),e):function(r){var n=Pze(r,t);return n===void 0&&n===e?Dze(r,t):kze(e,n,Lze|Fze)}}var Bze=$ze;function Uze(t){return t}var zy=Uze;function zze(t){return function(e){return e==null?void 0:e[t]}}var Vze=zze,Hze=hR;function Wze(t){return function(e){return Hze(e,t)}}var qze=Wze,Gze=Vze,Yze=qze,Kze=sR,Xze=QE;function Zze(t){return Kze(t)?Gze(Xze(t)):Yze(t)}var Qze=Zze,Jze=pze,eVe=Bze,tVe=zy,rVe=Ho,nVe=Qze;function aVe(t){return typeof t=="function"?t:t==null?tVe:typeof t=="object"?rVe(t)?eVe(t[0],t[1]):Jze(t):nVe(t)}var sd=aVe;function iVe(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var tne=iVe;function sVe(t){return t!==t}var oVe=sVe;function lVe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var cVe=lVe,uVe=tne,dVe=oVe,fVe=cVe;function hVe(t,e,r){return e===e?fVe(t,e,r):uVe(t,dVe,r)}var mVe=hVe,pVe=mVe;function gVe(t,e){var r=t==null?0:t.length;return!!r&&pVe(t,e,0)>-1}var vVe=gVe;function yVe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var xVe=yVe;function bVe(){}var wVe=bVe,y4=Xre,SVe=wVe,_Ve=_R,jVe=1/0,NVe=y4&&1/_Ve(new y4([,-0]))[1]==jVe?function(t){return new y4(t)}:SVe,AVe=NVe,EVe=Bre,CVe=vVe,TVe=xVe,kVe=zre,PVe=AVe,DVe=_R,OVe=200;function IVe(t,e,r){var n=-1,a=CVe,i=t.length,s=!0,l=[],c=l;if(r)s=!1,a=TVe;else if(i>=OVe){var u=e?null:PVe(t);if(u)return DVe(u);s=!1,a=kVe,c=new EVe}else c=e?[]:l;e:for(;++n<i;){var d=t[n],f=e?e(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;e&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var MVe=IVe,RVe=sd,LVe=MVe;function FVe(t,e){return t&&t.length?LVe(t,RVe(e)):[]}var $Ve=FVe;const y9=bn($Ve);function rne(t,e,r){return e===!0?y9(t,r):br(e)?y9(t,e):t}function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}var BVe=["ref"];function x9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(r),!0).forEach(function(n){m5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ane(n.key),n)}}function zVe(t,e,r){return e&&b9(t.prototype,e),r&&b9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VVe(t,e,r){return e=hN(e),HVe(t,nne()?Reflect.construct(e,r||[],hN(t).constructor):e.apply(t,r))}function HVe(t,e){if(e&&($v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WVe(t)}function WVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nne=function(){return!!t})()}function hN(t){return hN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hN(t)}function qVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jD(t,e)}function jD(t,e){return jD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jD(t,e)}function m5(t,e,r){return e=ane(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ane(t){var e=GVe(t,"string");return $v(e)=="symbol"?e:e+""}function GVe(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YVe(t,e){if(t==null)return{};var r=KVe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function XVe(t){return t.value}function ZVe(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=YVe(e,BVe);return W.createElement(SR,r)}var w9=1,Xc=function(t){function e(){var r;UVe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=VVe(this,e,[].concat(a)),m5(r,"lastBoundingBox",{width:-1,height:-1}),r}return qVe(e,t),zVe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>w9||Math.abs(a.height-this.lastBoundingBox.height)>w9)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();m={top:((d||0)-v.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Cd(Cd({},f),m)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Cd(Cd({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return W.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){n.wrapperNode=h}},ZVe(i,Cd(Cd({},this.props),{},{payload:rne(d,u,XVe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Cd(Cd({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Et(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(N.PureComponent);m5(Xc,"displayName","Legend");m5(Xc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var S9=h2,QVe=jR,JVe=Ho,_9=S9?S9.isConcatSpreadable:void 0;function eHe(t){return JVe(t)||QVe(t)||!!(_9&&t&&t[_9])}var tHe=eHe,rHe=Hre,nHe=tHe;function ine(t,e,r,n,a){var i=-1,s=t.length;for(r||(r=nHe),a||(a=[]);++i<s;){var l=t[i];e>0&&r(l)?e>1?ine(l,e-1,r,n,a):rHe(a,l):n||(a[a.length]=l)}return a}var sne=ine;function aHe(t){return function(e,r,n){for(var a=-1,i=Object(e),s=n(e),l=s.length;l--;){var c=s[t?l:++a];if(r(i[c],c,i)===!1)break}return e}}var iHe=aHe,sHe=iHe,oHe=sHe(),lHe=oHe,cHe=lHe,uHe=h5;function dHe(t,e){return t&&cHe(t,e,uHe)}var one=dHe,fHe=m2;function hHe(t,e){return function(r,n){if(r==null)return r;if(!fHe(r))return t(r,n);for(var a=r.length,i=e?a:-1,s=Object(r);(e?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var mHe=hHe,pHe=one,gHe=mHe,vHe=gHe(pHe),CR=vHe,yHe=CR,xHe=m2;function bHe(t,e){var r=-1,n=xHe(t)?Array(t.length):[];return yHe(t,function(a,i,s){n[++r]=e(a,i,s)}),n}var lne=bHe;function wHe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var SHe=wHe,j9=Iy;function _He(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=j9(t),s=e!==void 0,l=e===null,c=e===e,u=j9(e);if(!l&&!u&&!i&&t>e||i&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&t<e||u&&r&&a&&!n&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}var jHe=_He,NHe=jHe;function AHe(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,s=a.length,l=r.length;++n<s;){var c=NHe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var EHe=AHe,x4=fR,CHe=hR,THe=sd,kHe=lne,PHe=SHe,DHe=Gre,OHe=EHe,IHe=zy,MHe=Ho;function RHe(t,e,r){e.length?e=x4(e,function(i){return MHe(i)?function(s){return CHe(s,i.length===1?i[0]:i)}:i}):e=[IHe];var n=-1;e=x4(e,DHe(THe));var a=kHe(t,function(i,s,l){var c=x4(e,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return PHe(a,function(i,s){return OHe(i,s,r)})}var LHe=RHe;function FHe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var $He=FHe,BHe=$He,N9=Math.max;function UHe(t,e,r){return e=N9(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=N9(n.length-e,0),s=Array(i);++a<i;)s[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(s),BHe(t,this,l)}}var zHe=UHe;function VHe(t){return function(){return t}}var HHe=VHe,WHe=hg,qHe=function(){try{var t=WHe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cne=qHe,GHe=HHe,A9=cne,YHe=zy,KHe=A9?function(t,e){return A9(t,"toString",{configurable:!0,enumerable:!1,value:GHe(e),writable:!0})}:YHe,XHe=KHe,ZHe=800,QHe=16,JHe=Date.now;function eWe(t){var e=0,r=0;return function(){var n=JHe(),a=QHe-(n-r);if(r=n,a>0){if(++e>=ZHe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var tWe=eWe,rWe=XHe,nWe=tWe,aWe=nWe(rWe),iWe=aWe,sWe=zy,oWe=zHe,lWe=iWe;function cWe(t,e){return lWe(oWe(t,e,sWe),t+"")}var uWe=cWe,dWe=lR,fWe=m2,hWe=NR,mWe=um;function pWe(t,e,r){if(!mWe(r))return!1;var n=typeof e;return(n=="number"?fWe(r)&&hWe(e,r.length):n=="string"&&e in r)?dWe(r[e],t):!1}var p5=pWe,gWe=sne,vWe=LHe,yWe=uWe,E9=p5,xWe=yWe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&E9(t,e[0],e[1])?e=[]:r>2&&E9(e[0],e[1],e[2])&&(e=[e[0]]),vWe(t,gWe(e,1),[])}),bWe=xWe;const TR=bn(bWe);function Nb(t){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}function ND(){return ND=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ND.apply(this,arguments)}function wWe(t,e){return NWe(t)||jWe(t,e)||_We(t,e)||SWe()}function SWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _We(t,e){if(t){if(typeof t=="string")return C9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C9(t,e)}}function C9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jWe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function NWe(t){if(Array.isArray(t))return t}function T9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function b4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T9(Object(r),!0).forEach(function(n){AWe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AWe(t,e,r){return e=EWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EWe(t){var e=CWe(t,"string");return Nb(e)=="symbol"?e:e+""}function CWe(t,e){if(Nb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TWe(t){return Array.isArray(t)&&Pi(t[0])&&Pi(t[1])?t.join(" ~ "):t}var kWe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,h=e.wrapperClassName,v=e.labelClassName,g=e.label,p=e.labelFormatter,y=e.accessibilityLayer,x=y===void 0?!1:y,b=function(){if(d&&d.length){var P={padding:0,margin:0},I=(m?TR(d,m):d).map(function(L,V){if(L.type==="none")return null;var H=b4({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),q=L.formatter||f||TWe,G=L.value,re=L.name,Z=G,de=re;if(q&&Z!=null&&de!=null){var k=q(G,re,L,V,d);if(Array.isArray(k)){var F=wWe(k,2);Z=F[0],de=F[1]}else Z=k}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:H},Pi(de)?W.createElement("span",{className:"recharts-tooltip-item-name"},de):null,Pi(de)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},Z),W.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:P},I)}return null},w=b4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=b4({margin:0},u),j=!Ir(g),A=j?g:"",E=Lr("recharts-default-tooltip",h),T=Lr("recharts-tooltip-label",v);j&&p&&d!==void 0&&d!==null&&(A=p(g,d));var R=x?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",ND({className:E,style:w},R),W.createElement("p",{className:T,style:_},W.isValidElement(A)?A:"".concat(A)),b())};function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}function o_(t,e,r){return e=PWe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PWe(t){var e=DWe(t,"string");return Ab(e)=="symbol"?e:e+""}function DWe(t,e){if(Ab(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ab(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $x="recharts-tooltip-wrapper",OWe={visibility:"hidden"};function IWe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Lr($x,o_(o_(o_(o_({},"".concat($x,"-right"),Et(r)&&e&&Et(e.x)&&r>=e.x),"".concat($x,"-left"),Et(r)&&e&&Et(e.x)&&r<e.x),"".concat($x,"-bottom"),Et(n)&&e&&Et(e.y)&&n>=e.y),"".concat($x,"-top"),Et(n)&&e&&Et(e.y)&&n<e.y))}function k9(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&Et(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(e[n])return s[n]?d:f;if(s[n]){var m=d,h=c[n];return m<h?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,g=c[n]+u;return v>g?Math.max(d,c[n]):Math.max(f,c[n])}function MWe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function RWe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=k9({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=k9({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=MWe({translateX:d,translateY:f,useTranslate3d:l})):u=OWe,{cssProperties:u,cssClasses:IWe({translateX:d,translateY:f,coordinate:r})}}function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function P9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function D9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P9(Object(r),!0).forEach(function(n){ED(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dne(n.key),n)}}function $We(t,e,r){return e&&FWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BWe(t,e,r){return e=mN(e),UWe(t,une()?Reflect.construct(e,r||[],mN(t).constructor):e.apply(t,r))}function UWe(t,e){if(e&&(Bv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zWe(t)}function zWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function une(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(une=function(){return!!t})()}function mN(t){return mN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mN(t)}function VWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AD(t,e)}function AD(t,e){return AD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AD(t,e)}function ED(t,e,r){return e=dne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dne(t){var e=HWe(t,"string");return Bv(e)=="symbol"?e:e+""}function HWe(t,e){if(Bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O9=1,WWe=function(t){function e(){var r;LWe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=BWe(this,e,[].concat(a)),ED(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ED(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return VWe(e,t),$We(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>O9||Math.abs(n.height-this.state.lastBoundingBox.height)>O9)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,v=a.position,g=a.reverseDirection,p=a.useTranslate3d,y=a.viewBox,x=a.wrapperStyle,b=RWe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:h,position:v,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:y}),w=b.cssClasses,_=b.cssProperties,j=D9(D9({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return W.createElement("div",{tabIndex:-1,className:w,style:j,ref:function(E){n.wrapperNode=E}},u)}}])}(N.PureComponent),qWe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dm={isSsr:qWe()};function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function I9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function M9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I9(Object(r),!0).forEach(function(n){kR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YWe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hne(n.key),n)}}function KWe(t,e,r){return e&&YWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XWe(t,e,r){return e=pN(e),ZWe(t,fne()?Reflect.construct(e,r||[],pN(t).constructor):e.apply(t,r))}function ZWe(t,e){if(e&&(Uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QWe(t)}function QWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fne=function(){return!!t})()}function pN(t){return pN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pN(t)}function JWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CD(t,e)}function CD(t,e){return CD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CD(t,e)}function kR(t,e,r){return e=hne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hne(t){var e=eqe(t,"string");return Uv(e)=="symbol"?e:e+""}function eqe(t,e){if(Uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tqe(t){return t.dataKey}function rqe(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(kWe,e)}var bi=function(t){function e(){return GWe(this,e),XWe(this,e,arguments)}return JWe(e,t),KWe(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,v=a.payload,g=a.payloadUniqBy,p=a.position,y=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,w=a.wrapperStyle,_=v??[];f&&_.length&&(_=rne(v.filter(function(A){return A.value!=null&&(A.hide!==!0||n.props.includeHidden)}),g,tqe));var j=_.length>0;return W.createElement(WWe,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:j,offset:h,position:p,reverseDirection:y,useTranslate3d:x,viewBox:b,wrapperStyle:w},rqe(u,M9(M9({},this.props),{},{payload:_})))}}])}(N.PureComponent);kR(bi,"displayName","Tooltip");kR(bi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nqe=id,aqe=function(){return nqe.Date.now()},iqe=aqe,sqe=/\s/;function oqe(t){for(var e=t.length;e--&&sqe.test(t.charAt(e)););return e}var lqe=oqe,cqe=lqe,uqe=/^\s+/;function dqe(t){return t&&t.slice(0,cqe(t)+1).replace(uqe,"")}var fqe=dqe,hqe=fqe,R9=um,mqe=Iy,L9=NaN,pqe=/^[-+]0x[0-9a-f]+$/i,gqe=/^0b[01]+$/i,vqe=/^0o[0-7]+$/i,yqe=parseInt;function xqe(t){if(typeof t=="number")return t;if(mqe(t))return L9;if(R9(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=R9(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hqe(t);var r=gqe.test(t);return r||vqe.test(t)?yqe(t.slice(2),r?2:8):pqe.test(t)?L9:+t}var mne=xqe,bqe=um,w4=iqe,F9=mne,wqe="Expected a function",Sqe=Math.max,_qe=Math.min;function jqe(t,e,r){var n,a,i,s,l,c,u=0,d=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(wqe);e=F9(e)||0,bqe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Sqe(F9(r.maxWait)||0,e):i,m="trailing"in r?!!r.trailing:m);function h(j){var A=n,E=a;return n=a=void 0,u=j,s=t.apply(E,A),s}function v(j){return u=j,l=setTimeout(y,e),d?h(j):s}function g(j){var A=j-c,E=j-u,T=e-A;return f?_qe(T,i-E):T}function p(j){var A=j-c,E=j-u;return c===void 0||A>=e||A<0||f&&E>=i}function y(){var j=w4();if(p(j))return x(j);l=setTimeout(y,g(j))}function x(j){return l=void 0,m&&n?h(j):(n=a=void 0,s)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function w(){return l===void 0?s:x(w4())}function _(){var j=w4(),A=p(j);if(n=arguments,a=this,c=j,A){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(y,e),h(c)}return l===void 0&&(l=setTimeout(y,e)),s}return _.cancel=b,_.flush=w,_}var Nqe=jqe,Aqe=Nqe,Eqe=um,Cqe="Expected a function";function Tqe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(Cqe);return Eqe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Aqe(t,e,{leading:n,maxWait:e,trailing:a})}var kqe=Tqe;const pne=bn(kqe);function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}function $9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function l_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(r),!0).forEach(function(n){Pqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pqe(t,e,r){return e=Dqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dqe(t){var e=Oqe(t,"string");return Eb(e)=="symbol"?e:e+""}function Oqe(t,e){if(Eb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Eb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iqe(t,e){return Fqe(t)||Lqe(t,e)||Rqe(t,e)||Mqe()}function Mqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rqe(t,e){if(t){if(typeof t=="string")return B9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B9(t,e)}}function B9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Fqe(t){if(Array.isArray(t))return t}var Uc=N.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,h=t.children,v=t.debounce,g=v===void 0?0:v,p=t.id,y=t.className,x=t.onResize,b=t.style,w=b===void 0?{}:b,_=N.useRef(null),j=N.useRef();j.current=x,N.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var A=N.useState({containerWidth:a.width,containerHeight:a.height}),E=Iqe(A,2),T=E[0],R=E[1],D=N.useCallback(function(I,L){R(function(V){var H=Math.round(I),q=Math.round(L);return V.containerWidth===H&&V.containerHeight===q?V:{containerWidth:H,containerHeight:q}})},[]);N.useEffect(function(){var I=function(re){var Z,de=re[0].contentRect,k=de.width,F=de.height;D(k,F),(Z=j.current)===null||Z===void 0||Z.call(j,k,F)};g>0&&(I=pne(I,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(I),V=_.current.getBoundingClientRect(),H=V.width,q=V.height;return D(H,q),L.observe(_.current),function(){L.disconnect()}},[D,g]);var P=N.useMemo(function(){var I=T.containerWidth,L=T.containerHeight;if(I<0||L<0)return null;Kc(lp(s)||lp(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Kc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=lp(s)?I:s,H=lp(c)?L:c;r&&r>0&&(V?H=V/r:H&&(V=H*r),m&&H>m&&(H=m)),Kc(V>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,H,s,c,d,f,r);var q=!Array.isArray(h)&&Wd(h.type).endsWith("Chart");return W.Children.map(h,function(G){return W.isValidElement(G)?N.cloneElement(G,l_({width:V,height:H},q?{style:l_({height:"100%",width:"100%",maxHeight:H,maxWidth:V},G.props.style)}:{})):G})},[r,h,c,m,f,d,T,s]);return W.createElement("div",{id:p?"".concat(p):void 0,className:Lr("recharts-responsive-container",y),style:l_(l_({},w),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:_},P)}),p2=function(e){return null};p2.displayName="Cell";function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function U9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(r),!0).forEach(function(n){$qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $qe(t,e,r){return e=Bqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bqe(t){var e=Uqe(t,"string");return Cb(e)=="symbol"?e:e+""}function Uqe(t,e){if(Cb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t0={widthCache:{},cacheCount:0},zqe=2e3,Vqe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},z9="recharts_measurement_span";function Hqe(t){var e=TD({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var D1=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||dm.isSsr)return{width:0,height:0};var n=Hqe(r),a=JSON.stringify({text:e,copyStyle:n});if(t0.widthCache[a])return t0.widthCache[a];try{var i=document.getElementById(z9);i||(i=document.createElement("span"),i.setAttribute("id",z9),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=TD(TD({},Vqe),n);Object.assign(i.style,s),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return t0.widthCache[a]=c,++t0.cacheCount>zqe&&(t0.cacheCount=0,t0.widthCache={}),c}catch{return{width:0,height:0}}},Wqe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}function gN(t,e){return Kqe(t)||Yqe(t,e)||Gqe(t,e)||qqe()}function qqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gqe(t,e){if(t){if(typeof t=="string")return V9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V9(t,e)}}function V9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Kqe(t){if(Array.isArray(t))return t}function Xqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qqe(n.key),n)}}function Zqe(t,e,r){return e&&H9(t.prototype,e),r&&H9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qqe(t){var e=Jqe(t,"string");return Tb(e)=="symbol"?e:e+""}function Jqe(t,e){if(Tb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eGe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tGe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rGe=Object.keys(gne),E0="NaN";function nGe(t,e){return t*gne[e]}var c_=function(){function t(e,r){Xqe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!eGe.test(r)&&(this.num=NaN,this.unit=""),rGe.includes(r)&&(this.num=nGe(e,r),this.unit="px")}return Zqe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=tGe.exec(r))!==null&&n!==void 0?n:[],i=gN(a,3),s=i[1],l=i[2];return new t(parseFloat(s),l??"")}}])}();function vne(t){if(t.includes(E0))return E0;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=W9.exec(e))!==null&&r!==void 0?r:[],a=gN(n,4),i=a[1],s=a[2],l=a[3],c=c_.parse(i??""),u=c_.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return E0;e=e.replace(W9,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=q9.exec(e))!==null&&f!==void 0?f:[],h=gN(m,4),v=h[1],g=h[2],p=h[3],y=c_.parse(v??""),x=c_.parse(p??""),b=g==="+"?y.add(x):y.subtract(x);if(b.isNaN())return E0;e=e.replace(q9,b.toString())}return e}var G9=/\(([^()]*)\)/;function aGe(t){for(var e=t;e.includes("(");){var r=G9.exec(e),n=gN(r,2),a=n[1];e=e.replace(G9,vne(a))}return e}function iGe(t){var e=t.replace(/\s+/g,"");return e=aGe(e),e=vne(e),e}function sGe(t){try{return iGe(t)}catch{return E0}}function S4(t){var e=sGe(t.slice(5,-1));return e===E0?"":e}var oGe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lGe=["dx","dy","angle","className","breakAll"];function kD(){return kD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kD.apply(this,arguments)}function Y9(t,e){if(t==null)return{};var r=cGe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cGe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K9(t,e){return hGe(t)||fGe(t,e)||dGe(t,e)||uGe()}function uGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dGe(t,e){if(t){if(typeof t=="string")return X9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X9(t,e)}}function X9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fGe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function hGe(t){if(Array.isArray(t))return t}var yne=/[ \f\n\r\t\v\u2028\u2029]+/,xne=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Ir(r)||(n?i=r.toString().split(""):i=r.toString().split(yne));var s=i.map(function(c){return{word:c,width:D1(c,a).width}}),l=n?0:D1("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},mGe=function(e,r,n,a,i){var s=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Et(s),f=l,m=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(H,q){var G=q.word,re=q.width,Z=H[H.length-1];if(Z&&(a==null||i||Z.width+re+n<Number(a)))Z.words.push(G),Z.width+=re+n;else{var de={words:[G],width:re};H.push(de)}return H},[])},h=m(r),v=function(V){return V.reduce(function(H,q){return H.width>q.width?H:q})};if(!d)return h;for(var g="",p=function(V){var H=f.slice(0,V),q=xne({breakAll:u,style:c,children:H+g}).wordsWithComputedWidth,G=m(q),re=G.length>s||v(G).width>Number(a);return[re,G]},y=0,x=f.length-1,b=0,w;y<=x&&b<=f.length-1;){var _=Math.floor((y+x)/2),j=_-1,A=p(j),E=K9(A,2),T=E[0],R=E[1],D=p(_),P=K9(D,1),I=P[0];if(!T&&!I&&(y=_+1),T&&I&&(x=_-1),!T&&I){w=R;break}b++}return w||h},Z9=function(e){var r=Ir(e)?[]:e.toString().split(yne);return[{words:r}]},pGe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!dm.isSsr){var c,u,d=xne({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return Z9(a);return mGe({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return Z9(a)},Q9="#808080",Gp=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,h=m===void 0?"start":m,v=e.verticalAnchor,g=v===void 0?"end":v,p=e.fill,y=p===void 0?Q9:p,x=Y9(e,oGe),b=N.useMemo(function(){return pGe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),w=x.dx,_=x.dy,j=x.angle,A=x.className,E=x.breakAll,T=Y9(x,lGe);if(!Pi(n)||!Pi(i))return null;var R=n+(Et(w)?w:0),D=i+(Et(_)?_:0),P;switch(g){case"start":P=S4("calc(".concat(u,")"));break;case"middle":P=S4("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=S4("calc(".concat(b.length-1," * -").concat(l,")"));break}var I=[];if(f){var L=b[0].width,V=x.width;I.push("scale(".concat((Et(V)?V/L:1)/L,")"))}return j&&I.push("rotate(".concat(j,", ").concat(R,", ").concat(D,")")),I.length&&(T.transform=I.join(" ")),W.createElement("text",kD({},ar(T,!0),{x:R,y:D,className:Lr("recharts-text",A),textAnchor:h,fill:y.includes("url")?Q9:y}),b.map(function(H,q){var G=H.words.join(E?"":" ");return W.createElement("tspan",{x:R,dy:q===0?P:l,key:"".concat(G,"-").concat(q)},G)}))};function Eh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gGe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PR(t){let e,r,n;t.length!==2?(e=Eh,r=(l,c)=>Eh(t(l),c),n=(l,c)=>t(l)-c):(e=t===Eh||t===gGe?t:vGe,r=t,n=t);function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function vGe(){return 0}function bne(t){return t===null?NaN:+t}function*yGe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const xGe=PR(Eh),g2=xGe.right;PR(bne).center;class J9 extends Map{constructor(e,r=SGe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(eU(this,e))}has(e){return super.has(eU(this,e))}set(e,r){return super.set(bGe(this,e),r)}delete(e){return super.delete(wGe(this,e))}}function eU({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function bGe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function wGe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function SGe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _Ge(t=Eh){if(t===Eh)return wne;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function wne(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const jGe=Math.sqrt(50),NGe=Math.sqrt(10),AGe=Math.sqrt(2);function vN(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=jGe?10:i>=NGe?5:i>=AGe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?vN(t,e,r*2):[l,c,u]}function PD(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?vN(e,t,r):vN(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function DD(t,e,r){return e=+e,t=+t,r=+r,vN(t,e,r)[2]}function OD(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?DD(e,t,r):DD(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function tU(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rU(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Sne(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?wne:_Ge(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*f/c+m)),v=Math.min(n,Math.floor(e+(c-u)*f/c+m));Sne(t,e,h,v,a)}const i=t[e];let s=r,l=n;for(Bx(t,r,e),a(t[n],i)>0&&Bx(t,r,n);s<l;){for(Bx(t,s,l),++s,--l;a(t[s],i)<0;)++s;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?Bx(t,r,l):(++l,Bx(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Bx(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function EGe(t,e,r){if(t=Float64Array.from(yGe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return rU(t);if(e>=1)return tU(t);var n,a=(n-1)*e,i=Math.floor(a),s=tU(Sne(t,i).subarray(0,i+1)),l=rU(t.subarray(i+1));return s+(l-s)*(a-i)}}function CGe(t,e,r=bne){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return s+(l-s)*(a-i)}}function TGe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function oc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function gf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ID=Symbol("implicit");function DR(){var t=new J9,e=[],r=[],n=ID;function a(i){let s=t.get(i);if(s===void 0){if(n!==ID)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new J9;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return DR(e,r).unknown(n)},oc.apply(a,arguments),a}function kb(){var t=DR().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,h=a<n,v=h?a:n,g=h?n:a;i=(g-v)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),v+=(g-v-i*(m-c))*d,s=i*(1-c),l&&(v=Math.round(v),s=Math.round(s));var p=TGe(m).map(function(y){return v+i*y});return r(h?p.reverse():p)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,f()):[n,a]},t.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,l=!0,f()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return kb(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},oc.apply(f(),arguments)}function _ne(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _ne(e())},t}function O1(){return _ne(kb.apply(null,arguments).paddingInner(1))}function OR(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function jne(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function v2(){}var Pb=.7,yN=1/Pb,q0="\\s*([+-]?\\d+)\\s*",Db="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kGe=/^#([0-9a-f]{3,8})$/,PGe=new RegExp(`^rgb\\(${q0},${q0},${q0}\\)$`),DGe=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),OGe=new RegExp(`^rgba\\(${q0},${q0},${q0},${Db}\\)$`),IGe=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${Db}\\)$`),MGe=new RegExp(`^hsl\\(${Db},${Uu},${Uu}\\)$`),RGe=new RegExp(`^hsla\\(${Db},${Uu},${Uu},${Db}\\)$`),nU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};OR(v2,Ob,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:aU,formatHex:aU,formatHex8:LGe,formatHsl:FGe,formatRgb:iU,toString:iU});function aU(){return this.rgb().formatHex()}function LGe(){return this.rgb().formatHex8()}function FGe(){return Nne(this).formatHsl()}function iU(){return this.rgb().formatRgb()}function Ob(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=kGe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?sU(e):r===3?new Do(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?u_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?u_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=PGe.exec(t))?new Do(e[1],e[2],e[3],1):(e=DGe.exec(t))?new Do(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=OGe.exec(t))?u_(e[1],e[2],e[3],e[4]):(e=IGe.exec(t))?u_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=MGe.exec(t))?cU(e[1],e[2]/100,e[3]/100,1):(e=RGe.exec(t))?cU(e[1],e[2]/100,e[3]/100,e[4]):nU.hasOwnProperty(t)?sU(nU[t]):t==="transparent"?new Do(NaN,NaN,NaN,0):null}function sU(t){return new Do(t>>16&255,t>>8&255,t&255,1)}function u_(t,e,r,n){return n<=0&&(t=e=r=NaN),new Do(t,e,r,n)}function $Ge(t){return t instanceof v2||(t=Ob(t)),t?(t=t.rgb(),new Do(t.r,t.g,t.b,t.opacity)):new Do}function MD(t,e,r,n){return arguments.length===1?$Ge(t):new Do(t,e,r,n??1)}function Do(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}OR(Do,MD,jne(v2,{brighter(t){return t=t==null?yN:Math.pow(yN,t),new Do(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Pb:Math.pow(Pb,t),new Do(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Do(jp(this.r),jp(this.g),jp(this.b),xN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oU,formatHex:oU,formatHex8:BGe,formatRgb:lU,toString:lU}));function oU(){return`#${cp(this.r)}${cp(this.g)}${cp(this.b)}`}function BGe(){return`#${cp(this.r)}${cp(this.g)}${cp(this.b)}${cp((isNaN(this.opacity)?1:this.opacity)*255)}`}function lU(){const t=xN(this.opacity);return`${t===1?"rgb(":"rgba("}${jp(this.r)}, ${jp(this.g)}, ${jp(this.b)}${t===1?")":`, ${t})`}`}function xN(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cp(t){return t=jp(t),(t<16?"0":"")+t.toString(16)}function cU(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ic(t,e,r,n)}function Nne(t){if(t instanceof Ic)return new Ic(t.h,t.s,t.l,t.opacity);if(t instanceof v2||(t=Ob(t)),!t)return new Ic;if(t instanceof Ic)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(e===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new Ic(s,l,c,t.opacity)}function UGe(t,e,r,n){return arguments.length===1?Nne(t):new Ic(t,e,r,n??1)}function Ic(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}OR(Ic,UGe,jne(v2,{brighter(t){return t=t==null?yN:Math.pow(yN,t),new Ic(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Pb:Math.pow(Pb,t),new Ic(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Do(_4(t>=240?t-240:t+120,a,n),_4(t,a,n),_4(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Ic(uU(this.h),d_(this.s),d_(this.l),xN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xN(this.opacity);return`${t===1?"hsl(":"hsla("}${uU(this.h)}, ${d_(this.s)*100}%, ${d_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function uU(t){return t=(t||0)%360,t<0?t+360:t}function d_(t){return Math.max(0,Math.min(1,t||0))}function _4(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const IR=t=>()=>t;function zGe(t,e){return function(r){return t+r*e}}function VGe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function HGe(t){return(t=+t)==1?Ane:function(e,r){return r-e?VGe(e,r,t):IR(isNaN(e)?r:e)}}function Ane(t,e){var r=e-t;return r?zGe(t,r):IR(isNaN(t)?e:t)}const dU=function t(e){var r=HGe(e);function n(a,i){var s=r((a=MD(a)).r,(i=MD(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=Ane(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=t,n}(1);function WGe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function qGe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function GGe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Vy(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function YGe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function bN(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function KGe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Vy(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var RD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j4=new RegExp(RD.source,"g");function XGe(t){return function(){return t}}function ZGe(t){return function(e){return t(e)+""}}function QGe(t,e){var r=RD.lastIndex=j4.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=RD.exec(t))&&(a=j4.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:bN(n,a)})),r=j4.lastIndex;return r<e.length&&(i=e.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?ZGe(c[0].x):XGe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Vy(t,e){var r=typeof e,n;return e==null||r==="boolean"?IR(e):(r==="number"?bN:r==="string"?(n=Ob(e))?(e=n,dU):QGe:e instanceof Ob?dU:e instanceof Date?YGe:qGe(e)?WGe:Array.isArray(e)?GGe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KGe:bN)(t,e)}function MR(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function JGe(t,e){e===void 0&&(e=t,t=Vy);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function eYe(t){return function(){return t}}function wN(t){return+t}var fU=[0,1];function ho(t){return t}function LD(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:eYe(isNaN(e)?NaN:.5)}function tYe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function rYe(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=LD(a,n),i=r(s,i)):(n=LD(n,a),i=r(i,s)),function(l){return i(n(l))}}function nYe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=LD(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(l){var c=g2(t,l,1,n)-1;return i[c](a[c](l))}}function y2(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function g5(){var t=fU,e=fU,r=Vy,n,a,i,s=ho,l,c,u;function d(){var m=Math.min(t.length,e.length);return s!==ho&&(s=tYe(t[0],t[m-1])),l=m>2?nYe:rYe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(t.map(n),e,r)))(n(s(m)))}return f.invert=function(m){return s(a((u||(u=l(e,t.map(n),bN)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,wN),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=MR,d()},f.clamp=function(m){return arguments.length?(s=m?!0:ho,d()):s!==ho},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return n=m,a=h,d()}}function RR(){return g5()(ho,ho)}function aYe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function SN(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function zv(t){return t=SN(Math.abs(t)),t?t[1]:NaN}function iYe(t,e){return function(r,n){for(var a=r.length,i=[],s=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return i.reverse().join(e)}}function sYe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var oYe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ib(t){if(!(e=oYe.exec(t)))throw new Error("invalid format: "+t);var e;return new LR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ib.prototype=LR.prototype;function LR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lYe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Ene;function cYe(t,e){var r=SN(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(Ene=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+SN(t,Math.max(0,e+i-1))[0]}function hU(t,e){var r=SN(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:aYe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hU(t*100,e),r:hU,s:cYe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function pU(t){return t}var gU=Array.prototype.map,vU=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uYe(t){var e=t.grouping===void 0||t.thousands===void 0?pU:iYe(gU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?pU:sYe(gU.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Ib(f);var m=f.fill,h=f.align,v=f.sign,g=f.symbol,p=f.zero,y=f.width,x=f.comma,b=f.precision,w=f.trim,_=f.type;_==="n"?(x=!0,_="g"):mU[_]||(b===void 0&&(b=12),w=!0,_="g"),(p||m==="0"&&h==="=")&&(p=!0,m="0",h="=");var j=g==="$"?r:g==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",A=g==="$"?n:/[%p]/.test(_)?s:"",E=mU[_],T=/[defgprs%]/.test(_);b=b===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(D){var P=j,I=A,L,V,H;if(_==="c")I=E(D)+I,D="";else{D=+D;var q=D<0||1/D<0;if(D=isNaN(D)?c:E(Math.abs(D),b),w&&(D=lYe(D)),q&&+D==0&&v!=="+"&&(q=!1),P=(q?v==="("?v:l:v==="-"||v==="("?"":v)+P,I=(_==="s"?vU[8+Ene/3]:"")+I+(q&&v==="("?")":""),T){for(L=-1,V=D.length;++L<V;)if(H=D.charCodeAt(L),48>H||H>57){I=(H===46?a+D.slice(L+1):D.slice(L))+I,D=D.slice(0,L);break}}}x&&!p&&(D=e(D,1/0));var G=P.length+D.length+I.length,re=G<y?new Array(y-G+1).join(m):"";switch(x&&p&&(D=e(re+D,re.length?y-I.length:1/0),re=""),h){case"<":D=P+D+I+re;break;case"=":D=P+re+D+I;break;case"^":D=re.slice(0,G=re.length>>1)+P+D+I+re.slice(G);break;default:D=re+P+D+I;break}return i(D)}return R.toString=function(){return f+""},R}function d(f,m){var h=u((f=Ib(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(zv(m)/3)))*3,g=Math.pow(10,-v),p=vU[8+v/3];return function(y){return h(g*y)+p}}return{format:u,formatPrefix:d}}var f_,FR,Cne;dYe({thousands:",",grouping:[3],currency:["$",""]});function dYe(t){return f_=uYe(t),FR=f_.format,Cne=f_.formatPrefix,f_}function fYe(t){return Math.max(0,-zv(Math.abs(t)))}function hYe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zv(e)/3)))*3-zv(Math.abs(t)))}function mYe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zv(e)-zv(t))+1}function Tne(t,e,r,n){var a=OD(t,e,r),i;switch(n=Ib(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=hYe(a,s))&&(n.precision=i),Cne(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=mYe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=fYe(a))&&(n.precision=i-(n.type==="%")*2);break}}return FR(n)}function fm(t){var e=t.domain;return t.ticks=function(r){var n=e();return PD(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return Tne(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=DD(s,l,r),u===c)return n[a]=s,n[i]=l,e(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function _N(){var t=RR();return t.copy=function(){return y2(t,_N())},oc.apply(t,arguments),fm(t)}function kne(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,wN),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return kne(t).unknown(e)},t=arguments.length?Array.from(t,wN):[0,1],fm(r)}function Pne(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function yU(t){return Math.log(t)}function xU(t){return Math.exp(t)}function pYe(t){return-Math.log(-t)}function gYe(t){return-Math.exp(-t)}function vYe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function yYe(t){return t===10?vYe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xYe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function bU(t){return(e,r)=>-t(-e,r)}function $R(t){const e=t(yU,xU),r=e.domain;let n=10,a,i;function s(){return a=xYe(n),i=yYe(n),r()[0]<0?(a=bU(a),i=bU(i),t(pYe,gYe)):t(yU,xU),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),v,g;const p=l==null?10:+l;let y=[];if(!(n%1)&&h-m<p){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(v=1;v<n;++v)if(g=m<0?v/i(-m):v*i(m),!(g<u)){if(g>d)break;y.push(g)}}else for(;m<=h;++m)for(v=n-1;v>=1;--v)if(g=m>0?v/i(-m):v*i(m),!(g<u)){if(g>d)break;y.push(g)}y.length*2<p&&(y=PD(u,d,p))}else y=PD(m,h,Math.min(h-m,p)).map(i);return f?y.reverse():y},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ib(c)).precision==null&&(c.trim=!0),c=FR(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(Pne(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function Dne(){const t=$R(g5()).domain([1,10]);return t.copy=()=>y2(t,Dne()).base(t.base()),oc.apply(t,arguments),t}function wU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function SU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function BR(t){var e=1,r=t(wU(e),SU(e));return r.constant=function(n){return arguments.length?t(wU(e=+n),SU(e)):e},fm(r)}function One(){var t=BR(g5());return t.copy=function(){return y2(t,One()).constant(t.constant())},oc.apply(t,arguments)}function _U(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bYe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wYe(t){return t<0?-t*t:t*t}function UR(t){var e=t(ho,ho),r=1;function n(){return r===1?t(ho,ho):r===.5?t(bYe,wYe):t(_U(r),_U(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},fm(e)}function zR(){var t=UR(g5());return t.copy=function(){return y2(t,zR()).exponent(t.exponent())},oc.apply(t,arguments),t}function SYe(){return zR.apply(null,arguments).exponent(.5)}function jU(t){return Math.sign(t)*t*t}function _Ye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ine(){var t=RR(),e=[0,1],r=!1,n;function a(i){var s=_Ye(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(jU(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,wN)).map(jU)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ine(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},oc.apply(a,arguments),fm(a)}function Mne(){var t=[],e=[],r=[],n;function a(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=CGe(t,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:e[g2(r,s)]}return i.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Eh),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Mne().domain(t).range(e).unknown(n)},oc.apply(i,arguments)}function Rne(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[g2(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Rne().domain([t,e]).range(a).unknown(i)},oc.apply(fm(s),arguments)}function Lne(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[g2(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Lne().domain(t).range(e).unknown(r)},oc.apply(a,arguments)}const N4=new Date,A4=new Date;function Oi(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<s);return c},a.filter=i=>Oi(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!i(s););else for(;--l>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(N4.setTime(+i),A4.setTime(+s),t(N4),t(A4),Math.floor(r(N4,A4))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const jN=Oi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jN.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Oi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):jN);jN.range;const Ud=1e3,Zl=Ud*60,zd=Zl*60,af=zd*24,VR=af*7,NU=af*30,E4=af*365,up=Oi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ud)},(t,e)=>(e-t)/Ud,t=>t.getUTCSeconds());up.range;const HR=Oi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ud)},(t,e)=>{t.setTime(+t+e*Zl)},(t,e)=>(e-t)/Zl,t=>t.getMinutes());HR.range;const WR=Oi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zl)},(t,e)=>(e-t)/Zl,t=>t.getUTCMinutes());WR.range;const qR=Oi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ud-t.getMinutes()*Zl)},(t,e)=>{t.setTime(+t+e*zd)},(t,e)=>(e-t)/zd,t=>t.getHours());qR.range;const GR=Oi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zd)},(t,e)=>(e-t)/zd,t=>t.getUTCHours());GR.range;const x2=Oi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zl)/af,t=>t.getDate()-1);x2.range;const v5=Oi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/af,t=>t.getUTCDate()-1);v5.range;const Fne=Oi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/af,t=>Math.floor(t/af));Fne.range;function pg(t){return Oi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Zl)/VR)}const y5=pg(0),NN=pg(1),jYe=pg(2),NYe=pg(3),Vv=pg(4),AYe=pg(5),EYe=pg(6);y5.range;NN.range;jYe.range;NYe.range;Vv.range;AYe.range;EYe.range;function gg(t){return Oi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/VR)}const x5=gg(0),AN=gg(1),CYe=gg(2),TYe=gg(3),Hv=gg(4),kYe=gg(5),PYe=gg(6);x5.range;AN.range;CYe.range;TYe.range;Hv.range;kYe.range;PYe.range;const YR=Oi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());YR.range;const KR=Oi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());KR.range;const sf=Oi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());sf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Oi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});sf.range;const of=Oi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());of.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Oi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});of.range;function $ne(t,e,r,n,a,i){const s=[[up,1,Ud],[up,5,5*Ud],[up,15,15*Ud],[up,30,30*Ud],[i,1,Zl],[i,5,5*Zl],[i,15,15*Zl],[i,30,30*Zl],[a,1,zd],[a,3,3*zd],[a,6,6*zd],[a,12,12*zd],[n,1,af],[n,2,2*af],[r,1,VR],[e,1,NU],[e,3,3*NU],[t,1,E4]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),v=h?h.range(u,+d+1):[];return m?v.reverse():v}function c(u,d,f){const m=Math.abs(d-u)/f,h=PR(([,,p])=>p).right(s,m);if(h===s.length)return t.every(OD(u/E4,d/E4,f));if(h===0)return jN.every(Math.max(OD(u,d,f),1));const[v,g]=s[m/s[h-1][2]<s[h][2]/m?h-1:h];return v.every(g)}return[l,c]}const[DYe,OYe]=$ne(of,KR,x5,Fne,GR,WR),[IYe,MYe]=$ne(sf,YR,y5,x2,qR,HR);function C4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function T4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ux(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function RYe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,u=zx(a),d=Vx(a),f=zx(i),m=Vx(i),h=zx(s),v=Vx(s),g=zx(l),p=Vx(l),y=zx(c),x=Vx(c),b={a:q,A:G,b:re,B:Z,c:null,d:PU,e:PU,f:iKe,g:pKe,G:vKe,H:rKe,I:nKe,j:aKe,L:Bne,m:sKe,M:oKe,p:de,q:k,Q:IU,s:MU,S:lKe,u:cKe,U:uKe,V:dKe,w:fKe,W:hKe,x:null,X:null,y:mKe,Y:gKe,Z:yKe,"%":OU},w={a:F,A:B,b:z,B:ee,c:null,d:DU,e:DU,f:SKe,g:DKe,G:IKe,H:xKe,I:bKe,j:wKe,L:zne,m:_Ke,M:jKe,p:le,q:ge,Q:IU,s:MU,S:NKe,u:AKe,U:EKe,V:CKe,w:TKe,W:kKe,x:null,X:null,y:PKe,Y:OKe,Z:MKe,"%":OU},_={a:R,A:D,b:P,B:I,c:L,d:TU,e:TU,f:QYe,g:CU,G:EU,H:kU,I:kU,j:YYe,L:ZYe,m:GYe,M:KYe,p:T,q:qYe,Q:eKe,s:tKe,S:XYe,u:UYe,U:zYe,V:VYe,w:BYe,W:HYe,x:V,X:H,y:CU,Y:EU,Z:WYe,"%":JYe};b.x=j(r,b),b.X=j(n,b),b.c=j(e,b),w.x=j(r,w),w.X=j(n,w),w.c=j(e,w);function j(se,ie){return function(we){var pe=[],Me=-1,he=0,oe=se.length,X,Ae,Be;for(we instanceof Date||(we=new Date(+we));++Me<oe;)se.charCodeAt(Me)===37&&(pe.push(se.slice(he,Me)),(Ae=AU[X=se.charAt(++Me)])!=null?X=se.charAt(++Me):Ae=X==="e"?" ":"0",(Be=ie[X])&&(X=Be(we,Ae)),pe.push(X),he=Me+1);return pe.push(se.slice(he,Me)),pe.join("")}}function A(se,ie){return function(we){var pe=Ux(1900,void 0,1),Me=E(pe,se,we+="",0),he,oe;if(Me!=we.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(ie&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(he=T4(Ux(pe.y,0,1)),oe=he.getUTCDay(),he=oe>4||oe===0?AN.ceil(he):AN(he),he=v5.offset(he,(pe.V-1)*7),pe.y=he.getUTCFullYear(),pe.m=he.getUTCMonth(),pe.d=he.getUTCDate()+(pe.w+6)%7):(he=C4(Ux(pe.y,0,1)),oe=he.getDay(),he=oe>4||oe===0?NN.ceil(he):NN(he),he=x2.offset(he,(pe.V-1)*7),pe.y=he.getFullYear(),pe.m=he.getMonth(),pe.d=he.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),oe="Z"in pe?T4(Ux(pe.y,0,1)).getUTCDay():C4(Ux(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(oe+5)%7:pe.w+pe.U*7-(oe+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,T4(pe)):C4(pe)}}function E(se,ie,we,pe){for(var Me=0,he=ie.length,oe=we.length,X,Ae;Me<he;){if(pe>=oe)return-1;if(X=ie.charCodeAt(Me++),X===37){if(X=ie.charAt(Me++),Ae=_[X in AU?ie.charAt(Me++):X],!Ae||(pe=Ae(se,we,pe))<0)return-1}else if(X!=we.charCodeAt(pe++))return-1}return pe}function T(se,ie,we){var pe=u.exec(ie.slice(we));return pe?(se.p=d.get(pe[0].toLowerCase()),we+pe[0].length):-1}function R(se,ie,we){var pe=h.exec(ie.slice(we));return pe?(se.w=v.get(pe[0].toLowerCase()),we+pe[0].length):-1}function D(se,ie,we){var pe=f.exec(ie.slice(we));return pe?(se.w=m.get(pe[0].toLowerCase()),we+pe[0].length):-1}function P(se,ie,we){var pe=y.exec(ie.slice(we));return pe?(se.m=x.get(pe[0].toLowerCase()),we+pe[0].length):-1}function I(se,ie,we){var pe=g.exec(ie.slice(we));return pe?(se.m=p.get(pe[0].toLowerCase()),we+pe[0].length):-1}function L(se,ie,we){return E(se,e,ie,we)}function V(se,ie,we){return E(se,r,ie,we)}function H(se,ie,we){return E(se,n,ie,we)}function q(se){return s[se.getDay()]}function G(se){return i[se.getDay()]}function re(se){return c[se.getMonth()]}function Z(se){return l[se.getMonth()]}function de(se){return a[+(se.getHours()>=12)]}function k(se){return 1+~~(se.getMonth()/3)}function F(se){return s[se.getUTCDay()]}function B(se){return i[se.getUTCDay()]}function z(se){return c[se.getUTCMonth()]}function ee(se){return l[se.getUTCMonth()]}function le(se){return a[+(se.getUTCHours()>=12)]}function ge(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ie=j(se+="",b);return ie.toString=function(){return se},ie},parse:function(se){var ie=A(se+="",!1);return ie.toString=function(){return se},ie},utcFormat:function(se){var ie=j(se+="",w);return ie.toString=function(){return se},ie},utcParse:function(se){var ie=A(se+="",!0);return ie.toString=function(){return se},ie}}}var AU={"-":"",_:" ",0:"0"},Zi=/^\s*\d+/,LYe=/^%/,FYe=/[\\^$*+?|[\]().{}]/g;function xn(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function $Ye(t){return t.replace(FYe,"\\$&")}function zx(t){return new RegExp("^(?:"+t.map($Ye).join("|")+")","i")}function Vx(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function BYe(t,e,r){var n=Zi.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function UYe(t,e,r){var n=Zi.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function zYe(t,e,r){var n=Zi.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function VYe(t,e,r){var n=Zi.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function HYe(t,e,r){var n=Zi.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function EU(t,e,r){var n=Zi.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function CU(t,e,r){var n=Zi.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function WYe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qYe(t,e,r){var n=Zi.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function GYe(t,e,r){var n=Zi.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function TU(t,e,r){var n=Zi.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function YYe(t,e,r){var n=Zi.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function kU(t,e,r){var n=Zi.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function KYe(t,e,r){var n=Zi.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function XYe(t,e,r){var n=Zi.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ZYe(t,e,r){var n=Zi.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function QYe(t,e,r){var n=Zi.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function JYe(t,e,r){var n=LYe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function eKe(t,e,r){var n=Zi.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function tKe(t,e,r){var n=Zi.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function PU(t,e){return xn(t.getDate(),e,2)}function rKe(t,e){return xn(t.getHours(),e,2)}function nKe(t,e){return xn(t.getHours()%12||12,e,2)}function aKe(t,e){return xn(1+x2.count(sf(t),t),e,3)}function Bne(t,e){return xn(t.getMilliseconds(),e,3)}function iKe(t,e){return Bne(t,e)+"000"}function sKe(t,e){return xn(t.getMonth()+1,e,2)}function oKe(t,e){return xn(t.getMinutes(),e,2)}function lKe(t,e){return xn(t.getSeconds(),e,2)}function cKe(t){var e=t.getDay();return e===0?7:e}function uKe(t,e){return xn(y5.count(sf(t)-1,t),e,2)}function Une(t){var e=t.getDay();return e>=4||e===0?Vv(t):Vv.ceil(t)}function dKe(t,e){return t=Une(t),xn(Vv.count(sf(t),t)+(sf(t).getDay()===4),e,2)}function fKe(t){return t.getDay()}function hKe(t,e){return xn(NN.count(sf(t)-1,t),e,2)}function mKe(t,e){return xn(t.getFullYear()%100,e,2)}function pKe(t,e){return t=Une(t),xn(t.getFullYear()%100,e,2)}function gKe(t,e){return xn(t.getFullYear()%1e4,e,4)}function vKe(t,e){var r=t.getDay();return t=r>=4||r===0?Vv(t):Vv.ceil(t),xn(t.getFullYear()%1e4,e,4)}function yKe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xn(e/60|0,"0",2)+xn(e%60,"0",2)}function DU(t,e){return xn(t.getUTCDate(),e,2)}function xKe(t,e){return xn(t.getUTCHours(),e,2)}function bKe(t,e){return xn(t.getUTCHours()%12||12,e,2)}function wKe(t,e){return xn(1+v5.count(of(t),t),e,3)}function zne(t,e){return xn(t.getUTCMilliseconds(),e,3)}function SKe(t,e){return zne(t,e)+"000"}function _Ke(t,e){return xn(t.getUTCMonth()+1,e,2)}function jKe(t,e){return xn(t.getUTCMinutes(),e,2)}function NKe(t,e){return xn(t.getUTCSeconds(),e,2)}function AKe(t){var e=t.getUTCDay();return e===0?7:e}function EKe(t,e){return xn(x5.count(of(t)-1,t),e,2)}function Vne(t){var e=t.getUTCDay();return e>=4||e===0?Hv(t):Hv.ceil(t)}function CKe(t,e){return t=Vne(t),xn(Hv.count(of(t),t)+(of(t).getUTCDay()===4),e,2)}function TKe(t){return t.getUTCDay()}function kKe(t,e){return xn(AN.count(of(t)-1,t),e,2)}function PKe(t,e){return xn(t.getUTCFullYear()%100,e,2)}function DKe(t,e){return t=Vne(t),xn(t.getUTCFullYear()%100,e,2)}function OKe(t,e){return xn(t.getUTCFullYear()%1e4,e,4)}function IKe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Hv(t):Hv.ceil(t),xn(t.getUTCFullYear()%1e4,e,4)}function MKe(){return"+0000"}function OU(){return"%"}function IU(t){return+t}function MU(t){return Math.floor(+t/1e3)}var r0,Hne,Wne;RKe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RKe(t){return r0=RYe(t),Hne=r0.format,r0.parse,Wne=r0.utcFormat,r0.utcParse,r0}function LKe(t){return new Date(t)}function FKe(t){return t instanceof Date?+t:+new Date(+t)}function XR(t,e,r,n,a,i,s,l,c,u){var d=RR(),f=d.invert,m=d.domain,h=u(".%L"),v=u(":%S"),g=u("%I:%M"),p=u("%I %p"),y=u("%a %d"),x=u("%b %d"),b=u("%B"),w=u("%Y");function _(j){return(c(j)<j?h:l(j)<j?v:s(j)<j?g:i(j)<j?p:n(j)<j?a(j)<j?y:x:r(j)<j?b:w)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?m(Array.from(j,FKe)):m().map(LKe)},d.ticks=function(j){var A=m();return t(A[0],A[A.length-1],j??10)},d.tickFormat=function(j,A){return A==null?_:u(A)},d.nice=function(j){var A=m();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?m(Pne(A,j)):d},d.copy=function(){return y2(d,XR(t,e,r,n,a,i,s,l,c,u))},d}function $Ke(){return oc.apply(XR(IYe,MYe,sf,YR,y5,x2,qR,HR,up,Hne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BKe(){return oc.apply(XR(DYe,OYe,of,KR,x5,v5,GR,WR,up,Wne).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function b5(){var t=0,e=1,r,n,a,i,s=ho,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(m){var h,v;return arguments.length?([h,v]=m,s=f(h,v),u):[s(0),s(1)]}}return u.range=d(Vy),u.rangeRound=d(MR),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(t),n=f(e),a=r===n?0:1/(n-r),u}}function hm(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qne(){var t=fm(b5()(ho));return t.copy=function(){return hm(t,qne())},gf.apply(t,arguments)}function Gne(){var t=$R(b5()).domain([1,10]);return t.copy=function(){return hm(t,Gne()).base(t.base())},gf.apply(t,arguments)}function Yne(){var t=BR(b5());return t.copy=function(){return hm(t,Yne()).constant(t.constant())},gf.apply(t,arguments)}function ZR(){var t=UR(b5());return t.copy=function(){return hm(t,ZR()).exponent(t.exponent())},gf.apply(t,arguments)}function UKe(){return ZR.apply(null,arguments).exponent(.5)}function Kne(){var t=[],e=ho;function r(n){if(n!=null&&!isNaN(n=+n))return e((g2(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Eh),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>EGe(t,i/n))},r.copy=function(){return Kne(e).domain(t)},gf.apply(r,arguments)}function w5(){var t=0,e=.5,r=1,n=1,a,i,s,l,c,u=ho,d,f=!1,m;function h(g){return isNaN(g=+g)?m:(g=.5+((g=+d(g))-i)*(n*g<n*i?l:c),u(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,r]=g,a=d(t=+t),i=d(e=+e),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h):[t,e,r]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(u=g,h):u};function v(g){return function(p){var y,x,b;return arguments.length?([y,x,b]=p,u=JGe(g,[y,x,b]),h):[u(0),u(.5),u(1)]}}return h.range=v(Vy),h.rangeRound=v(MR),h.unknown=function(g){return arguments.length?(m=g,h):m},function(g){return d=g,a=g(t),i=g(e),s=g(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h}}function Xne(){var t=fm(w5()(ho));return t.copy=function(){return hm(t,Xne())},gf.apply(t,arguments)}function Zne(){var t=$R(w5()).domain([.1,1,10]);return t.copy=function(){return hm(t,Zne()).base(t.base())},gf.apply(t,arguments)}function Qne(){var t=BR(w5());return t.copy=function(){return hm(t,Qne()).constant(t.constant())},gf.apply(t,arguments)}function QR(){var t=UR(w5());return t.copy=function(){return hm(t,QR()).exponent(t.exponent())},gf.apply(t,arguments)}function zKe(){return QR.apply(null,arguments).exponent(.5)}const RU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kb,scaleDiverging:Xne,scaleDivergingLog:Zne,scaleDivergingPow:QR,scaleDivergingSqrt:zKe,scaleDivergingSymlog:Qne,scaleIdentity:kne,scaleImplicit:ID,scaleLinear:_N,scaleLog:Dne,scaleOrdinal:DR,scalePoint:O1,scalePow:zR,scaleQuantile:Mne,scaleQuantize:Rne,scaleRadial:Ine,scaleSequential:qne,scaleSequentialLog:Gne,scaleSequentialPow:ZR,scaleSequentialQuantile:Kne,scaleSequentialSqrt:UKe,scaleSequentialSymlog:Yne,scaleSqrt:SYe,scaleSymlog:One,scaleThreshold:Lne,scaleTime:$Ke,scaleUtc:BKe,tickFormat:Tne},Symbol.toStringTag,{value:"Module"}));var VKe=Iy;function HKe(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],s=e(i);if(s!=null&&(l===void 0?s===s&&!VKe(s):r(s,l)))var l=s,c=i}return c}var S5=HKe;function WKe(t,e){return t>e}var Jne=WKe,qKe=S5,GKe=Jne,YKe=zy;function KKe(t){return t&&t.length?qKe(t,YKe,GKe):void 0}var XKe=KKe;const ph=bn(XKe);function ZKe(t,e){return t<e}var eae=ZKe,QKe=S5,JKe=eae,eXe=zy;function tXe(t){return t&&t.length?QKe(t,eXe,JKe):void 0}var rXe=tXe;const _5=bn(rXe);var nXe=fR,aXe=sd,iXe=lne,sXe=Ho;function oXe(t,e){var r=sXe(t)?nXe:iXe;return r(t,aXe(e))}var lXe=oXe,cXe=sne,uXe=lXe;function dXe(t,e){return cXe(uXe(t,e),1)}var fXe=dXe;const hXe=bn(fXe);var mXe=ER;function pXe(t,e){return mXe(t,e)}var gXe=pXe;const Yp=bn(gXe);var Hy=1e9,vXe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},e6,ba=!0,tc="[DecimalError] ",Np=tc+"Invalid argument: ",JR=tc+"Exponent out of range: ",Wy=Math.floor,qm=Math.pow,yXe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ll,Fi=1e7,ha=7,tae=9007199254740991,EN=Wy(tae/ha),Xt={};Xt.absoluteValue=Xt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Xt.comparedTo=Xt.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Xt.decimalPlaces=Xt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ha;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Xt.dividedBy=Xt.div=function(t){return qd(this,new this.constructor(t))};Xt.dividedToIntegerBy=Xt.idiv=function(t){var e=this,r=e.constructor;return Qn(qd(e,new r(t),0,1),r.precision)};Xt.equals=Xt.eq=function(t){return!this.cmp(t)};Xt.exponent=function(){return Si(this)};Xt.greaterThan=Xt.gt=function(t){return this.cmp(t)>0};Xt.greaterThanOrEqualTo=Xt.gte=function(t){return this.cmp(t)>=0};Xt.isInteger=Xt.isint=function(){return this.e>this.d.length-2};Xt.isNegative=Xt.isneg=function(){return this.s<0};Xt.isPositive=Xt.ispos=function(){return this.s>0};Xt.isZero=function(){return this.s===0};Xt.lessThan=Xt.lt=function(t){return this.cmp(t)<0};Xt.lessThanOrEqualTo=Xt.lte=function(t){return this.cmp(t)<1};Xt.logarithm=Xt.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ll))throw Error(tc+"NaN");if(r.s<1)throw Error(tc+(r.s?"NaN":"-Infinity"));return r.eq(ll)?new n(0):(ba=!1,e=qd(Mb(r,i),Mb(t,i),i),ba=!0,Qn(e,a))};Xt.minus=Xt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?aae(e,t):rae(e,(t.s=-t.s,t))};Xt.modulo=Xt.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(tc+"NaN");return r.s?(ba=!1,e=qd(r,t,0,1).times(t),ba=!0,r.minus(e)):Qn(new n(r),a)};Xt.naturalExponential=Xt.exp=function(){return nae(this)};Xt.naturalLogarithm=Xt.ln=function(){return Mb(this)};Xt.negated=Xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Xt.plus=Xt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?rae(e,t):aae(e,(t.s=-t.s,t))};Xt.precision=Xt.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Np+t);if(e=Si(a)+1,n=a.d.length-1,r=n*ha+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Xt.squareRoot=Xt.sqrt=function(){var t,e,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(tc+"NaN")}for(t=Si(l),ba=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Du(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Wy((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(qd(l,i,s+2)).times(.5),Du(i.d).slice(0,s)===(e=Du(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(Qn(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;s+=4}return ba=!0,Qn(n,r)};Xt.times=Xt.mul=function(t){var e,r,n,a,i,s,l,c,u,d=this,f=d.constructor,m=d.d,h=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+h[n]*m[a-n-1]+e,i[a--]=l%Fi|0,e=l/Fi|0;i[a]=(i[a]+e)%Fi|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,ba?Qn(t,f.precision):t};Xt.toDecimalPlaces=Xt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ku(t,0,Hy),e===void 0?e=n.rounding:Ku(e,0,8),Qn(r,t+Si(r)+1,e))};Xt.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Kp(n,!0):(Ku(t,0,Hy),e===void 0?e=a.rounding:Ku(e,0,8),n=Qn(new a(n),t+1,e),r=Kp(n,!0,t+1)),r};Xt.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?Kp(a):(Ku(t,0,Hy),e===void 0?e=i.rounding:Ku(e,0,8),n=Qn(new i(a),t+Si(a)+1,e),r=Kp(n.abs(),!1,t+Si(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Xt.toInteger=Xt.toint=function(){var t=this,e=t.constructor;return Qn(new e(t),Si(t)+1,e.rounding)};Xt.toNumber=function(){return+this};Xt.toPower=Xt.pow=function(t){var e,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(ll);if(l=new c(l),!l.s){if(t.s<1)throw Error(tc+"Infinity");return l}if(l.eq(ll))return l;if(n=c.precision,t.eq(ll))return Qn(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=l.s,s){if((r=d<0?-d:d)<=tae){for(a=new c(ll),e=Math.ceil(n/ha+4),ba=!1;r%2&&(a=a.times(l),FU(a.d,e)),r=Wy(r/2),r!==0;)l=l.times(l),FU(l.d,e);return ba=!0,t.s<0?new c(ll).div(a):Qn(a,n)}}else if(i<0)throw Error(tc+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ba=!1,a=t.times(Mb(l,n+u)),ba=!0,a=nae(a),a.s=i,a};Xt.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Si(a),n=Kp(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ku(t,1,Hy),e===void 0?e=i.rounding:Ku(e,0,8),a=Qn(new i(a),t,e),r=Si(a),n=Kp(a,t<=r||r<=i.toExpNeg,t)),n};Xt.toSignificantDigits=Xt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ku(t,1,Hy),e===void 0?e=n.rounding:Ku(e,0,8)),Qn(new n(r),t,e)};Xt.toString=Xt.valueOf=Xt.val=Xt.toJSON=Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Si(t),r=t.constructor;return Kp(t,e<=r.toExpNeg||e>=r.toExpPos)};function rae(t,e){var r,n,a,i,s,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ba?Qn(e,f):e;if(c=t.d,u=e.d,s=t.e,a=e.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/ha),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Fi|0,c[i]%=Fi;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,ba?Qn(e,f):e}function Ku(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Np+t)}function Du(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=ha-n.length,r&&(i+=Xf(r)),i+=n;s=t[e],n=s+"",r=ha-n.length,r&&(i+=Xf(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var qd=function(){function t(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%Fi|0,s=i/Fi|0;return s&&n.unshift(s),n}function e(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Fi+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,m,h,v,g,p,y,x,b,w,_,j,A,E,T=n.constructor,R=n.s==a.s?1:-1,D=n.d,P=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(tc+"Division by zero");for(c=n.e-a.e,A=P.length,_=D.length,h=new T(R),v=h.d=[],u=0;P[u]==(D[u]||0);)++u;if(P[u]>(D[u]||0)&&--c,i==null?x=i=T.precision:s?x=i+(Si(n)-Si(a))+1:x=i,x<0)return new T(0);if(x=x/ha+2|0,u=0,A==1)for(d=0,P=P[0],x++;(u<_||d)&&x--;u++)b=d*Fi+(D[u]||0),v[u]=b/P|0,d=b%P|0;else{for(d=Fi/(P[0]+1)|0,d>1&&(P=t(P,d),D=t(D,d),A=P.length,_=D.length),w=A,g=D.slice(0,A),p=g.length;p<A;)g[p++]=0;E=P.slice(),E.unshift(0),j=P[0],P[1]>=Fi/2&&++j;do d=0,l=e(P,g,A,p),l<0?(y=g[0],A!=p&&(y=y*Fi+(g[1]||0)),d=y/j|0,d>1?(d>=Fi&&(d=Fi-1),f=t(P,d),m=f.length,p=g.length,l=e(f,g,m,p),l==1&&(d--,r(f,A<m?E:P,m))):(d==0&&(l=d=1),f=P.slice()),m=f.length,m<p&&f.unshift(0),r(g,f,p),l==-1&&(p=g.length,l=e(P,g,A,p),l<1&&(d++,r(g,A<p?E:P,p))),p=g.length):l===0&&(d++,g=[0]),v[u++]=d,l&&g[0]?g[p++]=D[w]||0:(g=[D[w]],p=1);while((w++<_||g[0]!==void 0)&&x--)}return v[0]||v.shift(),h.e=c,Qn(h,s?i+Si(h)+1:i)}}();function nae(t,e){var r,n,a,i,s,l,c=0,u=0,d=t.constructor,f=d.precision;if(Si(t)>16)throw Error(JR+Si(t));if(!t.s)return new d(ll);for(ba=!1,l=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(qm(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ll),d.precision=l;;){if(a=Qn(a.times(t),l),r=r.times(++c),s=i.plus(qd(a,r,l)),Du(s.d).slice(0,l)===Du(i.d).slice(0,l)){for(;u--;)i=Qn(i.times(i),l);return d.precision=f,e==null?(ba=!0,Qn(i,f)):i}i=s}}function Si(t){for(var e=t.e*ha,r=t.d[0];r>=10;r/=10)e++;return e}function k4(t,e,r){if(e>t.LN10.sd())throw ba=!0,r&&(t.precision=r),Error(tc+"LN10 precision limit exceeded");return Qn(new t(t.LN10),e)}function Xf(t){for(var e="";t--;)e+="0";return e}function Mb(t,e){var r,n,a,i,s,l,c,u,d,f=1,m=10,h=t,v=h.d,g=h.constructor,p=g.precision;if(h.s<1)throw Error(tc+(h.s?"NaN":"-Infinity"));if(h.eq(ll))return new g(0);if(e==null?(ba=!1,u=p):u=e,h.eq(10))return e==null&&(ba=!0),k4(g,u);if(u+=m,g.precision=u,r=Du(v),n=r.charAt(0),i=Si(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=Du(h.d),n=r.charAt(0),f++;i=Si(h),n>1?(h=new g("0."+r),i++):h=new g(n+"."+r.slice(1))}else return c=k4(g,u+2,p).times(i+""),h=Mb(new g(n+"."+r.slice(1)),u-m).plus(c),g.precision=p,e==null?(ba=!0,Qn(h,p)):h;for(l=s=h=qd(h.minus(ll),h.plus(ll),u),d=Qn(h.times(h),u),a=3;;){if(s=Qn(s.times(d),u),c=l.plus(qd(s,new g(a),u)),Du(c.d).slice(0,u)===Du(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(k4(g,u+2,p).times(i+""))),l=qd(l,new g(f),u),g.precision=p,e==null?(ba=!0,Qn(l,p)):l;l=c,a+=2}}function LU(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Wy(r/ha),t.d=[],n=(r+1)%ha,r<0&&(n+=ha),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=ha;n<a;)t.d.push(+e.slice(n,n+=ha));e=e.slice(n),n=ha-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),ba&&(t.e>EN||t.e<-EN))throw Error(JR+r)}else t.s=0,t.e=0,t.d=[0];return t}function Qn(t,e,r){var n,a,i,s,l,c,u,d,f=t.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=ha,a=e,u=f[d=0];else{if(d=Math.ceil((n+1)/ha),i=f.length,d>=i)return t;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=ha,a=n-ha+s}if(r!==void 0&&(i=qm(10,s-a-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/qm(10,s-a):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(i=Si(t),f.length=1,e=e-i-1,f[0]=qm(10,(ha-e%ha)%ha),t.e=Wy(-e/ha)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=qm(10,ha-n),f[d]=a>0?(u/qm(10,s-a)%qm(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Fi&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=Fi)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ba&&(t.e>EN||t.e<-EN))throw Error(JR+Si(t));return t}function aae(t,e){var r,n,a,i,s,l,c,u,d,f,m=t.constructor,h=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),ba?Qn(e,h):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(h/ha),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Fi-1;--c[i],c[a]+=Fi}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ba?Qn(e,h):e):new m(0)}function Kp(t,e,r){var n,a=Si(t),i=Du(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Xf(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Xf(-a-1)+i,r&&(n=r-s)>0&&(i+=Xf(n))):a>=s?(i+=Xf(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Xf(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Xf(n))),t.s<0?"-"+i:i}function FU(t,e){if(t.length>e)return t.length=e,!0}function iae(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Np+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return LU(s,i.toString())}else if(typeof i!="string")throw Error(Np+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,yXe.test(i))LU(s,i);else throw Error(Np+i)}if(a.prototype=Xt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=iae,a.config=a.set=xXe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function xXe(t){if(!t||typeof t!="object")throw Error(tc+"Object expected");var e,r,n,a=["precision",1,Hy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Wy(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Np+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Np+r+": "+n);return this}var e6=iae(vXe);ll=new e6(1);const Wn=e6;function bXe(t){return jXe(t)||_Xe(t)||SXe(t)||wXe()}function wXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SXe(t,e){if(t){if(typeof t=="string")return FD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FD(t,e)}}function _Xe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jXe(t){if(Array.isArray(t))return FD(t)}function FD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var NXe=function(e){return e},sae={},oae=function(e){return e===sae},$U=function(e){return function r(){return arguments.length===0||arguments.length===1&&oae(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},AXe=function t(e,r){return e===1?r:$U(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==sae}).length;return s>=e?r.apply(void 0,a):t(e-s,$U(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return oae(f)?c.shift():f});return r.apply(void 0,bXe(d).concat(c))}))})},j5=function(e){return AXe(e.length,e)},$D=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},EXe=j5(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),CXe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return NXe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},BD=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lae=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function TXe(t){var e;return t===0?e=1:e=Math.floor(new Wn(t).abs().log(10).toNumber())+1,e}function kXe(t,e,r){for(var n=new Wn(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var PXe=j5(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),DXe=j5(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),OXe=j5(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const N5={rangeStep:kXe,getDigitCount:TXe,interpolateNumber:PXe,uninterpolateNumber:DXe,uninterpolateTruncation:OXe};function UD(t){return RXe(t)||MXe(t)||cae(t)||IXe()}function IXe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MXe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function RXe(t){if(Array.isArray(t))return zD(t)}function Rb(t,e){return $Xe(t)||FXe(t,e)||cae(t,e)||LXe()}function LXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cae(t,e){if(t){if(typeof t=="string")return zD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zD(t,e)}}function zD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FXe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function $Xe(t){if(Array.isArray(t))return t}function uae(t){var e=Rb(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function dae(t,e,r){if(t.lte(0))return new Wn(0);var n=N5.getDigitCount(t.toNumber()),a=new Wn(10).pow(n),i=t.div(a),s=n!==1?.05:.1,l=new Wn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return e?c:new Wn(Math.ceil(c))}function BXe(t,e,r){var n=1,a=new Wn(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Wn(10).pow(N5.getDigitCount(t)-1),a=new Wn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Wn(Math.floor(t)))}else t===0?a=new Wn(Math.floor((e-1)/2)):r||(a=new Wn(Math.floor(t)));var s=Math.floor((e-1)/2),l=CXe(EXe(function(c){return a.add(new Wn(c-s).mul(n)).toNumber()}),$D);return l(0,e)}function fae(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Wn(0),tickMin:new Wn(0),tickMax:new Wn(0)};var i=dae(new Wn(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new Wn(0):(s=new Wn(t).add(e).div(2),s=s.sub(new Wn(s).mod(i)));var l=Math.ceil(s.sub(t).div(i).toNumber()),c=Math.ceil(new Wn(e).sub(s).div(i).toNumber()),u=l+c+1;return u>r?fae(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:s.sub(new Wn(l).mul(i)),tickMax:s.add(new Wn(c).mul(i))})}function UXe(t){var e=Rb(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=uae([r,n]),c=Rb(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(UD($D(0,a-1).map(function(){return 1/0}))):[].concat(UD($D(0,a-1).map(function(){return-1/0})),[d]);return r>n?BD(f):f}if(u===d)return BXe(u,a,i);var m=fae(u,d,s,i),h=m.step,v=m.tickMin,g=m.tickMax,p=N5.rangeStep(v,g.add(new Wn(.1).mul(h)),h);return r>n?BD(p):p}function zXe(t,e){var r=Rb(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=uae([n,a]),l=Rb(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(e,2),f=dae(new Wn(u).sub(c).div(d-1),i,0),m=[].concat(UD(N5.rangeStep(new Wn(c),new Wn(u).sub(new Wn(.99).mul(f)),f)),[u]);return n>a?BD(m):m}var VXe=lae(UXe),HXe=lae(zXe),WXe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function CN(){return CN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CN.apply(this,arguments)}function qXe(t,e){return XXe(t)||KXe(t,e)||YXe(t,e)||GXe()}function GXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YXe(t,e){if(t){if(typeof t=="string")return BU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BU(t,e)}}function BU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KXe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function XXe(t){if(Array.isArray(t))return t}function ZXe(t,e){if(t==null)return{};var r=QXe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QXe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eZe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pae(n.key),n)}}function tZe(t,e,r){return e&&eZe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rZe(t,e,r){return e=TN(e),nZe(t,hae()?Reflect.construct(e,r||[],TN(t).constructor):e.apply(t,r))}function nZe(t,e){if(e&&(Wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aZe(t)}function aZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hae=function(){return!!t})()}function TN(t){return TN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},TN(t)}function iZe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VD(t,e)}function VD(t,e){return VD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VD(t,e)}function mae(t,e,r){return e=pae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pae(t){var e=sZe(t,"string");return Wv(e)=="symbol"?e:e+""}function sZe(t,e){if(Wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b2=function(t){function e(){return JXe(this,e),rZe(this,e,arguments)}return iZe(e,t),tZe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=ZXe(n,WXe),h=ar(m,!1);this.props.direction==="x"&&d.type!=="number"&&Uh();var v=c.map(function(g){var p=u(g,l),y=p.x,x=p.y,b=p.value,w=p.errorVal;if(!w)return null;var _=[],j,A;if(Array.isArray(w)){var E=qXe(w,2);j=E[0],A=E[1]}else j=A=w;if(i==="vertical"){var T=d.scale,R=x+a,D=R+s,P=R-s,I=T(b-j),L=T(b+A);_.push({x1:L,y1:D,x2:L,y2:P}),_.push({x1:I,y1:R,x2:L,y2:R}),_.push({x1:I,y1:D,x2:I,y2:P})}else if(i==="horizontal"){var V=f.scale,H=y+a,q=H-s,G=H+s,re=V(b-j),Z=V(b+A);_.push({x1:q,y1:Z,x2:G,y2:Z}),_.push({x1:H,y1:re,x2:H,y2:Z}),_.push({x1:q,y1:re,x2:G,y2:re})}return W.createElement(en,CN({className:"recharts-errorBar",key:"bar-".concat(_.map(function(de){return"".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))},h),_.map(function(de){return W.createElement("line",CN({},de,{key:"line-".concat(de.x1,"-").concat(de.x2,"-").concat(de.y1,"-").concat(de.y2)}))}))});return W.createElement(en,{className:"recharts-errorBars"},v)}}])}(W.Component);mae(b2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mae(b2,"displayName","ErrorBar");function Lb(t){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lb(t)}function UU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Im(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(r),!0).forEach(function(n){oZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oZe(t,e,r){return e=lZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lZe(t){var e=cZe(t,"string");return Lb(e)=="symbol"?e:e+""}function cZe(t,e){if(Lb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gae=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=nl(r,Xc);if(!s)return null;var l=Xc.defaultProps,c=l!==void 0?Im(Im({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,h=f.props,v=h.sectors||h.data||[];return d.concat(v.map(function(g){return{type:s.props.iconType||m.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?Im(Im({},m),f.props):{},v=h.dataKey,g=h.name,p=h.legendType,y=h.hide;return{inactive:y,dataKey:v,type:c.iconType||p||"square",color:t6(f),value:g||v,payload:h}}),Im(Im(Im({},c),Xc.getWithHeight(s,a)),{},{payload:u,item:s})};function Fb(t){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(t)}function zU(t){return hZe(t)||fZe(t)||dZe(t)||uZe()}function uZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZe(t,e){if(t){if(typeof t=="string")return HD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HD(t,e)}}function fZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hZe(t){if(Array.isArray(t))return HD(t)}function HD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ba(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VU(Object(r),!0).forEach(function(n){G0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G0(t,e,r){return e=mZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mZe(t){var e=pZe(t,"string");return Fb(e)=="symbol"?e:e+""}function pZe(t,e){if(Fb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ti(t,e,r){return Ir(t)||Ir(e)?r:Pi(e)?pl(t,e,r):br(e)?e(t):r}function I1(t,e,r,n){var a=hXe(t,function(l){return ti(l,e)});if(r==="number"){var i=a.filter(function(l){return Et(l)||parseFloat(l)});return i.length?[_5(i),ph(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Ir(l)}):a;return s.map(function(l){return Pi(l)||l instanceof Date?l:""})}var gZe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(uo(f-d)!==uo(m-f)){var v=[];if(uo(m-f)===uo(c[1]-c[0])){h=m;var g=f+c[1]-c[0];v[0]=Math.min(g,(g+d)/2),v[1]=Math.max(g,(g+d)/2)}else{h=d;var p=m+c[1]-c[0];v[0]=Math.min(f,(p+f)/2),v[1]=Math.max(f,(p+f)/2)}var y=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){s=a[u].index;break}}else{var x=Math.min(d,m),b=Math.max(d,m);if(e>(x+f)/2&&e<=(b+f)/2){s=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&e<=(n[w].coordinate+n[w+1].coordinate)/2||w>0&&w<l-1&&e>(n[w].coordinate+n[w-1].coordinate)/2&&e<=(n[w].coordinate+n[w+1].coordinate)/2||w===l-1&&e>(n[w].coordinate+n[w-1].coordinate)/2){s=n[w].index;break}return s},t6=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ba(Ba({},e.type.defaultProps),e.props):e.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},vZe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var v=d[f[m]],g=v.items,p=v.cateAxisId,y=g.filter(function(A){return Wd(A.type).indexOf("Bar")>=0});if(y&&y.length){var x=y[0].type.defaultProps,b=x!==void 0?Ba(Ba({},x),y[0].props):y[0].props,w=b.barSize,_=b[p];s[_]||(s[_]=[]);var j=Ir(w)?r:w;s[_].push({item:y[0],stackList:y.slice(1),barSize:Ir(j)?void 0:fo(j,n,0)})}}return s},yZe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,l=e.maxBarSize,c=s.length;if(c<1)return null;var u=fo(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var m=!1,h=a/c,v=s.reduce(function(w,_){return w+_.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&h>0&&(m=!0,h*=.9,v=c*h);var g=(a-v)/2>>0,p={offset:g-u,size:0};d=s.reduce(function(w,_){var j={item:_.item,position:{offset:p.offset+p.size+u,size:m?h:_.barSize}},A=[].concat(zU(w),[j]);return p=A[A.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){A.push({item:E,position:p})}),A},f)}else{var y=fo(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var x=(a-2*y-(c-1)*u)/c;x>1&&(x>>=0);var b=l===+l?Math.min(x,l):x;d=s.reduce(function(w,_,j){var A=[].concat(zU(w),[{item:_.item,position:{offset:y+(x+u)*j+(x-b)/2,size:b}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){A.push({item:E,position:A[A.length-1].position})}),A},f)}return d},xZe=function(e,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=gae({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,v=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&v==="middle")&&h!=="center"&&Et(e[h]))return Ba(Ba({},e),{},G0({},h,e[h]+(f||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&v!=="middle"&&Et(e[v]))return Ba(Ba({},e),{},G0({},v,e[v]+(m||0)))}return e},bZe=function(e,r,n){return Ir(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vae=function(e,r,n,a,i){var s=r.props.children,l=gl(s,b2).filter(function(u){return bZe(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=ti(d,n);if(Ir(f))return u;var m=Array.isArray(f)?[_5(f),ph(f)]:[f,f],h=c.reduce(function(v,g){var p=ti(d,g,0),y=m[0]-Math.abs(Array.isArray(p)?p[0]:p),x=m[1]+Math.abs(Array.isArray(p)?p[1]:p);return[Math.min(y,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},wZe=function(e,r,n,a,i){var s=r.map(function(l){return vae(e,l,n,i,a)}).filter(function(l){return!Ir(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},yae=function(e,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&vae(e,c,u,a)||I1(e,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},xae=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},bae=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,s,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},Vd=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?uo(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!$y(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:i?i[f]:f,index:m,offset:u}})},P4=new WeakMap,h_=function(e,r){if(typeof r!="function")return e;P4.has(e)||P4.set(e,new WeakMap);var n=P4.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},wae=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,l=e.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:kb(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:_N(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:O1(),realScaleType:"point"}:i==="category"?{scale:kb(),realScaleType:"band"}:{scale:_N(),realScaleType:"linear"};if(Wp(a)){var c="scale".concat(c5(a));return{scale:(RU[c]||O1)(),realScaleType:RU[c]?c:"point"}}return br(a)?{scale:a}:{scale:O1(),realScaleType:"point"}},HU=1e-4,Sae=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-HU,s=Math.max(a[0],a[1])+HU,l=e(r[0]),c=e(r[n-1]);(l<i||l>s||c<i||c>s)&&e.domain([r[0],r[n-1]])}},SZe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},_Ze=function(e,r){if(!r||r.length!==2||!Et(r[0])||!Et(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Et(e[0])||e[0]<n)&&(i[0]=n),(!Et(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},jZe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=$y(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},NZe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=$y(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},AZe={sign:jZe,expand:q$e,none:Lv,silhouette:G$e,wiggle:Y$e,positive:NZe},EZe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=AZe[n],s=W$e().keys(a).value(function(l,c){return+ti(l,c,0)}).order(pD).offset(i);return s(e)},CZe=function(e,r,n,a,i,s){if(!e)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,m){var h,v=(h=m.type)!==null&&h!==void 0&&h.defaultProps?Ba(Ba({},m.type.defaultProps),m.props):m.props,g=v.stackId,p=v.hide;if(p)return f;var y=v[n],x=f[y]||{hasStack:!1,stackGroups:{}};if(Pi(g)){var b=x.stackGroups[g]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(m),x.hasStack=!0,x.stackGroups[g]=b}else x.stackGroups[mg("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[m]};return Ba(Ba({},f),{},G0({},y,x))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var v={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,p){var y=h.stackGroups[p];return Ba(Ba({},g),{},G0({},p,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:EZe(e,y.items,i)}))},v)}return Ba(Ba({},f),{},G0({},m,h))},d)},_ae=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=VXe(u,i,l);return e.domain([_5(d),ph(d)]),{niceTicks:d}}if(i&&a==="number"){var f=e.domain(),m=HXe(f,i,l);return{niceTicks:m}}return null};function kN(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ir(a[e.dataKey])){var l=rN(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=ti(a,Ir(s)?e.dataKey:s);return Ir(c)?null:e.scale(c)}var WU=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=ti(s,r.dataKey,r.domain[l]);return Ir(c)?null:r.scale(c)-i/2+a},TZe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},kZe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ba(Ba({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Pi(i)){var s=r[i];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},PZe=function(e){return e.reduce(function(r,n){return[_5(n.concat([r[0]]).filter(Et)),ph(n.concat([r[1]]).filter(Et))]},[1/0,-1/0])},jae=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],l=s.stackedData,c=l.reduce(function(u,d){var f=PZe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},qU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WD=function(e,r,n){if(br(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Et(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(qU.test(e[0])){var i=+qU.exec(e[0])[1];a[0]=r[0]-i}else br(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Et(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(GU.test(e[1])){var s=+GU.exec(e[1])[1];a[1]=r[1]+s}else br(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},PN=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=TR(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},YU=function(e,r,n){return!e||!e.length||Yp(e,pl(n,"type.defaultProps.domain"))?r:e},Nae=function(e,r){var n=e.type.defaultProps?Ba(Ba({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ba(Ba({},ar(e,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:t6(e),value:ti(r,a),type:c,payload:r,chartType:u,hide:d})};function $b(t){"@babel/helpers - typeof";return $b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$b(t)}function KU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KU(Object(r),!0).forEach(function(n){Aae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aae(t,e,r){return e=DZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DZe(t){var e=OZe(t,"string");return $b(e)=="symbol"?e:e+""}function OZe(t,e){if($b(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($b(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IZe(t,e){return FZe(t)||LZe(t,e)||RZe(t,e)||MZe()}function MZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RZe(t,e){if(t){if(typeof t=="string")return XU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XU(t,e)}}function XU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function LZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function FZe(t){if(Array.isArray(t))return t}var DN=Math.PI/180,$Ze=function(e){return e*180/Math.PI},oa=function(e,r,n,a){return{x:e+Math.cos(-DN*a)*n,y:r+Math.sin(-DN*a)*n}},Eae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},BZe=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=fo(e.cx,s,s/2),f=fo(e.cy,l,l/2),m=Eae(s,l,n),h=fo(e.innerRadius,m,0),v=fo(e.outerRadius,m,m*.8),g=Object.keys(r);return g.reduce(function(p,y){var x=r[y],b=x.domain,w=x.reversed,_;if(Ir(x.range))a==="angleAxis"?_=[c,u]:a==="radiusAxis"&&(_=[h,v]),w&&(_=[_[1],_[0]]);else{_=x.range;var j=_,A=IZe(j,2);c=A[0],u=A[1]}var E=wae(x,i),T=E.realScaleType,R=E.scale;R.domain(b).range(_),Sae(R);var D=_ae(R,Rd(Rd({},x),{},{realScaleType:T})),P=Rd(Rd(Rd({},x),D),{},{range:_,radius:v,realScaleType:T,scale:R,cx:d,cy:f,innerRadius:h,outerRadius:v,startAngle:c,endAngle:u});return Rd(Rd({},p),{},Aae({},y,P))},{})},UZe=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},zZe=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,l=UZe({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:$Ze(u),angleInRadian:u}},VZe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},HZe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return e+l*360},ZU=function(e,r){var n=e.x,a=e.y,i=zZe({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=VZe(r),f=d.startAngle,m=d.endAngle,h=l,v;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;v=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;v=h>=m&&h<=f}return v?Rd(Rd({},r),{},{radius:s,angle:HZe(h,r)}):null},Cae=function(e){return!N.isValidElement(e)&&!br(e)&&typeof e!="boolean"?e.className:""};function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}var WZe=["offset"];function qZe(t){return XZe(t)||KZe(t)||YZe(t)||GZe()}function GZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YZe(t,e){if(t){if(typeof t=="string")return qD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qD(t,e)}}function KZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XZe(t){if(Array.isArray(t))return qD(t)}function qD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZZe(t,e){if(t==null)return{};var r=QZe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QZe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QU(Object(r),!0).forEach(function(n){JZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JZe(t,e,r){return e=eQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eQe(t){var e=tQe(t,"string");return Bb(e)=="symbol"?e:e+""}function tQe(t,e){if(Bb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ub.apply(this,arguments)}var rQe=function(e){var r=e.value,n=e.formatter,a=Ir(e.children)?r:e.children;return br(n)?n(a):a},nQe=function(e,r){var n=uo(r-e),a=Math.min(Math.abs(r-e),360);return n*a},aQe=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,v=c.endAngle,g=c.clockWise,p=(f+m)/2,y=nQe(h,v),x=y>=0?1:-1,b,w;a==="insideStart"?(b=h+x*s,w=g):a==="insideEnd"?(b=v-x*s,w=!g):a==="end"&&(b=v+x*s,w=g),w=y<=0?w:!w;var _=oa(u,d,p,b),j=oa(u,d,p,b+(w?1:-1)*359),A="M".concat(_.x,",").concat(_.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(j.x,",").concat(j.y),E=Ir(e.id)?mg("recharts-radial-line-"):e.id;return W.createElement("text",Ub({},n,{dominantBaseline:"central",className:Lr("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:E,d:A})),W.createElement("textPath",{xlinkHref:"#".concat(E)},r))},iQe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(a==="outside"){var h=oa(s,l,u+n,m),v=h.x,g=h.y;return{x:v,y:g,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var p=(c+u)/2,y=oa(s,l,p,m),x=y.x,b=y.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},sQe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",v=f>0?"start":"end",g=u>=0?1:-1,p=g*a,y=g>0?"end":"start",x=g>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return Ai(Ai({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var w={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:v};return Ai(Ai({},w),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var _={x:l-p,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Ai(Ai({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(i==="right"){var j={x:l+u+p,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Ai(Ai({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var A=n?{width:u,height:d}:{};return i==="insideLeft"?Ai({x:l+p,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},A):i==="insideRight"?Ai({x:l+u-p,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},A):i==="insideTop"?Ai({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:v},A):i==="insideBottom"?Ai({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},A):i==="insideTopLeft"?Ai({x:l+p,y:c+m,textAnchor:x,verticalAnchor:v},A):i==="insideTopRight"?Ai({x:l+u-p,y:c+m,textAnchor:y,verticalAnchor:v},A):i==="insideBottomLeft"?Ai({x:l+p,y:c+d-m,textAnchor:x,verticalAnchor:h},A):i==="insideBottomRight"?Ai({x:l+u-p,y:c+d-m,textAnchor:y,verticalAnchor:h},A):My(i)&&(Et(i.x)||lp(i.x))&&(Et(i.y)||lp(i.y))?Ai({x:l+fo(i.x,u),y:c+fo(i.y,d),textAnchor:"end",verticalAnchor:"end"},A):Ai({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},oQe=function(e){return"cx"in e&&Et(e.cx)};function Ui(t){var e=t.offset,r=e===void 0?5:e,n=ZZe(t,WZe),a=Ai({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!i||Ir(l)&&Ir(c)&&!N.isValidElement(u)&&!br(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var h;if(br(u)){if(h=N.createElement(u,a),N.isValidElement(h))return h}else h=rQe(a);var v=oQe(i),g=ar(a,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return aQe(a,h,g);var p=v?iQe(a):sQe(a);return W.createElement(Gp,Ub({className:Lr("recharts-label",f)},g,p,{breakAll:m}),h)}Ui.displayName="Label";var Tae=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,h=e.top,v=e.left,g=e.width,p=e.height,y=e.clockWise,x=e.labelViewBox;if(x)return x;if(Et(g)&&Et(p)){if(Et(f)&&Et(m))return{x:f,y:m,width:g,height:p};if(Et(h)&&Et(v))return{x:h,y:v,width:g,height:p}}return Et(f)&&Et(m)?{x:f,y:m,width:0,height:0}:Et(r)&&Et(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:y}:e.viewBox?e.viewBox:{}},lQe=function(e,r){return e?e===!0?W.createElement(Ui,{key:"label-implicit",viewBox:r}):Pi(e)?W.createElement(Ui,{key:"label-implicit",viewBox:r,value:e}):N.isValidElement(e)?e.type===Ui?N.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(Ui,{key:"label-implicit",content:e,viewBox:r}):br(e)?W.createElement(Ui,{key:"label-implicit",content:e,viewBox:r}):My(e)?W.createElement(Ui,Ub({viewBox:r},e,{key:"label-implicit"})):null:null},cQe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=Tae(e),s=gl(a,Ui).map(function(c,u){return N.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=lQe(e.label,r||i);return[l].concat(qZe(s))};Ui.parseViewBox=Tae;Ui.renderCallByParent=cQe;function uQe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var dQe=uQe;const fQe=bn(dQe);function zb(t){"@babel/helpers - typeof";return zb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zb(t)}var hQe=["valueAccessor"],mQe=["data","dataKey","clockWise","id","textBreakAll"];function pQe(t){return xQe(t)||yQe(t)||vQe(t)||gQe()}function gQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vQe(t,e){if(t){if(typeof t=="string")return GD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GD(t,e)}}function yQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xQe(t){if(Array.isArray(t))return GD(t)}function GD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ON(){return ON=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ON.apply(this,arguments)}function JU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ez(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(r),!0).forEach(function(n){bQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bQe(t,e,r){return e=wQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wQe(t){var e=SQe(t,"string");return zb(e)=="symbol"?e:e+""}function SQe(t,e){if(zb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tz(t,e){if(t==null)return{};var r=_Qe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Qe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jQe=function(e){return Array.isArray(e.value)?fQe(e.value):e.value};function zu(t){var e=t.valueAccessor,r=e===void 0?jQe:e,n=tz(t,hQe),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=tz(n,mQe);return!a||!a.length?null:W.createElement(en,{className:"recharts-label-list"},a.map(function(d,f){var m=Ir(i)?r(d,f):ti(d&&d.payload,i),h=Ir(l)?{}:{id:"".concat(l,"-").concat(f)};return W.createElement(Ui,ON({},ar(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Ui.parseViewBox(Ir(s)?d:ez(ez({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}zu.displayName="LabelList";function NQe(t,e){return t?t===!0?W.createElement(zu,{key:"labelList-implicit",data:e}):W.isValidElement(t)||br(t)?W.createElement(zu,{key:"labelList-implicit",data:e,content:t}):My(t)?W.createElement(zu,ON({data:e},t,{key:"labelList-implicit"})):null:null}function AQe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=gl(n,zu).map(function(s,l){return N.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=NQe(t.label,e);return[i].concat(pQe(a))}zu.renderCallByParent=AQe;function Vb(t){"@babel/helpers - typeof";return Vb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vb(t)}function YD(){return YD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YD.apply(this,arguments)}function rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(r),!0).forEach(function(n){EQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EQe(t,e,r){return e=CQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CQe(t){var e=TQe(t,"string");return Vb(e)=="symbol"?e:e+""}function TQe(t,e){if(Vb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kQe=function(e,r){var n=uo(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},m_=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/DN,m=u?i:i+s*f,h=oa(r,n,d,m),v=oa(r,n,a,m),g=u?i-s*f:i,p=oa(r,n,d*Math.cos(f*DN),g);return{center:h,circleTangency:v,lineTangency:p,theta:f}},kae=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=kQe(s,l),u=s+c,d=oa(r,n,i,s),f=oa(r,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=oa(r,n,a,s),v=oa(r,n,a,u);m+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},PQe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=uo(d-u),m=m_({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),h=m.circleTangency,v=m.lineTangency,g=m.theta,p=m_({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),y=p.circleTangency,x=p.lineTangency,b=p.theta,w=c?Math.abs(u-d):Math.abs(u-d)-g-b;if(w<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):kae({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var j=m_({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),A=j.circleTangency,E=j.lineTangency,T=j.theta,R=m_({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),D=R.circleTangency,P=R.lineTangency,I=R.theta,L=c?Math.abs(u-d):Math.abs(u-d)-T-I;if(L<0&&s===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},DQe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Pae=function(e){var r=nz(nz({},DQe),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(s<i||d===f)return null;var h=Lr("recharts-sector",m),v=s-i,g=fo(l,v,0,!0),p;return g>0&&Math.abs(d-f)<360?p=PQe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):p=kae({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),W.createElement("path",YD({},ar(r,!0),{className:h,d:p,role:"img"}))};function Hb(t){"@babel/helpers - typeof";return Hb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(t)}function KD(){return KD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KD.apply(this,arguments)}function az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?az(Object(r),!0).forEach(function(n){OQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OQe(t,e,r){return e=IQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IQe(t){var e=MQe(t,"string");return Hb(e)=="symbol"?e:e+""}function MQe(t,e){if(Hb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sz={curveBasisClosed:I$e,curveBasisOpen:M$e,curveBasis:O$e,curveBumpX:x$e,curveBumpY:b$e,curveLinearClosed:R$e,curveLinear:d5,curveMonotoneX:L$e,curveMonotoneY:F$e,curveNatural:$$e,curveStep:B$e,curveStepAfter:z$e,curveStepBefore:U$e},p_=function(e){return e.x===+e.x&&e.y===+e.y},Hx=function(e){return e.x},Wx=function(e){return e.y},RQe=function(e,r){if(br(e))return e;var n="curve".concat(c5(e));return(n==="curveMonotone"||n==="curveBump")&&r?sz["".concat(n).concat(r==="vertical"?"Y":"X")]:sz[n]||d5},LQe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=RQe(n,l),f=u?i.filter(function(g){return p_(g)}):i,m;if(Array.isArray(s)){var h=u?s.filter(function(g){return p_(g)}):s,v=f.map(function(g,p){return iz(iz({},g),{},{base:h[p]})});return l==="vertical"?m=i_().y(Wx).x1(Hx).x0(function(g){return g.base.x}):m=i_().x(Hx).y1(Wx).y0(function(g){return g.base.y}),m.defined(p_).curve(d),m(v)}return l==="vertical"&&Et(s)?m=i_().y(Wx).x1(Hx).x0(s):Et(s)?m=i_().x(Hx).y1(Wx).y0(s):m=Nre().x(Hx).y(Wx),m.defined(p_).curve(d),m(f)},Ap=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?LQe(e):a;return W.createElement("path",KD({},ar(e,!1),nN(e),{className:Lr("recharts-curve",r),d:s,ref:i}))},FQe=Object.getOwnPropertyNames,$Qe=Object.getOwnPropertySymbols,BQe=Object.prototype.hasOwnProperty;function oz(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function g_(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function lz(t){return FQe(t).concat($Qe(t))}var UQe=Object.hasOwn||function(t,e){return BQe.call(t,e)};function vg(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var zQe="__v",VQe="__o",HQe="_owner",cz=Object.getOwnPropertyDescriptor,uz=Object.keys;function WQe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function qQe(t,e){return vg(t.getTime(),e.getTime())}function GQe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function YQe(t,e){return t===e}function dz(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=s.value,h=l.value;if(r.equals(m[0],h[0],c,f,t,e,r)&&r.equals(m[1],h[1],m[0],h[0],t,e,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var KQe=vg;function XQe(t,e,r){var n=uz(t),a=n.length;if(uz(e).length!==a)return!1;for(;a-- >0;)if(!Dae(t,e,r,n[a]))return!1;return!0}function qx(t,e,r){var n=lz(t),a=n.length;if(lz(e).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!Dae(t,e,r,i)||(s=cz(t,i),l=cz(e,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function ZQe(t,e){return vg(t.valueOf(),e.valueOf())}function QQe(t,e){return t.source===e.source&&t.flags===e.flags}function fz(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,l;(s=i.next())&&!s.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function JQe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function eJe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Dae(t,e,r,n){return(n===HQe||n===VQe||n===zQe)&&(t.$$typeof||e.$$typeof)?!0:UQe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var tJe="[object Arguments]",rJe="[object Boolean]",nJe="[object Date]",aJe="[object Error]",iJe="[object Map]",sJe="[object Number]",oJe="[object Object]",lJe="[object RegExp]",cJe="[object Set]",uJe="[object String]",dJe="[object URL]",fJe=Array.isArray,hz=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,mz=Object.assign,hJe=Object.prototype.toString.call.bind(Object.prototype.toString);function mJe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,m=t.areUrlsEqual;return function(v,g,p){if(v===g)return!0;if(v==null||g==null)return!1;var y=typeof v;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?s(v,g,p):y==="function"?a(v,g,p):!1;var x=v.constructor;if(x!==g.constructor)return!1;if(x===Object)return l(v,g,p);if(fJe(v))return e(v,g,p);if(hz!=null&&hz(v))return f(v,g,p);if(x===Date)return r(v,g,p);if(x===RegExp)return u(v,g,p);if(x===Map)return i(v,g,p);if(x===Set)return d(v,g,p);var b=hJe(v);return b===nJe?r(v,g,p):b===lJe?u(v,g,p):b===iJe?i(v,g,p):b===cJe?d(v,g,p):b===oJe?typeof v.then!="function"&&typeof g.then!="function"&&l(v,g,p):b===dJe?m(v,g,p):b===aJe?n(v,g,p):b===tJe?l(v,g,p):b===rJe||b===sJe||b===uJe?c(v,g,p):!1}}function pJe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?qx:WQe,areDatesEqual:qQe,areErrorsEqual:GQe,areFunctionsEqual:YQe,areMapsEqual:n?oz(dz,qx):dz,areNumbersEqual:KQe,areObjectsEqual:n?qx:XQe,arePrimitiveWrappersEqual:ZQe,areRegExpsEqual:QQe,areSetsEqual:n?oz(fz,qx):fz,areTypedArraysEqual:n?qx:JQe,areUrlsEqual:eJe};if(r&&(a=mz({},a,r(a))),e){var i=g_(a.areArraysEqual),s=g_(a.areMapsEqual),l=g_(a.areObjectsEqual),c=g_(a.areSetsEqual);a=mz({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function gJe(t){return function(e,r,n,a,i,s,l){return t(e,r,l)}}function vJe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,h=d.meta;return r(c,u,{cache:m,equals:a,meta:h,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var yJe=mm();mm({strict:!0});mm({circular:!0});mm({circular:!0,strict:!0});mm({createInternalComparator:function(){return vg}});mm({strict:!0,createInternalComparator:function(){return vg}});mm({circular:!0,createInternalComparator:function(){return vg}});mm({circular:!0,createInternalComparator:function(){return vg},strict:!0});function mm(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,l=pJe(t),c=mJe(l),u=n?n(c):gJe(c);return vJe({circular:r,comparator:c,createState:a,equals:u,strict:s})}function xJe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):xJe(a)};requestAnimationFrame(n)}function XD(t){"@babel/helpers - typeof";return XD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XD(t)}function bJe(t){return jJe(t)||_Je(t)||SJe(t)||wJe()}function wJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SJe(t,e){if(t){if(typeof t=="string")return gz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gz(t,e)}}function gz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _Je(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jJe(t){if(Array.isArray(t))return t}function NJe(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=bJe(s),c=l[0],u=l.slice(1);if(typeof c=="number"){pz(a.bind(null,u),c);return}a(c),pz(a.bind(null,u));return}XD(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Wb(t){"@babel/helpers - typeof";return Wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wb(t)}function vz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(r),!0).forEach(function(n){Oae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oae(t,e,r){return e=AJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AJe(t){var e=EJe(t,"string");return Wb(e)==="symbol"?e:String(e)}function EJe(t,e){if(Wb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CJe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},TJe=function(e){return e},kJe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},M1=function(e,r){return Object.keys(r).reduce(function(n,a){return yz(yz({},n),{},Oae({},a,e(a,r[a])))},{})},xz=function(e,r,n){return e.map(function(a){return"".concat(kJe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function PJe(t,e){return IJe(t)||OJe(t,e)||Iae(t,e)||DJe()}function DJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OJe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function IJe(t){if(Array.isArray(t))return t}function MJe(t){return FJe(t)||LJe(t)||Iae(t)||RJe()}function RJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iae(t,e){if(t){if(typeof t=="string")return ZD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZD(t,e)}}function LJe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FJe(t){if(Array.isArray(t))return ZD(t)}function ZD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var IN=1e-4,Mae=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Rae=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},bz=function(e,r){return function(n){var a=Mae(e,r);return Rae(a,n)}},$Je=function(e,r){return function(n){var a=Mae(e,r),i=[].concat(MJe(a.map(function(s,l){return s*l}).slice(1)),[0]);return Rae(i,n)}},wz=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(p){return parseFloat(p)}),d=PJe(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=bz(a,s),m=bz(i,l),h=$Je(a,s),v=function(y){return y>1?1:y<0?0:y},g=function(y){for(var x=y>1?1:y,b=x,w=0;w<8;++w){var _=f(b)-x,j=h(b);if(Math.abs(_-x)<IN||j<IN)return m(b);b=v(b-_/j)}return m(b)};return g.isStepper=!1,g},BJe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,l=s===void 0?17:s,c=function(d,f,m){var h=-(d-f)*n,v=m*i,g=m+(h-v)*l/1e3,p=m*l/1e3+d;return Math.abs(p-f)<IN&&Math.abs(g)<IN?[f,0]:[p,g]};return c.isStepper=!0,c.dt=l,c},UJe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wz(a);case"spring":return BJe();default:if(a.split("(")[0]==="cubic-bezier")return wz(a)}return typeof a=="function"?a:null};function qb(t){"@babel/helpers - typeof";return qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(t)}function Sz(t){return HJe(t)||VJe(t)||Lae(t)||zJe()}function zJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VJe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HJe(t){if(Array.isArray(t))return JD(t)}function _z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(r),!0).forEach(function(n){QD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QD(t,e,r){return e=WJe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WJe(t){var e=qJe(t,"string");return qb(e)==="symbol"?e:String(e)}function qJe(t,e){if(qb(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qb(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GJe(t,e){return XJe(t)||KJe(t,e)||Lae(t,e)||YJe()}function YJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lae(t,e){if(t){if(typeof t=="string")return JD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JD(t,e)}}function JD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KJe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function XJe(t){if(Array.isArray(t))return t}var MN=function(e,r,n){return e+(r-e)*n},eO=function(e){var r=e.from,n=e.to;return r!==n},ZJe=function t(e,r,n){var a=M1(function(i,s){if(eO(s)){var l=e(s.from,s.to,s.velocity),c=GJe(l,2),u=c[0],d=c[1];return ss(ss({},s),{},{from:u,velocity:d})}return s},r);return n<1?M1(function(i,s){return eO(s)?ss(ss({},s),{},{velocity:MN(s.velocity,a[i].velocity,n),from:MN(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const QJe=function(t,e,r,n,a){var i=CJe(t,e),s=i.reduce(function(p,y){return ss(ss({},p),{},QD({},y,[t[y],e[y]]))},{}),l=i.reduce(function(p,y){return ss(ss({},p),{},QD({},y,{from:t[y],velocity:0,to:e[y]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return M1(function(y,x){return x.from},l)},h=function(){return!Object.values(l).filter(eO).length},v=function(y){u||(u=y);var x=y-u,b=x/r.dt;l=ZJe(r,l,b),a(ss(ss(ss({},t),e),m())),u=y,h()||(c=requestAnimationFrame(f))},g=function(y){d||(d=y);var x=(y-d)/n,b=M1(function(_,j){return MN.apply(void 0,Sz(j).concat([r(x)]))},s);if(a(ss(ss(ss({},t),e),b)),x<1)c=requestAnimationFrame(f);else{var w=M1(function(_,j){return MN.apply(void 0,Sz(j).concat([r(1)]))},s);a(ss(ss(ss({},t),e),w))}};return f=r.isStepper?v:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}var JJe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function eet(t,e){if(t==null)return{};var r=tet(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tet(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function D4(t){return iet(t)||aet(t)||net(t)||ret()}function ret(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function net(t,e){if(t){if(typeof t=="string")return tO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tO(t,e)}}function aet(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iet(t){if(Array.isArray(t))return tO(t)}function tO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(r),!0).forEach(function(n){u1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u1(t,e,r){return e=Fae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function set(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oet(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fae(n.key),n)}}function cet(t,e,r){return e&&oet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fae(t){var e=uet(t,"string");return qv(e)==="symbol"?e:String(e)}function uet(t,e){if(qv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function det(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rO(t,e)}function rO(t,e){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rO(t,e)}function fet(t){var e=het();return function(){var n=RN(t),a;if(e){var i=RN(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return nO(this,a)}}function nO(t,e){if(e&&(qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aO(t)}function aO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function het(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function RN(t){return RN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},RN(t)}var su=function(t){det(r,t);var e=fet(r);function r(n,a){var i;set(this,r),i=e.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,m=s.children,h=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(aO(i)),i.changeStyle=i.changeStyle.bind(aO(i)),!l||h<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),nO(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},nO(i);i.state={style:c?u1({},c,u):u}}else i.state={style:{}};return i}return cet(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!s){var h={style:c?u1({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(yJe(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=v||u?f:a.to;if(this.state&&m){var p={style:c?u1({},c,g):g};(c&&m[c]!==g||!c&&m!==g)&&this.setState(p)}this.runAnimation(bc(bc({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=QJe(s,l,UJe(u),c,this.changeStyle),v=function(){i.stopJSAnimation=h()};this.manager.start([m,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(g,p,y){if(y===0)return g;var x=p.duration,b=p.easing,w=b===void 0?"ease":b,_=p.style,j=p.properties,A=p.onAnimationEnd,E=y>0?s[y-1]:p,T=j||Object.keys(_);if(typeof w=="function"||w==="spring")return[].concat(D4(g),[i.runJSAnimation.bind(i,{from:E.style,to:_,duration:x,easing:w}),x]);var R=xz(T,x,w),D=bc(bc(bc({},E.style),_),{},{transition:R});return[].concat(D4(g),[D,x,A]).filter(TJe)};return this.manager.start([c].concat(D4(s.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=NJe());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var g=l?u1({},l,c):c,p=xz(Object.keys(g),s,u);v.start([d,i,bc(bc({},g),{},{transition:p}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=eet(a,JJe),u=N.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(h){var v=h.props,g=v.style,p=g===void 0?{}:g,y=v.className,x=N.cloneElement(h,bc(bc({},c),{},{style:bc(bc({},p),d),className:y}));return x};return u===1?f(N.Children.only(i)):W.createElement("div",null,N.Children.map(i,function(m){return f(m)}))}}]),r}(N.PureComponent);su.displayName="Animate";su.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};su.propTypes={from:ur.oneOfType([ur.object,ur.string]),to:ur.oneOfType([ur.object,ur.string]),attributeName:ur.string,duration:ur.number,begin:ur.number,easing:ur.oneOfType([ur.string,ur.func]),steps:ur.arrayOf(ur.shape({duration:ur.number.isRequired,style:ur.object.isRequired,easing:ur.oneOfType([ur.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ur.func]),properties:ur.arrayOf("string"),onAnimationEnd:ur.func})),children:ur.oneOfType([ur.node,ur.func]),isActive:ur.bool,canBegin:ur.bool,onAnimationEnd:ur.func,shouldReAnimate:ur.bool,onAnimationStart:ur.func,onAnimationReStart:ur.func};function Gb(t){"@babel/helpers - typeof";return Gb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(t)}function LN(){return LN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LN.apply(this,arguments)}function met(t,e){return yet(t)||vet(t,e)||get(t,e)||pet()}function pet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function get(t,e){if(t){if(typeof t=="string")return Nz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nz(t,e)}}function Nz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vet(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function yet(t){if(Array.isArray(t))return t}function Az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ez(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(r),!0).forEach(function(n){xet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Az(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xet(t,e,r){return e=bet(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bet(t){var e=wet(t,"string");return Gb(e)=="symbol"?e:e+""}function wet(t,e){if(Gb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cz=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=i[m]>s?s:i[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+a)),d+="L ".concat(e+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);d="M ".concat(e,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*v,`
            L `).concat(e+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+a,`
            L `).concat(e+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*v," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},_et=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),m=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=m}return!1},jet={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r6=function(e){var r=Ez(Ez({},jet),e),n=N.useRef(),a=N.useState(-1),i=met(a,2),s=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,h=r.className,v=r.animationEasing,g=r.animationDuration,p=r.animationBegin,y=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=Lr("recharts-rectangle",h);return x?W.createElement(su,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:v,isActive:x},function(w){var _=w.width,j=w.height,A=w.x,E=w.y;return W.createElement(su,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,isActive:y,easing:v},W.createElement("path",LN({},ar(r,!0),{className:b,d:Cz(A,E,_,j,m),ref:n})))}):W.createElement("path",LN({},ar(r,!0),{className:b,d:Cz(c,u,d,f,m)}))},Net=["points","className","baseLinePoints","connectNulls"];function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}function Aet(t,e){if(t==null)return{};var r=Eet(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Eet(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tz(t){return Pet(t)||ket(t)||Tet(t)||Cet()}function Cet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tet(t,e){if(t){if(typeof t=="string")return iO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iO(t,e)}}function ket(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pet(t){if(Array.isArray(t))return iO(t)}function iO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var kz=function(e){return e&&e.x===+e.x&&e.y===+e.y},Det=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){kz(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),kz(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},R1=function(e,r){var n=Det(e);r&&(n=[n.reduce(function(i,s){return[].concat(Tz(i),Tz(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Oet=function(e,r,n){var a=R1(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(R1(r.reverse(),n).slice(1))},Iet=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,s=Aet(e,Net);if(!r||!r.length)return null;var l=Lr("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=Oet(r,a,i);return W.createElement("g",{className:l},W.createElement("path",C0({},ar(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?W.createElement("path",C0({},ar(s,!0),{fill:"none",d:R1(r,i)})):null,c?W.createElement("path",C0({},ar(s,!0),{fill:"none",d:R1(a,i)})):null)}var d=R1(r,i);return W.createElement("path",C0({},ar(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function sO(){return sO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sO.apply(this,arguments)}var w2=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=Lr("recharts-dot",i);return r===+r&&n===+n&&a===+a?W.createElement("circle",sO({},ar(e,!1),nN(e),{className:s,cx:r,cy:n,r:a})):null};function Yb(t){"@babel/helpers - typeof";return Yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yb(t)}var Met=["x","y","top","left","width","height","className"];function oO(){return oO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oO.apply(this,arguments)}function Pz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ret(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(r),!0).forEach(function(n){Let(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Let(t,e,r){return e=Fet(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fet(t){var e=$et(t,"string");return Yb(e)=="symbol"?e:e+""}function $et(t,e){if(Yb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bet(t,e){if(t==null)return{};var r=Uet(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uet(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var zet=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Vet=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,l=s===void 0?0:s,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,h=m===void 0?0:m,v=e.className,g=Bet(e,Met),p=Ret({x:n,y:i,top:l,left:u,width:f,height:h},g);return!Et(n)||!Et(i)||!Et(f)||!Et(h)||!Et(l)||!Et(u)?null:W.createElement("path",oO({},ar(p,!0),{className:Lr("recharts-cross",v),d:zet(n,i,f,h,l,u)}))},Het=S5,Wet=Jne,qet=sd;function Get(t,e){return t&&t.length?Het(t,qet(e),Wet):void 0}var Yet=Get;const Ket=bn(Yet);var Xet=S5,Zet=sd,Qet=eae;function Jet(t,e){return t&&t.length?Xet(t,Zet(e),Qet):void 0}var ett=Jet;const ttt=bn(ett);var rtt=["cx","cy","angle","ticks","axisLine"],ntt=["ticks","tick","angle","tickFormatter","stroke"];function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function L1(){return L1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L1.apply(this,arguments)}function Dz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dz(Object(r),!0).forEach(function(n){A5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oz(t,e){if(t==null)return{};var r=att(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function att(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function itt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bae(n.key),n)}}function stt(t,e,r){return e&&Iz(t.prototype,e),r&&Iz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ott(t,e,r){return e=FN(e),ltt(t,$ae()?Reflect.construct(e,r||[],FN(t).constructor):e.apply(t,r))}function ltt(t,e){if(e&&(Gv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ctt(t)}function ctt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($ae=function(){return!!t})()}function FN(t){return FN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},FN(t)}function utt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lO(t,e)}function lO(t,e){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lO(t,e)}function A5(t,e,r){return e=Bae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bae(t){var e=dtt(t,"string");return Gv(e)=="symbol"?e:e+""}function dtt(t,e){if(Gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E5=function(t){function e(){return itt(this,e),ott(this,e,arguments)}return utt(e,t),stt(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return oa(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=Ket(l,function(d){return d.coordinate||0}),u=ttt(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=Oz(n,rtt),d=l.reduce(function(v,g){return[Math.min(v[0],g.coordinate),Math.max(v[1],g.coordinate)]},[1/0,-1/0]),f=oa(a,i,d[0],s),m=oa(a,i,d[1],s),h=Mm(Mm(Mm({},ar(u,!1)),{},{fill:"none"},ar(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return W.createElement("line",L1({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=Oz(a,ntt),f=this.getTickTextAnchor(),m=ar(d,!1),h=ar(s,!1),v=i.map(function(g,p){var y=n.getTickValueCoord(g),x=Mm(Mm(Mm(Mm({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(y.x,", ").concat(y.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:p},y),{},{payload:g});return W.createElement(en,L1({className:Lr("recharts-polar-radius-axis-tick",Cae(s)),key:"tick-".concat(g.coordinate)},qp(n.props,g,p)),e.renderTickItem(s,x,c?c(g.value,p):g.value))});return W.createElement(en,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:W.createElement(en,{className:Lr("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Ui.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return W.isValidElement(n)?s=W.cloneElement(n,a):br(n)?s=n(a):s=W.createElement(Gp,L1({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(N.PureComponent);A5(E5,"displayName","PolarRadiusAxis");A5(E5,"axisType","radiusAxis");A5(E5,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xm.apply(this,arguments)}function Mz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mz(Object(r),!0).forEach(function(n){C5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ftt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zae(n.key),n)}}function htt(t,e,r){return e&&Rz(t.prototype,e),r&&Rz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mtt(t,e,r){return e=$N(e),ptt(t,Uae()?Reflect.construct(e,r||[],$N(t).constructor):e.apply(t,r))}function ptt(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gtt(t)}function gtt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uae=function(){return!!t})()}function $N(t){return $N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$N(t)}function vtt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cO(t,e)}function cO(t,e){return cO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cO(t,e)}function C5(t,e,r){return e=zae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zae(t){var e=ytt(t,"string");return Yv(e)=="symbol"?e:e+""}function ytt(t,e){if(Yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xtt=Math.PI/180,btt=1e-5,T5=function(t){function e(){return ftt(this,e),mtt(this,e,arguments)}return vtt(e,t),htt(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=oa(i,s,l,n.coordinate),m=oa(i,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*xtt),s;return i>btt?s=a==="outer"?"start":"end":i<-1e-5?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=Rm(Rm({},ar(this.props,!1)),{},{fill:"none"},ar(l,!1));if(c==="circle")return W.createElement(w2,Xm({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(m){return oa(a,i,s,m.coordinate)});return W.createElement(Iet,Xm({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=ar(this.props,!1),f=ar(s,!1),m=Rm(Rm({},d),{},{fill:"none"},ar(l,!1)),h=i.map(function(v,g){var p=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),x=Rm(Rm(Rm({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:v,x:p.x2,y:p.y2});return W.createElement(en,Xm({className:Lr("recharts-polar-angle-axis-tick",Cae(s)),key:"tick-".concat(v.coordinate)},qp(n.props,v,g)),l&&W.createElement("line",Xm({className:"recharts-polar-angle-axis-tick-line"},m,p)),s&&e.renderTickItem(s,x,c?c(v.value,g):v.value))});return W.createElement(en,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:W.createElement(en,{className:Lr("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return W.isValidElement(n)?s=W.cloneElement(n,a):br(n)?s=n(a):s=W.createElement(Gp,Xm({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(N.PureComponent);C5(T5,"displayName","PolarAngleAxis");C5(T5,"axisType","angleAxis");C5(T5,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wtt=Kre,Stt=wtt(Object.getPrototypeOf,Object),_tt=Stt,jtt=mf,Ntt=_tt,Att=pf,Ett="[object Object]",Ctt=Function.prototype,Ttt=Object.prototype,Vae=Ctt.toString,ktt=Ttt.hasOwnProperty,Ptt=Vae.call(Object);function Dtt(t){if(!Att(t)||jtt(t)!=Ett)return!1;var e=Ntt(t);if(e===null)return!0;var r=ktt.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Vae.call(r)==Ptt}var Ott=Dtt;const Itt=bn(Ott);var Mtt=mf,Rtt=pf,Ltt="[object Boolean]";function Ftt(t){return t===!0||t===!1||Rtt(t)&&Mtt(t)==Ltt}var $tt=Ftt;const Btt=bn($tt);function Kb(t){"@babel/helpers - typeof";return Kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kb(t)}function BN(){return BN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BN.apply(this,arguments)}function Utt(t,e){return Wtt(t)||Htt(t,e)||Vtt(t,e)||ztt()}function ztt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vtt(t,e){if(t){if(typeof t=="string")return Lz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lz(t,e)}}function Lz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Htt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Wtt(t){if(Array.isArray(t))return t}function Fz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(r),!0).forEach(function(n){qtt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qtt(t,e,r){return e=Gtt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gtt(t){var e=Ytt(t,"string");return Kb(e)=="symbol"?e:e+""}function Ytt(t,e){if(Kb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bz=function(e,r,n,a,i){var s=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+i),l+="L ".concat(e+n-s/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},Ktt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xtt=function(e){var r=$z($z({},Ktt),e),n=N.useRef(),a=N.useState(-1),i=Utt(a,2),s=i[0],l=i[1];N.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,h=r.className,v=r.animationEasing,g=r.animationDuration,p=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var x=Lr("recharts-trapezoid",h);return y?W.createElement(su,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:g,animationEasing:v,isActive:y},function(b){var w=b.upperWidth,_=b.lowerWidth,j=b.height,A=b.x,E=b.y;return W.createElement(su,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:g,easing:v},W.createElement("path",BN({},ar(r,!0),{className:x,d:Bz(A,E,w,_,j),ref:n})))}):W.createElement("g",null,W.createElement("path",BN({},ar(r,!0),{className:x,d:Bz(c,u,d,f,m)})))},Ztt=["option","shapeType","propTransformer","activeClassName","isActive"];function Xb(t){"@babel/helpers - typeof";return Xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xb(t)}function Qtt(t,e){if(t==null)return{};var r=Jtt(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jtt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(r),!0).forEach(function(n){ert(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ert(t,e,r){return e=trt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function trt(t){var e=rrt(t,"string");return Xb(e)=="symbol"?e:e+""}function rrt(t,e){if(Xb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nrt(t,e){return UN(UN({},e),t)}function art(t,e){return t==="symbols"}function zz(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(r6,r);case"trapezoid":return W.createElement(Xtt,r);case"sector":return W.createElement(Pae,r);case"symbols":if(art(e))return W.createElement(wR,r);break;default:return null}}function irt(t){return N.isValidElement(t)?t.props:t}function Hae(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?nrt:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Qtt(t,Ztt),u;if(N.isValidElement(e))u=N.cloneElement(e,UN(UN({},c),irt(e)));else if(br(e))u=e(c);else if(Itt(e)&&!Btt(e)){var d=a(e,c);u=W.createElement(zz,{shapeType:r,elementProps:d})}else{var f=c;u=W.createElement(zz,{shapeType:r,elementProps:f})}return l?W.createElement(en,{className:s},u):u}function k5(t,e){return e!=null&&"trapezoids"in t.props}function P5(t,e){return e!=null&&"sectors"in t.props}function Zb(t,e){return e!=null&&"points"in t.props}function srt(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function ort(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function lrt(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function crt(t,e){var r;return k5(t,e)?r=srt:P5(t,e)?r=ort:Zb(t,e)&&(r=lrt),r}function urt(t,e){var r;return k5(t,e)?r="trapezoids":P5(t,e)?r="sectors":Zb(t,e)&&(r="points"),r}function drt(t,e){if(k5(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(P5(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Zb(t,e)?e.payload:{}}function frt(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=urt(r,e),i=drt(r,e),s=n.filter(function(c,u){var d=Yp(i,c),f=r.props[a].filter(function(v){var g=crt(r,e);return g(v,e)}),m=r.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=n.indexOf(s[s.length-1]);return l}var J_;function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}function Vz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vz(Object(r),!0).forEach(function(n){Gl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hrt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qae(n.key),n)}}function mrt(t,e,r){return e&&Hz(t.prototype,e),r&&Hz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function prt(t,e,r){return e=zN(e),grt(t,Wae()?Reflect.construct(e,r||[],zN(t).constructor):e.apply(t,r))}function grt(t,e){if(e&&(Kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vrt(t)}function vrt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wae=function(){return!!t})()}function zN(t){return zN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zN(t)}function yrt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uO(t,e)}function uO(t,e){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uO(t,e)}function Gl(t,e,r){return e=qae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qae(t){var e=xrt(t,"string");return Kv(e)=="symbol"?e:e+""}function xrt(t,e){if(Kv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var od=function(t){function e(r){var n;return hrt(this,e),n=prt(this,e,[r]),Gl(n,"pieRef",null),Gl(n,"sectorRefs",[]),Gl(n,"id",mg("recharts-pie-")),Gl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),br(a)&&a()}),Gl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),br(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return yrt(e,t),mrt(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=ar(this.props,!1),f=ar(s,!1),m=ar(l,!1),h=s&&s.offsetRadius||20,v=n.map(function(g,p){var y=(g.startAngle+g.endAngle)/2,x=oa(g.cx,g.cy,g.outerRadius+h,y),b=ia(ia(ia(ia({},d),g),{},{stroke:"none"},f),{},{index:p,textAnchor:e.getTextAnchor(x.x,g.cx)},x),w=ia(ia(ia(ia({},d),g),{},{fill:"none",stroke:g.fill},m),{},{index:p,points:[oa(g.cx,g.cy,g.outerRadius,y),x]}),_=c;return Ir(c)&&Ir(u)?_="value":Ir(c)&&(_=u),W.createElement(en,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(p)},l&&e.renderLabelLineItem(l,w,"line"),e.renderLabelItem(s,b,ti(g,_)))});return W.createElement(en,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?s:m,v=ia(ia({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return W.createElement(en,T0({ref:function(p){p&&!a.sectorRefs.includes(p)&&a.sectorRefs.push(p)},tabIndex:-1,className:"recharts-pie-sector"},qp(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),W.createElement(Hae,T0({option:h,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return W.createElement(su,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var g=v.t,p=[],y=i&&i[0],x=y.startAngle;return i.forEach(function(b,w){var _=m&&m[w],j=w>0?pl(b,"paddingAngle",0):0;if(_){var A=ki(_.endAngle-_.startAngle,b.endAngle-b.startAngle),E=ia(ia({},b),{},{startAngle:x+j,endAngle:x+A(g)+j});p.push(E),x=E.endAngle}else{var T=b.endAngle,R=b.startAngle,D=ki(0,T-R),P=D(g),I=ia(ia({},b),{},{startAngle:x+j,endAngle:x+P+j});p.push(I),x=I.endAngle}}),W.createElement(en,null,n.renderSectorsStatically(p))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Yp(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!s||!s.length||!Et(u)||!Et(d)||!Et(f)||!Et(m))return null;var g=Lr("recharts-pie",l);return W.createElement(en,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){n.pieRef=y}},this.renderSectors(),c&&this.renderLabels(s),Ui.renderCallByParent(this.props,null,!1),(!h||v)&&zu.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(W.isValidElement(n))return W.cloneElement(n,a);if(br(n))return n(a);var s=Lr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(Ap,T0({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(W.isValidElement(n))return W.cloneElement(n,a);var s=i;if(br(n)&&(s=n(a),W.isValidElement(s)))return s;var l=Lr("recharts-pie-label-text",typeof n!="boolean"&&!br(n)?n.className:"");return W.createElement(Gp,T0({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(N.PureComponent);J_=od;Gl(od,"displayName","Pie");Gl(od,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!dm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Gl(od,"parseDeltaAngle",function(t,e){var r=uo(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Gl(od,"getRealPieData",function(t){var e=t.data,r=t.children,n=ar(t,!1),a=gl(r,p2);return e&&e.length?e.map(function(i,s){return ia(ia(ia({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return ia(ia({},n),i.props)}):[]});Gl(od,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,s=Eae(a,i),l=n+fo(t.cx,a,a/2),c=r+fo(t.cy,i,i/2),u=fo(t.innerRadius,s,0),d=fo(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Gl(od,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?ia(ia({},e.type.defaultProps),e.props):e.props,a=J_.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),v=J_.parseCoordinateOfPie(n,r),g=J_.parseDeltaAngle(s,l),p=Math.abs(g),y=u;Ir(u)&&Ir(f)?(Kc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ir(u)&&(Kc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var x=a.filter(function(E){return ti(E,y,0)!==0}).length,b=(p>=360?x:x-1)*c,w=p-x*h-b,_=a.reduce(function(E,T){var R=ti(T,y,0);return E+(Et(R)?R:0)},0),j;if(_>0){var A;j=a.map(function(E,T){var R=ti(E,y,0),D=ti(E,d,T),P=(Et(R)?R:0)/_,I;T?I=A.endAngle+uo(g)*c*(R!==0?1:0):I=s;var L=I+uo(g)*((R!==0?h:0)+P*w),V=(I+L)/2,H=(v.innerRadius+v.outerRadius)/2,q=[{name:D,value:R,payload:E,dataKey:y,type:m}],G=oa(v.cx,v.cy,H,V);return A=ia(ia(ia({percent:P,cornerRadius:i,name:D,tooltipPayload:q,midAngle:V,middleRadius:H,tooltipPosition:G},E),v),{},{value:ti(E,y),startAngle:I,endAngle:L,payload:E,paddingAngle:uo(g)*c}),A})}return ia(ia({},v),{},{sectors:j,data:a})});var brt=Math.ceil,wrt=Math.max;function Srt(t,e,r,n){for(var a=-1,i=wrt(brt((e-t)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=t,t+=r;return s}var _rt=Srt,jrt=mne,Nrt=1/0,Art=17976931348623157e292;function Ert(t){if(!t)return t===0?t:0;if(t=jrt(t),t===Nrt||t===-1/0){var e=t<0?-1:1;return e*Art}return t===t?t:0}var Gae=Ert,Crt=_rt,Trt=p5,O4=Gae;function krt(t){return function(e,r,n){return n&&typeof n!="number"&&Trt(e,r,n)&&(r=n=void 0),e=O4(e),r===void 0?(r=e,e=0):r=O4(r),n=n===void 0?e<r?1:-1:O4(n),Crt(e,r,n,t)}}var Prt=krt,Drt=Prt,Ort=Drt(),Irt=Ort;const VN=bn(Irt);function Qb(t){"@babel/helpers - typeof";return Qb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qb(t)}function Wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(r),!0).forEach(function(n){Yae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yae(t,e,r){return e=Mrt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mrt(t){var e=Rrt(t,"string");return Qb(e)=="symbol"?e:e+""}function Rrt(t,e){if(Qb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lrt=["Webkit","Moz","O","ms"],Frt=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Lrt.reduce(function(i,s){return qz(qz({},i),{},Yae({},s+n,r))},{});return a[e]=r,a};function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HN.apply(this,arguments)}function Gz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function I4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gz(Object(r),!0).forEach(function(n){tl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xae(n.key),n)}}function Brt(t,e,r){return e&&Yz(t.prototype,e),r&&Yz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Urt(t,e,r){return e=WN(e),zrt(t,Kae()?Reflect.construct(e,r||[],WN(t).constructor):e.apply(t,r))}function zrt(t,e){if(e&&(Xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vrt(t)}function Vrt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kae=function(){return!!t})()}function WN(t){return WN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},WN(t)}function Hrt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dO(t,e)}function dO(t,e){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dO(t,e)}function tl(t,e,r){return e=Xae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xae(t){var e=Wrt(t,"string");return Xv(e)=="symbol"?e:e+""}function Wrt(t,e){if(Xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qrt=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=O1().domain(VN(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},Kz=function(e){return e.changedTouches&&!!e.changedTouches.length},Zv=function(t){function e(r){var n;return $rt(this,e),n=Urt(this,e,[r]),tl(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),tl(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),tl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),tl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),tl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),tl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),tl(n,"handleSlideDragStart",function(a){var i=Kz(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Hrt(e,t),Brt(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),m=Math.max(a,i),h=e.getIndexInRange(s,f),v=e.getIndexInRange(s,m);return{startIndex:h-h%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=ti(i[n],l,n);return br(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,v=c.onChange,g=n.pageX-i;g>0?g=Math.min(g,u+d-f-l,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-l));var p=this.getIndex({startX:s+g,endX:l+g});(p.startIndex!==m||p.endIndex!==h)&&v&&v(p),this.setState({startX:s+g,endX:l+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=Kz(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,v=d.onChange,g=d.gap,p=d.data,y={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+m-h-u):x<0&&(x=Math.max(x,f-u)),y[s]=u+x;var b=this.getIndex(y),w=b.startIndex,_=b.endIndex,j=function(){var E=p.length-1;return s==="startX"&&(l>c?w%g===0:_%g===0)||l<c&&_===E||s==="endX"&&(l>c?_%g===0:w%g===0)||l>c&&_===E};this.setState(tl(tl({},s,u+x),"brushMoveStartX",n.pageX),function(){v&&j()&&v(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(tl({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return W.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=N.Children.only(u);return f?W.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,v=c.data,g=c.startIndex,p=c.endIndex,y=Math.max(n,this.props.x),x=I4(I4({},ar(this.props,!1)),{},{x:y,y:u,width:d,height:f}),b=h||"Min value: ".concat((i=v[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=v[p])===null||s===void 0?void 0:s.name);return W.createElement(en,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,h=5,v={pointerEvents:"none",fill:u};return W.createElement(en,{className:"recharts-brush-texts"},W.createElement(Gp,HN({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:s+l/2},v),this.getTextOfTick(a)),W.createElement(Gp,HN({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:s+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,h=m.startX,v=m.endX,g=m.isTextActive,p=m.isSlideMoving,y=m.isTravellerMoving,x=m.isTravellerFocused;if(!a||!a.length||!Et(l)||!Et(c)||!Et(u)||!Et(d)||u<=0||d<=0)return null;var b=Lr("recharts-brush",i),w=W.Children.count(s)===1,_=Frt("userSelect","none");return W.createElement(en,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(h,v),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(v,"endX"),(g||p||y||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),W.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return W.isValidElement(n)?i=W.cloneElement(n,a):br(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return I4({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?qrt({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(N.PureComponent);tl(Zv,"displayName","Brush");tl(Zv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Grt=CR;function Yrt(t,e){var r;return Grt(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var Krt=Yrt,Xrt=Ure,Zrt=sd,Qrt=Krt,Jrt=Ho,ent=p5;function tnt(t,e,r){var n=Jrt(t)?Xrt:Qrt;return r&&ent(t,e,r)&&(e=void 0),n(t,Zrt(e))}var rnt=tnt;const nnt=bn(rnt);var Vu=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},Xz=cne;function ant(t,e,r){e=="__proto__"&&Xz?Xz(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var int=ant,snt=int,ont=one,lnt=sd;function cnt(t,e){var r={};return e=lnt(e),ont(t,function(n,a,i){snt(r,a,e(n,a,i))}),r}var unt=cnt;const dnt=bn(unt);function fnt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var hnt=fnt,mnt=CR;function pnt(t,e){var r=!0;return mnt(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var gnt=pnt,vnt=hnt,ynt=gnt,xnt=sd,bnt=Ho,wnt=p5;function Snt(t,e,r){var n=bnt(t)?vnt:ynt;return r&&wnt(t,e,r)&&(e=void 0),n(t,xnt(e))}var _nt=Snt;const Zae=bn(_nt);var jnt=["x","y"];function Jb(t){"@babel/helpers - typeof";return Jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jb(t)}function fO(){return fO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fO.apply(this,arguments)}function Zz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zz(Object(r),!0).forEach(function(n){Nnt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nnt(t,e,r){return e=Ant(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ant(t){var e=Ent(t,"string");return Jb(e)=="symbol"?e:e+""}function Ent(t,e){if(Jb(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jb(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cnt(t,e){if(t==null)return{};var r=Tnt(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tnt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function knt(t,e){var r=t.x,n=t.y,a=Cnt(t,jnt),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),d=parseInt(u,10),f="".concat(e.width||a.width),m=parseInt(f,10);return Gx(Gx(Gx(Gx(Gx({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function Qz(t){return W.createElement(Hae,fO({shapeType:"rectangle",propTransformer:knt,activeClassName:"recharts-active-bar"},t))}var Pnt=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,a):(i||Uh(),r)}},Dnt=["value","background"],Qae;function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function Ont(t,e){if(t==null)return{};var r=Int(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Int(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qN.apply(this,arguments)}function Jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(r),!0).forEach(function(n){gh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mnt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eie(n.key),n)}}function Rnt(t,e,r){return e&&eV(t.prototype,e),r&&eV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lnt(t,e,r){return e=GN(e),Fnt(t,Jae()?Reflect.construct(e,r||[],GN(t).constructor):e.apply(t,r))}function Fnt(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $nt(t)}function $nt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jae=function(){return!!t})()}function GN(t){return GN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},GN(t)}function Bnt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hO(t,e)}function hO(t,e){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hO(t,e)}function gh(t,e,r){return e=eie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eie(t){var e=Unt(t,"string");return Qv(e)=="symbol"?e:e+""}function Unt(t,e){if(Qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $s=function(t){function e(){var r;Mnt(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Lnt(this,e,[].concat(a)),gh(r,"state",{isAnimationFinished:!1}),gh(r,"id",mg("recharts-bar-")),gh(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),gh(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Bnt(e,t),Rnt(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=ar(this.props,!1);return n&&n.map(function(f,m){var h=m===c,v=h?u:s,g=vi(vi(vi({},d),f),{},{isActive:h,option:v,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return W.createElement(en,qN({className:"recharts-bar-rectangle"},qp(a.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),W.createElement(Qz,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,m=this.state.prevData;return W.createElement(su,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var v=h.t,g=i.map(function(p,y){var x=m&&m[y];if(x){var b=ki(x.x,p.x),w=ki(x.y,p.y),_=ki(x.width,p.width),j=ki(x.height,p.height);return vi(vi({},p),{},{x:b(v),y:w(v),width:_(v),height:j(v)})}if(s==="horizontal"){var A=ki(0,p.height),E=A(v);return vi(vi({},p),{},{y:p.y+p.height-E,height:E})}var T=ki(0,p.width),R=T(v);return vi(vi({},p),{},{width:R})});return W.createElement(en,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Yp(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=ar(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,m=Ont(u,Dnt);if(!f)return null;var h=vi(vi(vi(vi(vi({},m),{},{fill:"#eee"},f),c),qp(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return W.createElement(Qz,qN({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=gl(d,b2);if(!f)return null;var m=u==="vertical"?s[0].height/2:s[0].width/2,h=function(p,y){var x=Array.isArray(p.value)?p.value[1]:p.value;return{x:p.x,y:p.y,value:x,errorVal:ti(p,y)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return W.createElement(en,v,f.map(function(g){return W.cloneElement(g,{key:"error-bar-".concat(a,"-").concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,h=n.isAnimationActive,v=n.background,g=n.id;if(a||!i||!i.length)return null;var p=this.state.isAnimationFinished,y=Lr("recharts-bar",s),x=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,w=x||b,_=Ir(g)?this.id:g;return W.createElement(en,{className:y},x||b?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(_)},W.createElement("rect",{x:x?u:u-f/2,y:b?d:d-m/2,width:x?f:f*2,height:b?m:m*2}))):null,W.createElement(en,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,_),(!h||p)&&zu.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(N.PureComponent);Qae=$s;gh($s,"displayName","Bar");gh($s,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gh($s,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,h=SZe(n,r);if(!h)return null;var v=e.layout,g=r.type.defaultProps,p=g!==void 0?vi(vi({},g),r.props):r.props,y=p.dataKey,x=p.children,b=p.minPointSize,w=v==="horizontal"?s:i,_=u?w.scale.domain():null,j=TZe({numericAxis:w}),A=gl(x,p2),E=f.map(function(T,R){var D,P,I,L,V,H;u?D=_Ze(u[d+R],_):(D=ti(T,y),Array.isArray(D)||(D=[j,D]));var q=Pnt(b,Qae.defaultProps.minPointSize)(D[1],R);if(v==="horizontal"){var G,re=[s.scale(D[0]),s.scale(D[1])],Z=re[0],de=re[1];P=WU({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:T,index:R}),I=(G=de??Z)!==null&&G!==void 0?G:void 0,L=h.size;var k=Z-de;if(V=Number.isNaN(k)?0:k,H={x:P,y:s.y,width:L,height:s.height},Math.abs(q)>0&&Math.abs(V)<Math.abs(q)){var F=uo(V||q)*(Math.abs(q)-Math.abs(V));I-=F,V+=F}}else{var B=[i.scale(D[0]),i.scale(D[1])],z=B[0],ee=B[1];if(P=z,I=WU({axis:s,ticks:c,bandSize:a,offset:h.offset,entry:T,index:R}),L=ee-z,V=h.size,H={x:i.x,y:I,width:i.width,height:V},Math.abs(q)>0&&Math.abs(L)<Math.abs(q)){var le=uo(L||q)*(Math.abs(q)-Math.abs(L));L+=le}}return vi(vi(vi({},T),{},{x:P,y:I,width:L,height:V,value:u?D:D[1],payload:T,background:H},A&&A[R]&&A[R].props),{},{tooltipPayload:[Nae(r,T)],tooltipPosition:{x:P+L/2,y:I+V/2}})});return vi({data:E,layout:v},m)});function ew(t){"@babel/helpers - typeof";return ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ew(t)}function znt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tie(n.key),n)}}function Vnt(t,e,r){return e&&tV(t.prototype,e),r&&tV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(r),!0).forEach(function(n){D5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D5(t,e,r){return e=tie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tie(t){var e=Hnt(t,"string");return ew(e)=="symbol"?e:e+""}function Hnt(t,e){if(ew(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ew(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n6=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!nl(u,$s);return d.reduce(function(h,v){var g=r[v],p=g.orientation,y=g.domain,x=g.padding,b=x===void 0?{}:x,w=g.mirror,_=g.reversed,j="".concat(p).concat(w?"Mirror":""),A,E,T,R,D;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=y[1]-y[0],I=1/0,L=g.categoricalDomain.sort(l8e);if(L.forEach(function(B,z){z>0&&(I=Math.min((B||0)-(L[z-1]||0),I))}),Number.isFinite(I)){var V=I/P,H=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(A=V*H/2),g.padding==="no-gap"){var q=fo(e.barCategoryGap,V*H),G=V*H/2;A=G-q-(G-q)/H*q}}}a==="xAxis"?E=[n.left+(b.left||0)+(A||0),n.left+n.width-(b.right||0)-(A||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(A||0),n.top+n.height-(b.bottom||0)-(A||0)]:E=g.range,_&&(E=[E[1],E[0]]);var re=wae(g,i,m),Z=re.scale,de=re.realScaleType;Z.domain(y).range(E),Sae(Z);var k=_ae(Z,Pc(Pc({},g),{},{realScaleType:de}));a==="xAxis"?(D=p==="top"&&!w||p==="bottom"&&w,T=n.left,R=f[j]-D*g.height):a==="yAxis"&&(D=p==="left"&&!w||p==="right"&&w,T=f[j]-D*g.width,R=n.top);var F=Pc(Pc(Pc({},g),k),{},{realScaleType:de,x:T,y:R,scale:Z,width:a==="xAxis"?n.width:g.width,height:a==="yAxis"?n.height:g.height});return F.bandSize=PN(F,k),!g.hide&&a==="xAxis"?f[j]+=(D?-1:1)*F.height:g.hide||(f[j]+=(D?-1:1)*F.width),Pc(Pc({},h),{},D5({},v,F))},{})},rie=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Wnt=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return rie({x:r,y:n},{x:a,y:i})},nie=function(){function t(e){znt(this,t),this.scale=e}return Vnt(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();D5(nie,"EPS",1e-4);var a6=function(e){var r=Object.keys(e).reduce(function(n,a){return Pc(Pc({},n),{},D5({},a,nie.create(e[a])))},{});return Pc(Pc({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return dnt(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return Zae(a,function(i,s){return r[s].isInRange(i)})}})};function qnt(t){return(t%180+180)%180}var Gnt=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=qnt(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},Ynt=sd,Knt=m2,Xnt=h5;function Znt(t){return function(e,r,n){var a=Object(e);if(!Knt(e)){var i=Ynt(r);e=Xnt(e),r=function(l){return i(a[l],l,a)}}var s=t(e,r,n);return s>-1?a[i?e[s]:s]:void 0}}var Qnt=Znt,Jnt=Gae;function eat(t){var e=Jnt(t),r=e%1;return e===e?r?e-r:e:0}var tat=eat,rat=tne,nat=sd,aat=tat,iat=Math.max;function sat(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:aat(r);return a<0&&(a=iat(n+a,0)),rat(t,nat(e),a)}var oat=sat,lat=Qnt,cat=oat,uat=lat(cat),dat=uat;const fat=bn(dat);var hat=fFe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),i6=N.createContext(void 0),s6=N.createContext(void 0),aie=N.createContext(void 0),iie=N.createContext({}),sie=N.createContext(void 0),oie=N.createContext(0),lie=N.createContext(0),nV=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,l=e.children,c=e.width,u=e.height,d=hat(i);return W.createElement(i6.Provider,{value:n},W.createElement(s6.Provider,{value:a},W.createElement(iie.Provider,{value:i},W.createElement(aie.Provider,{value:d},W.createElement(sie.Provider,{value:s},W.createElement(oie.Provider,{value:u},W.createElement(lie.Provider,{value:c},l)))))))},mat=function(){return N.useContext(sie)},cie=function(e){var r=N.useContext(i6);r==null&&Uh();var n=r[e];return n==null&&Uh(),n},pat=function(){var e=N.useContext(i6);return Jf(e)},gat=function(){var e=N.useContext(s6),r=fat(e,function(n){return Zae(n.domain,Number.isFinite)});return r||Jf(e)},uie=function(e){var r=N.useContext(s6);r==null&&Uh();var n=r[e];return n==null&&Uh(),n},vat=function(){var e=N.useContext(aie);return e},yat=function(){return N.useContext(iie)},o6=function(){return N.useContext(lie)},l6=function(){return N.useContext(oie)};function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function xat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bat(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fie(n.key),n)}}function wat(t,e,r){return e&&bat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sat(t,e,r){return e=YN(e),_at(t,die()?Reflect.construct(e,r||[],YN(t).constructor):e.apply(t,r))}function _at(t,e){if(e&&(Jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jat(t)}function jat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function die(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(die=function(){return!!t})()}function YN(t){return YN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},YN(t)}function Nat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mO(t,e)}function mO(t,e){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mO(t,e)}function aV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(r),!0).forEach(function(n){c6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c6(t,e,r){return e=fie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fie(t){var e=Aat(t,"string");return Jv(e)=="symbol"?e:e+""}function Aat(t,e){if(Jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Eat(t,e){return Pat(t)||kat(t,e)||Tat(t,e)||Cat()}function Cat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tat(t,e){if(t){if(typeof t=="string")return sV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sV(t,e)}}function sV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kat(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Pat(t){if(Array.isArray(t))return t}function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pO.apply(this,arguments)}var Dat=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):br(e)?n=e(r):n=W.createElement("line",pO({},r,{className:"recharts-reference-line-line"})),n},Oat=function(e,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,m=i.width,h=i.height;if(n){var v=u.y,g=e.y.apply(v,{position:s});if(Vu(u,"discard")&&!e.y.isInRange(g))return null;var p=[{x:d+m,y:g},{x:d,y:g}];return c==="left"?p.reverse():p}if(r){var y=u.x,x=e.x.apply(y,{position:s});if(Vu(u,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:f+h},{x,y:f}];return l==="top"?b.reverse():b}if(a){var w=u.segment,_=w.map(function(j){return e.apply(j,{position:s})});return Vu(u,"discard")&&nnt(_,function(j){return!e.isInRange(j)})?null:_}return null};function Iat(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=mat(),d=cie(a),f=uie(i),m=vat();if(!u||!m)return null;Kc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=a6({x:d.scale,y:f.scale}),v=Pi(e),g=Pi(r),p=n&&n.length===2,y=Oat(h,v,g,p,m,t.position,d.orientation,f.orientation,t);if(!y)return null;var x=Eat(y,2),b=x[0],w=b.x,_=b.y,j=x[1],A=j.x,E=j.y,T=Vu(t,"hidden")?"url(#".concat(u,")"):void 0,R=iV(iV({clipPath:T},ar(t,!0)),{},{x1:w,y1:_,x2:A,y2:E});return W.createElement(en,{className:Lr("recharts-reference-line",l)},Dat(s,R),Ui.renderCallByParent(t,Wnt({x1:w,y1:_,x2:A,y2:E})))}var u6=function(t){function e(){return xat(this,e),Sat(this,e,arguments)}return Nat(e,t),wat(e,[{key:"render",value:function(){return W.createElement(Iat,this.props)}}])}(W.Component);c6(u6,"displayName","ReferenceLine");c6(u6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gO(){return gO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gO.apply(this,arguments)}function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function oV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function lV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(r),!0).forEach(function(n){O5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rat(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mie(n.key),n)}}function Lat(t,e,r){return e&&Rat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fat(t,e,r){return e=KN(e),$at(t,hie()?Reflect.construct(e,r||[],KN(t).constructor):e.apply(t,r))}function $at(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bat(t)}function Bat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hie=function(){return!!t})()}function KN(t){return KN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},KN(t)}function Uat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vO(t,e)}function vO(t,e){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vO(t,e)}function O5(t,e,r){return e=mie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mie(t){var e=zat(t,"string");return ey(e)=="symbol"?e:e+""}function zat(t,e){if(ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vat=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=a6({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return Vu(e,"discard")&&!s.isInRange(l)?null:l},I5=function(t){function e(){return Mat(this,e),Fat(this,e,arguments)}return Uat(e,t),Lat(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=Pi(a),d=Pi(i);if(Kc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Vat(this.props);if(!f)return null;var m=f.x,h=f.y,v=this.props,g=v.shape,p=v.className,y=Vu(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=lV(lV({clipPath:y},ar(this.props,!0)),{},{cx:m,cy:h});return W.createElement(en,{className:Lr("recharts-reference-dot",p)},e.renderDot(g,x),Ui.renderCallByParent(this.props,{x:m-s,y:h-s,width:2*s,height:2*s}))}}])}(W.Component);O5(I5,"displayName","ReferenceDot");O5(I5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});O5(I5,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):br(t)?r=t(e):r=W.createElement(w2,gO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function yO(){return yO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yO.apply(this,arguments)}function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function cV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(r),!0).forEach(function(n){M5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hat(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wat(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gie(n.key),n)}}function qat(t,e,r){return e&&Wat(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gat(t,e,r){return e=XN(e),Yat(t,pie()?Reflect.construct(e,r||[],XN(t).constructor):e.apply(t,r))}function Yat(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kat(t)}function Kat(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pie=function(){return!!t})()}function XN(t){return XN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},XN(t)}function Xat(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xO(t,e)}function xO(t,e){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xO(t,e)}function M5(t,e,r){return e=gie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gie(t){var e=Zat(t,"string");return ty(e)=="symbol"?e:e+""}function Zat(t,e){if(ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qat=function(e,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=a6({x:d.scale,y:f.scale}),h={x:e?m.x.apply(s,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},v={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Vu(i,"discard")&&(!m.isInRange(h)||!m.isInRange(v))?null:rie(h,v)},R5=function(t){function e(){return Hat(this,e),Gat(this,e,arguments)}return Xat(e,t),qat(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Kc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Pi(a),m=Pi(i),h=Pi(s),v=Pi(l),g=this.props.shape;if(!f&&!m&&!h&&!v&&!g)return null;var p=Qat(f,m,h,v,this.props);if(!p&&!g)return null;var y=Vu(this.props,"hidden")?"url(#".concat(d,")"):void 0;return W.createElement(en,{className:Lr("recharts-reference-area",c)},e.renderRect(g,uV(uV({clipPath:y},ar(this.props,!0)),p)),Ui.renderCallByParent(this.props,p))}}])}(W.Component);M5(R5,"displayName","ReferenceArea");M5(R5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});M5(R5,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):br(t)?r=t(e):r=W.createElement(r6,yO({},e,{className:"recharts-reference-area-rect"})),r});function vie(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function Jat(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Gnt(n,r)}function eit(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function ZN(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function tit(t,e){return vie(t,e+1)}function rit(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,l=e.end,c=0,u=1,d=s,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:vie(n,u)};var g=c,p,y=function(){return p===void 0&&(p=r(v,g)),p},x=v.coordinate,b=c===0||ZN(t,x,y,d,l);b||(c=0,d=s,u+=1),b&&(d=x+t*(y()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function tw(t){"@babel/helpers - typeof";return tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tw(t)}function dV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(r),!0).forEach(function(n){nit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nit(t,e,r){return e=ait(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ait(t){var e=iit(t,"string");return tw(e)=="symbol"?e:e+""}function iit(t,e){if(tw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sit(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=e.start,c=e.end,u=function(m){var h=i[m],v,g=function(){return v===void 0&&(v=r(h,m)),v};if(m===s-1){var p=t*(h.coordinate+t*g()/2-c);i[m]=h=ks(ks({},h),{},{tickCoord:p>0?h.coordinate-p*t:h.coordinate})}else i[m]=h=ks(ks({},h),{},{tickCoord:h.coordinate});var y=ZN(t,h.tickCoord,g,l,c);y&&(c=h.tickCoord-t*(g()/2+a),i[m]=ks(ks({},h),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function oit(t,e,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=e.start,u=e.end;if(i){var d=n[l-1],f=r(d,l-1),m=t*(d.coordinate+t*f/2-u);s[l-1]=d=ks(ks({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate});var h=ZN(t,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-t*(f/2+a),s[l-1]=ks(ks({},d),{},{isShow:!0}))}for(var v=i?l-1:l,g=function(x){var b=s[x],w,_=function(){return w===void 0&&(w=r(b,x)),w};if(x===0){var j=t*(b.coordinate-t*_()/2-c);s[x]=b=ks(ks({},b),{},{tickCoord:j<0?b.coordinate-j*t:b.coordinate})}else s[x]=b=ks(ks({},b),{},{tickCoord:b.coordinate});var A=ZN(t,b.tickCoord,_,c,u);A&&(c=b.tickCoord+t*(_()/2+a),s[x]=ks(ks({},b),{},{isShow:!0}))},p=0;p<v;p++)g(p);return s}function d6(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!a||!a.length||!n)return[];if(Et(c)||dm.isSsr)return tit(a,typeof c=="number"&&Et(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",v=d&&h==="width"?D1(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(b,w){var _=br(u)?u(b.value,w):b.value;return h==="width"?Jat(D1(_,{fontSize:e,letterSpacing:r}),v,f):D1(_,{fontSize:e,letterSpacing:r})[h]},p=a.length>=2?uo(a[1].coordinate-a[0].coordinate):1,y=eit(i,p,h);return c==="equidistantPreserveStart"?rit(p,y,g,a,s):(c==="preserveStart"||c==="preserveStartEnd"?m=oit(p,y,g,a,s,c==="preserveStartEnd"):m=sit(p,y,g,a,s),m.filter(function(x){return x.isShow}))}var lit=["viewBox"],cit=["viewBox"],uit=["ticks"];function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k0.apply(this,arguments)}function fV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(r),!0).forEach(function(n){f6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M4(t,e){if(t==null)return{};var r=dit(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dit(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xie(n.key),n)}}function hit(t,e,r){return e&&hV(t.prototype,e),r&&hV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function mit(t,e,r){return e=QN(e),pit(t,yie()?Reflect.construct(e,r||[],QN(t).constructor):e.apply(t,r))}function pit(t,e){if(e&&(ry(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return git(t)}function git(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yie=function(){return!!t})()}function QN(t){return QN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},QN(t)}function vit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bO(t,e)}function bO(t,e){return bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bO(t,e)}function f6(t,e,r){return e=xie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xie(t){var e=yit(t,"string");return ry(e)=="symbol"?e:e+""}function yit(t,e){if(ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qy=function(t){function e(r){var n;return fit(this,e),n=mit(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return vit(e,t),hit(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=M4(n,lit),l=this.props,c=l.viewBox,u=M4(l,cit);return!W0(i,c)||!W0(s,u)||!W0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,m=a.tickMargin,h,v,g,p,y,x,b=f?-1:1,w=n.tickSize||d,_=Et(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=v=n.coordinate,p=s+ +!f*c,g=p-b*w,x=g-b*m,y=_;break;case"left":g=p=n.coordinate,v=i+ +!f*l,h=v-b*w,y=h-b*m,x=_;break;case"right":g=p=n.coordinate,v=i+ +f*l,h=v+b*w,y=h+b*m,x=_;break;default:h=v=n.coordinate,p=s+ +f*c,g=p+b*w,x=g+b*m,y=_;break}return{line:{x1:h,y1:g,x2:v,y2:p},tick:{x:y,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Xs(Xs(Xs({},ar(this.props,!1)),ar(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=Xs(Xs({},f),{},{x1:a,y1:i+m*l,x2:a+s,y2:i+m*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=Xs(Xs({},f),{},{x1:a+h*s,y1:i,x2:a+h*s,y2:i+l})}return W.createElement("line",k0({},f,{className:Lr("recharts-cartesian-axis-line",pl(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,h=d6(Xs(Xs({},this.props),{},{ticks:n}),a,i),v=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),p=ar(this.props,!1),y=ar(d,!1),x=Xs(Xs({},p),{},{fill:"none"},ar(c,!1)),b=h.map(function(w,_){var j=s.getTickLineCoord(w),A=j.line,E=j.tick,T=Xs(Xs(Xs(Xs({textAnchor:v,verticalAnchor:g},p),{},{stroke:"none",fill:u},y),E),{},{index:_,payload:w,visibleTicksCount:h.length,tickFormatter:f});return W.createElement(en,k0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},qp(s.props,w,_)),c&&W.createElement("line",k0({},x,A,{className:Lr("recharts-cartesian-axis-tick-line",pl(c,"className"))})),d&&e.renderTickItem(d,T,"".concat(br(f)?f(w.value,_):w.value).concat(m||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,m=f.ticks,h=M4(f,uit),v=m;return br(c)&&(v=m&&m.length>0?c(this.props):c(h)),s<=0||l<=0||!v||!v.length?null:W.createElement(en,{className:Lr("recharts-cartesian-axis",u),ref:function(p){n.layerReference=p}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ui.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return W.isValidElement(n)?s=W.cloneElement(n,a):br(n)?s=n(a):s=W.createElement(Gp,k0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(N.Component);f6(qy,"displayName","CartesianAxis");f6(qy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xit=["x1","y1","x2","y2","key"],bit=["offset"];function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){wit(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wit(t,e,r){return e=Sit(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sit(t){var e=_it(t,"string");return Xp(e)=="symbol"?e:e+""}function _it(t,e){if(Xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dp(){return dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dp.apply(this,arguments)}function pV(t,e){if(t==null)return{};var r=jit(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jit(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Nit=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,l=e.height,c=e.ry;return W.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bie(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(br(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,l=e.key,c=pV(e,xit),u=ar(c,!1);u.offset;var d=pV(u,bit);r=W.createElement("line",dp({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function Ait(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Ds(Ds({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return bie(a,u)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function Eit(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Ds(Ds({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return bie(a,u)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Cit(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,h){return m-h});a!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var v=!d[h+1],g=v?a+s-m:d[h+1]-m;if(g<=0)return null;var p=h%e.length;return W.createElement("rect",{key:"react-".concat(h),y:m,x:n,height:g,width:i,stroke:"none",fill:e[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Tit(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var v=!d[h+1],g=v?i+l-m:d[h+1]-m;if(g<=0)return null;var p=h%n.length;return W.createElement("rect",{key:"react-".concat(h),x:m,y:s,width:g,height:c,stroke:"none",fill:n[p],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var kit=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return bae(d6(Ds(Ds(Ds({},qy.defaultProps),n),{},{ticks:Vd(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},Pit=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return bae(d6(Ds(Ds(Ds({},qy.defaultProps),n),{},{ticks:Vd(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},n0={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Hu(t){var e,r,n,a,i,s,l=o6(),c=l6(),u=yat(),d=Ds(Ds({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:n0.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:n0.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:n0.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:n0.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:n0.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:n0.verticalFill,x:Et(t.x)?t.x:u.left,y:Et(t.y)?t.y:u.top,width:Et(t.width)?t.width:u.width,height:Et(t.height)?t.height:u.height}),f=d.x,m=d.y,h=d.width,v=d.height,g=d.syncWithTicks,p=d.horizontalValues,y=d.verticalValues,x=pat(),b=gat();if(!Et(h)||h<=0||!Et(v)||v<=0||!Et(f)||f!==+f||!Et(m)||m!==+m)return null;var w=d.verticalCoordinatesGenerator||kit,_=d.horizontalCoordinatesGenerator||Pit,j=d.horizontalPoints,A=d.verticalPoints;if((!j||!j.length)&&br(_)){var E=p&&p.length,T=_({yAxis:b?Ds(Ds({},b),{},{ticks:E?p:b.ticks}):void 0,width:l,height:c,offset:u},E?!0:g);Kc(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xp(T),"]")),Array.isArray(T)&&(j=T)}if((!A||!A.length)&&br(w)){var R=y&&y.length,D=w({xAxis:x?Ds(Ds({},x),{},{ticks:R?y:x.ticks}):void 0,width:l,height:c,offset:u},R?!0:g);Kc(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xp(D),"]")),Array.isArray(D)&&(A=D)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(Nit,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),W.createElement(Ait,dp({},d,{offset:u,horizontalPoints:j,xAxis:x,yAxis:b})),W.createElement(Eit,dp({},d,{offset:u,verticalPoints:A,xAxis:x,yAxis:b})),W.createElement(Cit,dp({},d,{horizontalPoints:j})),W.createElement(Tit,dp({},d,{verticalPoints:A})))}Hu.displayName="CartesianGrid";var Dit=["type","layout","connectNulls","ref"],Oit=["key"];function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function gV(t,e){if(t==null)return{};var r=Iit(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iit(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(this,arguments)}function vV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(r),!0).forEach(function(n){Dc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a0(t){return Fit(t)||Lit(t)||Rit(t)||Mit()}function Mit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rit(t,e){if(t){if(typeof t=="string")return wO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wO(t,e)}}function Lit(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fit(t){if(Array.isArray(t))return wO(t)}function wO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sie(n.key),n)}}function Bit(t,e,r){return e&&yV(t.prototype,e),r&&yV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uit(t,e,r){return e=JN(e),zit(t,wie()?Reflect.construct(e,r||[],JN(t).constructor):e.apply(t,r))}function zit(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vit(t)}function Vit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wie=function(){return!!t})()}function JN(t){return JN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},JN(t)}function Hit(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SO(t,e)}function SO(t,e){return SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SO(t,e)}function Dc(t,e,r){return e=Sie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sie(t){var e=Wit(t,"string");return ny(e)=="symbol"?e:e+""}function Wit(t,e){if(ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zp=function(t){function e(){var r;$it(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Uit(this,e,[].concat(a)),Dc(r,"state",{isAnimationFinished:!0,totalLength:0}),Dc(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Dc(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(y,x){return y+x});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,m=l-s,h=[],v=0,g=0;v<c.length;g+=c[v],++v)if(g+c[v]>f){h=[].concat(a0(c.slice(0,v)),[f-g]);break}var p=h.length%2===0?[0,m]:[m];return[].concat(a0(e.repeat(c,d)),a0(h),p).map(function(y){return"".concat(y,"px")}).join(", ")}),Dc(r,"id",mg("recharts-line-")),Dc(r,"pathRef",function(s){r.mainCurve=s}),Dc(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Dc(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Hit(e,t),Bit(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=gl(d,b2);if(!f)return null;var m=function(g,p){return{x:g.x,y:g.y,value:g.value,errorVal:ti(g.payload,p)}},h={clipPath:n?"url(#clipPath-".concat(a,")"):null};return W.createElement(en,h,f.map(function(v){return W.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ar(this.props,!1),m=ar(c,!0),h=u.map(function(g,p){var y=Qo(Qo(Qo({key:"dot-".concat(p),r:3},f),m),{},{index:p,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return e.renderDotItem(c,y)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return W.createElement(en,F1({className:"recharts-line-dots",key:"dots"},v),h)}},{key:"renderCurveStatically",value:function(n,a,i,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=gV(l,Dit),m=Qo(Qo(Qo({},ar(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return W.createElement(Ap,F1({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,m=s.animationEasing,h=s.animationId,v=s.animateNewValues,g=s.width,p=s.height,y=this.state,x=y.prevPoints,b=y.totalLength;return W.createElement(su,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t;if(x){var j=x.length/l.length,A=l.map(function(P,I){var L=Math.floor(I*j);if(x[L]){var V=x[L],H=ki(V.x,P.x),q=ki(V.y,P.y);return Qo(Qo({},P),{},{x:H(_),y:q(_)})}if(v){var G=ki(g*2,P.x),re=ki(p/2,P.y);return Qo(Qo({},P),{},{x:G(_),y:re(_)})}return Qo(Qo({},P),{},{x:P.x,y:P.y})});return i.renderCurveStatically(A,n,a)}var E=ki(0,b),T=E(_),R;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});R=i.getStrokeDasharray(T,b,D)}else R=i.generateSimpleStrokeDasharray(b,T);return i.renderCurveStatically(l,n,a,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!Yp(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,m=a.left,h=a.width,v=a.height,g=a.isAnimationActive,p=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,x=l.length===1,b=Lr("recharts-line",c),w=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,j=w||_,A=Ir(p)?this.id:p,E=(n=ar(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=E.r,R=T===void 0?3:T,D=E.strokeWidth,P=D===void 0?2:D,I=fre(s)?s:{},L=I.clipDot,V=L===void 0?!0:L,H=R*2+P;return W.createElement(en,{className:b},w||_?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(A)},W.createElement("rect",{x:w?m:m-h/2,y:_?f:f-v/2,width:w?h:h*2,height:_?v:v*2})),!V&&W.createElement("clipPath",{id:"clipPath-dots-".concat(A)},W.createElement("rect",{x:m-H/2,y:f-H/2,width:h+H,height:v+H}))):null,!x&&this.renderCurve(j,A),this.renderErrorBar(j,A),(x||s)&&this.renderDots(j,V,A),(!g||y)&&zu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(a0(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(a0(s),a0(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(W.isValidElement(n))i=W.cloneElement(n,a);else if(br(n))i=n(a);else{var s=a.key,l=gV(a,Oit),c=Lr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=W.createElement(w2,F1({key:s},l,{className:c}))}return i}}])}(N.PureComponent);Dc(Zp,"displayName","Line");Dc(Zp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!dm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Dc(Zp,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,s=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(m,h){var v=ti(m,s);return d==="horizontal"?{x:kN({axis:r,ticks:a,bandSize:l,entry:m,index:h}),y:Ir(v)?null:n.scale(v),value:v,payload:m}:{x:Ir(v)?null:r.scale(v),y:kN({axis:n,ticks:i,bandSize:l,entry:m,index:h}),value:v,payload:m}});return Qo({points:f,layout:d},u)});var qit=["layout","type","stroke","connectNulls","isRange","ref"],Git=["key"],_ie;function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function jie(t,e){if(t==null)return{};var r=Yit(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yit(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fp(){return fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fp.apply(this,arguments)}function xV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(r),!0).forEach(function(n){Ou(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kit(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Aie(n.key),n)}}function Xit(t,e,r){return e&&bV(t.prototype,e),r&&bV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zit(t,e,r){return e=eA(e),Qit(t,Nie()?Reflect.construct(e,r||[],eA(t).constructor):e.apply(t,r))}function Qit(t,e){if(e&&(ay(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jit(t)}function Jit(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nie=function(){return!!t})()}function eA(t){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eA(t)}function est(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_O(t,e)}function _O(t,e){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_O(t,e)}function Ou(t,e,r){return e=Aie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aie(t){var e=tst(t,"string");return ay(e)=="symbol"?e:e+""}function tst(t,e){if(ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pm=function(t){function e(){var r;Kit(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Zit(this,e,[].concat(a)),Ou(r,"state",{isAnimationFinished:!0}),Ou(r,"id",mg("recharts-area-")),Ou(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),br(s)&&s()}),Ou(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),br(s)&&s()}),r}return est(e,t),Xit(e,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=ar(this.props,!1),h=ar(u,!0),v=d.map(function(p,y){var x=Gf(Gf(Gf({key:"dot-".concat(y),r:3},m),h),{},{index:y,cx:p.x,cy:p.y,dataKey:f,value:p.value,payload:p.payload,points:d});return e.renderDotItem(u,x)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return W.createElement(en,fp({className:"recharts-area-dots"},g),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=ph(s.map(function(m){return m.y||0}));return Et(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(ph(i.map(function(m){return m.y||0})),f)),Et(f)?W.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=ph(s.map(function(m){return m.x||0}));return Et(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(ph(i.map(function(m){return m.x||0})),f)),Et(f)?W.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=jie(l,qit);return W.createElement(en,{clipPath:i?"url(#clipPath-".concat(s,")"):null},W.createElement(Ap,fp({},ar(h,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&W.createElement(Ap,fp({},ar(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&m&&W.createElement(Ap,fp({},ar(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,m=s.animationEasing,h=s.animationId,v=this.state,g=v.prevPoints,p=v.prevBaseLine;return W.createElement(su,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t;if(g){var b=g.length/l.length,w=l.map(function(E,T){var R=Math.floor(T*b);if(g[R]){var D=g[R],P=ki(D.x,E.x),I=ki(D.y,E.y);return Gf(Gf({},E),{},{x:P(x),y:I(x)})}return E}),_;if(Et(c)&&typeof c=="number"){var j=ki(p,c);_=j(x)}else if(Ir(c)||$y(c)){var A=ki(p,0);_=A(x)}else _=c.map(function(E,T){var R=Math.floor(T*b);if(p[R]){var D=p[R],P=ki(D.x,E.x),I=ki(D.y,E.y);return Gf(Gf({},E),{},{x:P(x),y:I(x)})}return E});return i.renderAreaStatically(w,_,n,a)}return W.createElement(en,null,W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),W.createElement(en,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&s&&s.length&&(!d&&m>0||!Yp(d,s)||!Yp(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,m=a.yAxis,h=a.width,v=a.height,g=a.isAnimationActive,p=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,x=l.length===1,b=Lr("recharts-area",c),w=f&&f.allowDataOverflow,_=m&&m.allowDataOverflow,j=w||_,A=Ir(p)?this.id:p,E=(n=ar(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},T=E.r,R=T===void 0?3:T,D=E.strokeWidth,P=D===void 0?2:D,I=fre(s)?s:{},L=I.clipDot,V=L===void 0?!0:L,H=R*2+P;return W.createElement(en,{className:b},w||_?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(A)},W.createElement("rect",{x:w?d:d-h/2,y:_?u:u-v/2,width:w?h:h*2,height:_?v:v*2})),!V&&W.createElement("clipPath",{id:"clipPath-dots-".concat(A)},W.createElement("rect",{x:d-H/2,y:u-H/2,width:h+H,height:v+H}))):null,x?null:this.renderArea(j,A),(s||x)&&this.renderDots(j,V,A),(!g||y)&&zu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(N.PureComponent);_ie=pm;Ou(pm,"displayName","Area");Ou(pm,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!dm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ou(pm,"getBaseValue",function(t,e,r,n){var a=t.layout,i=t.baseValue,s=e.props.baseValue,l=s??i;if(Et(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ou(pm,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,h=e.layout,v=u&&u.length,g=_ie.getBaseValue(e,r,n,a),p=h==="horizontal",y=!1,x=f.map(function(w,_){var j;v?j=u[d+_]:(j=ti(w,c),Array.isArray(j)?y=!0:j=[g,j]);var A=j[1]==null||v&&ti(w,c)==null;return p?{x:kN({axis:n,ticks:i,bandSize:l,entry:w,index:_}),y:A?null:a.scale(j[1]),value:j,payload:w}:{x:A?null:n.scale(j[1]),y:kN({axis:a,ticks:s,bandSize:l,entry:w,index:_}),value:j,payload:w}}),b;return v||y?b=x.map(function(w){var _=Array.isArray(w.value)?w.value[0]:null;return p?{x:w.x,y:_!=null&&w.y!=null?a.scale(_):null}:{x:_!=null?n.scale(_):null,y:w.y}}):b=p?a.scale(g):n.scale(g),Gf({points:x,baseLine:b,layout:h,isRange:y},m)});Ou(pm,"renderDotItem",function(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(br(t))r=t(e);else{var n=Lr("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,i=jie(e,Git);r=W.createElement(w2,fp({},i,{key:a,className:n}))}return r});function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function rst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tie(n.key),n)}}function ast(t,e,r){return e&&nst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ist(t,e,r){return e=tA(e),sst(t,Eie()?Reflect.construct(e,r||[],tA(t).constructor):e.apply(t,r))}function sst(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ost(t)}function ost(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eie=function(){return!!t})()}function tA(t){return tA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tA(t)}function lst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jO(t,e)}function jO(t,e){return jO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jO(t,e)}function Cie(t,e,r){return e=Tie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tie(t){var e=cst(t,"string");return iy(e)=="symbol"?e:e+""}function cst(t,e){if(iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NO(){return NO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NO.apply(this,arguments)}function ust(t){var e=t.xAxisId,r=o6(),n=l6(),a=cie(e);return a==null?null:W.createElement(qy,NO({},a,{className:Lr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Vd(s,!0)}}))}var Ro=function(t){function e(){return rst(this,e),ist(this,e,arguments)}return lst(e,t),ast(e,[{key:"render",value:function(){return W.createElement(ust,this.props)}}])}(W.Component);Cie(Ro,"displayName","XAxis");Cie(Ro,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}function dst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Die(n.key),n)}}function hst(t,e,r){return e&&fst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mst(t,e,r){return e=rA(e),pst(t,kie()?Reflect.construct(e,r||[],rA(t).constructor):e.apply(t,r))}function pst(t,e){if(e&&(sy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gst(t)}function gst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kie=function(){return!!t})()}function rA(t){return rA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rA(t)}function vst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AO(t,e)}function AO(t,e){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AO(t,e)}function Pie(t,e,r){return e=Die(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Die(t){var e=yst(t,"string");return sy(e)=="symbol"?e:e+""}function yst(t,e){if(sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EO(){return EO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EO.apply(this,arguments)}var xst=function(e){var r=e.yAxisId,n=o6(),a=l6(),i=uie(r);return i==null?null:W.createElement(qy,EO({},i,{className:Lr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Vd(l,!0)}}))},Lo=function(t){function e(){return dst(this,e),mst(this,e,arguments)}return vst(e,t),hst(e,[{key:"render",value:function(){return W.createElement(xst,this.props)}}])}(W.Component);Pie(Lo,"displayName","YAxis");Pie(Lo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function wV(t){return _st(t)||Sst(t)||wst(t)||bst()}function bst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wst(t,e){if(t){if(typeof t=="string")return CO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CO(t,e)}}function Sst(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _st(t){if(Array.isArray(t))return CO(t)}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var TO=function(e,r,n,a,i){var s=gl(e,u6),l=gl(e,I5),c=[].concat(wV(s),wV(l)),u=gl(e,R5),d="".concat(a,"Id"),f=a[0],m=r;if(c.length&&(m=c.reduce(function(g,p){if(p.props[d]===n&&Vu(p.props,"extendDomain")&&Et(p.props[f])){var y=p.props[f];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},m)),u.length){var h="".concat(f,"1"),v="".concat(f,"2");m=u.reduce(function(g,p){if(p.props[d]===n&&Vu(p.props,"extendDomain")&&Et(p.props[h])&&Et(p.props[v])){var y=p.props[h],x=p.props[v];return[Math.min(g[0],y,x),Math.max(g[1],y,x)]}return g},m)}return i&&i.length&&(m=i.reduce(function(g,p){return Et(p)?[Math.min(g[0],p),Math.max(g[1],p)]:g},m)),m},Oie={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],h]:c._events[v].push(h):(c._events[v]=h,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,v=new Array(h);m<h;m++)v[m]=f[m].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,v){var g=r?r+u:u;if(!this._events[g])return!1;var p=this._events[g],y=arguments.length,x,b;if(p.fn){switch(p.once&&this.removeListener(u,p.fn,void 0,!0),y){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,f),!0;case 4:return p.fn.call(p.context,d,f,m),!0;case 5:return p.fn.call(p.context,d,f,m,h),!0;case 6:return p.fn.call(p.context,d,f,m,h,v),!0}for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];p.fn.apply(p.context,x)}else{var w=p.length,_;for(b=0;b<w;b++)switch(p[b].once&&this.removeListener(u,p[b].fn,void 0,!0),y){case 1:p[b].fn.call(p[b].context);break;case 2:p[b].fn.call(p[b].context,d);break;case 3:p[b].fn.call(p[b].context,d,f);break;case 4:p[b].fn.call(p[b].context,d,f,m);break;default:if(!x)for(_=1,x=new Array(y-1);_<y;_++)x[_-1]=arguments[_];p[b].fn.apply(p[b].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return s(this,h),this;var v=this._events[h];if(v.fn)v.fn===d&&(!m||v.once)&&(!f||v.context===f)&&s(this,h);else{for(var g=0,p=[],y=v.length;g<y;g++)(v[g].fn!==d||m&&!v[g].once||f&&v[g].context!==f)&&p.push(v[g]);p.length?this._events[h]=p.length===1?p[0]:p:s(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(Oie);var jst=Oie.exports;const Nst=bn(jst);var R4=new Nst,L4="recharts.syncMouseEvents";function rw(t){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rw(t)}function Ast(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Est(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Iie(n.key),n)}}function Cst(t,e,r){return e&&Est(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F4(t,e,r){return e=Iie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iie(t){var e=Tst(t,"string");return rw(e)=="symbol"?e:e+""}function Tst(t,e){if(rw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kst=function(){function t(){Ast(this,t),F4(this,"activeIndex",0),F4(this,"coordinateList",[]),F4(this,"layout","horizontal")}return Cst(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,m=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function Pst(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Et(n)&&Et(a))return!0}return!1}function Dst(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Mie(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=oa(e,r,n,a),l=oa(e,r,n,i);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Ost(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=oa(l,c,u,f),h=oa(l,c,d,f);n=m.x,a=m.y,i=h.x,s=h.y}else return Mie(e);return[{x:n,y:a},{x:i,y:s}]}function nw(t){"@babel/helpers - typeof";return nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nw(t)}function SV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function v_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(r),!0).forEach(function(n){Ist(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ist(t,e,r){return e=Mst(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mst(t){var e=Rst(t,"string");return nw(e)=="symbol"?e:e+""}function Rst(t,e){if(nw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lst(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!s||m!=="ScatterChart"&&a!=="axis")return null;var v,g=Ap;if(m==="ScatterChart")v=s,g=Vet;else if(m==="BarChart")v=Dst(f,s,c,d),g=r6;else if(f==="radial"){var p=Mie(s),y=p.cx,x=p.cy,b=p.radius,w=p.startAngle,_=p.endAngle;v={cx:y,cy:x,startAngle:w,endAngle:_,innerRadius:b,outerRadius:b},g=Pae}else v={points:Ost(f,s,c)},g=Ap;var j=v_(v_(v_(v_({stroke:"#ccc",pointerEvents:"none"},c),v),ar(h,!1)),{},{payload:l,payloadIndex:u,className:Lr("recharts-tooltip-cursor",h.className)});return N.isValidElement(h)?N.cloneElement(h,j):N.createElement(g,j)}var Fst=["item"],$st=["children","className","width","height","style","compact","title","desc"];function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P0.apply(this,arguments)}function _V(t,e){return zst(t)||Ust(t,e)||Lie(t,e)||Bst()}function Bst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ust(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function zst(t){if(Array.isArray(t))return t}function jV(t,e){if(t==null)return{};var r=Vst(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vst(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hst(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fie(n.key),n)}}function qst(t,e,r){return e&&Wst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gst(t,e,r){return e=nA(e),Yst(t,Rie()?Reflect.construct(e,r||[],nA(t).constructor):e.apply(t,r))}function Yst(t,e){if(e&&(oy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kst(t)}function Kst(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rie=function(){return!!t})()}function nA(t){return nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nA(t)}function Xst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kO(t,e)}function kO(t,e){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kO(t,e)}function ly(t){return Jst(t)||Qst(t)||Lie(t)||Zst()}function Zst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lie(t,e){if(t){if(typeof t=="string")return PO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(t,e)}}function Qst(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jst(t){if(Array.isArray(t))return PO(t)}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function at(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(r),!0).forEach(function(n){vr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vr(t,e,r){return e=Fie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fie(t){var e=eot(t,"string");return oy(e)=="symbol"?e:e+""}function eot(t,e){if(oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tot={xAxis:["bottom","top"],yAxis:["left","right"]},rot={width:"100%",height:"100%"},$ie={x:0,y:0};function y_(t){return t}var not=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},aot=function(e,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,l=a.radius;return at(at(at({},a),oa(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return at(at(at({},a),oa(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return $ie},L5=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ly(l),ly(u)):l},[]);return s.length>0?s:e&&e.length&&Et(a)&&Et(i)?e.slice(a,i+1):[]};function Bie(t){return t==="number"?[0,"auto"]:void 0}var DO=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,l=L5(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(s.dataKey&&!s.allowDuplicatedCategory){var h=f===void 0?l:f;m=rN(h,s.dataKey,a)}else m=f&&f[n]||l[n];return m?[].concat(ly(c),[Nae(u,m)]):c},[])},AV=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=not(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=gZe(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=DO(e,r,d,f),h=aot(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},iot=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,h=xae(d,i);return n.reduce(function(v,g){var p,y=g.type.defaultProps!==void 0?at(at({},g.type.defaultProps),g.props):g.props,x=y.type,b=y.dataKey,w=y.allowDataOverflow,_=y.allowDuplicatedCategory,j=y.scale,A=y.ticks,E=y.includeHidden,T=y[s];if(v[T])return v;var R=L5(e.data,{graphicalItems:a.filter(function(k){var F,B=s in k.props?k.props[s]:(F=k.type.defaultProps)===null||F===void 0?void 0:F[s];return B===T}),dataStartIndex:c,dataEndIndex:u}),D=R.length,P,I,L;Pst(y.domain,w,x)&&(P=WD(y.domain,null,w),h&&(x==="number"||j!=="auto")&&(L=I1(R,b,"category")));var V=Bie(x);if(!P||P.length===0){var H,q=(H=y.domain)!==null&&H!==void 0?H:V;if(b){if(P=I1(R,b,x),x==="category"&&h){var G=o8e(P);_&&G?(I=P,P=VN(0,D)):_||(P=YU(q,P,g).reduce(function(k,F){return k.indexOf(F)>=0?k:[].concat(ly(k),[F])},[]))}else if(x==="category")_?P=P.filter(function(k){return k!==""&&!Ir(k)}):P=YU(q,P,g).reduce(function(k,F){return k.indexOf(F)>=0||F===""||Ir(F)?k:[].concat(ly(k),[F])},[]);else if(x==="number"){var re=wZe(R,a.filter(function(k){var F,B,z=s in k.props?k.props[s]:(F=k.type.defaultProps)===null||F===void 0?void 0:F[s],ee="hide"in k.props?k.props.hide:(B=k.type.defaultProps)===null||B===void 0?void 0:B.hide;return z===T&&(E||!ee)}),b,i,d);re&&(P=re)}h&&(x==="number"||j!=="auto")&&(L=I1(R,b,"category"))}else h?P=VN(0,D):l&&l[T]&&l[T].hasStack&&x==="number"?P=m==="expand"?[0,1]:jae(l[T].stackGroups,c,u):P=yae(R,a.filter(function(k){var F=s in k.props?k.props[s]:k.type.defaultProps[s],B="hide"in k.props?k.props.hide:k.type.defaultProps.hide;return F===T&&(E||!B)}),x,d,!0);if(x==="number")P=TO(f,P,T,i,A),q&&(P=WD(q,P,w));else if(x==="category"&&q){var Z=q,de=P.every(function(k){return Z.indexOf(k)>=0});de&&(P=Z)}}return at(at({},v),{},vr({},T,at(at({},y),{},{axisType:i,domain:P,categoricalDomain:L,duplicateDomain:I,originalDomain:(p=y.domain)!==null&&p!==void 0?p:V,isCategorical:h,layout:d})))},{})},sot=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=L5(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=m.length,v=xae(d,i),g=-1;return n.reduce(function(p,y){var x=y.type.defaultProps!==void 0?at(at({},y.type.defaultProps),y.props):y.props,b=x[s],w=Bie("number");if(!p[b]){g++;var _;return v?_=VN(0,h):l&&l[b]&&l[b].hasStack?(_=jae(l[b].stackGroups,c,u),_=TO(f,_,b,i)):(_=WD(w,yae(m,n.filter(function(j){var A,E,T=s in j.props?j.props[s]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[s],R="hide"in j.props?j.props.hide:(E=j.type.defaultProps)===null||E===void 0?void 0:E.hide;return T===b&&!R}),"number",d),a.defaultProps.allowDataOverflow),_=TO(f,_,b,i)),at(at({},p),{},vr({},b,at(at({axisType:i},a.defaultProps),{},{hide:!0,orientation:pl(tot,"".concat(i,".").concat(g%2),null),domain:_,originalDomain:w,isCategorical:v,layout:d})))}return p},{})},oot=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(a,"Id"),m=gl(d,i),h={};return m&&m.length?h=iot(e,{axes:m,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(h=sot(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},lot=function(e){var r=Jf(e),n=Vd(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:TR(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:PN(r,n)}},EV=function(e){var r=e.children,n=e.defaultShowTooltip,a=nl(r,Zv),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},cot=function(e){return!e||!e.length?!1:e.some(function(r){var n=Wd(r&&r.type);return n&&n.indexOf("Bar")>=0})},CV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uot=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},h=nl(f,Zv),v=nl(f,Xc),g=Object.keys(c).reduce(function(_,j){var A=c[j],E=A.orientation;return!A.mirror&&!A.hide?at(at({},_),{},vr({},E,_[E]+A.width)):_},{left:m.left||0,right:m.right||0}),p=Object.keys(s).reduce(function(_,j){var A=s[j],E=A.orientation;return!A.mirror&&!A.hide?at(at({},_),{},vr({},E,pl(_,"".concat(E))+A.height)):_},{top:m.top||0,bottom:m.bottom||0}),y=at(at({},p),g),x=y.bottom;h&&(y.bottom+=h.props.height||Zv.defaultProps.height),v&&r&&(y=xZe(y,a,n,r));var b=u-y.left-y.right,w=d-y.top-y.bottom;return at(at({brushBottom:x},y),{},{width:Math.max(b,0),height:Math.max(w,0)})},dot=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},F5=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(y,x){var b=x.graphicalItems,w=x.stackGroups,_=x.offset,j=x.updateId,A=x.dataStartIndex,E=x.dataEndIndex,T=y.barSize,R=y.layout,D=y.barGap,P=y.barCategoryGap,I=y.maxBarSize,L=CV(R),V=L.numericAxisName,H=L.cateAxisName,q=cot(b),G=[];return b.forEach(function(re,Z){var de=L5(y.data,{graphicalItems:[re],dataStartIndex:A,dataEndIndex:E}),k=re.type.defaultProps!==void 0?at(at({},re.type.defaultProps),re.props):re.props,F=k.dataKey,B=k.maxBarSize,z=k["".concat(V,"Id")],ee=k["".concat(H,"Id")],le={},ge=c.reduce(function(Pe,ne){var ue=x["".concat(ne.axisType,"Map")],Ne=k["".concat(ne.axisType,"Id")];ue&&ue[Ne]||ne.axisType==="zAxis"||Uh();var Re=ue[Ne];return at(at({},Pe),{},vr(vr({},ne.axisType,Re),"".concat(ne.axisType,"Ticks"),Vd(Re)))},le),se=ge[H],ie=ge["".concat(H,"Ticks")],we=w&&w[z]&&w[z].hasStack&&kZe(re,w[z].stackGroups),pe=Wd(re.type).indexOf("Bar")>=0,Me=PN(se,ie),he=[],oe=q&&vZe({barSize:T,stackGroups:w,totalSize:dot(ge,H)});if(pe){var X,Ae,Be=Ir(B)?I:B,qe=(X=(Ae=PN(se,ie,!0))!==null&&Ae!==void 0?Ae:Be)!==null&&X!==void 0?X:0;he=yZe({barGap:D,barCategoryGap:P,bandSize:qe!==Me?qe:Me,sizeList:oe[ee],maxBarSize:Be}),qe!==Me&&(he=he.map(function(Pe){return at(at({},Pe),{},{position:at(at({},Pe.position),{},{offset:Pe.position.offset-qe/2})})}))}var st=re&&re.type&&re.type.getComposedData;st&&G.push({props:at(at({},st(at(at({},ge),{},{displayedData:de,props:y,dataKey:F,item:re,bandSize:Me,barPosition:he,offset:_,stackedData:we,layout:R,dataStartIndex:A,dataEndIndex:E}))),{},vr(vr(vr({key:re.key||"item-".concat(Z)},V,ge[V]),H,ge[H]),"animationId",j)),childIndex:x8e(re,y.children),item:re})}),G},h=function(y,x){var b=y.props,w=y.dataStartIndex,_=y.dataEndIndex,j=y.updateId;if(!z7({props:b}))return null;var A=b.children,E=b.layout,T=b.stackOffset,R=b.data,D=b.reverseStackOrder,P=CV(E),I=P.numericAxisName,L=P.cateAxisName,V=gl(A,n),H=CZe(R,V,"".concat(I,"Id"),"".concat(L,"Id"),T,D),q=c.reduce(function(k,F){var B="".concat(F.axisType,"Map");return at(at({},k),{},vr({},B,oot(b,at(at({},F),{},{graphicalItems:V,stackGroups:F.axisType===I&&H,dataStartIndex:w,dataEndIndex:_}))))},{}),G=uot(at(at({},q),{},{props:b,graphicalItems:V}),x==null?void 0:x.legendBBox);Object.keys(q).forEach(function(k){q[k]=d(b,q[k],G,k.replace("Map",""),r)});var re=q["".concat(L,"Map")],Z=lot(re),de=m(b,at(at({},q),{},{dataStartIndex:w,dataEndIndex:_,updateId:j,graphicalItems:V,stackGroups:H,offset:G}));return at(at({formattedGraphicalItems:de,graphicalItems:V,offset:G,stackGroups:H},Z),q)},v=function(p){function y(x){var b,w,_;return Hst(this,y),_=Gst(this,y,[x]),vr(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vr(_,"accessibilityManager",new kst),vr(_,"handleLegendBBoxUpdate",function(j){if(j){var A=_.state,E=A.dataStartIndex,T=A.dataEndIndex,R=A.updateId;_.setState(at({legendBBox:j},h({props:_.props,dataStartIndex:E,dataEndIndex:T,updateId:R},at(at({},_.state),{},{legendBBox:j}))))}}),vr(_,"handleReceiveSyncEvent",function(j,A,E){if(_.props.syncId===j){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(A)}}),vr(_,"handleBrushChange",function(j){var A=j.startIndex,E=j.endIndex;if(A!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var T=_.state.updateId;_.setState(function(){return at({dataStartIndex:A,dataEndIndex:E},h({props:_.props,dataStartIndex:A,dataEndIndex:E,updateId:T},_.state))}),_.triggerSyncEvent({dataStartIndex:A,dataEndIndex:E})}}),vr(_,"handleMouseEnter",function(j){var A=_.getMouseInfo(j);if(A){var E=at(at({},A),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var T=_.props.onMouseEnter;br(T)&&T(E,j)}}),vr(_,"triggeredAfterMouseMove",function(j){var A=_.getMouseInfo(j),E=A?at(at({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var T=_.props.onMouseMove;br(T)&&T(E,j)}),vr(_,"handleItemMouseEnter",function(j){_.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),vr(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),vr(_,"handleMouseMove",function(j){j.persist(),_.throttleTriggeredAfterMouseMove(j)}),vr(_,"handleMouseLeave",function(j){_.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};_.setState(A),_.triggerSyncEvent(A);var E=_.props.onMouseLeave;br(E)&&E(A,j)}),vr(_,"handleOuterEvent",function(j){var A=y8e(j),E=pl(_.props,"".concat(A));if(A&&br(E)){var T,R;/.*touch.*/i.test(A)?R=_.getMouseInfo(j.changedTouches[0]):R=_.getMouseInfo(j),E((T=R)!==null&&T!==void 0?T:{},j)}}),vr(_,"handleClick",function(j){var A=_.getMouseInfo(j);if(A){var E=at(at({},A),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var T=_.props.onClick;br(T)&&T(E,j)}}),vr(_,"handleMouseDown",function(j){var A=_.props.onMouseDown;if(br(A)){var E=_.getMouseInfo(j);A(E,j)}}),vr(_,"handleMouseUp",function(j){var A=_.props.onMouseUp;if(br(A)){var E=_.getMouseInfo(j);A(E,j)}}),vr(_,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),vr(_,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&_.handleMouseDown(j.changedTouches[0])}),vr(_,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&_.handleMouseUp(j.changedTouches[0])}),vr(_,"handleDoubleClick",function(j){var A=_.props.onDoubleClick;if(br(A)){var E=_.getMouseInfo(j);A(E,j)}}),vr(_,"handleContextMenu",function(j){var A=_.props.onContextMenu;if(br(A)){var E=_.getMouseInfo(j);A(E,j)}}),vr(_,"triggerSyncEvent",function(j){_.props.syncId!==void 0&&R4.emit(L4,_.props.syncId,j,_.eventEmitterSymbol)}),vr(_,"applySyncEvent",function(j){var A=_.props,E=A.layout,T=A.syncMethod,R=_.state.updateId,D=j.dataStartIndex,P=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)_.setState(at({dataStartIndex:D,dataEndIndex:P},h({props:_.props,dataStartIndex:D,dataEndIndex:P,updateId:R},_.state)));else if(j.activeTooltipIndex!==void 0){var I=j.chartX,L=j.chartY,V=j.activeTooltipIndex,H=_.state,q=H.offset,G=H.tooltipTicks;if(!q)return;if(typeof T=="function")V=T(G,j);else if(T==="value"){V=-1;for(var re=0;re<G.length;re++)if(G[re].value===j.activeLabel){V=re;break}}var Z=at(at({},q),{},{x:q.left,y:q.top}),de=Math.min(I,Z.x+Z.width),k=Math.min(L,Z.y+Z.height),F=G[V]&&G[V].value,B=DO(_.state,_.props.data,V),z=G[V]?{x:E==="horizontal"?G[V].coordinate:de,y:E==="horizontal"?k:G[V].coordinate}:$ie;_.setState(at(at({},j),{},{activeLabel:F,activeCoordinate:z,activePayload:B,activeTooltipIndex:V}))}else _.setState(j)}),vr(_,"renderCursor",function(j){var A,E=_.state,T=E.isTooltipActive,R=E.activeCoordinate,D=E.activePayload,P=E.offset,I=E.activeTooltipIndex,L=E.tooltipAxisBandSize,V=_.getTooltipEventType(),H=(A=j.props.active)!==null&&A!==void 0?A:T,q=_.props.layout,G=j.key||"_recharts-cursor";return W.createElement(Lst,{key:G,activeCoordinate:R,activePayload:D,activeTooltipIndex:I,chartName:r,element:j,isActive:H,layout:q,offset:P,tooltipAxisBandSize:L,tooltipEventType:V})}),vr(_,"renderPolarAxis",function(j,A,E){var T=pl(j,"type.axisType"),R=pl(_.state,"".concat(T,"Map")),D=j.type.defaultProps,P=D!==void 0?at(at({},D),j.props):j.props,I=R&&R[P["".concat(T,"Id")]];return N.cloneElement(j,at(at({},I),{},{className:Lr(T,I.className),key:j.key||"".concat(A,"-").concat(E),ticks:Vd(I,!0)}))}),vr(_,"renderPolarGrid",function(j){var A=j.props,E=A.radialLines,T=A.polarAngles,R=A.polarRadius,D=_.state,P=D.radiusAxisMap,I=D.angleAxisMap,L=Jf(P),V=Jf(I),H=V.cx,q=V.cy,G=V.innerRadius,re=V.outerRadius;return N.cloneElement(j,{polarAngles:Array.isArray(T)?T:Vd(V,!0).map(function(Z){return Z.coordinate}),polarRadius:Array.isArray(R)?R:Vd(L,!0).map(function(Z){return Z.coordinate}),cx:H,cy:q,innerRadius:G,outerRadius:re,key:j.key||"polar-grid",radialLines:E})}),vr(_,"renderLegend",function(){var j=_.state.formattedGraphicalItems,A=_.props,E=A.children,T=A.width,R=A.height,D=_.props.margin||{},P=T-(D.left||0)-(D.right||0),I=gae({children:E,formattedGraphicalItems:j,legendWidth:P,legendContent:u});if(!I)return null;var L=I.item,V=jV(I,Fst);return N.cloneElement(L,at(at({},V),{},{chartWidth:T,chartHeight:R,margin:D,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),vr(_,"renderTooltip",function(){var j,A=_.props,E=A.children,T=A.accessibilityLayer,R=nl(E,bi);if(!R)return null;var D=_.state,P=D.isTooltipActive,I=D.activeCoordinate,L=D.activePayload,V=D.activeLabel,H=D.offset,q=(j=R.props.active)!==null&&j!==void 0?j:P;return N.cloneElement(R,{viewBox:at(at({},H),{},{x:H.left,y:H.top}),active:q,label:V,payload:q?L:[],coordinate:I,accessibilityLayer:T})}),vr(_,"renderBrush",function(j){var A=_.props,E=A.margin,T=A.data,R=_.state,D=R.offset,P=R.dataStartIndex,I=R.dataEndIndex,L=R.updateId;return N.cloneElement(j,{key:j.key||"_recharts-brush",onChange:h_(_.handleBrushChange,j.props.onChange),data:T,x:Et(j.props.x)?j.props.x:D.left,y:Et(j.props.y)?j.props.y:D.top+D.height+D.brushBottom-(E.bottom||0),width:Et(j.props.width)?j.props.width:D.width,startIndex:P,endIndex:I,updateId:"brush-".concat(L)})}),vr(_,"renderReferenceElement",function(j,A,E){if(!j)return null;var T=_,R=T.clipPathId,D=_.state,P=D.xAxisMap,I=D.yAxisMap,L=D.offset,V=j.type.defaultProps||{},H=j.props,q=H.xAxisId,G=q===void 0?V.xAxisId:q,re=H.yAxisId,Z=re===void 0?V.yAxisId:re;return N.cloneElement(j,{key:j.key||"".concat(A,"-").concat(E),xAxis:P[G],yAxis:I[Z],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:R})}),vr(_,"renderActivePoints",function(j){var A=j.item,E=j.activePoint,T=j.basePoint,R=j.childIndex,D=j.isRange,P=[],I=A.props.key,L=A.item.type.defaultProps!==void 0?at(at({},A.item.type.defaultProps),A.item.props):A.item.props,V=L.activeDot,H=L.dataKey,q=at(at({index:R,dataKey:H,cx:E.x,cy:E.y,r:4,fill:t6(A.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},ar(V,!1)),nN(V));return P.push(y.renderActiveDot(V,q,"".concat(I,"-activePoint-").concat(R))),T?P.push(y.renderActiveDot(V,at(at({},q),{},{cx:T.x,cy:T.y}),"".concat(I,"-basePoint-").concat(R))):D&&P.push(null),P}),vr(_,"renderGraphicChild",function(j,A,E){var T=_.filterFormatItem(j,A,E);if(!T)return null;var R=_.getTooltipEventType(),D=_.state,P=D.isTooltipActive,I=D.tooltipAxis,L=D.activeTooltipIndex,V=D.activeLabel,H=_.props.children,q=nl(H,bi),G=T.props,re=G.points,Z=G.isRange,de=G.baseLine,k=T.item.type.defaultProps!==void 0?at(at({},T.item.type.defaultProps),T.item.props):T.item.props,F=k.activeDot,B=k.hide,z=k.activeBar,ee=k.activeShape,le=!!(!B&&P&&q&&(F||z||ee)),ge={};R!=="axis"&&q&&q.props.trigger==="click"?ge={onClick:h_(_.handleItemMouseEnter,j.props.onClick)}:R!=="axis"&&(ge={onMouseLeave:h_(_.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:h_(_.handleItemMouseEnter,j.props.onMouseEnter)});var se=N.cloneElement(j,at(at({},T.props),ge));function ie(ne){return typeof I.dataKey=="function"?I.dataKey(ne.payload):null}if(le)if(L>=0){var we,pe;if(I.dataKey&&!I.allowDuplicatedCategory){var Me=typeof I.dataKey=="function"?ie:"payload.".concat(I.dataKey.toString());we=rN(re,Me,V),pe=Z&&de&&rN(de,Me,V)}else we=re==null?void 0:re[L],pe=Z&&de&&de[L];if(ee||z){var he=j.props.activeIndex!==void 0?j.props.activeIndex:L;return[N.cloneElement(j,at(at(at({},T.props),ge),{},{activeIndex:he})),null,null]}if(!Ir(we))return[se].concat(ly(_.renderActivePoints({item:T,activePoint:we,basePoint:pe,childIndex:L,isRange:Z})))}else{var oe,X=(oe=_.getItemByXY(_.state.activeCoordinate))!==null&&oe!==void 0?oe:{graphicalItem:se},Ae=X.graphicalItem,Be=Ae.item,qe=Be===void 0?j:Be,st=Ae.childIndex,Pe=at(at(at({},T.props),ge),{},{activeIndex:st});return[N.cloneElement(qe,Pe),null,null]}return Z?[se,null,null]:[se,null]}),vr(_,"renderCustomized",function(j,A,E){return N.cloneElement(j,at(at({key:"recharts-customized-".concat(E)},_.props),_.state))}),vr(_,"renderMap",{CartesianGrid:{handler:y_,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:y_},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:y_},YAxis:{handler:y_},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:mg("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=pne(_.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),_.state={},_}return Xst(y,p),qst(y,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,_=b.data,j=b.height,A=b.layout,E=nl(w,bi);if(E){var T=E.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,D=DO(this.state,_,T,R),P=this.state.tooltipTicks[T].coordinate,I=(this.state.offset.top+j)/2,L=A==="horizontal",V=L?{x:P,y:I}:{y:P,x:I},H=this.state.formattedGraphicalItems.find(function(G){var re=G.item;return re.type.name==="Scatter"});H&&(V=at(at({},V),H.props.points[T].tooltipPosition),D=H.props.points[T].tooltipPayload);var q={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:R,activePayload:D,activeCoordinate:V};this.setState(q),this.renderCursor(E),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var _,j;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(b){sD([nl(b.children,bi)],[nl(this.props.children,bi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=nl(this.props.children,bi);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return l.indexOf(w)>=0?w:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,_=w.getBoundingClientRect(),j=Wqe(_),A={chartX:Math.round(b.pageX-j.left),chartY:Math.round(b.pageY-j.top)},E=_.width/w.offsetWidth||1,T=this.inRange(A.chartX,A.chartY,E);if(!T)return null;var R=this.state,D=R.xAxisMap,P=R.yAxisMap,I=this.getTooltipEventType(),L=AV(this.state,this.props.data,this.props.layout,T);if(I!=="axis"&&D&&P){var V=Jf(D).scale,H=Jf(P).scale,q=V&&V.invert?V.invert(A.chartX):null,G=H&&H.invert?H.invert(A.chartY):null;return at(at({},A),{},{xValue:q,yValue:G},L)}return L?at(at({},A),L):null}},{key:"inRange",value:function(b,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=b/_,E=w/_;if(j==="horizontal"||j==="vertical"){var T=this.state.offset,R=A>=T.left&&A<=T.left+T.width&&E>=T.top&&E<=T.top+T.height;return R?{x:A,y:E}:null}var D=this.state,P=D.angleAxisMap,I=D.radiusAxisMap;if(P&&I){var L=Jf(P);return ZU({x:A,y:E},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),_=nl(b,bi),j={};_&&w==="axis"&&(_.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=nN(this.props,this.handleOuterEvent);return at(at({},A),j)}},{key:"addListener",value:function(){R4.on(L4,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){R4.removeListener(L4,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,_){for(var j=this.state.formattedGraphicalItems,A=0,E=j.length;A<E;A++){var T=j[A];if(T.item===b||T.props.key===b.key||w===Wd(T.item.type)&&_===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,_=w.left,j=w.top,A=w.height,E=w.width;return W.createElement("defs",null,W.createElement("clipPath",{id:b},W.createElement("rect",{x:_,y:j,height:A,width:E})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,_){var j=_V(_,2),A=j[0],E=j[1];return at(at({},w),{},vr({},A,E.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,_){var j=_V(_,2),A=j[0],E=j[1];return at(at({},w),{},vr({},A,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,_=w.formattedGraphicalItems,j=w.activeItem;if(_&&_.length)for(var A=0,E=_.length;A<E;A++){var T=_[A],R=T.props,D=T.item,P=D.type.defaultProps!==void 0?at(at({},D.type.defaultProps),D.props):D.props,I=Wd(D.type);if(I==="Bar"){var L=(R.data||[]).find(function(G){return _et(b,G)});if(L)return{graphicalItem:T,payload:L}}else if(I==="RadialBar"){var V=(R.data||[]).find(function(G){return ZU(b,G)});if(V)return{graphicalItem:T,payload:V}}else if(k5(T,j)||P5(T,j)||Zb(T,j)){var H=frt({graphicalItem:T,activeTooltipItem:j,itemData:P.data}),q=P.activeIndex===void 0?H:P.activeIndex;return{graphicalItem:at(at({},T),{},{childIndex:q}),payload:Zb(T,j)?P.data[H]:T.props.data[H]}}}return null}},{key:"render",value:function(){var b=this;if(!z7(this))return null;var w=this.props,_=w.children,j=w.className,A=w.width,E=w.height,T=w.style,R=w.compact,D=w.title,P=w.desc,I=jV(w,$st),L=ar(I,!1);if(R)return W.createElement(nV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(lD,P0({},L,{width:A,height:E,title:D,desc:P}),this.renderClipPath(),H7(_,this.renderMap)));if(this.props.accessibilityLayer){var V,H;L.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,L.role=(H=this.props.role)!==null&&H!==void 0?H:"application",L.onKeyDown=function(G){b.accessibilityManager.keyboardEvent(G)},L.onFocus=function(){b.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return W.createElement(nV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",P0({className:Lr("recharts-wrapper",j),style:at({position:"relative",cursor:"default",width:A,height:E},T)},q,{ref:function(re){b.container=re}}),W.createElement(lD,P0({},L,{width:A,height:E,title:D,desc:P,style:rot}),this.renderClipPath(),H7(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);vr(v,"displayName",r),vr(v,"defaultProps",at({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),vr(v,"getDerivedStateFromProps",function(p,y){var x=p.dataKey,b=p.data,w=p.children,_=p.width,j=p.height,A=p.layout,E=p.stackOffset,T=p.margin,R=y.dataStartIndex,D=y.dataEndIndex;if(y.updateId===void 0){var P=EV(p);return at(at(at({},P),{},{updateId:0},h(at(at({props:p},P),{},{updateId:0}),y)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:j,prevLayout:A,prevStackOffset:E,prevMargin:T,prevChildren:w})}if(x!==y.prevDataKey||b!==y.prevData||_!==y.prevWidth||j!==y.prevHeight||A!==y.prevLayout||E!==y.prevStackOffset||!W0(T,y.prevMargin)){var I=EV(p),L={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},V=at(at({},AV(y,b,A)),{},{updateId:y.updateId+1}),H=at(at(at({},I),L),V);return at(at(at({},H),h(at({props:p},H),y)),{},{prevDataKey:x,prevData:b,prevWidth:_,prevHeight:j,prevLayout:A,prevStackOffset:E,prevMargin:T,prevChildren:w})}if(!sD(w,y.prevChildren)){var q,G,re,Z,de=nl(w,Zv),k=de&&(q=(G=de.props)===null||G===void 0?void 0:G.startIndex)!==null&&q!==void 0?q:R,F=de&&(re=(Z=de.props)===null||Z===void 0?void 0:Z.endIndex)!==null&&re!==void 0?re:D,B=k!==R||F!==D,z=!Ir(b),ee=z&&!B?y.updateId:y.updateId+1;return at(at({updateId:ee},h(at(at({props:p},y),{},{updateId:ee,dataStartIndex:k,dataEndIndex:F}),y)),{},{prevChildren:w,dataStartIndex:k,dataEndIndex:F})}return null}),vr(v,"renderActiveDot",function(p,y,x){var b;return N.isValidElement(p)?b=N.cloneElement(p,y):br(p)?b=p(y):b=W.createElement(w2,y),W.createElement(en,{className:"recharts-active-dot",key:x},b)});var g=N.forwardRef(function(y,x){return W.createElement(v,P0({},y,{ref:x}))});return g.displayName=v.displayName,g},fot=F5({chartName:"LineChart",GraphicalChild:Zp,axisComponents:[{axisType:"xAxis",AxisComp:Ro},{axisType:"yAxis",AxisComp:Lo}],formatAxisMap:n6}),Ep=F5({chartName:"BarChart",GraphicalChild:$s,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ro},{axisType:"yAxis",AxisComp:Lo}],formatAxisMap:n6}),Uie=F5({chartName:"PieChart",GraphicalChild:od,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:T5},{axisType:"radiusAxis",AxisComp:E5}],formatAxisMap:BZe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),hot=F5({chartName:"AreaChart",GraphicalChild:pm,axisComponents:[{axisType:"xAxis",AxisComp:Ro},{axisType:"yAxis",AxisComp:Lo}],formatAxisMap:n6});const TV=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658"],mot=({data:t,isLoading:e,detailedStats:r})=>{const[n,a]=N.useState("daily"),i=t&&t.length>0,s=r&&r.total>0;return e?o.jsxs(ot,{children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Anlise de Agendamentos"}),o.jsx(Nn,{children:"Visualizao detalhada dos agendamentos"})]}),o.jsx(lt,{className:"h-[400px] flex items-center justify-center",children:o.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Carregando..."})})]}):!i&&!s?o.jsxs(ot,{children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Anlise de Agendamentos"}),o.jsx(Nn,{children:"Visualizao detalhada dos agendamentos"})]}),o.jsx(lt,{className:"h-[400px] flex items-center justify-center",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(el,{className:"h-8 w-8 mx-auto mb-2 text-amber-500"}),o.jsx("p",{className:"text-lg font-medium mb-1",children:"Sem dados disponveis"}),o.jsxs("p",{className:"text-sm",children:["No foram encontrados dados reais de agendamentos no banco de dados.",o.jsx("br",{}),"Adicione agendamentos para visualizar estatsticas."]})]})})]}):o.jsxs(ot,{children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Anlise de Agendamentos"}),o.jsx(Nn,{children:"Visualizao detalhada dos agendamentos"})]}),o.jsxs(lt,{children:[o.jsxs(ys,{defaultValue:"daily",value:n,onValueChange:a,children:[o.jsxs(Di,{className:"grid grid-cols-4 mb-4",children:[o.jsxs(qt,{value:"daily",className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4"}),o.jsx("span",{children:"Dirio"})]}),o.jsxs(qt,{value:"monthly",className:"flex items-center gap-2",children:[o.jsx(bh,{className:"h-4 w-4"}),o.jsx("span",{children:"Mensal"})]}),o.jsxs(qt,{value:"weekday",className:"flex items-center gap-2",children:[o.jsx(fde,{className:"h-4 w-4"}),o.jsx("span",{children:"Dia da Semana"})]}),o.jsxs(qt,{value:"status",className:"flex items-center gap-2",children:[o.jsx(vde,{className:"h-4 w-4"}),o.jsx("span",{children:"Status"})]})]}),o.jsx(nr,{value:"daily",className:"h-[350px]",children:o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(Ep,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(Hu,{strokeDasharray:"3 3"}),o.jsx(Ro,{dataKey:"date"}),o.jsx(Lo,{}),o.jsx(bi,{formatter:l=>[`${l} agendamentos`,"Quantidade"],labelFormatter:l=>`Data: ${l}`}),o.jsx($s,{dataKey:"count",name:"Agendamentos",fill:"#8884d8",radius:[4,4,0,0]})]})})}),o.jsx(nr,{value:"monthly",className:"h-[350px]",children:s&&r.byMonth.length>0?o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(Ep,{data:r.byMonth,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(Hu,{strokeDasharray:"3 3"}),o.jsx(Ro,{dataKey:"name"}),o.jsx(Lo,{}),o.jsx(bi,{formatter:l=>[`${l} agendamentos`,"Quantidade"],labelFormatter:l=>`Ms: ${l}`}),o.jsx($s,{dataKey:"count",name:"Agendamentos",fill:"#00C49F",radius:[4,4,0,0]})]})}):o.jsx("div",{className:"h-full flex items-center justify-center",children:o.jsx("div",{className:"text-muted-foreground",children:"Nenhum dado mensal disponvel."})})}),o.jsx(nr,{value:"weekday",className:"h-[350px]",children:s&&r.byWeekday.length>0?o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(Ep,{data:r.byWeekday,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(Hu,{strokeDasharray:"3 3"}),o.jsx(Ro,{dataKey:"day"}),o.jsx(Lo,{}),o.jsx(bi,{formatter:l=>[`${l} agendamentos`,"Quantidade"],labelFormatter:l=>`Dia: ${l}`}),o.jsx($s,{dataKey:"count",name:"Agendamentos",fill:"#FFBB28",radius:[4,4,0,0]})]})}):o.jsx("div",{className:"h-full flex items-center justify-center",children:o.jsx("div",{className:"text-muted-foreground",children:"Nenhum dado por dia da semana disponvel."})})}),o.jsx(nr,{value:"status",className:"h-[350px]",children:s&&r.byStatus.length>0?o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(Uie,{children:[o.jsx(od,{data:r.byStatus,cx:"50%",cy:"50%",labelLine:!0,outerRadius:120,fill:"#8884d8",dataKey:"count",nameKey:"status",label:({name:l,percent:c})=>`${l}: ${(c*100).toFixed(0)}%`,children:r.byStatus.map((l,c)=>o.jsx(p2,{fill:TV[c%TV.length]},`cell-${c}`))}),o.jsx(bi,{formatter:l=>[`${l} agendamentos`,"Quantidade"]}),o.jsx(Xc,{})]})}):o.jsx("div",{className:"h-full flex items-center justify-center",children:o.jsx("div",{className:"text-muted-foreground",children:"Nenhum dado por status disponvel."})})})]}),s&&o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Total de Agendamentos"}),o.jsx("p",{className:"text-xl font-bold",children:r.total})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Mdia Diria"}),o.jsx("p",{className:"text-xl font-bold",children:r.dailyAverage})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Mximo por Dia"}),o.jsx("p",{className:"text-xl font-bold",children:r.maxPerDay})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Taxa de Concluso"}),o.jsxs("p",{className:"text-xl font-bold",children:[r.completionRate,"%"]})]})]})]})]})},pot=({data:t,isLoading:e})=>e?o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Desempenho dos Atendentes"})}),o.jsx(lt,{className:"h-[300px] flex items-center justify-center",children:o.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Carregando..."})})]}):o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Desempenho dos Atendentes"})}),o.jsx(lt,{className:"h-[300px]",children:o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(Ep,{data:t,layout:"vertical",margin:{top:5,right:30,left:80,bottom:5},children:[o.jsx(Hu,{strokeDasharray:"3 3"}),o.jsx(Ro,{type:"number"}),o.jsx(Lo,{type:"category",dataKey:"attendantName",tick:{fontSize:12}}),o.jsx(bi,{formatter:(r,n)=>n==="appointmentsCount"?[`${r} agendamentos`,"Total de Agendamentos"]:[`${typeof r=="number"?r.toFixed(1):r}%`,"Taxa de Concluso"]}),o.jsx(Xc,{}),o.jsx($s,{dataKey:"appointmentsCount",name:"Total de Agendamentos",fill:"#8884d8",radius:[0,4,4,0]}),o.jsx($s,{dataKey:"completionRate",name:"Taxa de Concluso (%)",fill:"#82ca9d",radius:[0,4,4,0]})]})})})]}),kV=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],got=({data:t,isLoading:e})=>e?o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Servios Mais Populares"})}),o.jsx(lt,{className:"h-[300px] flex items-center justify-center",children:o.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Carregando..."})})]}):o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Servios Mais Populares"})}),o.jsx(lt,{className:"h-[300px]",children:o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(Uie,{children:[o.jsx(od,{data:t,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"count",nameKey:"serviceName",label:({name:r,percent:n})=>`${r}: ${(n*100).toFixed(0)}%`,children:t.map((r,n)=>o.jsx(p2,{fill:kV[n%kV.length]},`cell-${n}`))}),o.jsx(bi,{formatter:r=>[`${r} agendamentos`,"Quantidade"]}),o.jsx(Xc,{})]})})})]}),vot=({data:t,isLoading:e})=>e?o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Horrios de Pico"})}),o.jsx(lt,{className:"h-[300px] flex items-center justify-center",children:o.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Carregando..."})})]}):o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Horrios de Pico"})}),o.jsx(lt,{className:"h-[300px]",children:o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(hot,{data:t,margin:{top:10,right:30,left:0,bottom:0},children:[o.jsx(Hu,{strokeDasharray:"3 3"}),o.jsx(Ro,{dataKey:"hour"}),o.jsx(Lo,{}),o.jsx(bi,{formatter:r=>[`${r} agendamentos`,"Quantidade"],labelFormatter:r=>`Horrio: ${r}`}),o.jsx(pm,{type:"monotone",dataKey:"count",name:"Agendamentos",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3})]})})})]}),yot=({data:t,isLoading:e})=>{const r=t&&t.length>0;return console.log("CancellationRateChart - dados recebidos:",t),e?o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Taxas de Cancelamento"})}),o.jsx(lt,{className:"h-[300px] flex items-center justify-center",children:o.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Carregando..."})})]}):r?o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Taxas de Cancelamento"})}),o.jsx(lt,{className:"h-[300px]",children:o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(fot,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(Hu,{strokeDasharray:"3 3"}),o.jsx(Ro,{dataKey:"period"}),o.jsx(Lo,{domain:[0,100],tickFormatter:n=>`${n}%`}),o.jsx(bi,{formatter:n=>[`${typeof n=="number"?n.toFixed(1):n}%`,"Taxa de Cancelamento"],labelFormatter:n=>`Perodo: ${n}`}),o.jsx(Zp,{type:"monotone",dataKey:"rate",name:"Taxa de Cancelamento",stroke:"#ff7300",activeDot:{r:8},strokeWidth:2})]})})})]}):o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Taxas de Cancelamento"})}),o.jsx(lt,{className:"h-[300px] flex items-center justify-center",children:o.jsx("div",{className:"text-muted-foreground",children:"Nenhum dado disponvel para o perodo selecionado."})})]})},xot=({data:t,isLoading:e})=>e?o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Receita por Perodo"})}),o.jsx(lt,{className:"h-[300px] flex items-center justify-center",children:o.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Carregando..."})})]}):o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Receita por Perodo"})}),o.jsx(lt,{className:"h-[300px]",children:o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(Ep,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(Hu,{strokeDasharray:"3 3"}),o.jsx(Ro,{dataKey:"date"}),o.jsx(Lo,{tickFormatter:r=>`R$ ${r}`}),o.jsx(bi,{formatter:r=>[`R$ ${typeof r=="number"?r.toFixed(2):r}`,"Receita"],labelFormatter:r=>`Data: ${r}`}),o.jsx($s,{dataKey:"amount",name:"Receita",fill:"#82ca9d",radius:[4,4,0,0]})]})})})]});async function bot(){try{const{count:t,error:e}=await ye.from("appointments").select("*",{count:"exact",head:!0}),{count:r,error:n}=await ye.from("attendants").select("*",{count:"exact",head:!0}),{count:a,error:i}=await ye.from("services").select("*",{count:"exact",head:!0}),{data:s,error:l}=await ye.from("appointments").select("status"),c={aguardando_atendimento:0,atendimento_iniciado:0,atendimento_finalizado:0,agendamento_cancelado:0,outros:0};s&&s.length>0&&s.forEach(v=>{Object.prototype.hasOwnProperty.call(c,v.status)?c[v.status]++:c.outros++});const u=wr(new Date,"yyyy-MM-dd"),{count:d,error:f}=await ye.from("appointments").select("*",{count:"exact",head:!0}).lt("appointment_date",u),{count:m,error:h}=await ye.from("appointments").select("*",{count:"exact",head:!0}).gte("appointment_date",u);return{success:!0,hasData:(t||0)>0,counts:{appointments:t||0,attendants:r||0,services:a||0,pastAppointments:d||0,futureAppointments:m||0},statusCounts:c,errors:{appointmentsError:e,attendantsError:n,servicesError:i,statusError:l,pastError:f,futureError:h}}}catch(t){return console.error("Erro ao verificar status do banco de dados:",t),{success:!1,hasData:!1,error:t}}}async function wot(){try{const{data:t,error:e}=await ye.from("appointments").select("*");if(e)return console.error("Erro ao buscar estatsticas de agendamentos:",e),{success:!1,error:e,stats:{total:0,dailyAverage:0,maxPerDay:0,peakDay:"N/A",statusDistribution:{},byMonth:[],byWeekday:[],byStatus:[],completionRate:0}};if(!t||t.length===0)return{success:!0,stats:{total:0,dailyAverage:0,maxPerDay:0,peakDay:"N/A",statusDistribution:{},byMonth:[],byWeekday:[],byStatus:[],completionRate:0}};const r=t.length,n={},a={},i={Domingo:0,Segunda:0,Tera:0,Quarta:0,Quinta:0,Sexta:0,Sbado:0},s={};let l=0,c=0;const u=new Set;t.forEach(x=>{const b=x.appointment_date;n[b]=(n[b]||0)+1,u.add(b);const w=Lu(b),_=wr(w,"yyyy-MM"),j=wr(w,"MMM/yyyy");a[_]||(a[_]={name:j,count:0}),a[_].count+=1;const A=w.getDay(),E=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"];i[E[A]]+=1;const T=x.status;s[T]=(s[T]||0)+1,T==="atendimento_finalizado"||T==="completed"?l+=1:(T==="agendamento_cancelado"||T==="canceled")&&(c+=1)});let d=0,f="N/A";Object.entries(n).forEach(([x,b])=>{b>d&&(d=b,f=x)}),f!=="N/A"&&(f=wr(Lu(f),"dd/MM/yyyy"));const m=u.size>0?r/u.size:0,h=r-c,v=h>0?l/h*100:0,g=Object.values(a).sort((x,b)=>{const w=x.name.split("/")[0],_=x.name.split("/")[1],j=b.name.split("/")[0],A=b.name.split("/")[1];if(_!==A)return parseInt(_)-parseInt(A);const E=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];return E.indexOf(w)-E.indexOf(j)}),p=Object.entries(s).map(([x,b])=>{let w=x;switch(x){case"aguardando_atendimento":w="Aguardando";break;case"atendimento_iniciado":w="Em Atendimento";break;case"atendimento_finalizado":w="Finalizado";break;case"agendamento_cancelado":w="Cancelado";break;case"scheduled":w="Agendado";break;case"completed":w="Concludo";break;case"canceled":w="Cancelado";break}return{status:w,count:b}}),y=Object.entries(i).map(([x,b])=>({day:x,count:b}));return{success:!0,stats:{total:r,dailyAverage:parseFloat(m.toFixed(1)),maxPerDay:d,peakDay:f,statusDistribution:s,byMonth:g,byWeekday:y,byStatus:p,completionRate:parseFloat(v.toFixed(1))}}}catch(t){return console.error("Erro inesperado ao obter estatsticas de agendamentos:",t),{success:!1,error:t,stats:{total:0,dailyAverage:0,maxPerDay:0,peakDay:"N/A",statusDistribution:{},byMonth:[],byWeekday:[],byStatus:[],completionRate:0}}}}var Ms=Uint8Array,ul=Uint16Array,h6=Int32Array,$5=new Ms([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),B5=new Ms([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OO=new Ms([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zie=function(t,e){for(var r=new ul(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new h6(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Vie=zie($5,2),Hie=Vie.b,IO=Vie.r;Hie[28]=258,IO[258]=28;var Wie=zie(B5,0),Sot=Wie.b,PV=Wie.r,MO=new ul(32768);for(var ma=0;ma<32768;++ma){var $f=(ma&43690)>>1|(ma&21845)<<1;$f=($f&52428)>>2|($f&13107)<<2,$f=($f&61680)>>4|($f&3855)<<4,MO[ma]=(($f&65280)>>8|($f&255)<<8)>>1}var Wu=function(t,e,r){for(var n=t.length,a=0,i=new ul(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new ul(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var l;if(r){l=new ul(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],d=e-t[a],f=s[t[a]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)l[MO[f]>>c]=u}else for(l=new ul(n),a=0;a<n;++a)t[a]&&(l[a]=MO[s[t[a]-1]++]>>15-t[a]);return l},Wh=new Ms(288);for(var ma=0;ma<144;++ma)Wh[ma]=8;for(var ma=144;ma<256;++ma)Wh[ma]=9;for(var ma=256;ma<280;++ma)Wh[ma]=7;for(var ma=280;ma<288;++ma)Wh[ma]=8;var aw=new Ms(32);for(var ma=0;ma<32;++ma)aw[ma]=5;var _ot=Wu(Wh,9,0),jot=Wu(Wh,9,1),Not=Wu(aw,5,0),Aot=Wu(aw,5,1),$4=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},wc=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},B4=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},m6=function(t){return(t+7)/8|0},qie=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ms(t.subarray(e,r))},Eot=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ec=function(t,e,r){var n=new Error(e||Eot[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ec),!r)throw n;return n},Cot=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new Ms(0);var s=!r,l=s||e.i!=2,c=e.i;s&&(r=new Ms(a*3));var u=function(we){var pe=r.length;if(we>pe){var Me=new Ms(Math.max(pe*2,we));Me.set(r),r=Me}},d=e.f||0,f=e.p||0,m=e.b||0,h=e.l,v=e.d,g=e.m,p=e.n,y=a*8;do{if(!h){d=wc(t,f,1);var x=wc(t,f+1,3);if(f+=3,x)if(x==1)h=jot,v=Aot,g=9,p=5;else if(x==2){var j=wc(t,f,31)+257,A=wc(t,f+10,15)+4,E=j+wc(t,f+5,31)+1;f+=14;for(var T=new Ms(E),R=new Ms(19),D=0;D<A;++D)R[OO[D]]=wc(t,f+D*3,7);f+=A*3;for(var P=$4(R),I=(1<<P)-1,L=Wu(R,P,1),D=0;D<E;){var V=L[wc(t,f,I)];f+=V&15;var b=V>>4;if(b<16)T[D++]=b;else{var H=0,q=0;for(b==16?(q=3+wc(t,f,3),f+=2,H=T[D-1]):b==17?(q=3+wc(t,f,7),f+=3):b==18&&(q=11+wc(t,f,127),f+=7);q--;)T[D++]=H}}var G=T.subarray(0,j),re=T.subarray(j);g=$4(G),p=$4(re),h=Wu(G,g,1),v=Wu(re,p,1)}else Ec(1);else{var b=m6(f)+4,w=t[b-4]|t[b-3]<<8,_=b+w;if(_>a){c&&Ec(0);break}l&&u(m+w),r.set(t.subarray(b,_),m),e.b=m+=w,e.p=f=_*8,e.f=d;continue}if(f>y){c&&Ec(0);break}}l&&u(m+131072);for(var Z=(1<<g)-1,de=(1<<p)-1,k=f;;k=f){var H=h[B4(t,f)&Z],F=H>>4;if(f+=H&15,f>y){c&&Ec(0);break}if(H||Ec(2),F<256)r[m++]=F;else if(F==256){k=f,h=null;break}else{var B=F-254;if(F>264){var D=F-257,z=$5[D];B=wc(t,f,(1<<z)-1)+Hie[D],f+=z}var ee=v[B4(t,f)&de],le=ee>>4;ee||Ec(3),f+=ee&15;var re=Sot[le];if(le>3){var z=B5[le];re+=B4(t,f)&(1<<z)-1,f+=z}if(f>y){c&&Ec(0);break}l&&u(m+131072);var ge=m+B;if(m<re){var se=i-re,ie=Math.min(re,ge);for(se+m<0&&Ec(3);m<ie;++m)r[m]=n[se+m]}for(;m<ge;++m)r[m]=r[m-re]}}e.l=h,e.p=k,e.b=m,e.f=d,h&&(d=1,e.m=g,e.d=v,e.n=p)}while(!d);return m!=r.length&&s?qie(r,0,m):r.subarray(0,m)},Td=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Yx=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},U4=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:Yie,l:0};if(a==1){var s=new Ms(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(_,j){return _.f-j.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,n=1;n<a;++n)i[n].s>m&&(m=i[n].s);var h=new ul(m+1),v=RO(r[d-1],h,0);if(v>e){var n=0,g=0,p=v-e,y=1<<p;for(i.sort(function(j,A){return h[A.s]-h[j.s]||j.f-A.f});n<a;++n){var x=i[n].s;if(h[x]>e)g+=y-(1<<v-h[x]),h[x]=e;else break}for(g>>=p;g>0;){var b=i[n].s;h[b]<e?g-=1<<e-h[b]++-1:++n}for(;n>=0&&g;--n){var w=i[n].s;h[w]==e&&(--h[w],++g)}v=e}return{t:new Ms(h),l:v}},RO=function(t,e,r){return t.s==-1?Math.max(RO(t.l,e,r+1),RO(t.r,e,r+1)):e[t.s]=r},DV=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ul(++e),n=0,a=t[0],i=1,s=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},Kx=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Gie=function(t,e,r){var n=r.length,a=m6(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},OV=function(t,e,r,n,a,i,s,l,c,u,d){Td(e,d++,r),++a[256];for(var f=U4(a,15),m=f.t,h=f.l,v=U4(i,15),g=v.t,p=v.l,y=DV(m),x=y.c,b=y.n,w=DV(g),_=w.c,j=w.n,A=new ul(19),E=0;E<x.length;++E)++A[x[E]&31];for(var E=0;E<_.length;++E)++A[_[E]&31];for(var T=U4(A,7),R=T.t,D=T.l,P=19;P>4&&!R[OO[P-1]];--P);var I=u+5<<3,L=Kx(a,Wh)+Kx(i,aw)+s,V=Kx(a,m)+Kx(i,g)+s+14+3*P+Kx(A,R)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&I<=L&&I<=V)return Gie(e,d,t.subarray(c,c+u));var H,q,G,re;if(Td(e,d,1+(V<L)),d+=2,V<L){H=Wu(m,h,0),q=m,G=Wu(g,p,0),re=g;var Z=Wu(R,D,0);Td(e,d,b-257),Td(e,d+5,j-1),Td(e,d+10,P-4),d+=14;for(var E=0;E<P;++E)Td(e,d+3*E,R[OO[E]]);d+=3*P;for(var de=[x,_],k=0;k<2;++k)for(var F=de[k],E=0;E<F.length;++E){var B=F[E]&31;Td(e,d,Z[B]),d+=R[B],B>15&&(Td(e,d,F[E]>>5&127),d+=F[E]>>12)}}else H=_ot,q=Wh,G=Not,re=aw;for(var E=0;E<l;++E){var z=n[E];if(z>255){var B=z>>18&31;Yx(e,d,H[B+257]),d+=q[B+257],B>7&&(Td(e,d,z>>23&31),d+=$5[B]);var ee=z&31;Yx(e,d,G[ee]),d+=re[ee],ee>3&&(Yx(e,d,z>>5&8191),d+=B5[ee])}else Yx(e,d,H[z]),d+=q[z]}return Yx(e,d,H[256]),d+q[256]},Tot=new h6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Yie=new Ms(0),kot=function(t,e,r,n,a,i){var s=i.z||t.length,l=new Ms(n+s+5*(1+Math.ceil(s/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,d=(i.r||0)&7;if(e){d&&(c[0]=i.r>>3);for(var f=Tot[e-1],m=f>>13,h=f&8191,v=(1<<r)-1,g=i.p||new ul(32768),p=i.h||new ul(v+1),y=Math.ceil(r/3),x=2*y,b=function(he){return(t[he]^t[he+1]<<y^t[he+2]<<x)&v},w=new h6(25e3),_=new ul(288),j=new ul(32),A=0,E=0,T=i.i||0,R=0,D=i.w||0,P=0;T+2<s;++T){var I=b(T),L=T&32767,V=p[I];if(g[L]=V,p[I]=L,D<=T){var H=s-T;if((A>7e3||R>24576)&&(H>423||!u)){d=OV(t,c,0,w,_,j,E,R,P,T-P,d),R=A=E=0,P=T;for(var q=0;q<286;++q)_[q]=0;for(var q=0;q<30;++q)j[q]=0}var G=2,re=0,Z=h,de=L-V&32767;if(H>2&&I==b(T-de))for(var k=Math.min(m,H)-1,F=Math.min(32767,T),B=Math.min(258,H);de<=F&&--Z&&L!=V;){if(t[T+G]==t[T+G-de]){for(var z=0;z<B&&t[T+z]==t[T+z-de];++z);if(z>G){if(G=z,re=de,z>k)break;for(var ee=Math.min(de,z-2),le=0,q=0;q<ee;++q){var ge=T-de+q&32767,se=g[ge],ie=ge-se&32767;ie>le&&(le=ie,V=ge)}}}L=V,V=g[L],de+=L-V&32767}if(re){w[R++]=268435456|IO[G]<<18|PV[re];var we=IO[G]&31,pe=PV[re]&31;E+=$5[we]+B5[pe],++_[257+we],++j[pe],D=T+G,++A}else w[R++]=t[T],++_[t[T]]}}for(T=Math.max(T,D);T<s;++T)w[R++]=t[T],++_[t[T]];d=OV(t,c,u,w,_,j,E,R,P,T-P,d),u||(i.r=d&7|c[d/8|0]<<3,d-=7,i.h=p,i.p=g,i.i=T,i.w=D)}else{for(var T=i.w||0;T<s+u;T+=65535){var Me=T+65535;Me>=s&&(c[d/8|0]=u,Me=s),d=Gie(c,d+1,t.subarray(T,Me))}i.i=s}return qie(l,0,n+m6(d)+a)},Kie=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var l=Math.min(s+2655,i);s<l;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Pot=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new Ms(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return kot(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},Xie=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Dot=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=Kie();a.p(e.dictionary),Xie(t,2,a.d())}},Oot=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ec(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ec(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function LO(t,e){e||(e={});var r=Kie();r.p(t);var n=Pot(t,e,e.dictionary?6:2,4);return Dot(n,e),Xie(n,n.length-4,r.d()),n}function Iot(t,e){return Cot(t.subarray(Oot(t),-4),{i:2},e,e)}var Mot=typeof TextDecoder<"u"&&new TextDecoder,Rot=0;try{Mot.decode(Yie,{stream:!0}),Rot=1}catch{}var _r=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function z4(){_r.console&&typeof _r.console.log=="function"&&_r.console.log.apply(_r.console,arguments)}var Zn={log:z4,warn:function(t){_r.console&&(typeof _r.console.warn=="function"?_r.console.warn.apply(_r.console,arguments):z4.call(null,arguments))},error:function(t){_r.console&&(typeof _r.console.error=="function"?_r.console.error.apply(_r.console,arguments):z4(t))}};function V4(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Gm(n.response,e,r)},n.onerror=function(){Zn.error("could not download file")},n.send()}function IV(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function x_(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var $1,FO,Gm=_r.saveAs||((typeof window>"u"?"undefined":vn(window))!=="object"||window!==_r?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=_r.URL||_r.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?IV(a.href)?V4(t,e,r):x_(a,a.target="_blank"):x_(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){x_(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(IV(t))V4(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){x_(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:vn(i)!=="object"&&(Zn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return V4(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(_r.HTMLElement)||_r.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":vn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(t)}else{var c=_r.URL||_r.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Zie(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function H4(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=Ss(r,n,a,i,e[0],7,-680876936),i=Ss(i,r,n,a,e[1],12,-389564586),a=Ss(a,i,r,n,e[2],17,606105819),n=Ss(n,a,i,r,e[3],22,-1044525330),r=Ss(r,n,a,i,e[4],7,-176418897),i=Ss(i,r,n,a,e[5],12,1200080426),a=Ss(a,i,r,n,e[6],17,-1473231341),n=Ss(n,a,i,r,e[7],22,-45705983),r=Ss(r,n,a,i,e[8],7,1770035416),i=Ss(i,r,n,a,e[9],12,-1958414417),a=Ss(a,i,r,n,e[10],17,-42063),n=Ss(n,a,i,r,e[11],22,-1990404162),r=Ss(r,n,a,i,e[12],7,1804603682),i=Ss(i,r,n,a,e[13],12,-40341101),a=Ss(a,i,r,n,e[14],17,-1502002290),r=_s(r,n=Ss(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=_s(i,r,n,a,e[6],9,-1069501632),a=_s(a,i,r,n,e[11],14,643717713),n=_s(n,a,i,r,e[0],20,-373897302),r=_s(r,n,a,i,e[5],5,-701558691),i=_s(i,r,n,a,e[10],9,38016083),a=_s(a,i,r,n,e[15],14,-660478335),n=_s(n,a,i,r,e[4],20,-405537848),r=_s(r,n,a,i,e[9],5,568446438),i=_s(i,r,n,a,e[14],9,-1019803690),a=_s(a,i,r,n,e[3],14,-187363961),n=_s(n,a,i,r,e[8],20,1163531501),r=_s(r,n,a,i,e[13],5,-1444681467),i=_s(i,r,n,a,e[2],9,-51403784),a=_s(a,i,r,n,e[7],14,1735328473),r=js(r,n=_s(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=js(i,r,n,a,e[8],11,-2022574463),a=js(a,i,r,n,e[11],16,1839030562),n=js(n,a,i,r,e[14],23,-35309556),r=js(r,n,a,i,e[1],4,-1530992060),i=js(i,r,n,a,e[4],11,1272893353),a=js(a,i,r,n,e[7],16,-155497632),n=js(n,a,i,r,e[10],23,-1094730640),r=js(r,n,a,i,e[13],4,681279174),i=js(i,r,n,a,e[0],11,-358537222),a=js(a,i,r,n,e[3],16,-722521979),n=js(n,a,i,r,e[6],23,76029189),r=js(r,n,a,i,e[9],4,-640364487),i=js(i,r,n,a,e[12],11,-421815835),a=js(a,i,r,n,e[15],16,530742520),r=Ns(r,n=js(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Ns(i,r,n,a,e[7],10,1126891415),a=Ns(a,i,r,n,e[14],15,-1416354905),n=Ns(n,a,i,r,e[5],21,-57434055),r=Ns(r,n,a,i,e[12],6,1700485571),i=Ns(i,r,n,a,e[3],10,-1894986606),a=Ns(a,i,r,n,e[10],15,-1051523),n=Ns(n,a,i,r,e[1],21,-2054922799),r=Ns(r,n,a,i,e[8],6,1873313359),i=Ns(i,r,n,a,e[15],10,-30611744),a=Ns(a,i,r,n,e[6],15,-1560198380),n=Ns(n,a,i,r,e[13],21,1309151649),r=Ns(r,n,a,i,e[4],6,-145523070),i=Ns(i,r,n,a,e[11],10,-1120210379),a=Ns(a,i,r,n,e[2],15,718787259),n=Ns(n,a,i,r,e[9],21,-343485551),t[0]=vh(r,t[0]),t[1]=vh(n,t[1]),t[2]=vh(a,t[2]),t[3]=vh(i,t[3])}function U5(t,e,r,n,a,i){return e=vh(vh(e,t),vh(n,i)),vh(e<<a|e>>>32-a,r)}function Ss(t,e,r,n,a,i,s){return U5(e&r|~e&n,t,e,a,i,s)}function _s(t,e,r,n,a,i,s){return U5(e&n|r&~n,t,e,a,i,s)}function js(t,e,r,n,a,i,s){return U5(e^r^n,t,e,a,i,s)}function Ns(t,e,r,n,a,i,s){return U5(r^(e|~n),t,e,a,i,s)}function Qie(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)H4(n,Lot(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(H4(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,H4(n,a),n}function Lot(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}$1=_r.atob.bind(_r),FO=_r.btoa.bind(_r);var MV="0123456789abcdef".split("");function Fot(t){for(var e="",r=0;r<4;r++)e+=MV[t>>8*r+4&15]+MV[t>>8*r&15];return e}function $ot(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function $O(t){return Qie(t).map($ot).join("")}var Bot=function(t){for(var e=0;e<t.length;e++)t[e]=Fot(t[e]);return t.join("")}(Qie("hello"))!="5d41402abc4b2a76b9719d911017c592";function vh(t,e){if(Bot){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function BO(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+s.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=t,n=l}else l=n;var f=e.length,m=0,h=0,v="";for(c=0;c<f;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,s=l[(l[m]+l[h])%256],v+=String.fromCharCode(e.charCodeAt(c)^s);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var RV={print:4,modify:8,copy:16,"annot-forms":32};function g0(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(RV.perm!==void 0)throw new Error("Invalid permission: "+l);a+=RV[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=$O(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=BO(this.encryptionKey,this.padding)}function v0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function LV(t){if(vn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(l){_r.console&&Zn.error("jsPDF PubSub Error",l.message,l)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function aA(t){if(!(this instanceof aA))return new aA(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Jie(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Zm(t,e,r,n,a){if(!(this instanceof Zm))return new Zm(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Jie.call(this,n,a)}function D0(t,e,r,n,a){if(!(this instanceof D0))return new D0(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Jie.call(this,n,a)}function xr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],l=1,c=16,u="S",d=null;vn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=LV;var v="1.3",g=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(O){v=O};var p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return p};var y=h.__private__.getPageFormat=function(O){return p[O]};a=a||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},b=x.COMPAT;function w(){this.saveGraphicsState(),X(new Qt(gt,0,0,-gt,0,Sf()*gt).toString()+" cm"),this.setFontSize(this.getFontSize()/gt),u="n",b=x.ADVANCED}function _(){this.restoreGraphicsState(),u="S",b=x.COMPAT}var j=h.__private__.combineFontStyleAndFontWeight=function(O,K){if(O=="bold"&&K=="normal"||O=="bold"&&K==400||O=="normal"&&K=="italic"||O=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(O=K==400||K==="normal"?O==="italic"?"italic":"normal":K!=700&&K!=="bold"||O!=="normal"?(K==700?"bold":K)+""+O:"bold"),O};h.advancedAPI=function(O){var K=b===x.COMPAT;return K&&w.call(this),typeof O!="function"||(O(this),K&&_.call(this)),this},h.compatAPI=function(O){var K=b===x.ADVANCED;return K&&_.call(this),typeof O!="function"||(O(this),K&&w.call(this)),this},h.isAdvancedAPI=function(){return b===x.ADVANCED};var A,E=function(O){if(b!==x.ADVANCED)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=h.roundToPrecision=h.__private__.roundToPrecision=function(O,K){var _e=e||K;if(isNaN(O)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(_e).replace(/0+$/,"")};A=h.hpf=h.__private__.hpf=typeof c=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return T(O,c)}:c==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return T(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return T(O,16)};var R=h.f2=h.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return T(O,2)},D=h.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return T(O,3)},P=h.scale=h.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return b===x.COMPAT?O*gt:b===x.ADVANCED?O:void 0},I=function(O){return b===x.COMPAT?Sf()-O:b===x.ADVANCED?O:void 0},L=function(O){return P(I(O))};h.__private__.setPrecision=h.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(e=parseInt(O,10))};var V,H="00000000000000000000000000000000",q=h.__private__.getFileId=function(){return H},G=h.__private__.setFileId=function(O){return H=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(bs=new g0(d.userPermissions,d.userPassword,d.ownerPassword,H)),H};h.setFileId=function(O){return G(O),this},h.getFileId=function(){return q()};var re=h.__private__.convertDateToPDFDate=function(O){var K=O.getTimezoneOffset(),_e=K<0?"+":"-",Ce=Math.floor(Math.abs(K/60)),$e=Math.abs(K%60),tt=[_e,B(Ce),"'",B($e),"'"].join("");return["D:",O.getFullYear(),B(O.getMonth()+1),B(O.getDate()),B(O.getHours()),B(O.getMinutes()),B(O.getSeconds()),tt].join("")},Z=h.__private__.convertPDFDateToDate=function(O){var K=parseInt(O.substr(2,4),10),_e=parseInt(O.substr(6,2),10)-1,Ce=parseInt(O.substr(8,2),10),$e=parseInt(O.substr(10,2),10),tt=parseInt(O.substr(12,2),10),bt=parseInt(O.substr(14,2),10);return new Date(K,_e,Ce,$e,tt,bt,0)},de=h.__private__.setCreationDate=function(O){var K;if(O===void 0&&(O=new Date),O instanceof Date)K=re(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=O}return V=K},k=h.__private__.getCreationDate=function(O){var K=V;return O==="jsDate"&&(K=Z(V)),K};h.setCreationDate=function(O){return de(O),this},h.getCreationDate=function(O){return k(O)};var F,B=h.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},z=h.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},ee=0,le=[],ge=[],se=0,ie=[],we=[],pe=!1,Me=ge,he=function(){ee=0,se=0,ge=[],le=[],ie=[],fe=Ta(),me=Ta()};h.__private__.setCustomOutputDestination=function(O){pe=!0,Me=O};var oe=function(O){pe||(Me=O)};h.__private__.resetCustomOutputDestination=function(){pe=!1,Me=ge};var X=h.__private__.out=function(O){return O=O.toString(),se+=O.length+1,Me.push(O),Me},Ae=h.__private__.write=function(O){return X(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},Be=h.__private__.getArrayBuffer=function(O){for(var K=O.length,_e=new ArrayBuffer(K),Ce=new Uint8Array(_e);K--;)Ce[K]=O.charCodeAt(K);return _e},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return qe};var st=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(O){return st=b===x.ADVANCED?O/gt:O,this};var Pe,ne=h.__private__.getFontSize=h.getFontSize=function(){return b===x.COMPAT?st:st*gt},ue=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(O){return ue=O,this},h.__private__.getR2L=h.getR2L=function(){return ue};var Ne,Re=h.__private__.setZoomMode=function(O){var K=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))Pe=O;else if(isNaN(O)){if(K.indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');Pe=O}else Pe=parseInt(O,10)};h.__private__.getZoomMode=function(){return Pe};var Fe,Xe=h.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');Ne=O};h.__private__.getPageMode=function(){return Ne};var it=h.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');Fe=O};h.__private__.getLayoutMode=function(){return Fe},h.__private__.setDisplayMode=h.setDisplayMode=function(O,K,_e){return Re(O),it(K),Xe(_e),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(O){if(Object.keys(vt).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[O]},h.__private__.getDocumentProperties=function(){return vt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(O){for(var K in vt)vt.hasOwnProperty(K)&&O[K]&&(vt[K]=O[K]);return this},h.__private__.setDocumentProperty=function(O,K){if(Object.keys(vt).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[O]=K};var Ct,gt,Zr,ir,On,zr={},Fr={},ca=[],Gr={},xs={},Cn={},Qi={},Ji=null,Qr=0,Ie=[],Ye=new LV(h),_t=t.hotfixes||[],Nt={},pr={},kr=[],Qt=function O(K,_e,Ce,$e,tt,bt){if(!(this instanceof O))return new O(K,_e,Ce,$e,tt,bt);isNaN(K)&&(K=1),isNaN(_e)&&(_e=0),isNaN(Ce)&&(Ce=0),isNaN($e)&&($e=1),isNaN(tt)&&(tt=0),isNaN(bt)&&(bt=0),this._matrix=[K,_e,Ce,$e,tt,bt]};Object.defineProperty(Qt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Qt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Qt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Qt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Qt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Qt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Qt.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Qt.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Qt.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Qt.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Qt.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Qt.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Qt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qt.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(O)},Qt.prototype.multiply=function(O){var K=O.sx*this.sx+O.shy*this.shx,_e=O.sx*this.shy+O.shy*this.sy,Ce=O.shx*this.sx+O.sy*this.shx,$e=O.shx*this.shy+O.sy*this.sy,tt=O.tx*this.sx+O.ty*this.shx+this.tx,bt=O.tx*this.shy+O.ty*this.sy+this.ty;return new Qt(K,_e,Ce,$e,tt,bt)},Qt.prototype.decompose=function(){var O=this.sx,K=this.shy,_e=this.shx,Ce=this.sy,$e=this.tx,tt=this.ty,bt=Math.sqrt(O*O+K*K),Ht=(O/=bt)*_e+(K/=bt)*Ce;_e-=O*Ht,Ce-=K*Ht;var cr=Math.sqrt(_e*_e+Ce*Ce);return Ht/=cr,O*(Ce/=cr)<K*(_e/=cr)&&(O=-O,K=-K,Ht=-Ht,bt=-bt),{scale:new Qt(bt,0,0,cr,0,0),translate:new Qt(1,0,0,1,$e,tt),rotate:new Qt(O,K,-K,O,0,0),skew:new Qt(1,0,Ht,1,0,0)}},Qt.prototype.toString=function(O){return this.join(" ")},Qt.prototype.inversed=function(){var O=this.sx,K=this.shy,_e=this.shx,Ce=this.sy,$e=this.tx,tt=this.ty,bt=1/(O*Ce-K*_e),Ht=Ce*bt,cr=-K*bt,$r=-_e*bt,Mr=O*bt;return new Qt(Ht,cr,$r,Mr,-Ht*$e-$r*tt,-cr*$e-Mr*tt)},Qt.prototype.applyToPoint=function(O){var K=O.x*this.sx+O.y*this.shx+this.tx,_e=O.x*this.shy+O.y*this.sy+this.ty;return new kg(K,_e)},Qt.prototype.applyToRectangle=function(O){var K=this.applyToPoint(O),_e=this.applyToPoint(new kg(O.x+O.w,O.y+O.h));return new sx(K.x,K.y,_e.x-K.x,_e.y-K.y)},Qt.prototype.clone=function(){var O=this.sx,K=this.shy,_e=this.shx,Ce=this.sy,$e=this.tx,tt=this.ty;return new Qt(O,K,_e,Ce,$e,tt)},h.Matrix=Qt;var Wa=h.matrixMult=function(O,K){return K.multiply(O)},ta=new Qt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=ta;var ua=function(O,K){if(!xs[O]){var _e=(K instanceof Zm?"Sh":"P")+(Object.keys(Gr).length+1).toString(10);K.id=_e,xs[O]=_e,Gr[_e]=K,Ye.publish("addPattern",K)}};h.ShadingPattern=Zm,h.TilingPattern=D0,h.addShadingPattern=function(O,K){return E("addShadingPattern()"),ua(O,K),this},h.beginTilingPattern=function(O){E("beginTilingPattern()"),q2(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},h.endTilingPattern=function(O,K){E("endTilingPattern()"),K.stream=we[F].join(`
`),ua(O,K),Ye.publish("endTilingPattern",K),kr.pop().restore()};var qa=h.__private__.newObject=function(){var O=Ta();return J(O,!0),O},Ta=h.__private__.newObjectDeferred=function(){return ee++,le[ee]=function(){return se},ee},J=function(O,K){return K=typeof K=="boolean"&&K,le[O]=se,K&&X(O+" 0 obj"),O},be=h.__private__.newAdditionalObject=function(){var O={objId:Ta(),content:""};return ie.push(O),O},fe=Ta(),me=Ta(),xe=h.__private__.decodeColorString=function(O){var K=O.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length===5&&(K[4]==="k"||K[4]==="K")&&(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var _e=parseFloat(K[0]);K=[_e,_e,_e,"r"]}for(var Ce="#",$e=0;$e<3;$e++)Ce+=("0"+Math.floor(255*parseFloat(K[$e])).toString(16)).slice(-2);return Ce},Se=h.__private__.encodeColorString=function(O){var K;typeof O=="string"&&(O={ch1:O});var _e=O.ch1,Ce=O.ch2,$e=O.ch3,tt=O.ch4,bt=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Ht=new Zie(_e);if(Ht.ok)_e=Ht.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var cr=parseInt(_e.substr(1),16);_e=cr>>16&255,Ce=cr>>8&255,$e=255&cr}if(Ce===void 0||tt===void 0&&_e===Ce&&Ce===$e)if(typeof _e=="string")K=_e+" "+bt[0];else switch(O.precision){case 2:K=R(_e/255)+" "+bt[0];break;case 3:default:K=D(_e/255)+" "+bt[0]}else if(tt===void 0||vn(tt)==="object"){if(tt&&!isNaN(tt.a)&&tt.a===0)return K=["1.","1.","1.",bt[1]].join(" ");if(typeof _e=="string")K=[_e,Ce,$e,bt[1]].join(" ");else switch(O.precision){case 2:K=[R(_e/255),R(Ce/255),R($e/255),bt[1]].join(" ");break;default:case 3:K=[D(_e/255),D(Ce/255),D($e/255),bt[1]].join(" ")}}else if(typeof _e=="string")K=[_e,Ce,$e,tt,bt[2]].join(" ");else switch(O.precision){case 2:K=[R(_e),R(Ce),R($e),R(tt),bt[2]].join(" ");break;case 3:default:K=[D(_e),D(Ce),D($e),D(tt),bt[2]].join(" ")}return K},ze=h.__private__.getFilters=function(){return s},Je=h.__private__.putStream=function(O){var K=(O=O||{}).data||"",_e=O.filters||ze(),Ce=O.alreadyAppliedFilters||[],$e=O.addLength1||!1,tt=K.length,bt=O.objectId,Ht=function(ws){return ws};if(d!==null&&bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ht=bs.encryptor(bt,0));var cr={};_e===!0&&(_e=["FlateEncode"]);var $r=O.additionalKeyValues||[],Mr=(cr=xr.API.processDataByFilters!==void 0?xr.API.processDataByFilters(K,_e):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(cr.data.length!==0&&($r.push({key:"Length",value:cr.data.length}),$e===!0&&$r.push({key:"Length1",value:tt})),Mr.length!=0)if(Mr.split("/").length-1==1)$r.push({key:"Filter",value:Mr});else{$r.push({key:"Filter",value:"["+Mr+"]"});for(var ln=0;ln<$r.length;ln+=1)if($r[ln].key==="DecodeParms"){for(var wa=[],ka=0;ka<cr.reverseChain.split("/").length-1;ka+=1)wa.push("null");wa.push($r[ln].value),$r[ln].value="["+wa.join(" ")+"]"}}X("<<");for(var hi=0;hi<$r.length;hi++)X("/"+$r[hi].key+" "+$r[hi].value);X(">>"),cr.data.length!==0&&(X("stream"),X(Ht(cr.data)),X("endstream"))},Ue=h.__private__.putPage=function(O){var K=O.number,_e=O.data,Ce=O.objId,$e=O.contentsObjId;J(Ce,!0),X("<</Type /Page"),X("/Parent "+O.rootDictionaryObjId+" 0 R"),X("/Resources "+O.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(A(O.mediaBox.bottomLeftX))+" "+parseFloat(A(O.mediaBox.bottomLeftY))+" "+A(O.mediaBox.topRightX)+" "+A(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&X("/CropBox ["+A(O.cropBox.bottomLeftX)+" "+A(O.cropBox.bottomLeftY)+" "+A(O.cropBox.topRightX)+" "+A(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&X("/BleedBox ["+A(O.bleedBox.bottomLeftX)+" "+A(O.bleedBox.bottomLeftY)+" "+A(O.bleedBox.topRightX)+" "+A(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&X("/TrimBox ["+A(O.trimBox.bottomLeftX)+" "+A(O.trimBox.bottomLeftY)+" "+A(O.trimBox.topRightX)+" "+A(O.trimBox.topRightY)+"]"),O.artBox!==null&&X("/ArtBox ["+A(O.artBox.bottomLeftX)+" "+A(O.artBox.bottomLeftY)+" "+A(O.artBox.topRightX)+" "+A(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&X("/UserUnit "+O.userUnit),Ye.publish("putPage",{objId:Ce,pageContext:Ie[K],pageNumber:K,page:_e}),X("/Contents "+$e+" 0 R"),X(">>"),X("endobj");var tt=_e.join(`
`);return b===x.ADVANCED&&(tt+=`
Q`),J($e,!0),Je({data:tt,filters:ze(),objectId:$e}),X("endobj"),Ce},We=h.__private__.putPages=function(){var O,K,_e=[];for(O=1;O<=Qr;O++)Ie[O].objId=Ta(),Ie[O].contentsObjId=Ta();for(O=1;O<=Qr;O++)_e.push(Ue({number:O,data:we[O],objId:Ie[O].objId,contentsObjId:Ie[O].contentsObjId,mediaBox:Ie[O].mediaBox,cropBox:Ie[O].cropBox,bleedBox:Ie[O].bleedBox,trimBox:Ie[O].trimBox,artBox:Ie[O].artBox,userUnit:Ie[O].userUnit,rootDictionaryObjId:fe,resourceDictionaryObjId:me}));J(fe,!0),X("<</Type /Pages");var Ce="/Kids [";for(K=0;K<Qr;K++)Ce+=_e[K]+" 0 R ";X(Ce+"]"),X("/Count "+Qr),X(">>"),X("endobj"),Ye.publish("postPutPages")},Ge=function(O){Ye.publish("putFont",{font:O,out:X,newObject:qa,putStream:Je}),O.isAlreadyPutted!==!0&&(O.objectNumber=qa(),X("<<"),X("/Type /Font"),X("/BaseFont /"+v0(O.postScriptName)),X("/Subtype /Type1"),typeof O.encoding=="string"&&X("/Encoding /"+O.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},St=function(){for(var O in zr)zr.hasOwnProperty(O)&&(f===!1||f===!0&&m.hasOwnProperty(O))&&Ge(zr[O])},Tt=function(O){O.objectNumber=qa();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[A(O.x),A(O.y),A(O.x+O.width),A(O.y+O.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var _e=O.pages[1].join(`
`);Je({data:_e,additionalKeyValues:K,objectId:O.objectNumber}),X("endobj")},zt=function(){for(var O in Nt)Nt.hasOwnProperty(O)&&Tt(Nt[O])},At=function(O,K){var _e,Ce=[],$e=1/(K-1);for(_e=0;_e<1;_e+=$e)Ce.push(_e);if(Ce.push(1),O[0].offset!=0){var tt={offset:0,color:O[0].color};O.unshift(tt)}if(O[O.length-1].offset!=1){var bt={offset:1,color:O[O.length-1].color};O.push(bt)}for(var Ht="",cr=0,$r=0;$r<Ce.length;$r++){for(_e=Ce[$r];_e>O[cr+1].offset;)cr++;var Mr=O[cr].offset,ln=(_e-Mr)/(O[cr+1].offset-Mr),wa=O[cr].color,ka=O[cr+1].color;Ht+=z(Math.round((1-ln)*wa[0]+ln*ka[0]).toString(16))+z(Math.round((1-ln)*wa[1]+ln*ka[1]).toString(16))+z(Math.round((1-ln)*wa[2]+ln*ka[2]).toString(16))}return Ht.trim()},$t=function(O,K){K||(K=21);var _e=qa(),Ce=At(O.colors,K),$e=[];$e.push({key:"FunctionType",value:"0"}),$e.push({key:"Domain",value:"[0.0 1.0]"}),$e.push({key:"Size",value:"["+K+"]"}),$e.push({key:"BitsPerSample",value:"8"}),$e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Je({data:Ce,additionalKeyValues:$e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),X("endobj"),O.objectNumber=qa(),X("<< /ShadingType "+O.type),X("/ColorSpace /DeviceRGB");var tt="/Coords ["+A(parseFloat(O.coords[0]))+" "+A(parseFloat(O.coords[1]))+" ";O.type===2?tt+=A(parseFloat(O.coords[2]))+" "+A(parseFloat(O.coords[3])):tt+=A(parseFloat(O.coords[2]))+" "+A(parseFloat(O.coords[3]))+" "+A(parseFloat(O.coords[4]))+" "+A(parseFloat(O.coords[5])),X(tt+="]"),O.matrix&&X("/Matrix ["+O.matrix.toString()+"]"),X("/Function "+_e+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Tr=function(O,K){var _e=Ta(),Ce=qa();K.push({resourcesOid:_e,objectOid:Ce}),O.objectNumber=Ce;var $e=[];$e.push({key:"Type",value:"/Pattern"}),$e.push({key:"PatternType",value:"1"}),$e.push({key:"PaintType",value:"1"}),$e.push({key:"TilingType",value:"1"}),$e.push({key:"BBox",value:"["+O.boundingBox.map(A).join(" ")+"]"}),$e.push({key:"XStep",value:A(O.xStep)}),$e.push({key:"YStep",value:A(O.yStep)}),$e.push({key:"Resources",value:_e+" 0 R"}),O.matrix&&$e.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),Je({data:O.stream,additionalKeyValues:$e,objectId:O.objectNumber}),X("endobj")},Tn=function(O){var K;for(K in Gr)Gr.hasOwnProperty(K)&&(Gr[K]instanceof Zm?$t(Gr[K]):Gr[K]instanceof D0&&Tr(Gr[K],O))},Vn=function(O){for(var K in O.objectNumber=qa(),X("<<"),O)switch(K){case"opacity":X("/ca "+R(O[K]));break;case"stroke-opacity":X("/CA "+R(O[K]))}X(">>"),X("endobj")},fi=function(){var O;for(O in Cn)Cn.hasOwnProperty(O)&&Vn(Cn[O])},cc=function(){for(var O in X("/XObject <<"),Nt)Nt.hasOwnProperty(O)&&Nt[O].objectNumber>=0&&X("/"+O+" "+Nt[O].objectNumber+" 0 R");Ye.publish("putXobjectDict"),X(">>")},gd=function(){bs.oid=qa(),X("<<"),X("/Filter /Standard"),X("/V "+bs.v),X("/R "+bs.r),X("/U <"+bs.toHexString(bs.U)+">"),X("/O <"+bs.toHexString(bs.O)+">"),X("/P "+bs.P),X(">>"),X("endobj")},hu=function(){for(var O in X("/Font <<"),zr)zr.hasOwnProperty(O)&&(f===!1||f===!0&&m.hasOwnProperty(O))&&X("/"+O+" "+zr[O].objectNumber+" 0 R");X(">>")},uc=function(){if(Object.keys(Gr).length>0){for(var O in X("/Shading <<"),Gr)Gr.hasOwnProperty(O)&&Gr[O]instanceof Zm&&Gr[O].objectNumber>=0&&X("/"+O+" "+Gr[O].objectNumber+" 0 R");Ye.publish("putShadingPatternDict"),X(">>")}},mu=function(O){if(Object.keys(Gr).length>0){for(var K in X("/Pattern <<"),Gr)Gr.hasOwnProperty(K)&&Gr[K]instanceof h.TilingPattern&&Gr[K].objectNumber>=0&&Gr[K].objectNumber<O&&X("/"+K+" "+Gr[K].objectNumber+" 0 R");Ye.publish("putTilingPatternDict"),X(">>")}},qo=function(){if(Object.keys(Cn).length>0){var O;for(O in X("/ExtGState <<"),Cn)Cn.hasOwnProperty(O)&&Cn[O].objectNumber>=0&&X("/"+O+" "+Cn[O].objectNumber+" 0 R");Ye.publish("putGStateDict"),X(">>")}},Ga=function(O){J(O.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),hu(),uc(),mu(O.objectOid),qo(),cc(),X(">>"),X("endobj")},P2=function(){var O=[];St(),fi(),zt(),Tn(O),Ye.publish("putResources"),O.forEach(Ga),Ga({resourcesOid:me,objectOid:Number.MAX_SAFE_INTEGER}),Ye.publish("postPutResources")},D2=function(){Ye.publish("putAdditionalObjects");for(var O=0;O<ie.length;O++){var K=ie[O];J(K.objId,!0),X(K.content),X("endobj")}Ye.publish("postPutAdditionalObjects")},O2=function(O){Fr[O.fontName]=Fr[O.fontName]||{},Fr[O.fontName][O.fontStyle]=O.id},Zy=function(O,K,_e,Ce,$e){var tt={id:"F"+(Object.keys(zr).length+1).toString(10),postScriptName:O,fontName:K,fontStyle:_e,encoding:Ce,isStandardFont:$e||!1,metadata:{}};return Ye.publish("addFont",{font:tt,instance:this}),zr[tt.id]=tt,O2(tt),tt.id},aC=function(O){for(var K=0,_e=qe.length;K<_e;K++){var Ce=Zy.call(this,O[K][0],O[K][1],O[K][2],qe[K][3],!0);f===!1&&(m[Ce]=!0);var $e=O[K][0].split("-");O2({id:Ce,fontName:$e[0],fontStyle:$e[1]||""})}Ye.publish("addFonts",{fonts:zr,dictionary:Fr})},dc=function(O){return O.foo=function(){try{return O.apply(this,arguments)}catch(Ce){var K=Ce.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var _e="Error in function "+K.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!_r.console)throw new Error(_e);_r.console.error(_e,Ce),_r.alert&&alert(_e)}},O.foo.bar=O,O.foo},jg=function(O,K){var _e,Ce,$e,tt,bt,Ht,cr,$r,Mr;if($e=(K=K||{}).sourceEncoding||"Unicode",bt=K.outputEncoding,(K.autoencode||bt)&&zr[Ct].metadata&&zr[Ct].metadata[$e]&&zr[Ct].metadata[$e].encoding&&(tt=zr[Ct].metadata[$e].encoding,!bt&&zr[Ct].encoding&&(bt=zr[Ct].encoding),!bt&&tt.codePages&&(bt=tt.codePages[0]),typeof bt=="string"&&(bt=tt[bt]),bt)){for(cr=!1,Ht=[],_e=0,Ce=O.length;_e<Ce;_e++)($r=bt[O.charCodeAt(_e)])?Ht.push(String.fromCharCode($r)):Ht.push(O[_e]),Ht[_e].charCodeAt(0)>>8&&(cr=!0);O=Ht.join("")}for(_e=O.length;cr===void 0&&_e!==0;)O.charCodeAt(_e-1)>>8&&(cr=!0),_e--;if(!cr)return O;for(Ht=K.noBOM?[]:[254,255],_e=0,Ce=O.length;_e<Ce;_e++){if((Mr=($r=O.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+O+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ht.push(Mr),Ht.push($r-(Mr<<8))}return String.fromCharCode.apply(void 0,Ht)},yo=h.__private__.pdfEscape=h.pdfEscape=function(O,K){return jg(O,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qy=h.__private__.beginPage=function(O){we[++Qr]=[],Ie[Qr]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},M2(Qr),oe(we[F])},I2=function(O,K){var _e,Ce,$e;switch(r=K||r,typeof O=="string"&&(_e=y(O.toLowerCase()),Array.isArray(_e)&&(Ce=_e[0],$e=_e[1])),Array.isArray(O)&&(Ce=O[0]*gt,$e=O[1]*gt),isNaN(Ce)&&(Ce=a[0],$e=a[1]),(Ce>14400||$e>14400)&&(Zn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),$e=Math.min(14400,$e)),a=[Ce,$e],r.substr(0,1)){case"l":$e>Ce&&(a=[$e,Ce]);break;case"p":Ce>$e&&(a=[$e,Ce])}Qy(a),U2(rx),X(fc),ax!==0&&X(ax+" J"),ix!==0&&X(ix+" j"),Ye.publish("addPage",{pageNumber:Qr})},iC=function(O){O>0&&O<=Qr&&(we.splice(O,1),Ie.splice(O,1),Qr--,F>Qr&&(F=Qr),this.setPage(F))},M2=function(O){O>0&&O<=Qr&&(F=O)},sC=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return we.length-1},R2=function(O,K,_e){var Ce,$e=void 0;return _e=_e||{},O=O!==void 0?O:zr[Ct].fontName,K=K!==void 0?K:zr[Ct].fontStyle,Ce=O.toLowerCase(),Fr[Ce]!==void 0&&Fr[Ce][K]!==void 0?$e=Fr[Ce][K]:Fr[O]!==void 0&&Fr[O][K]!==void 0?$e=Fr[O][K]:_e.disableWarning===!1&&Zn.warn("Unable to look up font label for font '"+O+"', '"+K+"'. Refer to getFontList() for available fonts."),$e||_e.noFallback||($e=Fr.times[K])==null&&($e=Fr.times.normal),$e},oC=h.__private__.putInfo=function(){var O=qa(),K=function(Ce){return Ce};for(var _e in d!==null&&(K=bs.encryptor(O,0)),X("<<"),X("/Producer ("+yo(K("jsPDF "+xr.version))+")"),vt)vt.hasOwnProperty(_e)&&vt[_e]&&X("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+yo(K(vt[_e]))+")");X("/CreationDate ("+yo(K(V))+")"),X(">>"),X("endobj")},Jy=h.__private__.putCatalog=function(O){var K=(O=O||{}).rootDictionaryObjId||fe;switch(qa(),X("<<"),X("/Type /Catalog"),X("/Pages "+K+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+Pe;_e.substr(_e.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&X("/OpenAction [3 0 R /XYZ null null "+R(Pe)+"]")}switch(Fe||(Fe="continuous"),Fe){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Ne&&X("/PageMode /"+Ne),Ye.publish("putCatalog"),X(">>"),X("endobj")},lC=h.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(ee+1)),X("/Root "+ee+" 0 R"),X("/Info "+(ee-1)+" 0 R"),d!==null&&X("/Encrypt "+bs.oid+" 0 R"),X("/ID [ <"+H+"> <"+H+"> ]"),X(">>")},cC=h.__private__.putHeader=function(){X("%PDF-"+v),X("%")},uC=h.__private__.putXRef=function(){var O="0000000000";X("xref"),X("0 "+(ee+1)),X("0000000000 65535 f ");for(var K=1;K<=ee;K++)typeof le[K]=="function"?X((O+le[K]()).slice(-10)+" 00000 n "):le[K]!==void 0?X((O+le[K]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},vd=h.__private__.buildDocument=function(){he(),oe(ge),Ye.publish("buildDocument"),cC(),We(),D2(),P2(),d!==null&&gd(),oC(),Jy();var O=se;return uC(),lC(),X("startxref"),X(""+O),X("%%EOF"),oe(we[F]),ge.join(`
`)},Ng=h.__private__.getBlob=function(O){return new Blob([Be(O)],{type:"application/pdf"})},Ag=h.output=h.__private__.output=dc(function(O,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",O){case void 0:return vd();case"save":h.save(K.filename);break;case"arraybuffer":return Be(vd());case"blob":return Ng(vd());case"bloburi":case"bloburl":if(_r.URL!==void 0&&typeof _r.URL.createObjectURL=="function")return _r.URL&&_r.URL.createObjectURL(Ng(vd()))||void 0;Zn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ce=vd();try{_e=FO(Ce)}catch{_e=FO(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+K.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_r)==="[object Window]"){var $e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",tt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&($e=K.pdfObjectUrl,tt="");var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$e+'"'+tt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Ht=_r.open();return Ht!==null&&Ht.document.write(bt),Ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_r)==="[object Window]"){var cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',$r=_r.open();if($r!==null){$r.document.write(cr);var Mr=this;$r.document.documentElement.querySelector("#pdfViewer").onload=function(){$r.document.title=K.filename,$r.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mr.output("bloburl"))}}return $r}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_r)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',wa=_r.open();if(wa!==null&&(wa.document.write(ln),wa.document.title=K.filename),wa||typeof safari>"u")return wa;break;case"datauri":case"dataurl":return _r.document.location.href=this.output("datauristring",K);default:return null}}),L2=function(O){return Array.isArray(_t)===!0&&_t.indexOf(O)>-1};switch(n){case"pt":gt=1;break;case"mm":gt=72/25.4;break;case"cm":gt=72/2.54;break;case"in":gt=72;break;case"px":gt=L2("px_scaling")==1?.75:96/72;break;case"pc":case"em":gt=12;break;case"ex":gt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);gt=n}var bs=null;de(),G();var dC=function(O){return d!==null?bs.encryptor(O,0):function(K){return K}},F2=h.__private__.getPageInfo=h.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ie[O].objId,pageNumber:O,pageContext:Ie[O]}},Or=h.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in Ie)if(Ie[K].objId===O)break;return F2(K)},fC=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ie[F].objId,pageNumber:F,pageContext:Ie[F]}};h.addPage=function(){return I2.apply(this,arguments),this},h.setPage=function(){return M2.apply(this,arguments),oe.call(this,we[F]),this},h.insertPage=function(O){return this.addPage(),this.movePage(F,O),this},h.movePage=function(O,K){var _e,Ce;if(O>K){_e=we[O],Ce=Ie[O];for(var $e=O;$e>K;$e--)we[$e]=we[$e-1],Ie[$e]=Ie[$e-1];we[K]=_e,Ie[K]=Ce,this.setPage(K)}else if(O<K){_e=we[O],Ce=Ie[O];for(var tt=O;tt<K;tt++)we[tt]=we[tt+1],Ie[tt]=Ie[tt+1];we[K]=_e,Ie[K]=Ce,this.setPage(K)}return this},h.deletePage=function(){return iC.apply(this,arguments),this},h.__private__.text=h.text=function(O,K,_e,Ce,$e){var tt,bt,Ht,cr,$r,Mr,ln,wa,ka,hi=(Ce=Ce||{}).scope||this;if(typeof O=="number"&&typeof K=="number"&&(typeof _e=="string"||Array.isArray(_e))){var ws=_e;_e=K,K=O,O=ws}if(arguments[3]instanceof Qt?(E("The transform parameter of text() with a Matrix value"),ka=$e):(Ht=arguments[4],cr=arguments[5],vn(ln=arguments[3])==="object"&&ln!==null||(typeof Ht=="string"&&(cr=Ht,Ht=null),typeof ln=="string"&&(cr=ln,ln=null),typeof ln=="number"&&(Ht=ln,ln=null),Ce={flags:ln,angle:Ht,align:cr})),isNaN(K)||isNaN(_e)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return hi;var Ii="",hc=!1,Go=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:bm,vu=hi.internal.scaleFactor;function G2(ra){return ra=ra.split("	").join(Array(Ce.TabLen||9).join(" ")),yo(ra,ln)}function ux(ra){for(var na,Ka=ra.concat(),Ni=[],Sd=Ka.length;Sd--;)typeof(na=Ka.shift())=="string"?Ni.push(na):Array.isArray(ra)&&(na.length===1||na[1]===void 0&&na[2]===void 0)?Ni.push(na[0]):Ni.push([na[0],na[1],na[2]]);return Ni}function dx(ra,na){var Ka;if(typeof ra=="string")Ka=na(ra)[0];else if(Array.isArray(ra)){for(var Ni,Sd,xx=ra.concat(),Ug=[],Q2=xx.length;Q2--;)typeof(Ni=xx.shift())=="string"?Ug.push(na(Ni)[0]):Array.isArray(Ni)&&typeof Ni[0]=="string"&&(Sd=na(Ni[0],Ni[1],Ni[2]),Ug.push([Sd[0],Sd[1],Sd[2]]));Ka=Ug}return Ka}var Dg=!1,fx=!0;if(typeof O=="string")Dg=!0;else if(Array.isArray(O)){var hx=O.concat();bt=[];for(var Og,es=hx.length;es--;)(typeof(Og=hx.shift())!="string"||Array.isArray(Og)&&typeof Og[0]!="string")&&(fx=!1);Dg=fx}if(Dg===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Ig=st/hi.internal.scaleFactor,Mg=Ig*(Go-1);switch(Ce.baseline){case"bottom":_e-=Mg;break;case"top":_e+=Ig-Mg;break;case"hanging":_e+=Ig-2*Mg;break;case"middle":_e+=Ig/2-Mg}if((Mr=Ce.maxWidth||0)>0&&(typeof O=="string"?O=hi.splitTextToSize(O,Mr):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(ra,na){return ra.concat(hi.splitTextToSize(na,Mr))},[]))),tt={text:O,x:K,y:_e,options:Ce,mutex:{pdfEscape:yo,activeFontKey:Ct,fonts:zr,activeFontSize:st}},Ye.publish("preProcessText",tt),O=tt.text,Ht=(Ce=tt.options).angle,!(ka instanceof Qt)&&Ht&&typeof Ht=="number"){Ht*=Math.PI/180,Ce.rotationDirection===0&&(Ht=-Ht),b===x.ADVANCED&&(Ht=-Ht);var Rg=Math.cos(Ht),mx=Math.sin(Ht);ka=new Qt(Rg,mx,-mx,Rg,0,0)}else Ht&&Ht instanceof Qt&&(ka=Ht);b!==x.ADVANCED||ka||(ka=ta),($r=Ce.charSpace||Tg)!==void 0&&(Ii+=A(P($r))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wa=Ce.horizontalScale)!==void 0&&(Ii+=A(100*wa)+` Tz
`),Ce.lang;var xo=-1,SC=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,px=hi.internal.getCurrentPageInfo().pageContext;switch(SC){case 0:case!1:case"fill":xo=0;break;case 1:case!0:case"stroke":xo=1;break;case 2:case"fillThenStroke":xo=2;break;case 3:case"invisible":xo=3;break;case 4:case"fillAndAddForClipping":xo=4;break;case 5:case"strokeAndAddPathForClipping":xo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xo=6;break;case 7:case"addToPathForClipping":xo=7}var Y2=px.usedRenderingMode!==void 0?px.usedRenderingMode:-1;xo!==-1?Ii+=xo+` Tr
`:Y2!==-1&&(Ii+=`0 Tr
`),xo!==-1&&(px.usedRenderingMode=xo),cr=Ce.align||"left";var Nl,Lg=st*Go,K2=hi.internal.pageSize.getWidth(),X2=zr[Ct];$r=Ce.charSpace||Tg,Mr=Ce.maxWidth||0,ln=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var _f=[],_m=function(ra){return hi.getStringUnitWidth(ra,{font:X2,charSpace:$r,fontSize:st,doKerning:!1})*st/vu};if(Object.prototype.toString.call(O)==="[object Array]"){var bo;bt=ux(O),cr!=="left"&&(Nl=bt.map(_m));var qs,jf=0;if(cr==="right"){K-=Nl[0],O=[],es=bt.length;for(var xd=0;xd<es;xd++)xd===0?(qs=gu(K),bo=yd(_e)):(qs=P(jf-Nl[xd]),bo=-Lg),O.push([bt[xd],qs,bo]),jf=Nl[xd]}else if(cr==="center"){K-=Nl[0]/2,O=[],es=bt.length;for(var bd=0;bd<es;bd++)bd===0?(qs=gu(K),bo=yd(_e)):(qs=P((jf-Nl[bd])/2),bo=-Lg),O.push([bt[bd],qs,bo]),jf=Nl[bd]}else if(cr==="left"){O=[],es=bt.length;for(var Fg=0;Fg<es;Fg++)O.push(bt[Fg])}else if(cr==="justify"&&X2.encoding==="Identity-H"){O=[],es=bt.length,Mr=Mr!==0?Mr:K2;for(var wd=0,Ya=0;Ya<es;Ya++)if(bo=Ya===0?yd(_e):-Lg,qs=Ya===0?gu(K):wd,Ya<es-1){var gx=P((Mr-Nl[Ya])/(bt[Ya].split(" ").length-1)),Gs=bt[Ya].split(" ");O.push([Gs[0]+" ",qs,bo]),wd=0;for(var Al=1;Al<Gs.length;Al++){var $g=(_m(Gs[Al-1]+" "+Gs[Al])-_m(Gs[Al]))*vu+gx;Al==Gs.length-1?O.push([Gs[Al],$g,0]):O.push([Gs[Al]+" ",$g,0]),wd-=$g}}else O.push([bt[Ya],qs,bo]);O.push(["",wd,0])}else{if(cr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],es=bt.length,Mr=Mr!==0?Mr:K2,Ya=0;Ya<es;Ya++)bo=Ya===0?yd(_e):-Lg,qs=Ya===0?gu(K):0,Ya<es-1?_f.push(A(P((Mr-Nl[Ya])/(bt[Ya].split(" ").length-1)))):_f.push(0),O.push([bt[Ya],qs,bo])}}var Z2=typeof Ce.R2L=="boolean"?Ce.R2L:ue;Z2===!0&&(O=dx(O,function(ra,na,Ka){return[ra.split("").reverse().join(""),na,Ka]})),tt={text:O,x:K,y:_e,options:Ce,mutex:{pdfEscape:yo,activeFontKey:Ct,fonts:zr,activeFontSize:st}},Ye.publish("postProcessText",tt),O=tt.text,hc=tt.mutex.isHex||!1;var vx=zr[Ct].encoding;vx!=="WinAnsiEncoding"&&vx!=="StandardEncoding"||(O=dx(O,function(ra,na,Ka){return[G2(ra),na,Ka]})),bt=ux(O),O=[];for(var jm,Nm,Nf,Am=0,Bg=1,Em=Array.isArray(bt[0])?Bg:Am,Af="",yx=function(ra,na,Ka){var Ni="";return Ka instanceof Qt?(Ka=typeof Ce.angle=="number"?Wa(Ka,new Qt(1,0,0,1,ra,na)):Wa(new Qt(1,0,0,1,ra,na),Ka),b===x.ADVANCED&&(Ka=Wa(new Qt(1,0,0,-1,0,0),Ka)),Ni=Ka.join(" ")+` Tm
`):Ni=A(ra)+" "+A(na)+` Td
`,Ni},El=0;El<bt.length;El++){switch(Af="",Em){case Bg:Nf=(hc?"<":"(")+bt[El][0]+(hc?">":")"),jm=parseFloat(bt[El][1]),Nm=parseFloat(bt[El][2]);break;case Am:Nf=(hc?"<":"(")+bt[El]+(hc?">":")"),jm=gu(K),Nm=yd(_e)}_f!==void 0&&_f[El]!==void 0&&(Af=_f[El]+` Tw
`),El===0?O.push(Af+yx(jm,Nm,ka)+Nf):Em===Am?O.push(Af+Nf):Em===Bg&&O.push(Af+yx(jm,Nm,ka)+Nf)}O=Em===Am?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Cl=`BT
/`;return Cl+=Ct+" "+st+` Tf
`,Cl+=A(st*Go)+` TL
`,Cl+=wm+`
`,Cl+=Ii,Cl+=O,X(Cl+="ET"),m[Ct]=!0,hi};var hC=h.__private__.clip=h.clip=function(O){return X(O==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return hC("evenodd")},h.__private__.discardPath=h.discardPath=function(){return X("n"),this};var pu=h.__private__.isValidStyle=function(O){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(K=!0),K};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(O){return pu(O)&&(u=O),this};var $2=h.__private__.getStyle=h.getStyle=function(O){var K=u;switch(O){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=O}return K},B2=h.close=function(){return X("h"),this};h.stroke=function(){return X("S"),this},h.fill=function(O){return Eg("f",O),this},h.fillEvenOdd=function(O){return Eg("f*",O),this},h.fillStroke=function(O){return Eg("B",O),this},h.fillStrokeEvenOdd=function(O){return Eg("B*",O),this};var Eg=function(O,K){vn(K)==="object"?pC(K,O):X(O)},ex=function(O){O===null||b===x.ADVANCED&&O===void 0||(O=$2(O),X(O))};function mC(O,K,_e,Ce,$e){var tt=new D0(K||this.boundingBox,_e||this.xStep,Ce||this.yStep,this.gState,$e||this.matrix);tt.stream=this.stream;var bt=O+"$$"+this.cloneIndex+++"$$";return ua(bt,tt),tt}var pC=function(O,K){var _e=xs[O.key],Ce=Gr[_e];if(Ce instanceof Zm)X("q"),X(gC(K)),Ce.gState&&h.setGState(Ce.gState),X(O.matrix.toString()+" cm"),X("/"+_e+" sh"),X("Q");else if(Ce instanceof D0){var $e=new Qt(1,0,0,-1,0,Sf());O.matrix&&($e=$e.multiply(O.matrix||ta),_e=mC.call(Ce,O.key,O.boundingBox,O.xStep,O.yStep,$e).id),X("q"),X("/Pattern cs"),X("/"+_e+" scn"),Ce.gState&&h.setGState(Ce.gState),X(K),X("Q")}},gC=function(O){switch(O){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},tx=h.moveTo=function(O,K){return X(A(P(O))+" "+A(L(K))+" m"),this},xm=h.lineTo=function(O,K){return X(A(P(O))+" "+A(L(K))+" l"),this},bf=h.curveTo=function(O,K,_e,Ce,$e,tt){return X([A(P(O)),A(L(K)),A(P(_e)),A(L(Ce)),A(P($e)),A(L(tt)),"c"].join(" ")),this};h.__private__.line=h.line=function(O,K,_e,Ce,$e){if(isNaN(O)||isNaN(K)||isNaN(_e)||isNaN(Ce)||!pu($e))throw new Error("Invalid arguments passed to jsPDF.line");return b===x.COMPAT?this.lines([[_e-O,Ce-K]],O,K,[1,1],$e||"S"):this.lines([[_e-O,Ce-K]],O,K,[1,1]).stroke()},h.__private__.lines=h.lines=function(O,K,_e,Ce,$e,tt){var bt,Ht,cr,$r,Mr,ln,wa,ka,hi,ws,Ii,hc;if(typeof O=="number"&&(hc=_e,_e=K,K=O,O=hc),Ce=Ce||[1,1],tt=tt||!1,isNaN(K)||isNaN(_e)||!Array.isArray(O)||!Array.isArray(Ce)||!pu($e)||typeof tt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(tx(K,_e),bt=Ce[0],Ht=Ce[1],$r=O.length,ws=K,Ii=_e,cr=0;cr<$r;cr++)(Mr=O[cr]).length===2?(ws=Mr[0]*bt+ws,Ii=Mr[1]*Ht+Ii,xm(ws,Ii)):(ln=Mr[0]*bt+ws,wa=Mr[1]*Ht+Ii,ka=Mr[2]*bt+ws,hi=Mr[3]*Ht+Ii,ws=Mr[4]*bt+ws,Ii=Mr[5]*Ht+Ii,bf(ln,wa,ka,hi,ws,Ii));return tt&&B2(),ex($e),this},h.path=function(O){for(var K=0;K<O.length;K++){var _e=O[K],Ce=_e.c;switch(_e.op){case"m":tx(Ce[0],Ce[1]);break;case"l":xm(Ce[0],Ce[1]);break;case"c":bf.apply(this,Ce);break;case"h":B2()}}return this},h.__private__.rect=h.rect=function(O,K,_e,Ce,$e){if(isNaN(O)||isNaN(K)||isNaN(_e)||isNaN(Ce)||!pu($e))throw new Error("Invalid arguments passed to jsPDF.rect");return b===x.COMPAT&&(Ce=-Ce),X([A(P(O)),A(L(K)),A(P(_e)),A(P(Ce)),"re"].join(" ")),ex($e),this},h.__private__.triangle=h.triangle=function(O,K,_e,Ce,$e,tt,bt){if(isNaN(O)||isNaN(K)||isNaN(_e)||isNaN(Ce)||isNaN($e)||isNaN(tt)||!pu(bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-O,Ce-K],[$e-_e,tt-Ce],[O-$e,K-tt]],O,K,[1,1],bt,!0),this},h.__private__.roundedRect=h.roundedRect=function(O,K,_e,Ce,$e,tt,bt){if(isNaN(O)||isNaN(K)||isNaN(_e)||isNaN(Ce)||isNaN($e)||isNaN(tt)||!pu(bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ht=4/3*(Math.SQRT2-1);return $e=Math.min($e,.5*_e),tt=Math.min(tt,.5*Ce),this.lines([[_e-2*$e,0],[$e*Ht,0,$e,tt-tt*Ht,$e,tt],[0,Ce-2*tt],[0,tt*Ht,-$e*Ht,tt,-$e,tt],[2*$e-_e,0],[-$e*Ht,0,-$e,-tt*Ht,-$e,-tt],[0,2*tt-Ce],[0,-tt*Ht,$e*Ht,-tt,$e,-tt]],O+$e,K,[1,1],bt,!0),this},h.__private__.ellipse=h.ellipse=function(O,K,_e,Ce,$e){if(isNaN(O)||isNaN(K)||isNaN(_e)||isNaN(Ce)||!pu($e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var tt=4/3*(Math.SQRT2-1)*_e,bt=4/3*(Math.SQRT2-1)*Ce;return tx(O+_e,K),bf(O+_e,K-bt,O+tt,K-Ce,O,K-Ce),bf(O-tt,K-Ce,O-_e,K-bt,O-_e,K),bf(O-_e,K+bt,O-tt,K+Ce,O,K+Ce),bf(O+tt,K+Ce,O+_e,K+bt,O+_e,K),ex($e),this},h.__private__.circle=h.circle=function(O,K,_e,Ce){if(isNaN(O)||isNaN(K)||isNaN(_e)||!pu(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,K,_e,_e,Ce)},h.setFont=function(O,K,_e){return _e&&(K=j(K,_e)),Ct=R2(O,K,{disableWarning:!1}),this};var vC=h.__private__.getFont=h.getFont=function(){return zr[R2.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var O,K,_e={};for(O in Fr)if(Fr.hasOwnProperty(O))for(K in _e[O]=[],Fr[O])Fr[O].hasOwnProperty(K)&&_e[O].push(K);return _e},h.addFont=function(O,K,_e,Ce,$e){var tt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&tt.indexOf(arguments[3])!==-1?$e=arguments[3]:arguments[3]&&tt.indexOf(arguments[3])==-1&&(_e=j(_e,Ce)),$e=$e||"Identity-H",Zy.call(this,O,K,_e,$e)};var bm,rx=t.lineWidth||.200025,Cg=h.__private__.getLineWidth=h.getLineWidth=function(){return rx},U2=h.__private__.setLineWidth=h.setLineWidth=function(O){return rx=O,X(A(P(O))+" w"),this};h.__private__.setLineDash=xr.API.setLineDash=xr.API.setLineDashPattern=function(O,K){if(O=O||[],K=K||0,isNaN(K)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(_e){return A(P(_e))}).join(" "),K=A(P(K)),X("["+O+"] "+K+" d"),this};var z2=h.__private__.getLineHeight=h.getLineHeight=function(){return st*bm};h.__private__.getLineHeight=h.getLineHeight=function(){return st*bm};var V2=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(bm=O),this},H2=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return bm};V2(t.lineHeight);var gu=h.__private__.getHorizontalCoordinate=function(O){return P(O)},yd=h.__private__.getVerticalCoordinate=function(O){return b===x.ADVANCED?O:Ie[F].mediaBox.topRightY-Ie[F].mediaBox.bottomLeftY-P(O)},yC=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(O){return A(gu(O))},wf=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(O){return A(yd(O))},fc=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return xe(fc)},h.__private__.setStrokeColor=h.setDrawColor=function(O,K,_e,Ce){return fc=Se({ch1:O,ch2:K,ch3:_e,ch4:Ce,pdfColorType:"draw",precision:2}),X(fc),this};var nx=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return xe(nx)},h.__private__.setFillColor=h.setFillColor=function(O,K,_e,Ce){return nx=Se({ch1:O,ch2:K,ch3:_e,ch4:Ce,pdfColorType:"fill",precision:2}),X(nx),this};var wm=t.textColor||"0 g",xC=h.__private__.getTextColor=h.getTextColor=function(){return xe(wm)};h.__private__.setTextColor=h.setTextColor=function(O,K,_e,Ce){return wm=Se({ch1:O,ch2:K,ch3:_e,ch4:Ce,pdfColorType:"text",precision:3}),this};var Tg=t.charSpace,bC=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Tg||0)};h.__private__.setCharSpace=h.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Tg=O,this};var ax=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(O){var K=h.CapJoinStyles[O];if(K===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ax=K,X(K+" J"),this};var ix=0;h.__private__.setLineJoin=h.setLineJoin=function(O){var K=h.CapJoinStyles[O];if(K===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ix=K,X(K+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(A(P(O))+" M"),this},h.GState=aA,h.setGState=function(O){(O=typeof O=="string"?Cn[Qi[O]]:W2(null,O)).equals(Ji)||(X("/"+O.id+" gs"),Ji=O)};var W2=function(O,K){if(!O||!Qi[O]){var _e=!1;for(var Ce in Cn)if(Cn.hasOwnProperty(Ce)&&Cn[Ce].equals(K)){_e=!0;break}if(_e)K=Cn[Ce];else{var $e="GS"+(Object.keys(Cn).length+1).toString(10);Cn[$e]=K,K.id=$e}return O&&(Qi[O]=K.id),Ye.publish("addGState",K),K}};h.addGState=function(O,K){return W2(O,K),this},h.saveGraphicsState=function(){return X("q"),ca.push({key:Ct,size:st,color:wm}),this},h.restoreGraphicsState=function(){X("Q");var O=ca.pop();return Ct=O.key,st=O.size,wm=O.color,Ji=null,this},h.setCurrentTransformationMatrix=function(O){return X(O.toString()+" cm"),this},h.comment=function(O){return X("#"+O),this};var kg=function(O,K){var _e=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(tt){isNaN(tt)||(_e=parseFloat(tt))}});var Ce=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(tt){isNaN(tt)||(Ce=parseFloat(tt))}});var $e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $e},set:function(tt){$e=tt.toString()}}),this},sx=function(O,K,_e,Ce){kg.call(this,O,K),this.type="rect";var $e=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $e},set:function(bt){isNaN(bt)||($e=parseFloat(bt))}});var tt=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return tt},set:function(bt){isNaN(bt)||(tt=parseFloat(bt))}}),this},ox=function(){this.page=Qr,this.currentPage=F,this.pages=we.slice(0),this.pagesContext=Ie.slice(0),this.x=Zr,this.y=ir,this.matrix=On,this.width=Sm(F),this.height=Sf(F),this.outputDestination=Me,this.id="",this.objectNumber=-1};ox.prototype.restore=function(){Qr=this.page,F=this.currentPage,Ie=this.pagesContext,we=this.pages,Zr=this.x,ir=this.y,On=this.matrix,lx(F,this.width),cx(F,this.height),Me=this.outputDestination};var q2=function(O,K,_e,Ce,$e){kr.push(new ox),Qr=F=0,we=[],Zr=O,ir=K,On=$e,Qy([_e,Ce])},wC=function(O){if(pr[O])kr.pop().restore();else{var K=new ox,_e="Xo"+(Object.keys(Nt).length+1).toString(10);K.id=_e,pr[O]=_e,Nt[_e]=K,Ye.publish("addFormObject",K),kr.pop().restore()}};for(var Pg in h.beginFormObject=function(O,K,_e,Ce,$e){return q2(O,K,_e,Ce,$e),this},h.endFormObject=function(O){return wC(O),this},h.doFormObject=function(O,K){var _e=Nt[pr[O]];return X("q"),X(K.toString()+" cm"),X("/"+_e.id+" Do"),X("Q"),this},h.getFormObject=function(O){var K=Nt[pr[O]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},h.save=function(O,K){return O=O||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(Gm(Ng(vd()),O),typeof Gm.unload=="function"&&_r.setTimeout&&setTimeout(Gm.unload,911),this):new Promise(function(_e,Ce){try{var $e=Gm(Ng(vd()),O);typeof Gm.unload=="function"&&_r.setTimeout&&setTimeout(Gm.unload,911),_e($e)}catch(tt){Ce(tt.message)}})},xr.API)xr.API.hasOwnProperty(Pg)&&(Pg==="events"&&xr.API.events.length?function(O,K){var _e,Ce,$e;for($e=K.length-1;$e!==-1;$e--)_e=K[$e][0],Ce=K[$e][1],O.subscribe.apply(O,[_e].concat(typeof Ce=="function"?[Ce]:Ce))}(Ye,xr.API.events):h[Pg]=xr.API[Pg]);var Sm=h.getPageWidth=function(O){return(Ie[O=O||F].mediaBox.topRightX-Ie[O].mediaBox.bottomLeftX)/gt},lx=h.setPageWidth=function(O,K){Ie[O].mediaBox.topRightX=K*gt+Ie[O].mediaBox.bottomLeftX},Sf=h.getPageHeight=function(O){return(Ie[O=O||F].mediaBox.topRightY-Ie[O].mediaBox.bottomLeftY)/gt},cx=h.setPageHeight=function(O,K){Ie[O].mediaBox.topRightY=K*gt+Ie[O].mediaBox.bottomLeftY};return h.internal={pdfEscape:yo,getStyle:$2,getFont:vC,getFontSize:ne,getCharSpace:bC,getTextColor:xC,getLineHeight:z2,getLineHeightFactor:H2,getLineWidth:Cg,write:Ae,getHorizontalCoordinate:gu,getVerticalCoordinate:yd,getCoordinateString:yC,getVerticalCoordinateString:wf,collections:{},newObject:qa,newAdditionalObject:be,newObjectDeferred:Ta,newObjectDeferredBegin:J,getFilters:ze,putStream:Je,events:Ye,scaleFactor:gt,pageSize:{getWidth:function(){return Sm(F)},setWidth:function(O){lx(F,O)},getHeight:function(){return Sf(F)},setHeight:function(O){cx(F,O)}},encryptionOptions:d,encryption:bs,getEncryptor:dC,output:Ag,getNumberOfPages:sC,pages:we,out:X,f2:R,f3:D,getPageInfo:F2,getPageInfoByObjId:Or,getCurrentPageInfo:fC,getPDFVersion:g,Point:kg,Rectangle:sx,Matrix:Qt,hasHotfix:L2},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Sm(F)},set:function(O){lx(F,O)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Sf(F)},set:function(O){cx(F,O)},enumerable:!0,configurable:!0}),aC.call(h,qe),Ct="F1",I2(a,r),Ye.publish("initialized"),h}g0.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},g0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},g0.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},g0.prototype.processOwnerPassword=function(t,e){return BO($O(e).substr(0,5),t)},g0.prototype.encryptor=function(t,e){var r=$O(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return BO(r,n)}},aA.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||vn(t)!==vn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},xr.API={events:[]},xr.version="3.0.1";var La=xr.API,p6=1,yg=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},i0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Rr=function(t){return t.toFixed(2)},Bf=function(t){return t.toFixed(5)};La.__acroform__={};var Wo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},FV=function(t){return t*p6},bu=function(t){var e=new tse,r=Jt.internal.getHeight(t)||0,n=Jt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Rr(n)),Number(Rr(r))],e},Uot=La.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},zot=La.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Vot=La.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Qa=La.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Vot(t,e-1)},Ja=La.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Uot(t,e-1)},ei=La.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zot(t,e-1)},Hot=La.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(Rr(c.lowerLeft_X)),Number(Rr(c.lowerLeft_Y)),Number(Rr(c.upperRight_X)),Number(Rr(c.upperRight_Y))]},Wot=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=UO(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Rr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=bu(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},UO=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(D){return D.split(`
`)}):a.map(function(D){return[D]});var i=r,s=Jt.internal.getHeight(t)||0;s=s<0?-s:s;var l=Jt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(D,P,I){if(D+1<a.length){var L=P+" "+a[D+1][0];return b_(L,t,I).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,d,f=b_("3",t,i).height,m=t.multiline?s-i:(s-f)/2,h=m+=2,v=0,g=0,p=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+b_(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var y="",x=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var w=!1;if(a[b].length!==1&&p!==a[b].length-1){if((f+2)*(x+2)+2>s)continue e;y+=a[b][p],w=!0,g=b,b--}else{y=(y+=a[b][p]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var _=parseInt(b),j=c(_,y,i),A=b>=a.length-1;if(j&&!A){y+=" ",p=0;continue}if(j||A){if(A)g=_;else if(t.multiline&&(f+2)*(x+2)+2>s)continue e}else{if(!t.multiline||(f+2)*(x+2)+2>s)continue e;g=_}}for(var E="",T=v;T<=g;T++){var R=a[T];if(t.multiline){if(T===g){E+=R[p]+" ",p=(p+1)%R.length;continue}if(T===v){E+=R[R.length-1]+" ";continue}}E+=R[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=b_(E,t,i).width,t.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}e+=Rr(u)+" "+Rr(h)+` Td
`,e+="("+yg(E)+`) Tj
`,e+=-Rr(u)+` 0 Td
`,h=-(i+2),d=0,v=w?g:g+1,x++,y=""}break}return n.text=e,n.fontSize=i,n},b_=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},qot={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Got=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Yot=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),vn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},Kot=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(du.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(qot)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");p6=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new rse,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&Got(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Hot(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Jt.createDefaultAppearanceStream(l),vn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=Wot(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var v=h[s];typeof v=="function"&&(v=v.call(a,l)),f+="/"+s+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(a,l)),f+="/"+s+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&Yot(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},ese=La.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),vn(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+yg(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},W4=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+yg(n(t))+")"},Iu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Iu.prototype.toString=function(){return this.objId+" 0 R"},Iu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Iu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:ese(a,this.objId,this.scope)}):a instanceof Iu?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var tse=function(){Iu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Wo(tse,Iu);var rse=function(){Iu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+yg(r(t))+")"}},set:function(r){t=r}})};Wo(rse,Iu);var du=function t(){Iu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qa(e,3)},set:function(y){y?this.F=Ja(e,3):this.F=ei(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof iA)return;i="FieldObject"+t.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+yg(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/p6:u},set:function(y){u=y}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(y){d=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof iA||this instanceof Cp))return W4(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Bi?m:W4(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof Bi?y:y.substr(0,1)==="("?i0(y.substr(1,y.length-2)):i0(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi?i0(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof Bi?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Bi?h:W4(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Bi?y:y.substr(0,1)==="("?i0(y.substr(1,y.length-2)):i0(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Bi?i0(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Bi?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(y){v=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,1)},set:function(y){y?this.Ff=Ja(this.Ff,1):this.Ff=ei(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,2)},set:function(y){y?this.Ff=Ja(this.Ff,2):this.Ff=ei(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,3)},set:function(y){y?this.Ff=Ja(this.Ff,3):this.Ff=ei(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(p!==null)return p},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');p=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(p){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:p=2;break;case"center":case 1:p=1;break;case"left":case 0:default:p=0}}})};Wo(du,Iu);var Y0=function(){du.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ese(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,l){l||(l=1);for(var c,u=[];c=s.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,18)},set:function(r){r?this.Ff=Ja(this.Ff,18):this.Ff=ei(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ja(this.Ff,19):this.Ff=ei(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,20)},set:function(r){r?(this.Ff=Ja(this.Ff,20),e.sort()):this.Ff=ei(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,22)},set:function(r){r?this.Ff=Ja(this.Ff,22):this.Ff=ei(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,23)},set:function(r){r?this.Ff=Ja(this.Ff,23):this.Ff=ei(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,27)},set:function(r){r?this.Ff=Ja(this.Ff,27):this.Ff=ei(this.Ff,27)}}),this.hasAppearanceStream=!1};Wo(Y0,du);var K0=function(){Y0.call(this),this.fontName="helvetica",this.combo=!1};Wo(K0,Y0);var X0=function(){K0.call(this),this.combo=!0};Wo(X0,K0);var ej=function(){X0.call(this),this.edit=!0};Wo(ej,X0);var Bi=function(){du.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,15)},set:function(r){r?this.Ff=Ja(this.Ff,15):this.Ff=ei(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,16)},set:function(r){r?this.Ff=Ja(this.Ff,16):this.Ff=ei(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,17)},set:function(r){r?this.Ff=Ja(this.Ff,17):this.Ff=ei(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,26)},set:function(r){r?this.Ff=Ja(this.Ff,26):this.Ff=ei(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+yg(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){vn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Wo(Bi,du);var tj=function(){Bi.call(this),this.pushButton=!0};Wo(tj,Bi);var Z0=function(){Bi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Wo(Z0,Bi);var iA=function(){var t,e;du.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+yg(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){vn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wo(iA,du),Z0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Z0.prototype.createOption=function(t){var e=new iA;return e.Parent=this,e.optionName=t,this.Kids.push(e),Xot.call(this.scope,e),e};var rj=function(){Bi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Jt.CheckBox.createAppearanceStream()};Wo(rj,Bi);var Cp=function(){du.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,13)},set:function(e){e?this.Ff=Ja(this.Ff,13):this.Ff=ei(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,21)},set:function(e){e?this.Ff=Ja(this.Ff,21):this.Ff=ei(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,23)},set:function(e){e?this.Ff=Ja(this.Ff,23):this.Ff=ei(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,24)},set:function(e){e?this.Ff=Ja(this.Ff,24):this.Ff=ei(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,25)},set:function(e){e?this.Ff=Ja(this.Ff,25):this.Ff=ei(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,26)},set:function(e){e?this.Ff=Ja(this.Ff,26):this.Ff=ei(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wo(Cp,du);var nj=function(){Cp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qa(this.Ff,14)},set:function(t){t?this.Ff=Ja(this.Ff,14):this.Ff=ei(this.Ff,14)}}),this.password=!0};Wo(nj,Cp);var Jt={CheckBox:{createAppearanceStream:function(){return{N:{On:Jt.CheckBox.YesNormal},D:{On:Jt.CheckBox.YesPushDown,Off:Jt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=bu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=UO(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Rr(Jt.internal.getWidth(t))+" "+Rr(Jt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Rr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=bu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Jt.internal.getHeight(t),s=Jt.internal.getWidth(t),l=UO(t,t.caption);return a.push("1 g"),a.push("0 0 "+Rr(s)+" "+Rr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Rr(s-1)+" "+Rr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Rr(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=bu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rr(Jt.internal.getWidth(t))+" "+Rr(Jt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Jt.RadioButton.Circle.YesNormal,e.D[t]=Jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=bu(t);e.scope=t.scope;var r=[],n=Jt.internal.getWidth(t)<=Jt.internal.getHeight(t)?Jt.internal.getWidth(t)/4:Jt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Jt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Bf(Jt.internal.getWidth(t)/2)+" "+Bf(Jt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=bu(t);e.scope=t.scope;var r=[],n=Jt.internal.getWidth(t)<=Jt.internal.getHeight(t)?Jt.internal.getWidth(t)/4:Jt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Jt.internal.Bezier_C).toFixed(5)),s=Number((n*Jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bf(Jt.internal.getWidth(t)/2)+" "+Bf(Jt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Bf(Jt.internal.getWidth(t)/2)+" "+Bf(Jt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=bu(t);e.scope=t.scope;var r=[],n=Jt.internal.getWidth(t)<=Jt.internal.getHeight(t)?Jt.internal.getWidth(t)/4:Jt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Jt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bf(Jt.internal.getWidth(t)/2)+" "+Bf(Jt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Jt.RadioButton.Cross.YesNormal,e.D[t]=Jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=bu(t);e.scope=t.scope;var r=[],n=Jt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Rr(Jt.internal.getWidth(t)-2)+" "+Rr(Jt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Rr(n.x1.x)+" "+Rr(n.x1.y)+" m"),r.push(Rr(n.x2.x)+" "+Rr(n.x2.y)+" l"),r.push(Rr(n.x4.x)+" "+Rr(n.x4.y)+" m"),r.push(Rr(n.x3.x)+" "+Rr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=bu(t);e.scope=t.scope;var r=Jt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Rr(Jt.internal.getWidth(t))+" "+Rr(Jt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Rr(Jt.internal.getWidth(t)-2)+" "+Rr(Jt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Rr(r.x1.x)+" "+Rr(r.x1.y)+" m"),n.push(Rr(r.x2.x)+" "+Rr(r.x2.y)+" l"),n.push(Rr(r.x4.x)+" "+Rr(r.x4.y)+" m"),n.push(Rr(r.x3.x)+" "+Rr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=bu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Rr(Jt.internal.getWidth(t))+" "+Rr(Jt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Jt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Jt.internal.getWidth(t),r=Jt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Jt.internal.getWidth=function(t){var e=0;return vn(t)==="object"&&(e=FV(t.Rect[2])),e},Jt.internal.getHeight=function(t){var e=0;return vn(t)==="object"&&(e=FV(t.Rect[3])),e};var Xot=La.addField=function(t){if(Kot(this,t),!(t instanceof du))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};La.AcroFormChoiceField=Y0,La.AcroFormListBox=K0,La.AcroFormComboBox=X0,La.AcroFormEditBox=ej,La.AcroFormButton=Bi,La.AcroFormPushButton=tj,La.AcroFormRadioButton=Z0,La.AcroFormCheckBox=rj,La.AcroFormTextField=Cp,La.AcroFormPasswordField=nj,La.AcroFormAppearance=Jt,La.AcroForm={ChoiceField:Y0,ListBox:K0,ComboBox:X0,EditBox:ej,Button:Bi,PushButton:tj,RadioButton:Z0,CheckBox:rj,TextField:Cp,PasswordField:nj,Appearance:Jt},xr.AcroForm={ChoiceField:Y0,ListBox:K0,ComboBox:X0,EditBox:ej,Button:Bi,PushButton:tj,RadioButton:Z0,CheckBox:rj,TextField:Cp,PasswordField:nj,Appearance:Jt};xr.AcroForm;function nse(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(D,P){var I,L,V,H,q,G=e;if((P=P||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(j(D))for(q in r)for(V=r[q],I=0;I<V.length;I+=1){for(H=!0,L=0;L<V[I].length;L+=1)if(V[I][L]!==void 0&&V[I][L]!==D[L]){H=!1;break}if(H===!0){G=q;break}}else for(q in r)for(V=r[q],I=0;I<V.length;I+=1){for(H=!0,L=0;L<V[I].length;L+=1)if(V[I][L]!==void 0&&V[I][L]!==D.charCodeAt(L)){H=!1;break}if(H===!0){G=q;break}}return G===e&&P!==e&&(G=P),G},a=function D(P){for(var I=this.internal.write,L=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:P.width}),H.push({key:"Height",value:P.height}),P.colorSpace===p.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===p.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var q="",G=0,re=P.transparency.length;G<re;G++)q+=P.transparency[G]+" "+P.transparency[G]+" ";H.push({key:"Mask",value:"["+q+"]"})}P.sMask!==void 0&&H.push({key:"SMask",value:P.objectId+1+" 0 R"});var Z=P.filter!==void 0?["/"+P.filter]:void 0;if(L({data:P.data,additionalKeyValues:H,alreadyAppliedFilters:Z,objectId:P.objectId}),I("endobj"),"sMask"in P&&P.sMask!==void 0){var de="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,k={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:de,data:P.sMask};"filter"in P&&(k.filter=P.filter),D.call(this,k)}if(P.colorSpace===p.INDEXED){var F=this.internal.newObject();L({data:E(new Uint8Array(P.palette)),objectId:F}),I("endobj")}},i=function(){var D=this.internal.collections.addImage_images;for(var P in D)a.call(this,D[P])},s=function(){var D,P=this.internal.collections.addImage_images,I=this.internal.write;for(var L in P)I("/I"+(D=P[L]).index,D.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var D=this.internal.collections.addImage_images;return l.call(this),D},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(D){return typeof t["process"+D.toUpperCase()]=="function"},f=function(D){return vn(D)==="object"&&D.nodeType===1},m=function(D,P){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var I=""+D.getAttribute("src");if(I.indexOf("data:image/")===0)return $1(unescape(I).split("base64,").pop());var L=t.loadFile(I,!0);if(L!==void 0)return L}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var V;switch(P){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return $1(D.toDataURL(V,1).split("base64,").pop())}},h=function(D){var P=this.internal.collections.addImage_images;if(P){for(var I in P)if(D===P[I].alias)return P[I]}},v=function(D,P,I){return D||P||(D=-96,P=-96),D<0&&(D=-1*I.width*72/D/this.internal.scaleFactor),P<0&&(P=-1*I.height*72/P/this.internal.scaleFactor),D===0&&(D=P*I.width/I.height),P===0&&(P=D*I.height/I.width),[D,P]},g=function(D,P,I,L,V,H){var q=v.call(this,I,L,V),G=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,Z=c.call(this);if(I=q[0],L=q[1],Z[V.index]=V,H){H*=Math.PI/180;var de=Math.cos(H),k=Math.sin(H),F=function(z){return z.toFixed(4)},B=[F(de),F(k),F(-1*k),F(de),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,G(D),re(P+L),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([G(I),"0","0",G(L),"0","0","cm"].join(" "))):this.internal.write([G(I),"0","0",G(L),G(D),re(P+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},p=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(D){var P,I,L=0;if(typeof D=="string")for(I=D.length,P=0;P<I;P++)L=(L<<5)-L+D.charCodeAt(P),L|=0;else if(j(D))for(I=D.byteLength/2,P=0;P<I;P++)L=(L<<5)-L+D[P],L|=0;return L},b=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var P=!0;return D.length===0&&(P=!1),D.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(P=!1),P},w=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var P=D.indexOf(",");return P<0?null:D.substring(0,P).trim().endsWith("base64")?D.substring(P+1):null},_=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(D){return _()&&D instanceof ArrayBuffer};var j=t.__addimage__.isArrayBufferView=function(D){return _()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},A=t.__addimage__.binaryStringToUint8Array=function(D){for(var P=D.length,I=new Uint8Array(P),L=0;L<P;L++)I[L]=D.charCodeAt(L);return I},E=t.__addimage__.arrayBufferToBinaryString=function(D){for(var P="",I=j(D)?D:new Uint8Array(D),L=0;L<I.length;L+=8192)P+=String.fromCharCode.apply(null,I.subarray(L,L+8192));return P};t.addImage=function(){var D,P,I,L,V,H,q,G,re;if(typeof arguments[1]=="number"?(P=e,I=arguments[1],L=arguments[2],V=arguments[3],H=arguments[4],q=arguments[5],G=arguments[6],re=arguments[7]):(P=arguments[1],I=arguments[2],L=arguments[3],V=arguments[4],H=arguments[5],q=arguments[6],G=arguments[7],re=arguments[8]),vn(D=arguments[0])==="object"&&!f(D)&&"imageData"in D){var Z=D;D=Z.imageData,P=Z.format||P||e,I=Z.x||I||0,L=Z.y||L||0,V=Z.w||Z.width||V,H=Z.h||Z.height||H,q=Z.alias||q,G=Z.compression||G,re=Z.rotation||Z.angle||re}var de=this.internal.getFilters();if(G===void 0&&de.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(I)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var k=T.call(this,D,P,q,G);return g.call(this,I,L,V,H,k,re),this};var T=function(D,P,I,L){var V,H,q;if(typeof D=="string"&&n(D)===e){D=unescape(D);var G=R(D,!1);(G!==""||(G=t.loadFile(D,!0))!==void 0)&&(D=G)}if(f(D)&&(D=m(D,P)),P=n(D,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((q=I)==null||q.length===0)&&(I=function(re){return typeof re=="string"||j(re)?x(re):j(re.data)?x(re.data):null}(D)),(V=h.call(this,I))||(_()&&(D instanceof Uint8Array||P==="RGBA"||(H=D,D=A(D))),V=this["process"+P.toUpperCase()](D,u.call(this),I,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in t.image_compression?re:y.NONE}(L),H)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},R=t.__addimage__.convertBase64ToBinaryString=function(D,P){P=typeof P!="boolean"||P;var I,L="";if(typeof D=="string"){var V;I=(V=w(D))!==null&&V!==void 0?V:D;try{L=$1(I)}catch(H){if(P)throw b(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return L};t.getImageProperties=function(D){var P,I,L="";if(f(D)&&(D=m(D)),typeof D=="string"&&n(D)===e&&((L=R(D,!1))===""&&(L=t.loadFile(D)||""),D=L),I=n(D),!d(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(!_()||D instanceof Uint8Array||(D=A(D)),!(P=this["process"+I.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=I,P}})(xr.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};xr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),x=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(y(x))+") >>",g.content=i;var b=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(g.objId,"0 R",p.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var j=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+j+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var d=this.splitTextToSize(r,l).length;s=Math.ceil(u*d)}else l=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,s,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(xr.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},l=t.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&i(g)&&e[g.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&a.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&i(g)&&e[g.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&i(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&i(g)&&e[g.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&i(g)&&e[g.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(g){var p=0,y=r,x="",b=0;for(p=0;p<g.length;p+=1)y[g.charCodeAt(p)]!==void 0?(b++,typeof(y=y[g.charCodeAt(p)])=="number"&&(x+=String.fromCharCode(y),y=r,b=0),p===g.length-1&&(y=r,x+=g.charAt(p-(b-1)),p-=b-1,b=0)):(y=r,x+=g.charAt(p-b),p-=b,b=0);return x};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(g,p,y){return s(g)?i(g)===!1?-1:!u(g)||!s(p)&&!s(y)||!s(y)&&l(p)||l(g)&&!s(p)||l(g)&&c(p)||l(g)&&l(p)?0:d(g)&&s(p)&&!l(p)&&s(y)&&u(y)?3:l(g)||!s(y)?1:2:-1},h=function(g){var p=0,y=0,x=0,b="",w="",_="",j=(g=g||"").split("\\s+"),A=[];for(p=0;p<j.length;p+=1){for(A.push(""),y=0;y<j[p].length;y+=1)b=j[p][y],w=j[p][y-1],_=j[p][y+1],s(b)?(x=m(b,w,_),A[p]+=x!==-1?String.fromCharCode(e[b.charCodeAt(0)][x]):b):A[p]+=b;A[p]=f(A[p])}return A.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var g,p=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(p)){var x=0;for(y=[],x=0;x<p.length;x+=1)Array.isArray(p[x])?y.push([h(p[x][0]),p[x][1],p[x][2]]):y.push([h(p[x])]);g=y}else g=h(p);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",v])}(xr.API),xr.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(xr.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,g=0,p=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(b,w){return b.concat(p.splitTextToSize(w,y))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)h<(g=this.getStringUnitWidth(c[x],{font:f})*d)&&(h=g);return h!==0&&(v=c.length),{w:h/=m,h:Math.max((v*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,f,m){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,v,g,p,y=[],x=[],b=[],w={},_={},j=[],A=[],E=(m=m||{}).autoSize||!1,T=m.printHeaders!==!1,R=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,D=m.margins||Object.assign({width:this.getPageWidth()},e),P=typeof m.padding=="number"?m.padding:3,I=m.headerBackgroundColor||"#c8c8c8",L=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=L,this.setFontSize(R),f==null)x=y=Object.keys(d[0]),b=y.map(function(){return"left"});else if(Array.isArray(f)&&vn(f[0])==="object")for(y=f.map(function(Z){return Z.name}),x=f.map(function(Z){return Z.prompt||Z.name||""}),b=f.map(function(Z){return Z.align||"left"}),h=0;h<f.length;h+=1)_[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,b=y.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(w[p=y[h]]=d.map(function(Z){return Z[p]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(x[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=w[p],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)j.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[p]=Math.max.apply(null,j)+P+P,j=[]}if(T){var V={};for(h=0;h<y.length;h+=1)V[y[h]]={},V[y[h]].text=x[h],V[y[h]].align=b[h];var H=l.call(this,V,_);A=y.map(function(Z){return new i(c,u,_[Z],H,V[Z].text,void 0,V[Z].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var q=f.reduce(function(Z,de){return Z[de.name]=de.align,Z},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var G=l.call(this,d[h],_);for(g=0;g<y.length;g+=1){var re=d[h][y[g]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:g,data:re},this),s.call(this,new i(c,u,_[y[g]],G,re,h+2,q[y[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var v=c[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+d+d},this).reduce(function(h,v){return Math.max(h,v)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(xr.API);var ase={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ise=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],zO=nse(ise),sse=[100,200,300,400,500,600,700,800,900],Zot=nse(sse);function VO(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return ase[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof zO[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function $V(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var Qot={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},BV={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function UV(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Jot(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Qot,r.genericFontFamilies||{}),i=null,s=null,l=0;l<e.length;++l)if(a[(i=VO(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){s=t[i.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+UV(i)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var d=zO[c],f=d<=zO.normal?-1:1,m=$V(u,ise,d,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m}(i.stretch,s),s=function(c,u){if(u[c])return u[c];for(var d=ase[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=Zot[c],f=$V(u,sse,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+UV(i)+"'.");return s}function zV(t){return t.trimLeft()}function elt(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function tlt(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var w_,VV,HV,q4=["times"];(function(t){var e,r,n,a,i,s,l,c,u,d=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new c,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new s,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new s,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=k;Object.defineProperty(this,"pdf",{get:function(){return F}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(oe){B=!!oe}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(oe){z=!!oe}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(oe){isNaN(oe)||(ee=oe)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(oe){isNaN(oe)||(le=oe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(oe){var X;typeof oe=="number"?X=[oe,oe,oe,oe]:((X=new Array(4))[0]=oe[0],X[1]=oe.length>=2?oe[1]:X[0],X[2]=oe.length>=3?oe[2]:X[0],X[3]=oe.length>=4?oe[3]:X[1]),u.margin=X}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(oe){ge=oe}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(oe){se=oe}});var ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ie},set:function(oe){ie=oe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(oe){oe instanceof d&&(u=oe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(oe){u.path=oe}});var we=[];Object.defineProperty(this,"ctxStack",{get:function(){return we},set:function(oe){we=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var X;X=m(oe),this.ctx.fillStyle=X.style,this.ctx.isFillTransparent=X.a===0,this.ctx.fillOpacity=X.a,this.pdf.setFillColor(X.r,X.g,X.b,{a:X.a}),this.pdf.setTextColor(X.r,X.g,X.b,{a:X.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var X=m(oe);this.ctx.strokeStyle=X.style,this.ctx.isStrokeTransparent=X.a===0,this.ctx.strokeOpacity=X.a,X.a===0?this.pdf.setDrawColor(255,255,255):(X.a,this.pdf.setDrawColor(X.r,X.g,X.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var pe=null;function Me(oe,X){if(pe===null){var Ae=function(Be){var qe=[];return Object.keys(Be).forEach(function(st){Be[st].forEach(function(Pe){var ne=null;switch(Pe){case"bold":ne={family:st,weight:"bold"};break;case"italic":ne={family:st,style:"italic"};break;case"bolditalic":ne={family:st,weight:"bold",style:"italic"};break;case"":case"normal":ne={family:st}}ne!==null&&(ne.ref={name:st,style:Pe},qe.push(ne))})}),qe}(oe.getFontList());pe=function(Be){for(var qe={},st=0;st<Be.length;++st){var Pe=VO(Be[st]),ne=Pe.family,ue=Pe.stretch,Ne=Pe.style,Re=Pe.weight;qe[ne]=qe[ne]||{},qe[ne][ue]=qe[ne][ue]||{},qe[ne][ue][Ne]=qe[ne][ue][Ne]||{},qe[ne][ue][Ne][Re]=Pe}return qe}(Ae.concat(X))}return pe}var he=null;Object.defineProperty(this,"fontFaces",{get:function(){return he},set:function(oe){pe=null,he=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var X;if(this.ctx.font=oe,(X=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(oe))!==null){var Ae=X[1];X[2];var Be=X[3],qe=X[4];X[5];var st=X[6],Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(Pe==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var ne=function(vt){var Ct,gt,Zr=[],ir=vt.trim();if(ir==="")return q4;if(ir in BV)return[BV[ir]];for(;ir!=="";){switch(gt=null,Ct=(ir=zV(ir)).charAt(0)){case'"':case"'":gt=elt(ir.substring(1),Ct);break;default:gt=tlt(ir)}if(gt===null||(Zr.push(gt[0]),(ir=zV(gt[1]))!==""&&ir.charAt(0)!==","))return q4;ir=ir.replace(/^,/,"")}return Zr}(st);if(this.fontFaces){var ue=Jot(Me(this.pdf,this.fontFaces),ne.map(function(vt){return{family:vt,stretch:"normal",weight:Be,style:Ae}}));this.pdf.setFont(ue.ref.name,ue.ref.style)}else{var Ne="";(Be==="bold"||parseInt(Be,10)>=700||Ae==="bold")&&(Ne="bold"),Ae==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var Re="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xe=0;Xe<ne.length;Xe++){if(this.pdf.internal.getFont(ne[Xe],Ne,{noFallback:!0,disableWarning:!0})!==void 0){Re=ne[Xe];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(ne[Xe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Re=ne[Xe],Ne="bold";else if(this.pdf.internal.getFont(ne[Xe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Re=ne[Xe],Ne="normal";break}}if(Re===""){for(var it=0;it<ne.length;it++)if(Fe[ne[it]]){Re=Fe[ne[it]];break}}Re=Re===""?"Times":Re,this.pdf.setFont(Re,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};f.prototype.setLineDash=function(k){this.lineDash=k},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(k,F){if(isNaN(k)||isNaN(F))throw Zn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new s(k,F));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(k,F)},f.prototype.closePath=function(){var k=new s(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&vn(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){k=new s(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(k.x,k.y)},f.prototype.lineTo=function(k,F){if(isNaN(k)||isNaN(F))throw Zn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new s(k,F));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(B.x,B.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(k,F,B,z){if(isNaN(B)||isNaN(z)||isNaN(k)||isNaN(F))throw Zn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new s(B,z)),le=this.ctx.transform.applyToPoint(new s(k,F));this.path.push({type:"qct",x1:le.x,y1:le.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},f.prototype.bezierCurveTo=function(k,F,B,z,ee,le){if(isNaN(ee)||isNaN(le)||isNaN(k)||isNaN(F)||isNaN(B)||isNaN(z))throw Zn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new s(ee,le)),se=this.ctx.transform.applyToPoint(new s(k,F)),ie=this.ctx.transform.applyToPoint(new s(B,z));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:ie.x,y2:ie.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new s(ge.x,ge.y)},f.prototype.arc=function(k,F,B,z,ee,le){if(isNaN(k)||isNaN(F)||isNaN(B)||isNaN(z)||isNaN(ee))throw Zn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new s(k,F));k=ge.x,F=ge.y;var se=this.ctx.transform.applyToPoint(new s(0,B)),ie=this.ctx.transform.applyToPoint(new s(0,0));B=Math.sqrt(Math.pow(se.x-ie.x,2)+Math.pow(se.y-ie.y,2))}Math.abs(ee-z)>=2*Math.PI&&(z=0,ee=2*Math.PI),this.path.push({type:"arc",x:k,y:F,radius:B,startAngle:z,endAngle:ee,counterclockwise:le})},f.prototype.arcTo=function(k,F,B,z,ee){throw new Error("arcTo not implemented.")},f.prototype.rect=function(k,F,B,z){if(isNaN(k)||isNaN(F)||isNaN(B)||isNaN(z))throw Zn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,F),this.lineTo(k+B,F),this.lineTo(k+B,F+z),this.lineTo(k,F+z),this.lineTo(k,F),this.lineTo(k+B,F),this.lineTo(k,F)},f.prototype.fillRect=function(k,F,B,z){if(isNaN(k)||isNaN(F)||isNaN(B)||isNaN(z))throw Zn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,F,B,z),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},f.prototype.strokeRect=function(k,F,B,z){if(isNaN(k)||isNaN(F)||isNaN(B)||isNaN(z))throw Zn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(k,F,B,z),this.stroke())},f.prototype.clearRect=function(k,F,B,z){if(isNaN(k)||isNaN(F)||isNaN(B)||isNaN(z))throw Zn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,F,B,z))},f.prototype.save=function(k){k=typeof k!="boolean"||k;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},f.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(F),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(k){var F,B,z,ee;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))F=0,B=0,z=0,ee=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(le!==null)F=parseInt(le[1]),B=parseInt(le[2]),z=parseInt(le[3]),ee=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)F=parseInt(le[1]),B=parseInt(le[2]),z=parseInt(le[3]),ee=parseFloat(le[4]);else{if(ee=1,typeof k=="string"&&k.charAt(0)!=="#"){var ge=new Zie(k);k=ge.ok?ge.toHex():"#000000"}k.length===4?(F=k.substring(1,2),F+=F,B=k.substring(2,3),B+=B,z=k.substring(3,4),z+=z):(F=k.substring(1,3),B=k.substring(3,5),z=k.substring(5,7)),F=parseInt(F,16),B=parseInt(B,16),z=parseInt(z,16)}}return{r:F,g:B,b:z,a:ee,style:k}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(k,F,B,z){if(isNaN(F)||isNaN(B)||typeof k!="string")throw Zn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!h.call(this)){var ee=G(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;P.call(this,{text:k,x:F,y:B,scale:le,angle:ee,align:this.textAlign,maxWidth:z})}},f.prototype.strokeText=function(k,F,B,z){if(isNaN(F)||isNaN(B)||typeof k!="string")throw Zn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){z=isNaN(z)?void 0:z;var ee=G(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;P.call(this,{text:k,x:F,y:B,scale:le,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:z})}},f.prototype.measureText=function(k){if(typeof k!="string")throw Zn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,B=this.pdf.internal.scaleFactor,z=F.internal.getFontSize(),ee=F.getStringUnitWidth(k)*z/F.internal.scaleFactor,le=function(ge){var se=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return se}}),this};return new le({width:ee*=Math.round(96*B/72*1e4)/1e4})},f.prototype.scale=function(k,F){if(isNaN(k)||isNaN(F))throw Zn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new c(k,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.rotate=function(k){if(isNaN(k))throw Zn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new c(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.translate=function(k,F){if(isNaN(k)||isNaN(F))throw Zn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new c(1,0,0,1,k,F);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.transform=function(k,F,B,z,ee,le){if(isNaN(k)||isNaN(F)||isNaN(B)||isNaN(z)||isNaN(ee)||isNaN(le))throw Zn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new c(k,F,B,z,ee,le);this.ctx.transform=this.ctx.transform.multiply(ge)},f.prototype.setTransform=function(k,F,B,z,ee,le){k=isNaN(k)?1:k,F=isNaN(F)?0:F,B=isNaN(B)?0:B,z=isNaN(z)?1:z,ee=isNaN(ee)?0:ee,le=isNaN(le)?0:le,this.ctx.transform=new c(k,F,B,z,ee,le)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(k,F,B,z,ee,le,ge,se,ie){var we=this.pdf.getImageProperties(k),pe=1,Me=1,he=1,oe=1;z!==void 0&&se!==void 0&&(he=se/z,oe=ie/ee,pe=we.width/z*se/z,Me=we.height/ee*ie/ee),le===void 0&&(le=F,ge=B,F=0,B=0),z!==void 0&&se===void 0&&(se=z,ie=ee),z===void 0&&se===void 0&&(se=we.width,ie=we.height);for(var X,Ae=this.ctx.transform.decompose(),Be=G(Ae.rotate.shx),qe=new c,st=(qe=(qe=(qe=qe.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale)).applyToRectangle(new l(le-F*he,ge-B*oe,z*pe,ee*Me)),Pe=p.call(this,st),ne=[],ue=0;ue<Pe.length;ue+=1)ne.indexOf(Pe[ue])===-1&&ne.push(Pe[ue]);if(b(ne),this.autoPaging)for(var Ne=ne[0],Re=ne[ne.length-1],Fe=Ne;Fe<Re+1;Fe++){this.pdf.setPage(Fe);var Xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Fe===1?this.posY+this.margin[0]:this.margin[0],vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],gt=Fe===1?0:vt+(Fe-2)*Ct;if(this.ctx.clip_path.length!==0){var Zr=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(X,this.posX+this.margin[3],-gt+it+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=Zr}var ir=JSON.parse(JSON.stringify(st));ir=x([ir],this.posX+this.margin[3],-gt+it+this.ctx.prevPageLastElemOffset)[0];var On=(Fe>Ne||Fe<Re)&&g.call(this);On&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Ct,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",ir.x,ir.y,ir.w,ir.h,null,null,Be),On&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",st.x,st.y,st.w,st.h,null,null,Be)};var p=function(k,F,B){var z=[];F=F||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":z.push(Math.floor((k.y+ee)/B)+1);break;case"arc":z.push(Math.floor((k.y+ee-k.radius)/B)+1),z.push(Math.floor((k.y+ee+k.radius)/B)+1);break;case"qct":var le=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);z.push(Math.floor((le.y+ee)/B)+1),z.push(Math.floor((le.y+le.h+ee)/B)+1);break;case"bct":var ge=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);z.push(Math.floor((ge.y+ee)/B)+1),z.push(Math.floor((ge.y+ge.h+ee)/B)+1);break;case"rect":z.push(Math.floor((k.y+ee)/B)+1),z.push(Math.floor((k.y+k.h+ee)/B)+1)}for(var se=0;se<z.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<z[se];)y.call(this);return z},y=function(){var k=this.fillStyle,F=this.strokeStyle,B=this.font,z=this.lineCap,ee=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=F,this.font=B,this.lineCap=z,this.lineWidth=ee,this.lineJoin=le},x=function(k,F,B){for(var z=0;z<k.length;z++)switch(k[z].type){case"bct":k[z].x2+=F,k[z].y2+=B;case"qct":k[z].x1+=F,k[z].y1+=B;case"mt":case"lt":case"arc":default:k[z].x+=F,k[z].y+=B}return k},b=function(k){return k.sort(function(F,B){return F-B})},w=function(k,F){for(var B,z,ee=this.fillStyle,le=this.strokeStyle,ge=this.lineCap,se=this.lineWidth,ie=Math.abs(se*this.ctx.transform.scaleX),we=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),he=[],oe=0;oe<Me.length;oe++)if(Me[oe].x!==void 0)for(var X=p.call(this,Me[oe]),Ae=0;Ae<X.length;Ae+=1)he.indexOf(X[Ae])===-1&&he.push(X[Ae]);for(var Be=0;Be<he.length;Be++)for(;this.pdf.internal.getNumberOfPages()<he[Be];)y.call(this);if(b(he),this.autoPaging)for(var qe=he[0],st=he[he.length-1],Pe=qe;Pe<st+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=ee,this.strokeStyle=le,this.lineCap=ge,this.lineWidth=ie,this.lineJoin=we;var ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ue=Pe===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=Pe===1?0:Ne+(Pe-2)*Re;if(this.ctx.clip_path.length!==0){var Xe=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(B,this.posX+this.margin[3],-Fe+ue+this.ctx.prevPageLastElemOffset),_.call(this,k,!0),this.path=Xe}if(z=JSON.parse(JSON.stringify(pe)),this.path=x(z,this.posX+this.margin[3],-Fe+ue+this.ctx.prevPageLastElemOffset),F===!1||Pe===0){var it=(Pe>qe||Pe<st)&&g.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ne,Re,null).clip().discardPath()),_.call(this,k,F),it&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=ie,_.call(this,k,F),this.lineWidth=se;this.path=pe},_=function(k,F){if((k!=="stroke"||F||!v.call(this))&&(k==="stroke"||F||!h.call(this))){for(var B,z,ee=[],le=this.path,ge=0;ge<le.length;ge++){var se=le[ge];switch(se.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:se,deltas:[],abs:[]});break;case"lt":var ie=ee.length;if(le[ge-1]&&!isNaN(le[ge-1].x)&&(B=[se.x-le[ge-1].x,se.y-le[ge-1].y],ie>0)){for(;ie>=0;ie--)if(ee[ie-1].close!==!0&&ee[ie-1].begin!==!0){ee[ie-1].deltas.push(B),ee[ie-1].abs.push(se);break}}break;case"bct":B=[se.x1-le[ge-1].x,se.y1-le[ge-1].y,se.x2-le[ge-1].x,se.y2-le[ge-1].y,se.x-le[ge-1].x,se.y-le[ge-1].y],ee[ee.length-1].deltas.push(B);break;case"qct":var we=le[ge-1].x+2/3*(se.x1-le[ge-1].x),pe=le[ge-1].y+2/3*(se.y1-le[ge-1].y),Me=se.x+2/3*(se.x1-se.x),he=se.y+2/3*(se.y1-se.y),oe=se.x,X=se.y;B=[we-le[ge-1].x,pe-le[ge-1].y,Me-le[ge-1].x,he-le[ge-1].y,oe-le[ge-1].x,X-le[ge-1].y],ee[ee.length-1].deltas.push(B);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(se)}}z=F?null:k==="stroke"?"stroke":"fill";for(var Ae=!1,Be=0;Be<ee.length;Be++)if(ee[Be].arc)for(var qe=ee[Be].abs,st=0;st<qe.length;st++){var Pe=qe[st];Pe.type==="arc"?E.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,F,!Ae):I.call(this,Pe.x,Pe.y),Ae=!0}else if(ee[Be].close===!0)this.pdf.internal.out("h"),Ae=!1;else if(ee[Be].begin!==!0){var ne=ee[Be].start.x,ue=ee[Be].start.y;L.call(this,ee[Be].deltas,ne,ue),Ae=!0}z&&T.call(this,z),F&&R.call(this)}},j=function(k){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-B;case"top":return k+F-B;case"hanging":return k+F-2*B;case"middle":return k+F/2-B;case"ideographic":return k;case"alphabetic":default:return k}},A=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(F,B){this.colorStops.push([F,B])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(k,F,B,z,ee,le,ge,se,ie){for(var we=H.call(this,B,z,ee,le),pe=0;pe<we.length;pe++){var Me=we[pe];pe===0&&(ie?D.call(this,Me.x1+k,Me.y1+F):I.call(this,Me.x1+k,Me.y1+F)),V.call(this,k,F,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}se?R.call(this):T.call(this,ge)},T=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(k,F){this.pdf.internal.out(r(k)+" "+n(F)+" m")},P=function(k){var F;switch(k.align){case"right":case"end":F="right";break;case"center":F="center";break;case"left":case"start":default:F="left"}var B=this.pdf.getTextDimensions(k.text),z=j.call(this,k.y),ee=A.call(this,z)-B.h,le=this.ctx.transform.applyToPoint(new s(k.x,z)),ge=this.ctx.transform.decompose(),se=new c;se=(se=(se=se.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var ie,we,pe,Me=this.ctx.transform.applyToRectangle(new l(k.x,z,B.w,B.h)),he=se.applyToRectangle(new l(k.x,ee,B.w,B.h)),oe=p.call(this,he),X=[],Ae=0;Ae<oe.length;Ae+=1)X.indexOf(oe[Ae])===-1&&X.push(oe[Ae]);if(b(X),this.autoPaging)for(var Be=X[0],qe=X[X.length-1],st=Be;st<qe+1;st++){this.pdf.setPage(st);var Pe=st===1?this.posY+this.margin[0]:this.margin[0],ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ue=this.pdf.internal.pageSize.height-this.margin[2],Ne=ue-this.margin[0],Re=this.pdf.internal.pageSize.width-this.margin[1],Fe=Re-this.margin[3],Xe=st===1?0:ne+(st-2)*Ne;if(this.ctx.clip_path.length!==0){var it=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ie,this.posX+this.margin[3],-1*Xe+Pe),_.call(this,"fill",!0),this.path=it}var vt=x([JSON.parse(JSON.stringify(he))],this.posX+this.margin[3],-Xe+Pe+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*k.scale),pe=this.lineWidth,this.lineWidth=pe*k.scale);var Ct=this.autoPaging!=="text";if(Ct||vt.y+vt.h<=ue){if(Ct||vt.y>=Pe&&vt.x<=Re){var gt=Ct?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Re-vt.x)[0],Zr=x([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-Xe+Pe+this.ctx.prevPageLastElemOffset)[0],ir=Ct&&(st>Be||st<qe)&&g.call(this);ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Ne,null).clip().discardPath()),this.pdf.text(gt,Zr.x,Zr.y,{angle:k.angle,align:F,renderingMode:k.renderingMode}),ir&&this.pdf.restoreGraphicsState()}}else vt.y<ue&&(this.ctx.prevPageLastElemOffset+=ue-vt.y);k.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=pe)}else k.scale>=.01&&(we=this.pdf.internal.getFontSize(),this.pdf.setFontSize(we*k.scale),pe=this.lineWidth,this.lineWidth=pe*k.scale),this.pdf.text(k.text,le.x+this.posX,le.y+this.posY,{angle:k.angle,align:F,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(we),this.lineWidth=pe)},I=function(k,F,B,z){B=B||0,z=z||0,this.pdf.internal.out(r(k+B)+" "+n(F+z)+" l")},L=function(k,F,B){return this.pdf.lines(k,F,B,null,null)},V=function(k,F,B,z,ee,le,ge,se){this.pdf.internal.out([e(a(B+k)),e(i(z+F)),e(a(ee+k)),e(i(le+F)),e(a(ge+k)),e(i(se+F)),"c"].join(" "))},H=function(k,F,B,z){for(var ee=2*Math.PI,le=Math.PI/2;F>B;)F-=ee;var ge=Math.abs(B-F);ge<ee&&z&&(ge=ee-ge);for(var se=[],ie=z?-1:1,we=F;ge>1e-5;){var pe=we+ie*Math.min(ge,le);se.push(q.call(this,k,we,pe)),ge-=Math.abs(pe-we),we=pe}return se},q=function(k,F,B){var z=(B-F)/2,ee=k*Math.cos(z),le=k*Math.sin(z),ge=ee,se=-le,ie=ge*ge+se*se,we=ie+ge*ee+se*le,pe=4/3*(Math.sqrt(2*ie*we)-we)/(ge*le-se*ee),Me=ge-pe*se,he=se+pe*ge,oe=Me,X=-he,Ae=z+F,Be=Math.cos(Ae),qe=Math.sin(Ae);return{x1:k*Math.cos(F),y1:k*Math.sin(F),x2:Me*Be-he*qe,y2:Me*qe+he*Be,x3:oe*Be-X*qe,y3:oe*qe+X*Be,x4:k*Math.cos(B),y4:k*Math.sin(B)}},G=function(k){return 180*k/Math.PI},re=function(k,F,B,z,ee,le){var ge=k+.5*(B-k),se=F+.5*(z-F),ie=ee+.5*(B-ee),we=le+.5*(z-le),pe=Math.min(k,ee,ge,ie),Me=Math.max(k,ee,ge,ie),he=Math.min(F,le,se,we),oe=Math.max(F,le,se,we);return new l(pe,he,Me-pe,oe-he)},Z=function(k,F,B,z,ee,le,ge,se){var ie,we,pe,Me,he,oe,X,Ae,Be,qe,st,Pe,ne,ue,Ne=B-k,Re=z-F,Fe=ee-B,Xe=le-z,it=ge-ee,vt=se-le;for(we=0;we<41;we++)Be=(X=(pe=k+(ie=we/40)*Ne)+ie*((he=B+ie*Fe)-pe))+ie*(he+ie*(ee+ie*it-he)-X),qe=(Ae=(Me=F+ie*Re)+ie*((oe=z+ie*Xe)-Me))+ie*(oe+ie*(le+ie*vt-oe)-Ae),we==0?(st=Be,Pe=qe,ne=Be,ue=qe):(st=Math.min(st,Be),Pe=Math.min(Pe,qe),ne=Math.max(ne,Be),ue=Math.max(ue,qe));return new l(Math.round(st),Math.round(Pe),Math.round(ne-st),Math.round(ue-Pe))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,F,B=(k=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:F}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(xr.API),function(t){var e=function(i){var s,l,c,u,d,f,m,h,v,g;for(l=[],c=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(d=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(g=d%85))/85)-(v=d%85))/85)-(h=d%85))/85)-(m=d%85))/85)%85,l.push(f+33,m+33,h+33,v+33,g+33)):l.push(122);return function(p,y){for(var x=y;x>0;x--)p.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var s,l,c,u,d,f=String,m="length",h=255,v="charCodeAt",g="slice",p="replace";for(i[g](-2),i=i[g](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),c=[],u=0,d=(i+=s="uuuuu"[g](i[m]%5||5))[m];d>u;u+=5)l=52200625*(i[v](u)-33)+614125*(i[v](u+1)-33)+7225*(i[v](u+2)-33)+85*(i[v](u+3)-33)+(i[v](u+4)-33),c.push(h&l>>24,h&l>>16,h&l>>8,h&l);return function(y,x){for(var b=x;b>0;b--)y.pop()}(c,s[m]),f.fromCharCode.apply(f,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var s=new Uint8Array(i.length),l=i.length;l--;)s[l]=i.charCodeAt(l);return i=(s=LO(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(i,s){var l=0,c=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(xr.API),function(t){t.loadFile=function(e,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,m=0,h=function(v){var g=v.length,p=[],y=String.fromCharCode;for(m=0;m<g;m+=1)p.push(y(255&v.charCodeAt(m)));return p.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(a,i,s)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(xr.API),function(t){function e(){return(_r.html2canvas?Promise.resolve(_r.html2canvas):ru(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(_r.DOMPurify?Promise.resolve(_r.DOMPurify):ru(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var l=vn(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(s,l){var c=document.createElement(s);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,l){return s.__proto__=l||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(c(m,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var h=u[m],v=h.src.find(function(g){return g.format==="truetype"});v&&c.addFont(v.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},i.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(s,l){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||xr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,l,c,u){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,l,c,u){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},i.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),d=c.call(u,s,l);return i.convert(d,this.__proto__)},i.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},i.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return i.convert(l,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,xr.getPageSize=function(s,l,c){if(vn(s)==="object"){var u=s;s=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var h,v=0,g=0;if(m.hasOwnProperty(f))v=m[f][1]/d,g=m[f][0]/d;else try{v=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",g>v&&(h=g,g=v,v=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",v>g&&(h=g,g=v,v=h)}return{width:g,height:v,unit:l,k:d,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(VO):null;var c=new i(l);return l.worker?c:c.from(s).doCallback()}}(xr.API),xr.API.addJS=function(t){return HV=t,this.internal.events.subscribe("postPutResources",function(){w_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(w_+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),VV=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+HV+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){w_!==void 0&&VV!==void 0&&this.internal.out("/Names <</JavaScript "+w_+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],l=n.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(xr.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},p=4;p<v;p+=2){if(p+=h,e.indexOf(f.charCodeAt(p+1))!==-1){m=256*f.charCodeAt(p+5)+f.charCodeAt(p+6),g={width:256*f.charCodeAt(p+7)+f.charCodeAt(p+8),height:m,numcomponents:f.charCodeAt(p+9)};break}h=256*f.charCodeAt(p+2)+f.charCodeAt(p+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(xr.API);var s0,S_,WV,qV,GV,rlt=function(){var t,e,r;function n(i){var s,l,c,u,d,f,m,h,v,g,p,y,x,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),v=(function(){var w,_;for(_=[],w=0;w<4;++w)_.push(String.fromCharCode(this.data[this.pos++]));return _}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(x=0;0<=g?x<g:x>g;0<=g?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":m=(p=this.read(s)).indexOf(0),h=String.fromCharCode.apply(String,p.slice(0,m)),this.text[h]=String.fromCharCode.apply(String,p.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,l;for(l=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function d(f,m,h,v){var g,p,y,x,b,w,_,j,A,E,T,R,D,P,I,L,V,H,q,G,re,Z=Math.ceil((u.width-f)/h),de=Math.ceil((u.height-m)/v),k=u.width==Z&&u.height==de;for(P=s*Z,R=k?l:new Uint8Array(P*de),w=i.length,D=0,p=0;D<de&&c<w;){switch(i[c++]){case 0:for(x=V=0;V<P;x=V+=1)R[p++]=i[c++];break;case 1:for(x=H=0;H<P;x=H+=1)g=i[c++],b=x<s?0:R[p-s],R[p++]=(g+b)%256;break;case 2:for(x=q=0;q<P;x=q+=1)g=i[c++],y=(x-x%s)/s,I=D&&R[(D-1)*P+y*s+x%s],R[p++]=(I+g)%256;break;case 3:for(x=G=0;G<P;x=G+=1)g=i[c++],y=(x-x%s)/s,b=x<s?0:R[p-s],I=D&&R[(D-1)*P+y*s+x%s],R[p++]=(g+Math.floor((b+I)/2))%256;break;case 4:for(x=re=0;re<P;x=re+=1)g=i[c++],y=(x-x%s)/s,b=x<s?0:R[p-s],D===0?I=L=0:(I=R[(D-1)*P+y*s+x%s],L=y&&R[(D-1)*P+(y-1)*s+x%s]),_=b+I-L,j=Math.abs(_-b),E=Math.abs(_-I),T=Math.abs(_-L),A=j<=E&&j<=T?b:E<=T?I:L,R[p++]=(g+A)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!k){var F=((m+D*v)*u.width+f)*s,B=D*P;for(x=0;x<Z;x+=1){for(var z=0;z<s;z+=1)l[F++]=R[B++];F+=(h-1)*s}}D++}}return i=Iot(i),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var i,s,l,c,u,d,f,m,h;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,i=0,s=f=0,m=l.length;f<m;s=f+=3)u[c++]=l[s],u[c++]=l[s+1],u[c++]=l[s+2],u[c++]=(h=d[i++])!=null?h:255;return u},n.prototype.copyToImageData=function(i,s){var l,c,u,d,f,m,h,v,g,p,y;if(c=this.colors,g=null,l=this.hasAlphaChannel,this.palette.length&&(g=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,l=!0),v=(u=i.data||i).length,f=g||s,d=m=0,c===1)for(;d<v;)h=g?4*s[d/4]:m,p=f[h++],u[d++]=p,u[d++]=p,u[d++]=p,u[d++]=l?f[h++]:255,m=h;else for(;d<v;)h=g?4*s[d/4]:m,u[d++]=f[h++],u[d++]=f[h++],u[d++]=f[h++],u[d++]=l?f[h++]:255,m=h},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(_r)==="[object Window]"){try{e=_r.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,l,c,u,d,f,m,h;if(this.animation){for(h=[],l=d=0,f=(m=this.animation.frames).length;d<f;l=++d)s=m[l],c=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,h.push(s.image=t(c));return h}},n.prototype.renderFrame=function(i,s){var l,c,u;return l=(c=this.animation.frames)[s],u=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var s,l,c,u,d,f,m=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(s=function(){var h,v;if(h=l++%u,v=c[h],m.renderFrame(i,h),u>1&&l/u<d)return m.animation._timeout=setTimeout(s,v.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function nlt(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=s,e+=3*s);var u=!0,d=[],f=0,m=null,h=0,v=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];f=t[e++]|t[e++]<<8,m=t[e++],!(1&g)&&(m=null),h=g>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var p=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,w=t[e++],_=w>>6&1,j=1<<(7&w)+1,A=l,E=c,T=!1;w>>7&&(T=!0,A=e,E=j,e+=3*j);var R=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}d.push({x:p,y,width:x,height:b,has_local_palette:T,palette_offset:A,palette_size:E,data_offset:R,data_length:e-R,transparent_index:m,interlaced:!!_,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return v},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,I){var L=this.frameInfo(P),V=L.width*L.height,H=new Uint8Array(V);YV(t,L.data_offset,H,V);var q=L.palette_offset,G=L.transparent_index;G===null&&(G=256);var re=L.width,Z=r-re,de=re,k=4*(L.y*r+L.x),F=4*((L.y+L.height)*r+L.x),B=k,z=4*Z;L.interlaced===!0&&(z+=4*r*7);for(var ee=8,le=0,ge=H.length;le<ge;++le){var se=H[le];if(de===0&&(de=re,(B+=z)>=F&&(z=4*Z+4*r*(ee-1),B=k+(re+Z)*(ee<<1),ee>>=1)),se===G)B+=4;else{var ie=t[q+3*se],we=t[q+3*se+1],pe=t[q+3*se+2];I[B++]=pe,I[B++]=we,I[B++]=ie,I[B++]=255}--de}},this.decodeAndBlitFrameRGBA=function(P,I){var L=this.frameInfo(P),V=L.width*L.height,H=new Uint8Array(V);YV(t,L.data_offset,H,V);var q=L.palette_offset,G=L.transparent_index;G===null&&(G=256);var re=L.width,Z=r-re,de=re,k=4*(L.y*r+L.x),F=4*((L.y+L.height)*r+L.x),B=k,z=4*Z;L.interlaced===!0&&(z+=4*r*7);for(var ee=8,le=0,ge=H.length;le<ge;++le){var se=H[le];if(de===0&&(de=re,(B+=z)>=F&&(z=4*Z+4*r*(ee-1),B=k+(re+Z)*(ee<<1),ee>>=1)),se===G)B+=4;else{var ie=t[q+3*se],we=t[q+3*se+1],pe=t[q+3*se+2];I[B++]=ie,I[B++]=we,I[B++]=pe,I[B++]=255}--de}}}function YV(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,l=s+1,c=a+1,u=(1<<c)-1,d=0,f=0,m=0,h=t[e++],v=new Int32Array(4096),g=null;;){for(;d<16&&h!==0;)f|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<c)break;var p=f&u;if(f>>=c,d-=c,p!==i){if(p===s)break;for(var y=p<l?p:g,x=0,b=y;b>i;)b=v[b]>>8,++x;var w=b;if(m+x+(y!==p?1:0)>n)return void Zn.log("Warning, gif stream longer than expected.");r[m++]=w;var _=m+=x;for(y!==p&&(r[m++]=w),b=y;x--;)b=v[b],r[--_]=255&b,b>>=8;g!==null&&l<4096&&(v[l++]=g<<8|w,l>=u+1&&c<12&&(++c,u=u<<1|1)),g=p}else l=s+1,u=(1<<(c=a+1))-1,g=null}return m!==n&&Zn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function G4(t){var e,r,n,a,i,s=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),v=new Array(64),g=[],p=0,y=7,x=new Array(64),b=new Array(64),w=new Array(64),_=new Array(256),j=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(k,F){for(var B=0,z=0,ee=new Array,le=1;le<=16;le++){for(var ge=1;ge<=k[le];ge++)ee[F[z]]=[],ee[F[z]][0]=B,ee[F[z]][1]=le,z++,B++;B*=2}return ee}function q(k){for(var F=k[0],B=k[1]-1;B>=0;)F&1<<B&&(p|=1<<y),B--,--y<0&&(p==255?(G(255),G(0)):G(p),y=7,p=0)}function G(k){g.push(k)}function re(k){G(k>>8&255),G(255&k)}function Z(k,F,B,z,ee){for(var le,ge=ee[0],se=ee[240],ie=function(qe,st){var Pe,ne,ue,Ne,Re,Fe,Xe,it,vt,Ct,gt=0;for(vt=0;vt<8;++vt){Pe=qe[gt],ne=qe[gt+1],ue=qe[gt+2],Ne=qe[gt+3],Re=qe[gt+4],Fe=qe[gt+5],Xe=qe[gt+6];var Zr=Pe+(it=qe[gt+7]),ir=Pe-it,On=ne+Xe,zr=ne-Xe,Fr=ue+Fe,ca=ue-Fe,Gr=Ne+Re,xs=Ne-Re,Cn=Zr+Gr,Qi=Zr-Gr,Ji=On+Fr,Qr=On-Fr;qe[gt]=Cn+Ji,qe[gt+4]=Cn-Ji;var Ie=.707106781*(Qr+Qi);qe[gt+2]=Qi+Ie,qe[gt+6]=Qi-Ie;var Ye=.382683433*((Cn=xs+ca)-(Qr=zr+ir)),_t=.5411961*Cn+Ye,Nt=1.306562965*Qr+Ye,pr=.707106781*(Ji=ca+zr),kr=ir+pr,Qt=ir-pr;qe[gt+5]=Qt+_t,qe[gt+3]=Qt-_t,qe[gt+1]=kr+Nt,qe[gt+7]=kr-Nt,gt+=8}for(gt=0,vt=0;vt<8;++vt){Pe=qe[gt],ne=qe[gt+8],ue=qe[gt+16],Ne=qe[gt+24],Re=qe[gt+32],Fe=qe[gt+40],Xe=qe[gt+48];var Wa=Pe+(it=qe[gt+56]),ta=Pe-it,ua=ne+Xe,qa=ne-Xe,Ta=ue+Fe,J=ue-Fe,be=Ne+Re,fe=Ne-Re,me=Wa+be,xe=Wa-be,Se=ua+Ta,ze=ua-Ta;qe[gt]=me+Se,qe[gt+32]=me-Se;var Je=.707106781*(ze+xe);qe[gt+16]=xe+Je,qe[gt+48]=xe-Je;var Ue=.382683433*((me=fe+J)-(ze=qa+ta)),We=.5411961*me+Ue,Ge=1.306562965*ze+Ue,St=.707106781*(Se=J+qa),Tt=ta+St,zt=ta-St;qe[gt+40]=zt+We,qe[gt+24]=zt-We,qe[gt+8]=Tt+Ge,qe[gt+56]=Tt-Ge,gt++}for(vt=0;vt<64;++vt)Ct=qe[vt]*st[vt],h[vt]=Ct>0?Ct+.5|0:Ct-.5|0;return h}(k,F),we=0;we<64;++we)v[A[we]]=ie[we];var pe=v[0]-B;B=v[0],pe==0?q(z[0]):(q(z[m[le=32767+pe]]),q(f[le]));for(var Me=63;Me>0&&v[Me]==0;)Me--;if(Me==0)return q(ge),B;for(var he,oe=1;oe<=Me;){for(var X=oe;v[oe]==0&&oe<=Me;)++oe;var Ae=oe-X;if(Ae>=16){he=Ae>>4;for(var Be=1;Be<=he;++Be)q(se);Ae&=15}le=32767+v[oe],q(ee[(Ae<<4)+m[le]]),q(f[le]),oe++}return Me!=63&&q(ge),B}function de(k){k=Math.min(Math.max(k,1),100),i!=k&&(function(F){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var ee=s((B[z]*F+50)/100);ee=Math.min(Math.max(ee,1),255),l[A[z]]=ee}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var se=s((le[ge]*F+50)/100);se=Math.min(Math.max(se,1),255),c[A[ge]]=se}for(var ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,pe=0;pe<8;pe++)for(var Me=0;Me<8;Me++)u[we]=1/(l[A[we]]*ie[pe]*ie[Me]*8),d[we]=1/(c[A[we]]*ie[pe]*ie[Me]*8),we++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),i=k)}this.encode=function(k,F){F&&de(F),g=new Array,p=0,y=7,re(65496),re(65504),re(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),re(1),re(1),G(0),G(0),function(){re(65499),re(132),G(0);for(var ne=0;ne<64;ne++)G(l[ne]);G(1);for(var ue=0;ue<64;ue++)G(c[ue])}(),function(ne,ue){re(65472),re(17),G(8),re(ue),re(ne),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(k.width,k.height),function(){re(65476),re(418),G(0);for(var ne=0;ne<16;ne++)G(E[ne+1]);for(var ue=0;ue<=11;ue++)G(T[ue]);G(16);for(var Ne=0;Ne<16;Ne++)G(R[Ne+1]);for(var Re=0;Re<=161;Re++)G(D[Re]);G(1);for(var Fe=0;Fe<16;Fe++)G(P[Fe+1]);for(var Xe=0;Xe<=11;Xe++)G(I[Xe]);G(17);for(var it=0;it<16;it++)G(L[it+1]);for(var vt=0;vt<=161;vt++)G(V[vt])}(),re(65498),re(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var B=0,z=0,ee=0;p=0,y=7,this.encode.displayName="_encode_";for(var le,ge,se,ie,we,pe,Me,he,oe,X=k.data,Ae=k.width,Be=k.height,qe=4*Ae,st=0;st<Be;){for(le=0;le<qe;){for(we=qe*st+le,Me=-1,he=0,oe=0;oe<64;oe++)pe=we+(he=oe>>3)*qe+(Me=4*(7&oe)),st+he>=Be&&(pe-=qe*(st+1+he-Be)),le+Me>=qe&&(pe-=le+Me-qe+4),ge=X[pe++],se=X[pe++],ie=X[pe++],x[oe]=(j[ge]+j[se+256>>0]+j[ie+512>>0]>>16)-128,b[oe]=(j[ge+768>>0]+j[se+1024>>0]+j[ie+1280>>0]>>16)-128,w[oe]=(j[ge+1280>>0]+j[se+1536>>0]+j[ie+1792>>0]>>16)-128;B=Z(x,u,B,e,n),z=Z(b,d,z,r,a),ee=Z(w,d,ee,r,a),le+=32}st+=8}if(y>=0){var Pe=[];Pe[1]=y+1,Pe[0]=(1<<y+1)-1,q(Pe)}return re(65497),new Uint8Array(g)},t=t||50,function(){for(var k=String.fromCharCode,F=0;F<256;F++)_[F]=k(F)}(),e=H(E,T),r=H(P,I),n=H(R,D),a=H(L,V),function(){for(var k=1,F=2,B=1;B<=15;B++){for(var z=k;z<F;z++)m[32767+z]=B,f[32767+z]=[],f[32767+z][1]=B,f[32767+z][0]=z;for(var ee=-(F-1);ee<=-k;ee++)m[32767+ee]=B,f[32767+ee]=[],f[32767+ee][1]=B,f[32767+ee][0]=F-1+ee;k<<=1,F<<=1}}(),function(){for(var k=0;k<256;k++)j[k]=19595*k,j[k+256>>0]=38470*k,j[k+512>>0]=7471*k+32768,j[k+768>>0]=-11059*k,j[k+1024>>0]=-21709*k,j[k+1280>>0]=32768*k+8421375,j[k+1536>>0]=-27439*k,j[k+1792>>0]=-5329*k}(),de(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Sc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function KV(t){function e(E){if(!E)throw Error("assert :P")}function r(E,T,R){for(var D=0;4>D;D++)if(E[T+D]!=R.charCodeAt(D))return!0;return!1}function n(E,T,R,D,P){for(var I=0;I<P;I++)E[T+I]=R[D+I]}function a(E,T,R,D){for(var P=0;P<D;P++)E[T+P]=R}function i(E){return new Int32Array(E)}function s(E,T){for(var R=[],D=0;D<E;D++)R.push(new T);return R}function l(E,T){var R=[];return function D(P,I,L){for(var V=L[I],H=0;H<V&&(P.push(L.length>I+1?[]:new T),!(L.length<I+1));H++)D(P[H],I+1,L)}(R,0,E),R}var c=function(){var E=this;function T(S,C){for(var M=1<<C-1>>>0;S&M;)M>>>=1;return M?(S&M-1)+M:S}function R(S,C,M,U,Y){e(!(U%M));do S[C+(U-=M)]=Y;while(0<U)}function D(S,C,M,U,Y){if(e(2328>=Y),512>=Y)var Q=i(512);else if((Q=i(Y))==null)return 0;return function(te,ae,ce,ve,Te,Ve){var He,Le,ht=ae,et=1<<ce,ke=i(16),De=i(16);for(e(Te!=0),e(ve!=null),e(te!=null),e(0<ce),Le=0;Le<Te;++Le){if(15<ve[Le])return 0;++ke[ve[Le]]}if(ke[0]==Te)return 0;for(De[1]=0,He=1;15>He;++He){if(ke[He]>1<<He)return 0;De[He+1]=De[He]+ke[He]}for(Le=0;Le<Te;++Le)He=ve[Le],0<ve[Le]&&(Ve[De[He]++]=Le);if(De[15]==1)return(ve=new P).g=0,ve.value=Ve[0],R(te,ht,1,et,ve),et;var ut,xt=-1,dt=et-1,Wt=0,Mt=1,hr=1,Lt=1<<ce;for(Le=0,He=1,Te=2;He<=ce;++He,Te<<=1){if(Mt+=hr<<=1,0>(hr-=ke[He]))return 0;for(;0<ke[He];--ke[He])(ve=new P).g=He,ve.value=Ve[Le++],R(te,ht+Wt,Te,Lt,ve),Wt=T(Wt,He)}for(He=ce+1,Te=2;15>=He;++He,Te<<=1){if(Mt+=hr<<=1,0>(hr-=ke[He]))return 0;for(;0<ke[He];--ke[He]){if(ve=new P,(Wt&dt)!=xt){for(ht+=Lt,ut=1<<(xt=He)-ce;15>xt&&!(0>=(ut-=ke[xt]));)++xt,ut<<=1;et+=Lt=1<<(ut=xt-ce),te[ae+(xt=Wt&dt)].g=ut+ce,te[ae+xt].value=ht-ae-xt}ve.g=He-ce,ve.value=Ve[Le++],R(te,ht+(Wt>>ce),Te,Lt,ve),Wt=T(Wt,He)}}return Mt!=2*De[15]-1?0:et}(S,C,M,U,Y,Q)}function P(){this.value=this.g=0}function I(){this.value=this.g=0}function L(){this.G=s(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(es,I)}function V(S,C,M,U){e(S!=null),e(C!=null),e(2147483648>U),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=C,S.pa=M,S.Jd=C,S.Yc=M+U,S.Zc=4<=U?M+U-4+1:M,le(S)}function H(S,C){for(var M=0;0<C--;)M|=se(S,128)<<C;return M}function q(S,C){var M=H(S,C);return ge(S)?-M:M}function G(S,C,M,U){var Y,Q=0;for(e(S!=null),e(C!=null),e(4294967288>U),S.Sb=U,S.Ra=0,S.u=0,S.h=0,4<U&&(U=4),Y=0;Y<U;++Y)Q+=C[M+Y]<<8*Y;S.Ra=Q,S.bb=U,S.oa=C,S.pa=M}function re(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Rg-8>>>0,++S.bb,S.u-=8;B(S)&&(S.h=1,S.u=0)}function Z(S,C){if(e(0<=C),!S.h&&C<=Mg){var M=F(S)&Ig[C];return S.u+=C,re(S),M}return S.h=1,S.u=0}function de(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(S){return S.Ra>>>(S.u&Rg-1)>>>0}function B(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Rg}function z(S,C){S.u=C,S.h=B(S)}function ee(S){S.u>=mx&&(e(S.u>=mx),re(S))}function le(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function ge(S){return H(S,1)}function se(S,C){var M=S.Ca;0>S.b&&le(S);var U=S.b,Y=M*C>>>8,Q=(S.I>>>U>Y)+0;for(Q?(M-=Y,S.I-=Y+1<<U>>>0):M=Y+1,U=M,Y=0;256<=U;)Y+=8,U>>=8;return U=7^Y+xo[U],S.b-=U,S.Ca=(M<<U)-1,Q}function ie(S,C,M){S[C+0]=M>>24&255,S[C+1]=M>>16&255,S[C+2]=M>>8&255,S[C+3]=M>>0&255}function we(S,C){return S[C+0]<<0|S[C+1]<<8}function pe(S,C){return we(S,C)|S[C+2]<<16}function Me(S,C){return we(S,C)|we(S,C+2)<<16}function he(S,C){var M=1<<C;return e(S!=null),e(0<C),S.X=i(M),S.X==null?0:(S.Mb=32-C,S.Xa=C,1)}function oe(S,C){e(S!=null),e(C!=null),e(S.Xa==C.Xa),n(C.X,0,S.X,0,1<<C.Xa)}function X(){this.X=[],this.Xa=this.Mb=0}function Ae(S,C,M,U){e(M!=null),e(U!=null);var Y=M[0],Q=U[0];return Y==0&&(Y=(S*Q+C/2)/C),Q==0&&(Q=(C*Y+S/2)/S),0>=Y||0>=Q?0:(M[0]=Y,U[0]=Q,1)}function Be(S,C){return S+(1<<C)-1>>>C}function qe(S,C){return((4278255360&S)+(4278255360&C)>>>0&4278255360)+((16711935&S)+(16711935&C)>>>0&16711935)>>>0}function st(S,C){E[C]=function(M,U,Y,Q,te,ae,ce){var ve;for(ve=0;ve<te;++ve){var Te=E[S](ae[ce+ve-1],Y,Q+ve);ae[ce+ve]=qe(M[U+ve],Te)}}}function Pe(){this.ud=this.hd=this.jd=0}function ne(S,C){return((4278124286&(S^C))>>>1)+(S&C)>>>0}function ue(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function Ne(S,C){return ue(S+(S-C+.5>>1))}function Re(S,C,M){return Math.abs(C-M)-Math.abs(S-M)}function Fe(S,C,M,U,Y,Q,te){for(U=Q[te-1],M=0;M<Y;++M)Q[te+M]=U=qe(S[C+M],U)}function Xe(S,C,M,U,Y){var Q;for(Q=0;Q<M;++Q){var te=S[C+Q],ae=te>>8&255,ce=16711935&(ce=(ce=16711935&te)+((ae<<16)+ae));U[Y+Q]=(4278255360&te)+ce>>>0}}function it(S,C){C.jd=S>>0&255,C.hd=S>>8&255,C.ud=S>>16&255}function vt(S,C,M,U,Y,Q){var te;for(te=0;te<U;++te){var ae=C[M+te],ce=ae>>>8,ve=ae,Te=255&(Te=(Te=ae>>>16)+((S.jd<<24>>24)*(ce<<24>>24)>>>5));ve=255&(ve=(ve=ve+((S.hd<<24>>24)*(ce<<24>>24)>>>5))+((S.ud<<24>>24)*(Te<<24>>24)>>>5)),Y[Q+te]=(4278255360&ae)+(Te<<16)+ve}}function Ct(S,C,M,U,Y){E[C]=function(Q,te,ae,ce,ve,Te,Ve,He,Le){for(ce=Ve;ce<He;++ce)for(Ve=0;Ve<Le;++Ve)ve[Te++]=Y(ae[U(Q[te++])])},E[S]=function(Q,te,ae,ce,ve,Te,Ve){var He=8>>Q.b,Le=Q.Ea,ht=Q.K[0],et=Q.w;if(8>He)for(Q=(1<<Q.b)-1,et=(1<<He)-1;te<ae;++te){var ke,De=0;for(ke=0;ke<Le;++ke)ke&Q||(De=U(ce[ve++])),Te[Ve++]=Y(ht[De&et]),De>>=He}else E["VP8LMapColor"+M](ce,ve,ht,et,Te,Ve,te,ae,Le)}}function gt(S,C,M,U,Y){for(M=C+M;C<M;){var Q=S[C++];U[Y++]=Q>>16&255,U[Y++]=Q>>8&255,U[Y++]=Q>>0&255}}function Zr(S,C,M,U,Y){for(M=C+M;C<M;){var Q=S[C++];U[Y++]=Q>>16&255,U[Y++]=Q>>8&255,U[Y++]=Q>>0&255,U[Y++]=Q>>24&255}}function ir(S,C,M,U,Y){for(M=C+M;C<M;){var Q=(te=S[C++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;U[Y++]=Q,U[Y++]=te}}function On(S,C,M,U,Y){for(M=C+M;C<M;){var Q=(te=S[C++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;U[Y++]=Q,U[Y++]=te}}function zr(S,C,M,U,Y){for(M=C+M;C<M;){var Q=S[C++];U[Y++]=Q>>0&255,U[Y++]=Q>>8&255,U[Y++]=Q>>16&255}}function Fr(S,C,M,U,Y,Q){if(Q==0)for(M=C+M;C<M;)ie(U,((Q=S[C++])[0]>>24|Q[1]>>8&65280|Q[2]<<8&16711680|Q[3]<<24)>>>0),Y+=32;else n(U,Y,S,C,M)}function ca(S,C){E[C][0]=E[S+"0"],E[C][1]=E[S+"1"],E[C][2]=E[S+"2"],E[C][3]=E[S+"3"],E[C][4]=E[S+"4"],E[C][5]=E[S+"5"],E[C][6]=E[S+"6"],E[C][7]=E[S+"7"],E[C][8]=E[S+"8"],E[C][9]=E[S+"9"],E[C][10]=E[S+"10"],E[C][11]=E[S+"11"],E[C][12]=E[S+"12"],E[C][13]=E[S+"13"],E[C][14]=E[S+"0"],E[C][15]=E[S+"0"]}function Gr(S){return S==NC||S==AC||S==aS||S==EC}function xs(){this.eb=[],this.size=this.A=this.fb=0}function Cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xs,this.f.kb=new Cn,this.sd=null}function Ji(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ie(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function Ye(S,C){var M=S.T,U=C.ba.f.RGBA,Y=U.eb,Q=U.fb+S.ka*U.A,te=kl[C.ba.S],ae=S.y,ce=S.O,ve=S.f,Te=S.N,Ve=S.ea,He=S.W,Le=C.cc,ht=C.dc,et=C.Mc,ke=C.Nc,De=S.ka,ut=S.ka+S.T,xt=S.U,dt=xt+1>>1;for(De==0?te(ae,ce,null,null,ve,Te,Ve,He,ve,Te,Ve,He,Y,Q,null,null,xt):(te(C.ec,C.fc,ae,ce,Le,ht,et,ke,ve,Te,Ve,He,Y,Q-U.A,Y,Q,xt),++M);De+2<ut;De+=2)Le=ve,ht=Te,et=Ve,ke=He,Te+=S.Rc,He+=S.Rc,Q+=2*U.A,te(ae,(ce+=2*S.fa)-S.fa,ae,ce,Le,ht,et,ke,ve,Te,Ve,He,Y,Q-U.A,Y,Q,xt);return ce+=S.fa,S.j+ut<S.o?(n(C.ec,C.fc,ae,ce,xt),n(C.cc,C.dc,ve,Te,dt),n(C.Mc,C.Nc,Ve,He,dt),M--):1&ut||te(ae,ce,null,null,ve,Te,Ve,He,ve,Te,Ve,He,Y,Q+U.A,null,null,xt),M}function _t(S,C,M){var U=S.F,Y=[S.J];if(U!=null){var Q=S.U,te=C.ba.S,ae=te==nS||te==aS;C=C.ba.f.RGBA;var ce=[0],ve=S.ka;ce[0]=S.T,S.Kb&&(ve==0?--ce[0]:(--ve,Y[0]-=S.width),S.j+S.ka+S.T==S.o&&(ce[0]=S.o-S.j-ve));var Te=C.eb;ve=C.fb+ve*C.A,S=na(U,Y[0],S.width,Q,ce,Te,ve+(ae?0:3),C.A),e(M==ce),S&&Gr(te)&&Cl(Te,ve,ae,Q,ce,C.A)}return 0}function Nt(S){var C=S.ma,M=C.ba.S,U=11>M,Y=M==tS||M==rS||M==nS||M==jC||M==12||Gr(M);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!fx(C.Oa,S,Y?11:12))return 0;if(Y&&Gr(M)&&bt(),S.da)alert("todo:use_scaling");else{if(U){if(C.Ib=Ie,S.Kb){if(M=S.U+1>>1,C.memory=i(S.U+2*M),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+S.U,C.Mc=C.cc,C.Nc=C.dc+M,C.Ib=Ye,bt()}}else alert("todo:EmitYUV");Y&&(C.Jb=_t,U&&$e())}if(U&&!nL){for(S=0;256>S;++S)Yce[S]=89858*(S-128)+sS>>iS,Zce[S]=-22014*(S-128)+sS,Xce[S]=-45773*(S-128),Kce[S]=113618*(S-128)+sS>>iS;for(S=wx;S<kC;++S)C=76283*(S-16)+sS>>iS,Qce[S-wx]=Go(C,255),Jce[S-wx]=Go(C+8>>4,15);nL=1}return 1}function pr(S){var C=S.ma,M=S.U,U=S.T;return e(!(1&S.ka)),0>=M||0>=U?0:(M=C.Ib(S,C),C.Jb!=null&&C.Jb(S,C,M),C.Dc+=M,1)}function kr(S){S.ma.memory=null}function Qt(S,C,M,U){return Z(S,8)!=47?0:(C[0]=Z(S,14)+1,M[0]=Z(S,14)+1,U[0]=Z(S,1),Z(S,3)!=0?0:!S.h)}function Wa(S,C){if(4>S)return S+1;var M=S-2>>1;return(2+(1&S)<<M)+Z(C,M)+1}function ta(S,C){return 120<C?C-120:1<=(M=((M=Ice[C-1])>>4)*S+(8-(15&M)))?M:1;var M}function ua(S,C,M){var U=F(M),Y=S[C+=255&U].g-8;return 0<Y&&(z(M,M.u+8),U=F(M),C+=S[C].value,C+=U&(1<<Y)-1),z(M,M.u+S[C].g),S[C].value}function qa(S,C,M){return M.g+=S.g,M.value+=S.value<<C>>>0,e(8>=M.g),S.g}function Ta(S,C,M){var U=S.xc;return e((C=U==0?0:S.vc[S.md*(M>>U)+(C>>U)])<S.Wb),S.Ya[C]}function J(S,C,M,U){var Y=S.ab,Q=S.c*C,te=S.C;C=te+C;var ae=M,ce=U;for(U=S.Ta,M=S.Ua;0<Y--;){var ve=S.gc[Y],Te=te,Ve=C,He=ae,Le=ce,ht=(ce=U,ae=M,ve.Ea);switch(e(Te<Ve),e(Ve<=ve.nc),ve.hc){case 2:Y2(He,Le,(Ve-Te)*ht,ce,ae);break;case 0:var et=Te,ke=Ve,De=ce,ut=ae,xt=(Lt=ve).Ea;et==0&&(SC(He,Le,null,null,1,De,ut),Fe(He,Le+1,0,0,xt-1,De,ut+1),Le+=xt,ut+=xt,++et);for(var dt=1<<Lt.b,Wt=dt-1,Mt=Be(xt,Lt.b),hr=Lt.K,Lt=Lt.w+(et>>Lt.b)*Mt;et<ke;){var wn=hr,In=Lt,fn=1;for(px(He,Le,De,ut-xt,1,De,ut);fn<xt;){var tn=(fn&~Wt)+dt;tn>xt&&(tn=xt),(0,_f[wn[In++]>>8&15])(He,Le+ +fn,De,ut+fn-xt,tn-fn,De,ut+fn),fn=tn}Le+=xt,ut+=xt,++et&Wt||(Lt+=Mt)}Ve!=ve.nc&&n(ce,ae-ht,ce,ae+(Ve-Te-1)*ht,ht);break;case 1:for(ht=He,ke=Le,xt=(He=ve.Ea)-(ut=He&~(De=(Le=1<<ve.b)-1)),et=Be(He,ve.b),dt=ve.K,ve=ve.w+(Te>>ve.b)*et;Te<Ve;){for(Wt=dt,Mt=ve,hr=new Pe,Lt=ke+ut,wn=ke+He;ke<Lt;)it(Wt[Mt++],hr),_m(hr,ht,ke,Le,ce,ae),ke+=Le,ae+=Le;ke<wn&&(it(Wt[Mt++],hr),_m(hr,ht,ke,xt,ce,ae),ke+=xt,ae+=xt),++Te&De||(ve+=et)}break;case 3:if(He==ce&&Le==ae&&0<ve.b){for(ke=ce,He=ht=ae+(Ve-Te)*ht-(ut=(Ve-Te)*Be(ve.Ea,ve.b)),Le=ce,De=ae,et=[],ut=(xt=ut)-1;0<=ut;--ut)et[ut]=Le[De+ut];for(ut=xt-1;0<=ut;--ut)ke[He+ut]=et[ut];Nl(ve,Te,Ve,ce,ht,ce,ae)}else Nl(ve,Te,Ve,He,Le,ce,ae)}ae=U,ce=M}ce!=M&&n(U,M,ae,ce,Q)}function be(S,C){var M=S.V,U=S.Ba+S.c*S.C,Y=C-S.C;if(e(C<=S.l.o),e(16>=Y),0<Y){var Q=S.l,te=S.Ta,ae=S.Ua,ce=Q.width;if(J(S,Y,M,U),Y=ae=[ae],e((M=S.C)<(U=C)),e(Q.v<Q.va),U>Q.o&&(U=Q.o),M<Q.j){var ve=Q.j-M;M=Q.j,Y[0]+=ve*ce}if(M>=U?M=0:(Y[0]+=4*Q.v,Q.ka=M-Q.j,Q.U=Q.va-Q.v,Q.T=U-M,M=1),M){if(ae=ae[0],11>(M=S.ca).S){var Te=M.f.RGBA,Ve=(U=M.S,Y=Q.U,Q=Q.T,ve=Te.eb,Te.A),He=Q;for(Te=Te.fb+S.Ma*Te.A;0<He--;){var Le=te,ht=ae,et=Y,ke=ve,De=Te;switch(U){case eS:bo(Le,ht,et,ke,De);break;case tS:qs(Le,ht,et,ke,De);break;case NC:qs(Le,ht,et,ke,De),Cl(ke,De,0,et,1,0);break;case Y6:bd(Le,ht,et,ke,De);break;case rS:Fr(Le,ht,et,ke,De,1);break;case AC:Fr(Le,ht,et,ke,De,1),Cl(ke,De,0,et,1,0);break;case nS:Fr(Le,ht,et,ke,De,0);break;case aS:Fr(Le,ht,et,ke,De,0),Cl(ke,De,1,et,1,0);break;case jC:jf(Le,ht,et,ke,De);break;case EC:jf(Le,ht,et,ke,De),ra(ke,De,et,1,0);break;case K6:xd(Le,ht,et,ke,De);break;default:e(0)}ae+=ce,Te+=Ve}S.Ma+=Q}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=M.height)}}S.C=C,e(S.C<=S.i)}function fe(S){var C;if(0<S.ua)return 0;for(C=0;C<S.Wb;++C){var M=S.Ya[C].G,U=S.Ya[C].H;if(0<M[1][U[1]+0].g||0<M[2][U[2]+0].g||0<M[3][U[3]+0].g)return 0}return 1}function me(S,C,M,U,Y,Q){if(S.Z!=0){var te=S.qd,ae=S.rd;for(e(Cf[S.Z]!=null);C<M;++C)Cf[S.Z](te,ae,U,Y,U,Y,Q),te=U,ae=Y,Y+=Q;S.qd=te,S.rd=ae}}function xe(S,C){var M=S.l.ma,U=M.Z==0||M.Z==1?S.l.j:S.C;if(U=S.C<U?U:S.C,e(C<=S.l.o),C>U){var Y=S.l.width,Q=M.ca,te=M.tb+Y*U,ae=S.V,ce=S.Ba+S.c*U,ve=S.gc;e(S.ab==1),e(ve[0].hc==3),K2(ve[0],U,C,ae,ce,Q,te),me(M,U,C,Q,te,Y)}S.C=S.Ma=C}function Se(S,C,M,U,Y,Q,te){var ae=S.$/U,ce=S.$%U,ve=S.m,Te=S.s,Ve=M+S.$,He=Ve;Y=M+U*Y;var Le=M+U*Q,ht=280+Te.ua,et=S.Pb?ae:16777216,ke=0<Te.ua?Te.Wa:null,De=Te.wc,ut=Ve<Le?Ta(Te,ce,ae):null;e(S.C<Q),e(Le<=Y);var xt=!1;e:for(;;){for(;xt||Ve<Le;){var dt=0;if(ae>=et){var Wt=Ve-M;e((et=S).Pb),et.wd=et.m,et.xd=Wt,0<et.s.ua&&oe(et.s.Wa,et.s.vb),et=ae+Rce}if(ce&De||(ut=Ta(Te,ce,ae)),e(ut!=null),ut.Qb&&(C[Ve]=ut.qb,xt=!0),!xt)if(ee(ve),ut.jc){dt=ve,Wt=C;var Mt=Ve,hr=ut.pd[F(dt)&es-1];e(ut.jc),256>hr.g?(z(dt,dt.u+hr.g),Wt[Mt]=hr.value,dt=0):(z(dt,dt.u+hr.g-256),e(256<=hr.value),dt=hr.value),dt==0&&(xt=!0)}else dt=ua(ut.G[0],ut.H[0],ve);if(ve.h)break;if(xt||256>dt){if(!xt)if(ut.nd)C[Ve]=(ut.qb|dt<<8)>>>0;else{if(ee(ve),xt=ua(ut.G[1],ut.H[1],ve),ee(ve),Wt=ua(ut.G[2],ut.H[2],ve),Mt=ua(ut.G[3],ut.H[3],ve),ve.h)break;C[Ve]=(Mt<<24|xt<<16|dt<<8|Wt)>>>0}if(xt=!1,++Ve,++ce>=U&&(ce=0,++ae,te!=null&&ae<=Q&&!(ae%16)&&te(S,ae),ke!=null))for(;He<Ve;)dt=C[He++],ke.X[(506832829*dt&4294967295)>>>ke.Mb]=dt}else if(280>dt){if(dt=Wa(dt-256,ve),Wt=ua(ut.G[4],ut.H[4],ve),ee(ve),Wt=ta(U,Wt=Wa(Wt,ve)),ve.h)break;if(Ve-M<Wt||Y-Ve<dt)break e;for(Mt=0;Mt<dt;++Mt)C[Ve+Mt]=C[Ve+Mt-Wt];for(Ve+=dt,ce+=dt;ce>=U;)ce-=U,++ae,te!=null&&ae<=Q&&!(ae%16)&&te(S,ae);if(e(Ve<=Y),ce&De&&(ut=Ta(Te,ce,ae)),ke!=null)for(;He<Ve;)dt=C[He++],ke.X[(506832829*dt&4294967295)>>>ke.Mb]=dt}else{if(!(dt<ht))break e;for(xt=dt-280,e(ke!=null);He<Ve;)dt=C[He++],ke.X[(506832829*dt&4294967295)>>>ke.Mb]=dt;dt=Ve,e(!(xt>>>(Wt=ke).Xa)),C[dt]=Wt.X[xt],xt=!0}xt||e(ve.h==B(ve))}if(S.Pb&&ve.h&&Ve<Y)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&oe(S.s.vb,S.s.Wa);else{if(ve.h)break e;te!=null&&te(S,ae>Q?Q:ae),S.a=0,S.$=Ve-M}return 1}return S.a=3,0}function ze(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var C=S.Wa;C!=null&&(C.X=null),S.vb=null,e(S!=null)}function Je(){var S=new wC;return S==null?null:(S.a=0,S.xb=Q6,ca("Predictor","VP8LPredictors"),ca("Predictor","VP8LPredictors_C"),ca("PredictorAdd","VP8LPredictorsAdd"),ca("PredictorAdd","VP8LPredictorsAdd_C"),Y2=Xe,_m=vt,bo=gt,qs=Zr,jf=ir,xd=On,bd=zr,E.VP8LMapColor32b=Lg,E.VP8LMapColor8b=X2,S)}function Ue(S,C,M,U,Y){var Q=1,te=[S],ae=[C],ce=U.m,ve=U.s,Te=null,Ve=0;e:for(;;){if(M)for(;Q&&Z(ce,1);){var He=te,Le=ae,ht=U,et=1,ke=ht.m,De=ht.gc[ht.ab],ut=Z(ke,2);if(ht.Oc&1<<ut)Q=0;else{switch(ht.Oc|=1<<ut,De.hc=ut,De.Ea=He[0],De.nc=Le[0],De.K=[null],++ht.ab,e(4>=ht.ab),ut){case 0:case 1:De.b=Z(ke,3)+2,et=Ue(Be(De.Ea,De.b),Be(De.nc,De.b),0,ht,De.K),De.K=De.K[0];break;case 3:var xt,dt=Z(ke,8)+1,Wt=16<dt?0:4<dt?1:2<dt?2:3;if(He[0]=Be(De.Ea,Wt),De.b=Wt,xt=et=Ue(dt,1,0,ht,De.K)){var Mt,hr=dt,Lt=De,wn=1<<(8>>Lt.b),In=i(wn);if(In==null)xt=0;else{var fn=Lt.K[0],tn=Lt.w;for(In[0]=Lt.K[0][0],Mt=1;Mt<1*hr;++Mt)In[Mt]=qe(fn[tn+Mt],In[Mt-1]);for(;Mt<4*wn;++Mt)In[Mt]=0;Lt.K[0]=null,Lt.K[0]=In,xt=1}}et=xt;break;case 2:break;default:e(0)}Q=et}}if(te=te[0],ae=ae[0],Q&&Z(ce,1)&&!(Q=1<=(Ve=Z(ce,4))&&11>=Ve)){U.a=3;break e}var Xn;if(Xn=Q)t:{var Hn,Vr,mi,wo=U,pi=te,So=ae,Mn=Ve,Ko=M,Xo=wo.m,Mi=wo.s,ts=[null],Ys=1,Pl=0,yu=Mce[Mn];r:for(;;){if(Ko&&Z(Xo,1)){var Ri=Z(Xo,3)+2,jd=Be(pi,Ri),Cm=Be(So,Ri),zg=jd*Cm;if(!Ue(jd,Cm,0,wo,ts))break r;for(ts=ts[0],Mi.xc=Ri,Hn=0;Hn<zg;++Hn){var Tf=ts[Hn]>>8&65535;ts[Hn]=Tf,Tf>=Ys&&(Ys=Tf+1)}}if(Xo.h)break r;for(Vr=0;5>Vr;++Vr){var Pa=X6[Vr];!Vr&&0<Mn&&(Pa+=1<<Mn),Pl<Pa&&(Pl=Pa)}var PC=s(Ys*yu,P),sL=Ys,oL=s(sL,L);if(oL==null)var lS=null;else e(65536>=sL),lS=oL;var Sx=i(Pl);if(lS==null||Sx==null||PC==null){wo.a=1;break r}var cS=PC;for(Hn=mi=0;Hn<Ys;++Hn){var pc=lS[Hn],Vg=pc.G,Hg=pc.H,lL=0,uS=1,cL=0;for(Vr=0;5>Vr;++Vr){Pa=X6[Vr],Vg[Vr]=cS,Hg[Vr]=mi,!Vr&&0<Mn&&(Pa+=1<<Mn);a:{var dS,DC=Pa,fS=wo,_x=Sx,rue=cS,nue=mi,OC=0,kf=fS.m,aue=Z(kf,1);if(a(_x,0,0,DC),aue){var iue=Z(kf,1)+1,sue=Z(kf,1),uL=Z(kf,sue==0?1:8);_x[uL]=1,iue==2&&(_x[uL=Z(kf,8)]=1);var hS=1}else{var dL=i(19),fL=Z(kf,4)+4;if(19<fL){fS.a=3;var mS=0;break a}for(dS=0;dS<fL;++dS)dL[Oce[dS]]=Z(kf,3);var IC=void 0,jx=void 0,hL=fS,oue=dL,pS=DC,mL=_x,MC=0,Pf=hL.m,pL=8,gL=s(128,P);n:for(;D(gL,0,7,oue,19);){if(Z(Pf,1)){var lue=2+2*Z(Pf,3);if((IC=2+Z(Pf,lue))>pS)break n}else IC=pS;for(jx=0;jx<pS&&IC--;){ee(Pf);var vL=gL[0+(127&F(Pf))];z(Pf,Pf.u+vL.g);var Wg=vL.value;if(16>Wg)mL[jx++]=Wg,Wg!=0&&(pL=Wg);else{var cue=Wg==16,yL=Wg-16,uue=Pce[yL],xL=Z(Pf,kce[yL])+uue;if(jx+xL>pS)break n;for(var due=cue?pL:0;0<xL--;)mL[jx++]=due}}MC=1;break n}MC||(hL.a=3),hS=MC}(hS=hS&&!kf.h)&&(OC=D(rue,nue,8,_x,DC)),hS&&OC!=0?mS=OC:(fS.a=3,mS=0)}if(mS==0)break r;if(uS&&Dce[Vr]==1&&(uS=cS[mi].g==0),lL+=cS[mi].g,mi+=mS,3>=Vr){var Nx,RC=Sx[0];for(Nx=1;Nx<Pa;++Nx)Sx[Nx]>RC&&(RC=Sx[Nx]);cL+=RC}}if(pc.nd=uS,pc.Qb=0,uS&&(pc.qb=(Vg[3][Hg[3]+0].value<<24|Vg[1][Hg[1]+0].value<<16|Vg[2][Hg[2]+0].value)>>>0,lL==0&&256>Vg[0][Hg[0]+0].value&&(pc.Qb=1,pc.qb+=Vg[0][Hg[0]+0].value<<8)),pc.jc=!pc.Qb&&6>cL,pc.jc){var gS,Nd=pc;for(gS=0;gS<es;++gS){var Df=gS,Of=Nd.pd[Df],vS=Nd.G[0][Nd.H[0]+Df];256<=vS.value?(Of.g=vS.g+256,Of.value=vS.value):(Of.g=0,Of.value=0,Df>>=qa(vS,8,Of),Df>>=qa(Nd.G[1][Nd.H[1]+Df],16,Of),Df>>=qa(Nd.G[2][Nd.H[2]+Df],0,Of),qa(Nd.G[3][Nd.H[3]+Df],24,Of))}}}Mi.vc=ts,Mi.Wb=Ys,Mi.Ya=lS,Mi.yc=PC,Xn=1;break t}Xn=0}if(!(Q=Xn)){U.a=3;break e}if(0<Ve){if(ve.ua=1<<Ve,!he(ve.Wa,Ve)){U.a=1,Q=0;break e}}else ve.ua=0;var LC=U,bL=te,fue=ae,FC=LC.s,$C=FC.xc;if(LC.c=bL,LC.i=fue,FC.md=Be(bL,$C),FC.wc=$C==0?-1:(1<<$C)-1,M){U.xb=Vce;break e}if((Te=i(te*ae))==null){U.a=1,Q=0;break e}Q=(Q=Se(U,Te,0,te,ae,ae,null))&&!ce.h;break e}return Q?(Y!=null?Y[0]=Te:(e(Te==null),e(M)),U.$=0,M||ze(ve)):ze(ve),Q}function We(S,C){var M=S.c*S.i,U=M+C+16*C;return e(S.c<=C),S.V=i(U),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+M+C,1)}function Ge(S,C){var M=S.C,U=C-M,Y=S.V,Q=S.Ba+S.c*M;for(e(C<=S.l.o);0<U;){var te=16<U?16:U,ae=S.l.ma,ce=S.l.width,ve=ce*te,Te=ae.ca,Ve=ae.tb+ce*M,He=S.Ta,Le=S.Ua;J(S,te,Y,Q),Ka(He,Le,Te,Ve,ve),me(ae,M,M+te,Te,Ve,ce),U-=te,Y+=te*S.c,M+=te}e(M==C),S.C=S.Ma=C}function St(){this.ub=this.yd=this.td=this.Rb=0}function Tt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function At(){this.Yb=function(){var S=[];return function C(M,U,Y){for(var Q=Y[U],te=0;te<Q&&(M.push(Y.length>U+1?[]:0),!(Y.length<U+1));te++)C(M[te],U+1,Y)}(S,0,[3,11]),S}()}function $t(){this.jb=i(3),this.Wc=l([4,8],At),this.Xc=l([4,17],At)}function Tr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Tn(){this.ld=this.La=this.dd=this.tc=0}function Vn(){this.Na=this.la=0}function fi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function cc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gd(){this.uc=this.M=this.Nb=0,this.wa=Array(new Tn),this.Y=0,this.ya=Array(new cc),this.aa=0,this.l=new mu}function hu(){this.y=i(16),this.f=i(8),this.ea=i(8)}function uc(){this.cb=this.a=0,this.sc="",this.m=new de,this.Od=new St,this.Kc=new Tt,this.ed=new Tr,this.Qa=new zt,this.Ic=this.$c=this.Aa=0,this.D=new gd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,de),this.ia=0,this.pb=s(4,fi),this.Pa=new $t,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hu),this.Hd=0,this.rb=Array(new Vn),this.sb=0,this.wa=Array(new Tn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new cc),this.L=this.aa=0,this.gd=l([4,2],Tn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function mu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qo(){var S=new uc;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,bx||(bx=O2)),S}function Ga(S,C,M){return S.a==0&&(S.a=C,S.sc=M,S.cb=0),0}function P2(S,C,M){return 3<=M&&S[C+0]==157&&S[C+1]==1&&S[C+2]==42}function D2(S,C){if(S==null)return 0;if(S.a=0,S.sc="OK",C==null)return Ga(S,2,"null VP8Io passed to VP8GetHeaders()");var M=C.data,U=C.w,Y=C.ha;if(4>Y)return Ga(S,7,"Truncated header.");var Q=M[U+0]|M[U+1]<<8|M[U+2]<<16,te=S.Od;if(te.Rb=!(1&Q),te.td=Q>>1&7,te.yd=Q>>4&1,te.ub=Q>>5,3<te.td)return Ga(S,3,"Incorrect keyframe parameters.");if(!te.yd)return Ga(S,4,"Frame not displayable.");U+=3,Y-=3;var ae=S.Kc;if(te.Rb){if(7>Y)return Ga(S,7,"cannot parse picture header");if(!P2(M,U,Y))return Ga(S,3,"Bad code word");ae.c=16383&(M[U+4]<<8|M[U+3]),ae.Td=M[U+4]>>6,ae.i=16383&(M[U+6]<<8|M[U+5]),ae.Ud=M[U+6]>>6,U+=7,Y-=7,S.za=ae.c+15>>4,S.Ub=ae.i+15>>4,C.width=ae.c,C.height=ae.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((Q=S.Pa).jb,0,255,Q.jb.length),e((Q=S.Qa)!=null),Q.Cb=0,Q.Bb=0,Q.Fb=1,a(Q.Zb,0,0,Q.Zb.length),a(Q.Lb,0,0,Q.Lb)}if(te.ub>Y)return Ga(S,7,"bad partition length");V(Q=S.m,M,U,te.ub),U+=te.ub,Y-=te.ub,te.Rb&&(ae.Ld=ge(Q),ae.Kd=ge(Q)),ae=S.Qa;var ce,ve=S.Pa;if(e(Q!=null),e(ae!=null),ae.Cb=ge(Q),ae.Cb){if(ae.Bb=ge(Q),ge(Q)){for(ae.Fb=ge(Q),ce=0;4>ce;++ce)ae.Zb[ce]=ge(Q)?q(Q,7):0;for(ce=0;4>ce;++ce)ae.Lb[ce]=ge(Q)?q(Q,6):0}if(ae.Bb)for(ce=0;3>ce;++ce)ve.jb[ce]=ge(Q)?H(Q,8):255}else ae.Bb=0;if(Q.Ka)return Ga(S,3,"cannot parse segment header");if((ae=S.ed).zd=ge(Q),ae.Tb=H(Q,6),ae.wb=H(Q,3),ae.Pc=ge(Q),ae.Pc&&ge(Q)){for(ve=0;4>ve;++ve)ge(Q)&&(ae.vd[ve]=q(Q,6));for(ve=0;4>ve;++ve)ge(Q)&&(ae.od[ve]=q(Q,6))}if(S.L=ae.Tb==0?0:ae.zd?1:2,Q.Ka)return Ga(S,3,"cannot parse filter header");var Te=Y;if(Y=ce=U,U=ce+Te,ae=Te,S.Xb=(1<<H(S.m,2))-1,Te<3*(ve=S.Xb))M=7;else{for(ce+=3*ve,ae-=3*ve,Te=0;Te<ve;++Te){var Ve=M[Y+0]|M[Y+1]<<8|M[Y+2]<<16;Ve>ae&&(Ve=ae),V(S.Jc[+Te],M,ce,Ve),ce+=Ve,ae-=Ve,Y+=3}V(S.Jc[+ve],M,ce,ae),M=ce<U?0:5}if(M!=0)return Ga(S,M,"cannot parse partitions");for(M=H(ce=S.m,7),Y=ge(ce)?q(ce,4):0,U=ge(ce)?q(ce,4):0,ae=ge(ce)?q(ce,4):0,ve=ge(ce)?q(ce,4):0,ce=ge(ce)?q(ce,4):0,Te=S.Qa,Ve=0;4>Ve;++Ve){if(Te.Cb){var He=Te.Zb[Ve];Te.Fb||(He+=M)}else{if(0<Ve){S.pb[Ve]=S.pb[0];continue}He=M}var Le=S.pb[Ve];Le.Sc[0]=CC[Go(He+Y,127)],Le.Sc[1]=TC[Go(He+0,127)],Le.Eb[0]=2*CC[Go(He+U,127)],Le.Eb[1]=101581*TC[Go(He+ae,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=CC[Go(He+ve,117)],Le.Qc[1]=TC[Go(He+ce,127)],Le.lc=He+ce}if(!te.Rb)return Ga(S,4,"Not a key frame.");for(ge(Q),te=S.Pa,M=0;4>M;++M){for(Y=0;8>Y;++Y)for(U=0;3>U;++U)for(ae=0;11>ae;++ae)ve=se(Q,Uce[M][Y][U][ae])?H(Q,8):$ce[M][Y][U][ae],te.Wc[M][Y].Yb[U][ae]=ve;for(Y=0;17>Y;++Y)te.Xc[M][Y]=te.Wc[M][zce[Y]]}return S.kc=ge(Q),S.kc&&(S.Bd=H(Q,8)),S.cb=1}function O2(S,C,M,U,Y,Q,te){var ae=C[Y].Yb[M];for(M=0;16>Y;++Y){if(!se(S,ae[M+0]))return Y;for(;!se(S,ae[M+1]);)if(ae=C[++Y].Yb[0],M=0,Y==16)return 16;var ce=C[Y+1].Yb;if(se(S,ae[M+2])){var ve=S,Te=0;if(se(ve,(He=ae)[(Ve=M)+3]))if(se(ve,He[Ve+6])){for(ae=0,Ve=2*(Te=se(ve,He[Ve+8]))+(He=se(ve,He[Ve+9+Te])),Te=0,He=Lce[Ve];He[ae];++ae)Te+=Te+se(ve,He[ae]);Te+=3+(8<<Ve)}else se(ve,He[Ve+7])?(Te=7+2*se(ve,165),Te+=se(ve,145)):Te=5+se(ve,159);else Te=se(ve,He[Ve+4])?3+se(ve,He[Ve+5]):2;ae=ce[2]}else Te=1,ae=ce[1];ce=te+Fce[Y],0>(ve=S).b&&le(ve);var Ve,He=ve.b,Le=(Ve=ve.Ca>>1)-(ve.I>>He)>>31;--ve.b,ve.Ca+=Le,ve.Ca|=1,ve.I-=(Ve+1&Le)<<He,Q[ce]=((Te^Le)-Le)*U[(0<Y)+0]}return 16}function Zy(S){var C=S.rb[S.sb-1];C.la=0,C.Na=0,a(S.zc,0,0,S.zc.length),S.ja=0}function aC(S,C){if(S==null)return 0;if(C==null)return Ga(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!D2(S,C))return 0;if(e(S.cb),C.ac==null||C.ac(C)){C.ob&&(S.L=0);var M=oS[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=C.v-M>>4,S.zb=C.j-M>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=C.o+15+M>>4,S.Hb=C.va+15+M>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var U=S.ed;for(M=0;4>M;++M){var Y;if(S.Qa.Cb){var Q=S.Qa.Lb[M];S.Qa.Fb||(Q+=U.Tb)}else Q=U.Tb;for(Y=0;1>=Y;++Y){var te=S.gd[M][Y],ae=Q;if(U.Pc&&(ae+=U.vd[0],Y&&(ae+=U.od[0])),0<(ae=0>ae?0:63<ae?63:ae)){var ce=ae;0<U.wb&&(ce=4<U.wb?ce>>2:ce>>1)>9-U.wb&&(ce=9-U.wb),1>ce&&(ce=1),te.dd=ce,te.tc=2*ae+ce,te.ld=40<=ae?2:15<=ae?1:0}else te.tc=0;te.La=Y}}}M=0}else Ga(S,6,"Frame setup failed"),M=S.a;if(M=M==0){if(M){S.$c=0,0<S.Aa||(S.Ic=tue);e:{M=S.Ic,U=4*(ce=S.za);var ve=32*ce,Te=ce+1,Ve=0<S.L?ce*(0<S.Aa?2:1):0,He=(S.Aa==2?2:1)*ce;if((te=U+832+(Y=3*(16*M+oS[S.L])/2*ve)+(Q=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=te)M=0;else{if(te>S.Vb){if(S.Vb=0,S.Ec=i(te),S.Fc=0,S.Ec==null){M=Ga(S,1,"no memory during frame initialization.");break e}S.Vb=te}te=S.Ec,ae=S.Fc,S.Ac=te,S.Bc=ae,ae+=U,S.Gd=s(ve,hu),S.Hd=0,S.rb=s(Te+1,Vn),S.sb=1,S.wa=Ve?s(Ve,Tn):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=ce),e(!0),S.oc=te,S.pc=ae,ae+=832,S.ya=s(He,cc),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=ce),S.R=16*ce,S.B=8*ce,ce=(ve=oS[S.L])*S.R,ve=ve/2*S.B,S.sa=te,S.ta=ae+ce,S.qa=S.sa,S.ra=S.ta+16*M*S.R+ve,S.Ha=S.qa,S.Ia=S.ra+8*M*S.B+ve,S.$c=0,ae+=Y,S.mb=Q?te:null,S.nb=Q?ae:null,e(ae+Q<=S.Fc+S.Vb),Zy(S),a(S.Ac,S.Bc,0,U),M=1}}if(M){if(C.ka=0,C.y=S.sa,C.O=S.ta,C.f=S.qa,C.N=S.ra,C.ea=S.Ha,C.Vd=S.Ia,C.fa=S.R,C.Rc=S.B,C.F=null,C.J=0,!Q2){for(M=-255;255>=M;++M)Ni[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)Sd[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)xx[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Ug[255+M]=0>M?0:255<M?255:M;Q2=1}Fg=oC,wd=iC,gx=M2,Gs=sC,Al=R2,Ya=I2,$g=nx,Z2=wm,vx=bC,jm=ax,Nm=xC,Nf=Tg,Am=ix,Bg=W2,Em=H2,Af=gu,yx=yd,El=yC,mc[0]=pu,mc[1]=lC,mc[2]=fC,mc[3]=hC,mc[4]=$2,mc[5]=Eg,mc[6]=B2,mc[7]=ex,mc[8]=pC,mc[9]=mC,Ef[0]=L2,Ef[1]=uC,Ef[2]=vd,Ef[3]=Ng,Ef[4]=bs,Ef[5]=dC,Ef[6]=F2,_d[0]=bf,_d[1]=cC,_d[2]=gC,_d[3]=tx,_d[4]=bm,_d[5]=vC,_d[6]=rx,M=1}else M=0}M&&(M=function(Le,ht){for(Le.M=0;Le.M<Le.Va;++Le.M){var et,ke=Le.Jc[Le.M&Le.Xb],De=Le.m,ut=Le;for(et=0;et<ut.za;++et){var xt=De,dt=ut,Wt=dt.Ac,Mt=dt.Bc+4*et,hr=dt.zc,Lt=dt.ya[dt.aa+et];if(dt.Qa.Bb?Lt.$b=se(xt,dt.Pa.jb[0])?2+se(xt,dt.Pa.jb[2]):se(xt,dt.Pa.jb[1]):Lt.$b=0,dt.kc&&(Lt.Ad=se(xt,dt.Bd)),Lt.Za=!se(xt,145)+0,Lt.Za){var wn=Lt.Ob,In=0;for(dt=0;4>dt;++dt){var fn,tn=hr[0+dt];for(fn=0;4>fn;++fn){tn=Bce[Wt[Mt+fn]][tn];for(var Xn=Z6[se(xt,tn[0])];0<Xn;)Xn=Z6[2*Xn+se(xt,tn[Xn])];tn=-Xn,Wt[Mt+fn]=tn}n(wn,In,Wt,Mt,4),In+=4,hr[0+dt]=tn}}else tn=se(xt,156)?se(xt,128)?1:3:se(xt,163)?2:0,Lt.Ob[0]=tn,a(Wt,Mt,tn,4),a(hr,0,tn,4);Lt.Dd=se(xt,142)?se(xt,114)?se(xt,183)?1:3:2:0}if(ut.m.Ka)return Ga(Le,7,"Premature end-of-partition0 encountered.");for(;Le.ja<Le.za;++Le.ja){if(ut=ke,xt=(De=Le).rb[De.sb-1],Wt=De.rb[De.sb+De.ja],et=De.ya[De.aa+De.ja],Mt=De.kc?et.Ad:0)xt.la=Wt.la=0,et.Za||(xt.Na=Wt.Na=0),et.Hc=0,et.Gc=0,et.ia=0;else{var Hn,Vr;if(xt=Wt,Wt=ut,Mt=De.Pa.Xc,hr=De.ya[De.aa+De.ja],Lt=De.pb[hr.$b],dt=hr.ad,wn=0,In=De.rb[De.sb-1],tn=fn=0,a(dt,wn,0,384),hr.Za)var mi=0,wo=Mt[3];else{Xn=i(16);var pi=xt.Na+In.Na;if(pi=bx(Wt,Mt[1],pi,Lt.Eb,0,Xn,0),xt.Na=In.Na=(0<pi)+0,1<pi)Fg(Xn,0,dt,wn);else{var So=Xn[0]+3>>3;for(Xn=0;256>Xn;Xn+=16)dt[wn+Xn]=So}mi=1,wo=Mt[0]}var Mn=15&xt.la,Ko=15&In.la;for(Xn=0;4>Xn;++Xn){var Xo=1&Ko;for(So=Vr=0;4>So;++So)Mn=Mn>>1|(Xo=(pi=bx(Wt,wo,pi=Xo+(1&Mn),Lt.Sc,mi,dt,wn))>mi)<<7,Vr=Vr<<2|(3<pi?3:1<pi?2:dt[wn+0]!=0),wn+=16;Mn>>=4,Ko=Ko>>1|Xo<<7,fn=(fn<<8|Vr)>>>0}for(wo=Mn,mi=Ko>>4,Hn=0;4>Hn;Hn+=2){for(Vr=0,Mn=xt.la>>4+Hn,Ko=In.la>>4+Hn,Xn=0;2>Xn;++Xn){for(Xo=1&Ko,So=0;2>So;++So)pi=Xo+(1&Mn),Mn=Mn>>1|(Xo=0<(pi=bx(Wt,Mt[2],pi,Lt.Qc,0,dt,wn)))<<3,Vr=Vr<<2|(3<pi?3:1<pi?2:dt[wn+0]!=0),wn+=16;Mn>>=2,Ko=Ko>>1|Xo<<5}tn|=Vr<<4*Hn,wo|=Mn<<4<<Hn,mi|=(240&Ko)<<Hn}xt.la=wo,In.la=mi,hr.Hc=fn,hr.Gc=tn,hr.ia=43690&tn?0:Lt.ia,Mt=!(fn|tn)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[et.$b][et.Za],De.wa[De.Y+De.ja].La|=!Mt),ut.Ka)return Ga(Le,7,"Premature end-of-file encountered.")}if(Zy(Le),De=ht,ut=1,et=(ke=Le).D,xt=0<ke.L&&ke.M>=ke.zb&&ke.M<=ke.Va,ke.Aa==0)e:{if(et.M=ke.M,et.uc=xt,dx(ke,et),ut=1,et=(Vr=ke.D).Nb,xt=(tn=oS[ke.L])*ke.R,Wt=tn/2*ke.B,Xn=16*et*ke.R,So=8*et*ke.B,Mt=ke.sa,hr=ke.ta-xt+Xn,Lt=ke.qa,dt=ke.ra-Wt+So,wn=ke.Ha,In=ke.Ia-Wt+So,Ko=(Mn=Vr.M)==0,fn=Mn>=ke.Va-1,ke.Aa==2&&dx(ke,Vr),Vr.uc)for(Xo=(pi=ke).D.M,e(pi.D.uc),Vr=pi.yb;Vr<pi.Hb;++Vr){mi=Vr,wo=Xo;var Mi=(ts=(Pa=pi).D).Nb;Hn=Pa.R;var ts=ts.wa[ts.Y+mi],Ys=Pa.sa,Pl=Pa.ta+16*Mi*Hn+16*mi,yu=ts.dd,Ri=ts.tc;if(Ri!=0)if(e(3<=Ri),Pa.L==1)0<mi&&Af(Ys,Pl,Hn,Ri+4),ts.La&&El(Ys,Pl,Hn,Ri),0<wo&&Em(Ys,Pl,Hn,Ri+4),ts.La&&yx(Ys,Pl,Hn,Ri);else{var jd=Pa.B,Cm=Pa.qa,zg=Pa.ra+8*Mi*jd+8*mi,Tf=Pa.Ha,Pa=Pa.Ia+8*Mi*jd+8*mi;Mi=ts.ld,0<mi&&(Z2(Ys,Pl,Hn,Ri+4,yu,Mi),jm(Cm,zg,Tf,Pa,jd,Ri+4,yu,Mi)),ts.La&&(Nf(Ys,Pl,Hn,Ri,yu,Mi),Bg(Cm,zg,Tf,Pa,jd,Ri,yu,Mi)),0<wo&&($g(Ys,Pl,Hn,Ri+4,yu,Mi),vx(Cm,zg,Tf,Pa,jd,Ri+4,yu,Mi)),ts.La&&(Nm(Ys,Pl,Hn,Ri,yu,Mi),Am(Cm,zg,Tf,Pa,jd,Ri,yu,Mi))}}if(ke.ia&&alert("todo:DitherRow"),De.put!=null){if(Vr=16*Mn,Mn=16*(Mn+1),Ko?(De.y=ke.sa,De.O=ke.ta+Xn,De.f=ke.qa,De.N=ke.ra+So,De.ea=ke.Ha,De.W=ke.Ia+So):(Vr-=tn,De.y=Mt,De.O=hr,De.f=Lt,De.N=dt,De.ea=wn,De.W=In),fn||(Mn-=tn),Mn>De.o&&(Mn=De.o),De.F=null,De.J=null,ke.Fa!=null&&0<ke.Fa.length&&Vr<Mn&&(De.J=cx(ke,De,Vr,Mn-Vr),De.F=ke.mb,De.F==null&&De.F.length==0)){ut=Ga(ke,3,"Could not decode alpha data.");break e}Vr<De.j&&(tn=De.j-Vr,Vr=De.j,e(!(1&tn)),De.O+=ke.R*tn,De.N+=ke.B*(tn>>1),De.W+=ke.B*(tn>>1),De.F!=null&&(De.J+=De.width*tn)),Vr<Mn&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=Vr-De.j,De.U=De.va-De.v,De.T=Mn-Vr,ut=De.put(De))}et+1!=ke.Ic||fn||(n(ke.sa,ke.ta-xt,Mt,hr+16*ke.R,xt),n(ke.qa,ke.ra-Wt,Lt,dt+8*ke.B,Wt),n(ke.Ha,ke.Ia-Wt,wn,In+8*ke.B,Wt))}if(!ut)return Ga(Le,6,"Output aborted.")}return 1}(S,C)),C.bc!=null&&C.bc(C),M&=1}return M?(S.cb=0,M):0}function dc(S,C,M,U,Y){Y=S[C+M+32*U]+(Y>>3),S[C+M+32*U]=-256&Y?0>Y?0:255:Y}function jg(S,C,M,U,Y,Q){dc(S,C,0,M,U+Y),dc(S,C,1,M,U+Q),dc(S,C,2,M,U-Q),dc(S,C,3,M,U-Y)}function yo(S){return(20091*S>>16)+S}function Qy(S,C,M,U){var Y,Q=0,te=i(16);for(Y=0;4>Y;++Y){var ae=S[C+0]+S[C+8],ce=S[C+0]-S[C+8],ve=(35468*S[C+4]>>16)-yo(S[C+12]),Te=yo(S[C+4])+(35468*S[C+12]>>16);te[Q+0]=ae+Te,te[Q+1]=ce+ve,te[Q+2]=ce-ve,te[Q+3]=ae-Te,Q+=4,C++}for(Y=Q=0;4>Y;++Y)ae=(S=te[Q+0]+4)+te[Q+8],ce=S-te[Q+8],ve=(35468*te[Q+4]>>16)-yo(te[Q+12]),dc(M,U,0,0,ae+(Te=yo(te[Q+4])+(35468*te[Q+12]>>16))),dc(M,U,1,0,ce+ve),dc(M,U,2,0,ce-ve),dc(M,U,3,0,ae-Te),Q++,U+=32}function I2(S,C,M,U){var Y=S[C+0]+4,Q=35468*S[C+4]>>16,te=yo(S[C+4]),ae=35468*S[C+1]>>16;jg(M,U,0,Y+te,S=yo(S[C+1]),ae),jg(M,U,1,Y+Q,S,ae),jg(M,U,2,Y-Q,S,ae),jg(M,U,3,Y-te,S,ae)}function iC(S,C,M,U,Y){Qy(S,C,M,U),Y&&Qy(S,C+16,M,U+4)}function M2(S,C,M,U){wd(S,C+0,M,U,1),wd(S,C+32,M,U+128,1)}function sC(S,C,M,U){var Y;for(S=S[C+0]+4,Y=0;4>Y;++Y)for(C=0;4>C;++C)dc(M,U,C,Y,S)}function R2(S,C,M,U){S[C+0]&&Gs(S,C+0,M,U),S[C+16]&&Gs(S,C+16,M,U+4),S[C+32]&&Gs(S,C+32,M,U+128),S[C+48]&&Gs(S,C+48,M,U+128+4)}function oC(S,C,M,U){var Y,Q=i(16);for(Y=0;4>Y;++Y){var te=S[C+0+Y]+S[C+12+Y],ae=S[C+4+Y]+S[C+8+Y],ce=S[C+4+Y]-S[C+8+Y],ve=S[C+0+Y]-S[C+12+Y];Q[0+Y]=te+ae,Q[8+Y]=te-ae,Q[4+Y]=ve+ce,Q[12+Y]=ve-ce}for(Y=0;4>Y;++Y)te=(S=Q[0+4*Y]+3)+Q[3+4*Y],ae=Q[1+4*Y]+Q[2+4*Y],ce=Q[1+4*Y]-Q[2+4*Y],ve=S-Q[3+4*Y],M[U+0]=te+ae>>3,M[U+16]=ve+ce>>3,M[U+32]=te-ae>>3,M[U+48]=ve-ce>>3,U+=64}function Jy(S,C,M){var U,Y=C-32,Q=Yo,te=255-S[Y-1];for(U=0;U<M;++U){var ae,ce=Q,ve=te+S[C-1];for(ae=0;ae<M;++ae)S[C+ae]=ce[ve+S[Y+ae]];C+=32}}function lC(S,C){Jy(S,C,4)}function cC(S,C){Jy(S,C,8)}function uC(S,C){Jy(S,C,16)}function vd(S,C){var M;for(M=0;16>M;++M)n(S,C+32*M,S,C-32,16)}function Ng(S,C){var M;for(M=16;0<M;--M)a(S,C,S[C-1],16),C+=32}function Ag(S,C,M){var U;for(U=0;16>U;++U)a(C,M+32*U,S,16)}function L2(S,C){var M,U=16;for(M=0;16>M;++M)U+=S[C-1+32*M]+S[C+M-32];Ag(U>>5,S,C)}function bs(S,C){var M,U=8;for(M=0;16>M;++M)U+=S[C-1+32*M];Ag(U>>4,S,C)}function dC(S,C){var M,U=8;for(M=0;16>M;++M)U+=S[C+M-32];Ag(U>>4,S,C)}function F2(S,C){Ag(128,S,C)}function Or(S,C,M){return S+2*C+M+2>>2}function fC(S,C){var M,U=C-32;for(U=new Uint8Array([Or(S[U-1],S[U+0],S[U+1]),Or(S[U+0],S[U+1],S[U+2]),Or(S[U+1],S[U+2],S[U+3]),Or(S[U+2],S[U+3],S[U+4])]),M=0;4>M;++M)n(S,C+32*M,U,0,U.length)}function hC(S,C){var M=S[C-1],U=S[C-1+32],Y=S[C-1+64],Q=S[C-1+96];ie(S,C+0,16843009*Or(S[C-1-32],M,U)),ie(S,C+32,16843009*Or(M,U,Y)),ie(S,C+64,16843009*Or(U,Y,Q)),ie(S,C+96,16843009*Or(Y,Q,Q))}function pu(S,C){var M,U=4;for(M=0;4>M;++M)U+=S[C+M-32]+S[C-1+32*M];for(U>>=3,M=0;4>M;++M)a(S,C+32*M,U,4)}function $2(S,C){var M=S[C-1+0],U=S[C-1+32],Y=S[C-1+64],Q=S[C-1-32],te=S[C+0-32],ae=S[C+1-32],ce=S[C+2-32],ve=S[C+3-32];S[C+0+96]=Or(U,Y,S[C-1+96]),S[C+1+96]=S[C+0+64]=Or(M,U,Y),S[C+2+96]=S[C+1+64]=S[C+0+32]=Or(Q,M,U),S[C+3+96]=S[C+2+64]=S[C+1+32]=S[C+0+0]=Or(te,Q,M),S[C+3+64]=S[C+2+32]=S[C+1+0]=Or(ae,te,Q),S[C+3+32]=S[C+2+0]=Or(ce,ae,te),S[C+3+0]=Or(ve,ce,ae)}function B2(S,C){var M=S[C+1-32],U=S[C+2-32],Y=S[C+3-32],Q=S[C+4-32],te=S[C+5-32],ae=S[C+6-32],ce=S[C+7-32];S[C+0+0]=Or(S[C+0-32],M,U),S[C+1+0]=S[C+0+32]=Or(M,U,Y),S[C+2+0]=S[C+1+32]=S[C+0+64]=Or(U,Y,Q),S[C+3+0]=S[C+2+32]=S[C+1+64]=S[C+0+96]=Or(Y,Q,te),S[C+3+32]=S[C+2+64]=S[C+1+96]=Or(Q,te,ae),S[C+3+64]=S[C+2+96]=Or(te,ae,ce),S[C+3+96]=Or(ae,ce,ce)}function Eg(S,C){var M=S[C-1+0],U=S[C-1+32],Y=S[C-1+64],Q=S[C-1-32],te=S[C+0-32],ae=S[C+1-32],ce=S[C+2-32],ve=S[C+3-32];S[C+0+0]=S[C+1+64]=Q+te+1>>1,S[C+1+0]=S[C+2+64]=te+ae+1>>1,S[C+2+0]=S[C+3+64]=ae+ce+1>>1,S[C+3+0]=ce+ve+1>>1,S[C+0+96]=Or(Y,U,M),S[C+0+64]=Or(U,M,Q),S[C+0+32]=S[C+1+96]=Or(M,Q,te),S[C+1+32]=S[C+2+96]=Or(Q,te,ae),S[C+2+32]=S[C+3+96]=Or(te,ae,ce),S[C+3+32]=Or(ae,ce,ve)}function ex(S,C){var M=S[C+0-32],U=S[C+1-32],Y=S[C+2-32],Q=S[C+3-32],te=S[C+4-32],ae=S[C+5-32],ce=S[C+6-32],ve=S[C+7-32];S[C+0+0]=M+U+1>>1,S[C+1+0]=S[C+0+64]=U+Y+1>>1,S[C+2+0]=S[C+1+64]=Y+Q+1>>1,S[C+3+0]=S[C+2+64]=Q+te+1>>1,S[C+0+32]=Or(M,U,Y),S[C+1+32]=S[C+0+96]=Or(U,Y,Q),S[C+2+32]=S[C+1+96]=Or(Y,Q,te),S[C+3+32]=S[C+2+96]=Or(Q,te,ae),S[C+3+64]=Or(te,ae,ce),S[C+3+96]=Or(ae,ce,ve)}function mC(S,C){var M=S[C-1+0],U=S[C-1+32],Y=S[C-1+64],Q=S[C-1+96];S[C+0+0]=M+U+1>>1,S[C+2+0]=S[C+0+32]=U+Y+1>>1,S[C+2+32]=S[C+0+64]=Y+Q+1>>1,S[C+1+0]=Or(M,U,Y),S[C+3+0]=S[C+1+32]=Or(U,Y,Q),S[C+3+32]=S[C+1+64]=Or(Y,Q,Q),S[C+3+64]=S[C+2+64]=S[C+0+96]=S[C+1+96]=S[C+2+96]=S[C+3+96]=Q}function pC(S,C){var M=S[C-1+0],U=S[C-1+32],Y=S[C-1+64],Q=S[C-1+96],te=S[C-1-32],ae=S[C+0-32],ce=S[C+1-32],ve=S[C+2-32];S[C+0+0]=S[C+2+32]=M+te+1>>1,S[C+0+32]=S[C+2+64]=U+M+1>>1,S[C+0+64]=S[C+2+96]=Y+U+1>>1,S[C+0+96]=Q+Y+1>>1,S[C+3+0]=Or(ae,ce,ve),S[C+2+0]=Or(te,ae,ce),S[C+1+0]=S[C+3+32]=Or(M,te,ae),S[C+1+32]=S[C+3+64]=Or(U,M,te),S[C+1+64]=S[C+3+96]=Or(Y,U,M),S[C+1+96]=Or(Q,Y,U)}function gC(S,C){var M;for(M=0;8>M;++M)n(S,C+32*M,S,C-32,8)}function tx(S,C){var M;for(M=0;8>M;++M)a(S,C,S[C-1],8),C+=32}function xm(S,C,M){var U;for(U=0;8>U;++U)a(C,M+32*U,S,8)}function bf(S,C){var M,U=8;for(M=0;8>M;++M)U+=S[C+M-32]+S[C-1+32*M];xm(U>>4,S,C)}function vC(S,C){var M,U=4;for(M=0;8>M;++M)U+=S[C+M-32];xm(U>>3,S,C)}function bm(S,C){var M,U=4;for(M=0;8>M;++M)U+=S[C-1+32*M];xm(U>>3,S,C)}function rx(S,C){xm(128,S,C)}function Cg(S,C,M){var U=S[C-M],Y=S[C+0],Q=3*(Y-U)+_C[1020+S[C-2*M]-S[C+M]],te=J2[112+(Q+4>>3)];S[C-M]=Yo[255+U+J2[112+(Q+3>>3)]],S[C+0]=Yo[255+Y-te]}function U2(S,C,M,U){var Y=S[C+0],Q=S[C+M];return Tl[255+S[C-2*M]-S[C-M]]>U||Tl[255+Q-Y]>U}function z2(S,C,M,U){return 4*Tl[255+S[C-M]-S[C+0]]+Tl[255+S[C-2*M]-S[C+M]]<=U}function V2(S,C,M,U,Y){var Q=S[C-3*M],te=S[C-2*M],ae=S[C-M],ce=S[C+0],ve=S[C+M],Te=S[C+2*M],Ve=S[C+3*M];return 4*Tl[255+ae-ce]+Tl[255+te-ve]>U?0:Tl[255+S[C-4*M]-Q]<=Y&&Tl[255+Q-te]<=Y&&Tl[255+te-ae]<=Y&&Tl[255+Ve-Te]<=Y&&Tl[255+Te-ve]<=Y&&Tl[255+ve-ce]<=Y}function H2(S,C,M,U){var Y=2*U+1;for(U=0;16>U;++U)z2(S,C+U,M,Y)&&Cg(S,C+U,M)}function gu(S,C,M,U){var Y=2*U+1;for(U=0;16>U;++U)z2(S,C+U*M,1,Y)&&Cg(S,C+U*M,1)}function yd(S,C,M,U){var Y;for(Y=3;0<Y;--Y)H2(S,C+=4*M,M,U)}function yC(S,C,M,U){var Y;for(Y=3;0<Y;--Y)gu(S,C+=4,M,U)}function wf(S,C,M,U,Y,Q,te,ae){for(Q=2*Q+1;0<Y--;){if(V2(S,C,M,Q,te))if(U2(S,C,M,ae))Cg(S,C,M);else{var ce=S,ve=C,Te=M,Ve=ce[ve-2*Te],He=ce[ve-Te],Le=ce[ve+0],ht=ce[ve+Te],et=ce[ve+2*Te],ke=27*(ut=_C[1020+3*(Le-He)+_C[1020+Ve-ht]])+63>>7,De=18*ut+63>>7,ut=9*ut+63>>7;ce[ve-3*Te]=Yo[255+ce[ve-3*Te]+ut],ce[ve-2*Te]=Yo[255+Ve+De],ce[ve-Te]=Yo[255+He+ke],ce[ve+0]=Yo[255+Le-ke],ce[ve+Te]=Yo[255+ht-De],ce[ve+2*Te]=Yo[255+et-ut]}C+=U}}function fc(S,C,M,U,Y,Q,te,ae){for(Q=2*Q+1;0<Y--;){if(V2(S,C,M,Q,te))if(U2(S,C,M,ae))Cg(S,C,M);else{var ce=S,ve=C,Te=M,Ve=ce[ve-Te],He=ce[ve+0],Le=ce[ve+Te],ht=J2[112+((et=3*(He-Ve))+4>>3)],et=J2[112+(et+3>>3)],ke=ht+1>>1;ce[ve-2*Te]=Yo[255+ce[ve-2*Te]+ke],ce[ve-Te]=Yo[255+Ve+et],ce[ve+0]=Yo[255+He-ht],ce[ve+Te]=Yo[255+Le-ke]}C+=U}}function nx(S,C,M,U,Y,Q){wf(S,C,M,1,16,U,Y,Q)}function wm(S,C,M,U,Y,Q){wf(S,C,1,M,16,U,Y,Q)}function xC(S,C,M,U,Y,Q){var te;for(te=3;0<te;--te)fc(S,C+=4*M,M,1,16,U,Y,Q)}function Tg(S,C,M,U,Y,Q){var te;for(te=3;0<te;--te)fc(S,C+=4,1,M,16,U,Y,Q)}function bC(S,C,M,U,Y,Q,te,ae){wf(S,C,Y,1,8,Q,te,ae),wf(M,U,Y,1,8,Q,te,ae)}function ax(S,C,M,U,Y,Q,te,ae){wf(S,C,1,Y,8,Q,te,ae),wf(M,U,1,Y,8,Q,te,ae)}function ix(S,C,M,U,Y,Q,te,ae){fc(S,C+4*Y,Y,1,8,Q,te,ae),fc(M,U+4*Y,Y,1,8,Q,te,ae)}function W2(S,C,M,U,Y,Q,te,ae){fc(S,C+4,1,Y,8,Q,te,ae),fc(M,U+4,1,Y,8,Q,te,ae)}function kg(){this.ba=new Qi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function sx(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ox(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function q2(){this.ua=0,this.Wa=new X,this.vb=new X,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new P}function wC(){this.xb=this.a=0,this.l=new mu,this.ca=new Qi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new q2,this.ab=0,this.gc=s(4,ox),this.Oc=0}function Pg(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new mu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sm(S,C,M,U,Y,Q,te){for(S=S==null?0:S[C+0],C=0;C<te;++C)Y[Q+C]=S+M[U+C]&255,S=Y[Q+C]}function lx(S,C,M,U,Y,Q,te){var ae;if(S==null)Sm(null,null,M,U,Y,Q,te);else for(ae=0;ae<te;++ae)Y[Q+ae]=S[C+ae]+M[U+ae]&255}function Sf(S,C,M,U,Y,Q,te){if(S==null)Sm(null,null,M,U,Y,Q,te);else{var ae,ce=S[C+0],ve=ce,Te=ce;for(ae=0;ae<te;++ae)ve=Te+(ce=S[C+ae])-ve,Te=M[U+ae]+(-256&ve?0>ve?0:255:ve)&255,ve=ce,Y[Q+ae]=Te}}function cx(S,C,M,U){var Y=C.width,Q=C.o;if(e(S!=null&&C!=null),0>M||0>=U||M+U>Q)return null;if(!S.Cc){if(S.ga==null){var te;if(S.ga=new Pg,(te=S.ga==null)||(te=C.width*C.o,e(S.Gb.length==0),S.Gb=i(te),S.Uc=0,S.Gb==null?te=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,te=1),te=!te),!te){te=S.ga;var ae=S.Fa,ce=S.P,ve=S.qc,Te=S.mb,Ve=S.nb,He=ce+1,Le=ve-1,ht=te.l;if(e(ae!=null&&Te!=null&&C!=null),Cf[0]=null,Cf[1]=Sm,Cf[2]=lx,Cf[3]=Sf,te.ca=Te,te.tb=Ve,te.c=C.width,te.i=C.height,e(0<te.c&&0<te.i),1>=ve)C=0;else if(te.$a=ae[ce+0]>>0&3,te.Z=ae[ce+0]>>2&3,te.Lc=ae[ce+0]>>4&3,ce=ae[ce+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ce)C=0;else if(ht.put=pr,ht.ac=Nt,ht.bc=kr,ht.ma=te,ht.width=C.width,ht.height=C.height,ht.Da=C.Da,ht.v=C.v,ht.va=C.va,ht.j=C.j,ht.o=C.o,te.$a)e:{e(te.$a==1),C=Je();t:for(;;){if(C==null){C=0;break e}if(e(te!=null),te.mc=C,C.c=te.c,C.i=te.i,C.l=te.l,C.l.ma=te,C.l.width=te.c,C.l.height=te.i,C.a=0,G(C.m,ae,He,Le),!Ue(te.c,te.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&fe(C.s)?(te.ic=1,ae=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(ae),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(te.ic=0,C=We(C,te.c)),!C))break t;C=1;break e}te.mc=null,C=0}else C=Le>=te.c*te.i;te=!C}if(te)return null;S.ga.Lc!=1?S.Ga=0:U=Q-M}e(S.ga!=null),e(M+U<=Q);e:{if(C=(ae=S.ga).c,Q=ae.l.o,ae.$a==0){if(He=S.rc,Le=S.Vc,ht=S.Fa,ce=S.P+1+M*C,ve=S.mb,Te=S.nb+M*C,e(ce<=S.P+S.qc),ae.Z!=0)for(e(Cf[ae.Z]!=null),te=0;te<U;++te)Cf[ae.Z](He,Le,ht,ce,ve,Te,C),He=ve,Le=Te,Te+=C,ce+=C;else for(te=0;te<U;++te)n(ve,Te,ht,ce,C),He=ve,Le=Te,Te+=C,ce+=C;S.rc=He,S.Vc=Le}else{if(e(ae.mc!=null),C=M+U,e((te=ae.mc)!=null),e(C<=te.i),te.C>=C)C=1;else if(ae.ic||$e(),ae.ic){ae=te.V,He=te.Ba,Le=te.c;var et=te.i,ke=(ht=1,ce=te.$/Le,ve=te.$%Le,Te=te.m,Ve=te.s,te.$),De=Le*et,ut=Le*C,xt=Ve.wc,dt=ke<ut?Ta(Ve,ve,ce):null;e(ke<=De),e(C<=et),e(fe(Ve));t:for(;;){for(;!Te.h&&ke<ut;){if(ve&xt||(dt=Ta(Ve,ve,ce)),e(dt!=null),ee(Te),256>(et=ua(dt.G[0],dt.H[0],Te)))ae[He+ke]=et,++ke,++ve>=Le&&(ve=0,++ce<=C&&!(ce%16)&&xe(te,ce));else{if(!(280>et)){ht=0;break t}et=Wa(et-256,Te);var Wt,Mt=ua(dt.G[4],dt.H[4],Te);if(ee(Te),!(ke>=(Mt=ta(Le,Mt=Wa(Mt,Te)))&&De-ke>=et)){ht=0;break t}for(Wt=0;Wt<et;++Wt)ae[He+ke+Wt]=ae[He+ke+Wt-Mt];for(ke+=et,ve+=et;ve>=Le;)ve-=Le,++ce<=C&&!(ce%16)&&xe(te,ce);ke<ut&&ve&xt&&(dt=Ta(Ve,ve,ce))}e(Te.h==B(Te))}xe(te,ce>C?C:ce);break t}!ht||Te.h&&ke<De?(ht=0,te.a=Te.h?5:3):te.$=ke,C=ht}else C=Se(te,te.V,te.Ba,te.c,te.i,C,Ge);if(!C){U=0;break e}}M+U>=Q&&(S.Cc=1),U=1}if(!U)return null;if(S.Cc&&((U=S.ga)!=null&&(U.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+M*Y}function O(S,C,M,U,Y,Q){for(;0<Y--;){var te,ae=S,ce=C+(M?1:0),ve=S,Te=C+(M?0:3);for(te=0;te<U;++te){var Ve=ve[Te+4*te];Ve!=255&&(Ve*=32897,ae[ce+4*te+0]=ae[ce+4*te+0]*Ve>>23,ae[ce+4*te+1]=ae[ce+4*te+1]*Ve>>23,ae[ce+4*te+2]=ae[ce+4*te+2]*Ve>>23)}C+=Q}}function K(S,C,M,U,Y){for(;0<U--;){var Q;for(Q=0;Q<M;++Q){var te=S[C+2*Q+0],ae=15&(ve=S[C+2*Q+1]),ce=4369*ae,ve=(240&ve|ve>>4)*ce>>16;S[C+2*Q+0]=(240&te|te>>4)*ce>>16&240|(15&te|te<<4)*ce>>16>>4&15,S[C+2*Q+1]=240&ve|ae}C+=Y}}function _e(S,C,M,U,Y,Q,te,ae){var ce,ve,Te=255;for(ve=0;ve<Y;++ve){for(ce=0;ce<U;++ce){var Ve=S[C+ce];Q[te+4*ce]=Ve,Te&=Ve}C+=M,te+=ae}return Te!=255}function Ce(S,C,M,U,Y){var Q;for(Q=0;Q<Y;++Q)M[U+Q]=S[C+Q]>>8}function $e(){Cl=O,ra=K,na=_e,Ka=Ce}function tt(S,C,M){E[S]=function(U,Y,Q,te,ae,ce,ve,Te,Ve,He,Le,ht,et,ke,De,ut,xt){var dt,Wt=xt-1>>1,Mt=ae[ce+0]|ve[Te+0]<<16,hr=Ve[He+0]|Le[ht+0]<<16;e(U!=null);var Lt=3*Mt+hr+131074>>2;for(C(U[Y+0],255&Lt,Lt>>16,et,ke),Q!=null&&(Lt=3*hr+Mt+131074>>2,C(Q[te+0],255&Lt,Lt>>16,De,ut)),dt=1;dt<=Wt;++dt){var wn=ae[ce+dt]|ve[Te+dt]<<16,In=Ve[He+dt]|Le[ht+dt]<<16,fn=Mt+wn+hr+In+524296,tn=fn+2*(wn+hr)>>3;Lt=tn+Mt>>1,Mt=(fn=fn+2*(Mt+In)>>3)+wn>>1,C(U[Y+2*dt-1],255&Lt,Lt>>16,et,ke+(2*dt-1)*M),C(U[Y+2*dt-0],255&Mt,Mt>>16,et,ke+(2*dt-0)*M),Q!=null&&(Lt=fn+hr>>1,Mt=tn+In>>1,C(Q[te+2*dt-1],255&Lt,Lt>>16,De,ut+(2*dt-1)*M),C(Q[te+2*dt+0],255&Mt,Mt>>16,De,ut+(2*dt+0)*M)),Mt=wn,hr=In}1&xt||(Lt=3*Mt+hr+131074>>2,C(U[Y+xt-1],255&Lt,Lt>>16,et,ke+(xt-1)*M),Q!=null&&(Lt=3*hr+Mt+131074>>2,C(Q[te+xt-1],255&Lt,Lt>>16,De,ut+(xt-1)*M)))}}function bt(){kl[eS]=Hce,kl[tS]=J6,kl[Y6]=Wce,kl[rS]=eL,kl[nS]=tL,kl[jC]=rL,kl[K6]=qce,kl[NC]=J6,kl[AC]=eL,kl[aS]=tL,kl[EC]=rL}function Ht(S){return S&-16384?0>S?0:255:S>>Gce}function cr(S,C){return Ht((19077*S>>8)+(26149*C>>8)-14234)}function $r(S,C,M){return Ht((19077*S>>8)-(6419*C>>8)-(13320*M>>8)+8708)}function Mr(S,C){return Ht((19077*S>>8)+(33050*C>>8)-17685)}function ln(S,C,M,U,Y){U[Y+0]=cr(S,M),U[Y+1]=$r(S,C,M),U[Y+2]=Mr(S,C)}function wa(S,C,M,U,Y){U[Y+0]=Mr(S,C),U[Y+1]=$r(S,C,M),U[Y+2]=cr(S,M)}function ka(S,C,M,U,Y){var Q=$r(S,C,M);C=Q<<3&224|Mr(S,C)>>3,U[Y+0]=248&cr(S,M)|Q>>5,U[Y+1]=C}function hi(S,C,M,U,Y){var Q=240&Mr(S,C)|15;U[Y+0]=240&cr(S,M)|$r(S,C,M)>>4,U[Y+1]=Q}function ws(S,C,M,U,Y){U[Y+0]=255,ln(S,C,M,U,Y+1)}function Ii(S,C,M,U,Y){wa(S,C,M,U,Y),U[Y+3]=255}function hc(S,C,M,U,Y){ln(S,C,M,U,Y),U[Y+3]=255}function Go(S,C){return 0>S?0:S>C?C:S}function vu(S,C,M){E[S]=function(U,Y,Q,te,ae,ce,ve,Te,Ve){for(var He=Te+(-2&Ve)*M;Te!=He;)C(U[Y+0],Q[te+0],ae[ce+0],ve,Te),C(U[Y+1],Q[te+0],ae[ce+0],ve,Te+M),Y+=2,++te,++ce,Te+=2*M;1&Ve&&C(U[Y+0],Q[te+0],ae[ce+0],ve,Te)}}function G2(S,C,M){return M==0?S==0?C==0?6:5:C==0?4:0:M}function ux(S,C,M,U,Y){switch(S>>>30){case 3:wd(C,M,U,Y,0);break;case 2:Ya(C,M,U,Y);break;case 1:Gs(C,M,U,Y)}}function dx(S,C){var M,U,Y=C.M,Q=C.Nb,te=S.oc,ae=S.pc+40,ce=S.oc,ve=S.pc+584,Te=S.oc,Ve=S.pc+600;for(M=0;16>M;++M)te[ae+32*M-1]=129;for(M=0;8>M;++M)ce[ve+32*M-1]=129,Te[Ve+32*M-1]=129;for(0<Y?te[ae-1-32]=ce[ve-1-32]=Te[Ve-1-32]=129:(a(te,ae-32-1,127,21),a(ce,ve-32-1,127,9),a(Te,Ve-32-1,127,9)),U=0;U<S.za;++U){var He=C.ya[C.aa+U];if(0<U){for(M=-1;16>M;++M)n(te,ae+32*M-4,te,ae+32*M+12,4);for(M=-1;8>M;++M)n(ce,ve+32*M-4,ce,ve+32*M+4,4),n(Te,Ve+32*M-4,Te,Ve+32*M+4,4)}var Le=S.Gd,ht=S.Hd+U,et=He.ad,ke=He.Hc;if(0<Y&&(n(te,ae-32,Le[ht].y,0,16),n(ce,ve-32,Le[ht].f,0,8),n(Te,Ve-32,Le[ht].ea,0,8)),He.Za){var De=te,ut=ae-32+16;for(0<Y&&(U>=S.za-1?a(De,ut,Le[ht].y[15],4):n(De,ut,Le[ht+1].y,0,4)),M=0;4>M;M++)De[ut+128+M]=De[ut+256+M]=De[ut+384+M]=De[ut+0+M];for(M=0;16>M;++M,ke<<=2)De=te,ut=ae+aL[M],mc[He.Ob[M]](De,ut),ux(ke,et,16*+M,De,ut)}else if(De=G2(U,Y,He.Ob[0]),Ef[De](te,ae),ke!=0)for(M=0;16>M;++M,ke<<=2)ux(ke,et,16*+M,te,ae+aL[M]);for(M=He.Gc,De=G2(U,Y,He.Dd),_d[De](ce,ve),_d[De](Te,Ve),ke=et,De=ce,ut=ve,255&(He=M>>0)&&(170&He?gx(ke,256,De,ut):Al(ke,256,De,ut)),He=Te,ke=Ve,255&(M>>=8)&&(170&M?gx(et,320,He,ke):Al(et,320,He,ke)),Y<S.Ub-1&&(n(Le[ht].y,0,te,ae+480,16),n(Le[ht].f,0,ce,ve+224,8),n(Le[ht].ea,0,Te,Ve+224,8)),M=8*Q*S.B,Le=S.sa,ht=S.ta+16*U+16*Q*S.R,et=S.qa,He=S.ra+8*U+M,ke=S.Ha,De=S.Ia+8*U+M,M=0;16>M;++M)n(Le,ht+M*S.R,te,ae+32*M,16);for(M=0;8>M;++M)n(et,He+M*S.B,ce,ve+32*M,8),n(ke,De+M*S.B,Te,Ve+32*M,8)}}function Dg(S,C,M,U,Y,Q,te,ae,ce){var ve=[0],Te=[0],Ve=0,He=ce!=null?ce.kd:0,Le=ce??new sx;if(S==null||12>M)return 7;Le.data=S,Le.w=C,Le.ha=M,C=[C],M=[M],Le.gb=[Le.gb];e:{var ht=C,et=M,ke=Le.gb;if(e(S!=null),e(et!=null),e(ke!=null),ke[0]=0,12<=et[0]&&!r(S,ht[0],"RIFF")){if(r(S,ht[0]+8,"WEBP")){ke=3;break e}var De=Me(S,ht[0]+4);if(12>De||4294967286<De){ke=3;break e}if(He&&De>et[0]-8){ke=7;break e}ke[0]=De,ht[0]+=12,et[0]-=12}ke=0}if(ke!=0)return ke;for(De=0<Le.gb[0],M=M[0];;){e:{var ut=S;et=C,ke=M;var xt=ve,dt=Te,Wt=ht=[0];if((Lt=Ve=[Ve])[0]=0,8>ke[0])ke=7;else{if(!r(ut,et[0],"VP8X")){if(Me(ut,et[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var Mt=Me(ut,et[0]+8),hr=1+pe(ut,et[0]+12);if(2147483648<=hr*(ut=1+pe(ut,et[0]+15))){ke=3;break e}Wt!=null&&(Wt[0]=Mt),xt!=null&&(xt[0]=hr),dt!=null&&(dt[0]=ut),et[0]+=18,ke[0]-=18,Lt[0]=1}ke=0}}if(Ve=Ve[0],ht=ht[0],ke!=0)return ke;if(et=!!(2&ht),!De&&Ve)return 3;if(Q!=null&&(Q[0]=!!(16&ht)),te!=null&&(te[0]=et),ae!=null&&(ae[0]=0),te=ve[0],ht=Te[0],Ve&&et&&ce==null){ke=0;break}if(4>M){ke=7;break}if(De&&Ve||!De&&!Ve&&!r(S,C[0],"ALPH")){M=[M],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Mt=S,ke=C,De=M;var Lt=Le.gb;xt=Le.na,dt=Le.P,Wt=Le.Sa,hr=22,e(Mt!=null),e(De!=null),ut=ke[0];var wn=De[0];for(e(xt!=null),e(Wt!=null),xt[0]=null,dt[0]=null,Wt[0]=0;;){if(ke[0]=ut,De[0]=wn,8>wn){ke=7;break e}var In=Me(Mt,ut+4);if(4294967286<In){ke=3;break e}var fn=8+In+1&-2;if(hr+=fn,0<Lt&&hr>Lt){ke=3;break e}if(!r(Mt,ut,"VP8 ")||!r(Mt,ut,"VP8L")){ke=0;break e}if(wn[0]<fn){ke=7;break e}r(Mt,ut,"ALPH")||(xt[0]=Mt,dt[0]=ut+8,Wt[0]=In),ut+=fn,wn-=fn}}if(M=M[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],ke!=0)break}M=[M],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Lt=S,ke=C,De=M,xt=Le.gb[0],dt=Le.Ja,Wt=Le.xa,Mt=ke[0],ut=!r(Lt,Mt,"VP8 "),hr=!r(Lt,Mt,"VP8L"),e(Lt!=null),e(De!=null),e(dt!=null),e(Wt!=null),8>De[0])ke=7;else{if(ut||hr){if(Lt=Me(Lt,Mt+4),12<=xt&&Lt>xt-12){ke=3;break e}if(He&&Lt>De[0]-8){ke=7;break e}dt[0]=Lt,ke[0]+=8,De[0]-=8,Wt[0]=hr}else Wt[0]=5<=De[0]&&Lt[Mt+0]==47&&!(Lt[Mt+4]>>5),dt[0]=De[0];ke=0}if(M=M[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],C=C[0],ke!=0)break;if(4294967286<Le.Ja)return 3;if(ae==null||et||(ae[0]=Le.xa?2:1),te=[te],ht=[ht],Le.xa){if(5>M){ke=7;break}ae=te,He=ht,et=Q,S==null||5>M?S=0:5<=M&&S[C+0]==47&&!(S[C+4]>>5)?(De=[0],Lt=[0],xt=[0],G(dt=new k,S,C,M),Qt(dt,De,Lt,xt)?(ae!=null&&(ae[0]=De[0]),He!=null&&(He[0]=Lt[0]),et!=null&&(et[0]=xt[0]),S=1):S=0):S=0}else{if(10>M){ke=7;break}ae=ht,S==null||10>M||!P2(S,C+3,M-3)?S=0:(He=S[C+0]|S[C+1]<<8|S[C+2]<<16,et=16383&(S[C+7]<<8|S[C+6]),S=16383&(S[C+9]<<8|S[C+8]),1&He||3<(He>>1&7)||!(He>>4&1)||He>>5>=Le.Ja||!et||!S?S=0:(te&&(te[0]=et),ae&&(ae[0]=S),S=1))}if(!S||(te=te[0],ht=ht[0],Ve&&(ve[0]!=te||Te[0]!=ht)))return 3;ce!=null&&(ce[0]=Le,ce.offset=C-ce.w,e(4294967286>C-ce.w),e(ce.offset==ce.ha-M));break}return ke==0||ke==7&&Ve&&ce==null?(Q!=null&&(Q[0]|=Le.na!=null&&0<Le.na.length),U!=null&&(U[0]=te),Y!=null&&(Y[0]=ht),0):ke}function fx(S,C,M){var U=C.width,Y=C.height,Q=0,te=0,ae=U,ce=Y;if(C.Da=S!=null&&0<S.Da,C.Da&&(ae=S.cd,ce=S.bd,Q=S.v,te=S.j,11>M||(Q&=-2,te&=-2),0>Q||0>te||0>=ae||0>=ce||Q+ae>U||te+ce>Y))return 0;if(C.v=Q,C.j=te,C.va=Q+ae,C.o=te+ce,C.U=ae,C.T=ce,C.da=S!=null&&0<S.da,C.da){if(!Ae(ae,ce,M=[S.ib],Q=[S.hb]))return 0;C.ib=M[0],C.hb=Q[0]}return C.ob=S!=null&&S.ob,C.Kb=S==null||!S.Sd,C.da&&(C.ob=C.ib<3*U/4&&C.hb<3*Y/4,C.Kb=0),1}function hx(S){if(S==null)return 2;if(11>S.S){var C=S.f.RGBA;C.fb+=(S.height-1)*C.A,C.A=-C.A}else C=S.f.kb,S=S.height,C.O+=(S-1)*C.fa,C.fa=-C.fa,C.N+=(S-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(S-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(S-1)*C.lb,C.lb=-C.lb);return 0}function Og(S,C,M,U){if(U==null||0>=S||0>=C)return 2;if(M!=null){if(M.Da){var Y=M.cd,Q=M.bd,te=-2&M.v,ae=-2&M.j;if(0>te||0>ae||0>=Y||0>=Q||te+Y>S||ae+Q>C)return 2;S=Y,C=Q}if(M.da){if(!Ae(S,C,Y=[M.ib],Q=[M.hb]))return 2;S=Y[0],C=Q[0]}}U.width=S,U.height=C;e:{var ce=U.width,ve=U.height;if(S=U.S,0>=ce||0>=ve||!(S>=eS&&13>S))S=2;else{if(0>=U.Rd&&U.sd==null){te=Q=Y=C=0;var Te=(ae=ce*iL[S])*ve;if(11>S||(Q=(ve+1)/2*(C=(ce+1)/2),S==12&&(te=(Y=ce)*ve)),(ve=i(Te+2*Q+te))==null){S=1;break e}U.sd=ve,11>S?((ce=U.f.RGBA).eb=ve,ce.fb=0,ce.A=ae,ce.size=Te):((ce=U.f.kb).y=ve,ce.O=0,ce.fa=ae,ce.Fd=Te,ce.f=ve,ce.N=0+Te,ce.Ab=C,ce.Cd=Q,ce.ea=ve,ce.W=0+Te+Q,ce.Db=C,ce.Ed=Q,S==12&&(ce.F=ve,ce.J=0+Te+2*Q),ce.Tc=te,ce.lb=Y)}if(C=1,Y=U.S,Q=U.width,te=U.height,Y>=eS&&13>Y)if(11>Y)S=U.f.RGBA,C&=(ae=Math.abs(S.A))*(te-1)+Q<=S.size,C&=ae>=Q*iL[Y],C&=S.eb!=null;else{S=U.f.kb,ae=(Q+1)/2,Te=(te+1)/2,ce=Math.abs(S.fa),ve=Math.abs(S.Ab);var Ve=Math.abs(S.Db),He=Math.abs(S.lb),Le=He*(te-1)+Q;C&=ce*(te-1)+Q<=S.Fd,C&=ve*(Te-1)+ae<=S.Cd,C=(C&=Ve*(Te-1)+ae<=S.Ed)&ce>=Q&ve>=ae&Ve>=ae,C&=S.y!=null,C&=S.f!=null,C&=S.ea!=null,Y==12&&(C&=He>=Q,C&=Le<=S.Tc,C&=S.F!=null)}else C=0;S=C?0:2}}return S!=0||M!=null&&M.fd&&(S=hx(U)),S}var es=64,Ig=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mg=24,Rg=32,mx=8,xo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(S){return S},E.Predictor2=function(S,C,M){return C[M+0]},E.Predictor3=function(S,C,M){return C[M+1]},E.Predictor4=function(S,C,M){return C[M-1]},E.Predictor5=function(S,C,M){return ne(ne(S,C[M+1]),C[M+0])},E.Predictor6=function(S,C,M){return ne(S,C[M-1])},E.Predictor7=function(S,C,M){return ne(S,C[M+0])},E.Predictor8=function(S,C,M){return ne(C[M-1],C[M+0])},E.Predictor9=function(S,C,M){return ne(C[M+0],C[M+1])},E.Predictor10=function(S,C,M){return ne(ne(S,C[M-1]),ne(C[M+0],C[M+1]))},E.Predictor11=function(S,C,M){var U=C[M+0];return 0>=Re(U>>24&255,S>>24&255,(C=C[M-1])>>24&255)+Re(U>>16&255,S>>16&255,C>>16&255)+Re(U>>8&255,S>>8&255,C>>8&255)+Re(255&U,255&S,255&C)?U:S},E.Predictor12=function(S,C,M){var U=C[M+0];return(ue((S>>24&255)+(U>>24&255)-((C=C[M-1])>>24&255))<<24|ue((S>>16&255)+(U>>16&255)-(C>>16&255))<<16|ue((S>>8&255)+(U>>8&255)-(C>>8&255))<<8|ue((255&S)+(255&U)-(255&C)))>>>0},E.Predictor13=function(S,C,M){var U=C[M-1];return(Ne((S=ne(S,C[M+0]))>>24&255,U>>24&255)<<24|Ne(S>>16&255,U>>16&255)<<16|Ne(S>>8&255,U>>8&255)<<8|Ne(S>>0&255,U>>0&255))>>>0};var SC=E.PredictorAdd0;E.PredictorAdd1=Fe,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var px=E.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Y2,Nl=E.ColorIndexInverseTransform,Lg=E.MapARGB,K2=E.VP8LColorIndexInverseTransformAlpha,X2=E.MapAlpha,_f=E.VP8LPredictorsAdd=[];_f.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var _m,bo,qs,jf,xd,bd,Fg,wd,Ya,gx,Gs,Al,$g,Z2,vx,jm,Nm,Nf,Am,Bg,Em,Af,yx,El,Cl,ra,na,Ka,Ni=i(511),Sd=i(2041),xx=i(225),Ug=i(767),Q2=0,_C=Sd,J2=xx,Yo=Ug,Tl=Ni,eS=0,tS=1,Y6=2,rS=3,nS=4,jC=5,K6=6,NC=7,AC=8,aS=9,EC=10,kce=[2,3,7],Pce=[3,3,11],X6=[280,256,256,256,40],Dce=[0,1,1,1,0],Oce=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ice=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Mce=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Rce=8,CC=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],TC=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bx=null,Lce=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Fce=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Z6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$ce=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Bce=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Uce=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],zce=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ef=[],mc=[],_d=[],Vce=1,Q6=2,Cf=[],kl=[];tt("UpsampleRgbLinePair",ln,3),tt("UpsampleBgrLinePair",wa,3),tt("UpsampleRgbaLinePair",hc,4),tt("UpsampleBgraLinePair",Ii,4),tt("UpsampleArgbLinePair",ws,4),tt("UpsampleRgba4444LinePair",hi,2),tt("UpsampleRgb565LinePair",ka,2);var Hce=E.UpsampleRgbLinePair,Wce=E.UpsampleBgrLinePair,J6=E.UpsampleRgbaLinePair,eL=E.UpsampleBgraLinePair,tL=E.UpsampleArgbLinePair,rL=E.UpsampleRgba4444LinePair,qce=E.UpsampleRgb565LinePair,iS=16,sS=1<<iS-1,wx=-227,kC=482,Gce=6,nL=0,Yce=i(256),Kce=i(256),Xce=i(256),Zce=i(256),Qce=i(kC-wx),Jce=i(kC-wx);vu("YuvToRgbRow",ln,3),vu("YuvToBgrRow",wa,3),vu("YuvToRgbaRow",hc,4),vu("YuvToBgraRow",Ii,4),vu("YuvToArgbRow",ws,4),vu("YuvToRgba4444Row",hi,2),vu("YuvToRgb565Row",ka,2);var aL=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],oS=[0,2,8],eue=[8,7,6,4,4,2,2,2,1,1,1,1],tue=1;this.WebPDecodeRGBA=function(S,C,M,U,Y){var Q=tS,te=new kg,ae=new Qi;te.ba=ae,ae.S=Q,ae.width=[ae.width],ae.height=[ae.height];var ce=ae.width,ve=ae.height,Te=new Ji;if(Te==null||S==null)var Ve=2;else e(Te!=null),Ve=Dg(S,C,M,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Ve!=0?ce=0:(ce!=null&&(ce[0]=Te.width[0]),ve!=null&&(ve[0]=Te.height[0]),ce=1),ce){ae.width=ae.width[0],ae.height=ae.height[0],U!=null&&(U[0]=ae.width),Y!=null&&(Y[0]=ae.height);e:{if(U=new mu,(Y=new sx).data=S,Y.w=C,Y.ha=M,Y.kd=1,C=[0],e(Y!=null),((S=Dg(Y.data,Y.w,Y.ha,null,null,null,C,null,Y))==0||S==7)&&C[0]&&(S=4),(C=S)==0){if(e(te!=null),U.data=Y.data,U.w=Y.w+Y.offset,U.ha=Y.ha-Y.offset,U.put=pr,U.ac=Nt,U.bc=kr,U.ma=te,Y.xa){if((S=Je())==null){te=1;break e}if(function(He,Le){var ht=[0],et=[0],ke=[0];t:for(;;){if(He==null)return 0;if(Le==null)return He.a=2,0;if(He.l=Le,He.a=0,G(He.m,Le.data,Le.w,Le.ha),!Qt(He.m,ht,et,ke)){He.a=3;break t}if(He.xb=Q6,Le.width=ht[0],Le.height=et[0],!Ue(ht[0],et[0],1,He,null))break t;return 1}return e(He.a!=0),0}(S,U)){if(U=(C=Og(U.width,U.height,te.Oa,te.ba))==0){t:{U=S;r:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((M=U.l)!=null),e((Y=M.ma)!=null),U.xb!=0){if(U.ca=Y.ba,U.tb=Y.tb,e(U.ca!=null),!fx(Y.Oa,M,rS)){U.a=2;break r}if(!We(U,M.width)||M.da)break r;if((M.da||Gr(U.ca.S))&&$e(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&$e()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!he(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!Se(U,U.V,U.Ba,U.c,U.i,M.o,be))break r;Y.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(C=S.a)}else C=S.a}else{if((S=new qo)==null){te=1;break e}if(S.Fa=Y.na,S.P=Y.P,S.qc=Y.Sa,D2(S,U)){if((C=Og(U.width,U.height,te.Oa,te.ba))==0){if(S.Aa=0,M=te.Oa,e((Y=S)!=null),M!=null){if(0<(ce=0>(ce=M.Md)?0:100<ce?255:255*ce/100)){for(ve=Te=0;4>ve;++ve)12>(Ve=Y.pb[ve]).lc&&(Ve.ia=ce*eue[0>Ve.lc?0:Ve.lc]>>3),Te|=Ve.ia;Te&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=M.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}aC(S,U)||(C=S.a)}}else C=S.a}C==0&&te.Oa!=null&&te.Oa.fd&&(C=hx(te.ba))}te=C}Q=te!=0?null:11>Q?ae.f.RGBA.eb:ae.f.kb.y}else Q=null;return Q};var iL=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,T){for(var R="",D=0;D<4;D++)R+=String.fromCharCode(E[T++]);return R}function d(E,T){return(E[T+0]<<0|E[T+1]<<8|E[T+2]<<16)>>>0}function f(E,T){return(E[T+0]<<0|E[T+1]<<8|E[T+2]<<16|E[T+3]<<24)>>>0}new c;var m=[0],h=[0],v=[],g=new c,p=t,y=function(E,T){var R={},D=0,P=!1,I=0,L=0;if(R.frames=[],!function(F,B,z,ee){for(var le=0;le<ee;le++)if(F[B+le]!=z.charCodeAt(le))return!0;return!1}(E,T,"RIFF",4)){for(f(E,T+=4),T+=8;T<E.length;){var V=u(E,T),H=f(E,T+=4);T+=4;var q=H+(1&H);switch(V){case"VP8 ":case"VP8L":R.frames[D]===void 0&&(R.frames[D]={}),(Z=R.frames[D]).src_off=P?L:T-8,Z.src_size=I+H+8,D++,P&&(P=!1,I=0,L=0);break;case"VP8X":(Z=R.header={}).feature_flags=E[T];var G=T+4;Z.canvas_width=1+d(E,G),G+=3,Z.canvas_height=1+d(E,G),G+=3;break;case"ALPH":P=!0,I=q+8,L=T-8;break;case"ANIM":(Z=R.header).bgcolor=f(E,T),G=T+4,Z.loop_count=(de=E)[(k=G)+0]<<0|de[k+1]<<8,G+=2;break;case"ANMF":var re,Z;(Z=R.frames[D]={}).offset_x=2*d(E,T),T+=3,Z.offset_y=2*d(E,T),T+=3,Z.width=1+d(E,T),T+=3,Z.height=1+d(E,T),T+=3,Z.duration=d(E,T),T+=3,re=E[T++],Z.dispose=1&re,Z.blend=re>>1&1}V!="ANMF"&&(T+=q)}var de,k;return R}}(p,0);y.response=p,y.rgbaoutput=!0,y.dataurl=!1;var x=y.header?y.header:null,b=y.frames?y.frames:null;if(x){x.loop_counter=x.loop_count,m=[x.canvas_height],h=[x.canvas_width];for(var w=0;w<b.length&&b[w].blend!=0;w++);}var _=b[0],j=g.WebPDecodeRGBA(p,_.src_off,_.src_size,h,m);_.rgba=j,_.imgwidth=h[0],_.imgheight=m[0];for(var A=0;A<h[0]*m[0]*4;A++)v[A]=j[A];return this.width=h,this.height=m,this.data=v,this}(function(t){var e=function(){return typeof LO=="function"},r=function(m,h,v,g){var p=4,y=s;switch(g){case t.image_compression.FAST:p=1,y=i;break;case t.image_compression.MEDIUM:p=6,y=l;break;case t.image_compression.SLOW:p=9,y=c}m=n(m,h,v,y);var x=LO(m,{level:p});return t.__addimage__.arrayBufferToBinaryString(x)},n=function(m,h,v,g){for(var p,y,x,b=m.length/h,w=new Uint8Array(m.length+b),_=d(),j=0;j<b;j+=1){if(x=j*h,p=m.subarray(x,x+h),g)w.set(g(p,v,y),x+j);else{for(var A,E=_.length,T=[];A<E;A+=1)T[A]=_[A](p,v,y);var R=f(T.concat());w.set(T[R],x+j)}y=p}return w},a=function(m){var h=Array.apply([],m);return h.unshift(0),h},i=function(m,h){var v,g=[],p=m.length;g[0]=1;for(var y=0;y<p;y+=1)v=m[y-h]||0,g[y+1]=m[y]-v+256&255;return g},s=function(m,h,v){var g,p=[],y=m.length;p[0]=2;for(var x=0;x<y;x+=1)g=v&&v[x]||0,p[x+1]=m[x]-g+256&255;return p},l=function(m,h,v){var g,p,y=[],x=m.length;y[0]=3;for(var b=0;b<x;b+=1)g=m[b-h]||0,p=v&&v[b]||0,y[b+1]=m[b]+256-(g+p>>>1)&255;return y},c=function(m,h,v){var g,p,y,x,b=[],w=m.length;b[0]=4;for(var _=0;_<w;_+=1)g=m[_-h]||0,p=v&&v[_]||0,y=v&&v[_-h]||0,x=u(g,p,y),b[_+1]=m[_]-x+256&255;return b},u=function(m,h,v){if(m===h&&h===v)return m;var g=Math.abs(h-v),p=Math.abs(m-v),y=Math.abs(m+h-v-v);return g<=p&&g<=y?m:p<=y?h:v},d=function(){return[a,i,s,l,c]},f=function(m){var h=m.map(function(v){return v.reduce(function(g,p){return g+Math.abs(p)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(m,h,v,g){var p,y,x,b,w,_,j,A,E,T,R,D,P,I,L,V=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(x=new rlt(m)).imgData,y=x.bits,p=x.colorSpace,w=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){E=(A=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,R=new Uint8Array(E*x.colors),T=new Uint8Array(E);var q,G=x.pixelBitlength-x.bits;for(I=0,L=0;I<E;I++){for(P=A[I],q=0;q<G;)R[L++]=P>>>q&255,q+=x.bits;T[I]=P>>>q&255}}if(x.bits===16){E=(A=new Uint32Array(x.decodePixels().buffer)).length,R=new Uint8Array(E*(32/x.pixelBitlength)*x.colors),T=new Uint8Array(E*(32/x.pixelBitlength)),D=x.colors>1,I=0,L=0;for(var re=0;I<E;)P=A[I++],R[L++]=P>>>0&255,D&&(R[L++]=P>>>16&255,P=A[I++],R[L++]=P>>>0&255),T[re++]=P>>>16&255;y=8}g!==t.image_compression.NONE&&e()?(m=r(R,x.width*x.colors,x.colors,g),j=r(T,x.width,1,g)):(m=R,j=T,V=void 0)}if(x.colorType===3&&(p=this.color_spaces.INDEXED,_=x.palette,x.transparency.indexed)){var Z=x.transparency.indexed,de=0;for(I=0,E=Z.length;I<E;++I)de+=Z[I];if((de/=255)===E-1&&Z.indexOf(0)!==-1)b=[Z.indexOf(0)];else if(de!==E){for(A=x.decodePixels(),T=new Uint8Array(A.length),I=0,E=A.length;I<E;I++)T[I]=Z[A[I]];j=r(T,x.width,1)}}var k=function(F){var B;switch(F){case t.image_compression.FAST:B=11;break;case t.image_compression.MEDIUM:B=13;break;case t.image_compression.SLOW:B=14;break;default:B=12}return B}(g);return V===this.decode.FLATE_DECODE&&(H="/Predictor "+k+" "),H+="/Colors "+w+" /BitsPerComponent "+y+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(j&&this.__addimage__.isArrayBuffer(j)||this.__addimage__.isArrayBufferView(j))&&(j=this.__addimage__.arrayBufferToBinaryString(j)),{alias:v,data:m,index:h,filter:V,decodeParameters:H,transparency:b,palette:_,sMask:j,predictor:k,width:x.width,height:x.height,bitsPerComponent:y,colorSpace:p}}}})(xr.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new nlt(e),s=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:l},d=new G4(100).encode(u,100);return t.processJPEG.call(this,d,r,n,a)},t.processGIF87A=t.processGIF89A}(xr.API),Sc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Sc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Zn.log("bit decode error:"+r)}},Sc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Sc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Sc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Sc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=s,this.data[d+3]=u}this.pos+=t}},Sc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=t}},Sc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Sc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=s}},Sc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new Sc(e,!1),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new G4(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}}(xr.API),KV.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new KV(e),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new G4(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}}(xr.API),xr.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],m=n[u+2],h=n[u+3];i[l++]=d,i[l++]=f,i[l++]=m,s[c++]=h}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},xr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},s0=xr.API,S_=s0.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=e.doKerning!==!1,m=0,h=t.length,v=0,g=l[0]||c,p=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?p.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(m=f&&vn(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/d:0,p.push((l[n]||g)/c+m)),v=n;return p},WV=s0.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return s0.processArabic&&(t=s0.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:S_.apply(this,arguments).reduce(function(i,s){return i+s},0)},qV=function(t,e,r,n){for(var a=[],i=0,s=t.length,l=0;i!==s&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==s;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},GV=function(t,e,r){r||(r={});var n,a,i,s,l,c,u,d=[],f=[d],m=r.textIndent||0,h=0,v=0,g=t.split(" "),p=S_.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),x=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?x=x.concat(w.map(function(_,j){return(j&&_.length?`
`:"")+_})):x.push(w[0])}),g=x,c=WV.apply(this,[y,r])}for(i=0,s=g.length;i<s;i++){var b=0;if(n=g[i],c&&n[0]==`
`&&(n=n.substr(1),b=1),m+h+(v=(a=S_.apply(this,[n,r])).reduce(function(w,_){return w+_},0))>e||b){if(v>e){for(l=qV.apply(this,[n,a,e-(m+h),e]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);v=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(w,_){return w+_},0)}else d=[n];f.push(d),m=v+c,h=p}else d.push(n),m+=h+v,h=p}return u=c?function(w,_){return(_?y:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(u)},s0.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(GV.apply(this,[n[l],s,i]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=t.__fontmetrics__.compress=function(f){var m,h,v,g,p=["{"];for(var y in f){if(m=f[y],isNaN(parseInt(y,10))?h="'"+y+"'":(y=parseInt(y,10),h=(h=i(y).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof m=="number")m<0?(v=i(m).slice(3),g="-"):(v=i(m).slice(2),g=""),v=g+v.slice(0,-1)+n[v.slice(-1)];else{if(vn(m)!=="object")throw new Error("Don't know what to do with value type "+vn(m)+".");v=s(m)}p.push(h+v)}return p.push("}"),p.join("")},l=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,h,v,g,p={},y=1,x=p,b=[],w="",_="",j=f.length-1,A=1;A<j;A+=1)(g=f[A])=="'"?m?(v=m.join(""),m=void 0):m=[]:m?m.push(g):g=="{"?(b.push([x,v]),x={},v=void 0):g=="}"?((h=b.pop())[0][h[1]]=x,v=void 0,x=h[0]):g=="-"?y=-1:v===void 0?r.hasOwnProperty(g)?(w+=r[g],v=parseInt(w,16)*y,y=1,w=""):w+=g:r.hasOwnProperty(g)?(_+=r[g],x[v]=parseInt(_,16)*y,y=1,v=void 0,_=""):_+=g;return p},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var m=f.font,h=d.Unicode[m.postScriptName];h&&(m.metadata.Unicode={},m.metadata.Unicode.widths=h.widths,m.metadata.Unicode.kerning=h.kerning);var v=u.Unicode[m.postScriptName];v&&(m.metadata.Unicode.encoding=v,m.encoding=v.codePages[0])}])}(xr.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e($1(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(xr),function(t){function e(){return(_r.canvg?Promise.resolve(_r.canvg):ru(()=>import("./index.es-boT6eSKl.js"),__vite__mapDeps([2,1,3]))).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}xr.API.addSvgAsImage=function(r,n,a,i,s,l,c,u){if(isNaN(n)||isNaN(a))throw Zn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Zn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=i,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(v){return v.fromString(f,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(m)}).then(function(){h.addImage(d.toDataURL("image/jpeg",1),n,a,i,s,c,u)})}}(),xr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},xr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],u=0,d=0,f=0;function m(v,g){var p,y=!1;for(p=0;p<v.length;p+=1)v[p]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=l.length;for(f=0;f<h;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(vn(t)==="object"){for(a in t)if(i=t[a],m(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(xr.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var l,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=i.length;f<m;++f){if(l=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=i.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(i){var s,l,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(i).sort(function(h,v){return h-v})).length;f<m;f++)s=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",v=0;v<m.length;v++)h+=String.fromCharCode(m[v]);var g=u();d({data:h,addLength1:!0,objectId:g}),c("endobj");var p=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+v0(l.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var x=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+v0(l.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+t.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+p+" 0 R"),c("/BaseFont /"+v0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,d=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var v=u();d({data:m,addLength1:!0,objectId:v}),c("endobj");var g=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var p=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+v0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var y=0;y<l.metadata.hmtx.widths.length;y++)l.metadata.hmtx.widths[y]=parseInt(l.metadata.hmtx.widths[y]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+v0(l.fontName)+"/FontDescriptor "+p+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,l=i.text||"",c=i.x,u=i.y,d=i.options||{},f=i.mutex||{},m=f.pdfEscape,h=f.activeFontKey,v=f.fonts,g=h,p="",y=0,x="",b=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(x=l,g=h,Array.isArray(l)&&(x=l[0]),y=0;y<x.length;y+=1)v[g].metadata.hasOwnProperty("cmap")&&(s=v[g].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),s||x[y].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?p+=x[y]:p+="";var w="";return parseInt(g.slice(1))<14||b==="WinAnsiEncoding"?w=m(p,g).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(w=r(p,v[g])),f.isHex=!0,{text:w,x:c,y:u,options:d,mutex:f}};e.events.push(["postProcessText",function(i){var s=i.text||"",l=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?l.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):l.push(a(Object.assign({},c,{text:s[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:s})).text}])}(xr),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(xr.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,l,c,u,d,f=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,b=0;this.__bidiEngine__={};var w=function(D){var P=D.charCodeAt(),I=P>>8,L=g[I];return L!==void 0?f[256*L+(255&P)]:I===252||I===253?"AL":y.test(I)?"L":I===8?"R":"N"},_=function(D){for(var P,I=0;I<D.length;I++){if((P=w(D.charAt(I)))==="L")return!1;if(P==="R")return!0}return!1},j=function(D,P,I,L){var V,H,q,G,re=P[L];switch(re){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(re="AN");break;case"AL":x=!0,re="R";break;case"WS":re="N";break;case"CS":L<1||L+1>=P.length||(V=I[L-1])!=="EN"&&V!=="AN"||(H=P[L+1])!=="EN"&&H!=="AN"?re="N":x&&(H="AN"),re=H===V?H:"N";break;case"ES":re=(V=L>0?I[L-1]:"B")==="EN"&&L+1<P.length&&P[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&I[L-1]==="EN"){re="EN";break}if(x){re="N";break}for(q=L+1,G=P.length;q<G&&P[q]==="ET";)q++;re=q<G&&P[q]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(G=P.length,q=L+1;q<G&&P[q]==="NSM";)q++;if(q<G){var Z=D[L],de=Z>=1425&&Z<=2303||Z===64286;if(V=P[q],de&&(V==="R"||V==="AL")){re="R";break}}}re=L<1||(V=P[L-1])==="B"?"N":I[L-1];break;case"B":x=!1,a=!0,re=b;break;case"S":i=!0,re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":re="N"}return re},A=function(D,P,I){var L=D.split("");return I&&E(L,I,{hiLevel:b}),L.reverse(),P&&P.reverse(),L.join("")},E=function(D,P,I){var L,V,H,q,G,re=-1,Z=D.length,de=0,k=[],F=b?h:m,B=[];for(x=!1,a=!1,i=!1,V=0;V<Z;V++)B[V]=w(D[V]);for(H=0;H<Z;H++){if(G=de,k[H]=j(D,B,k,H),L=240&(de=F[G][v[k[H]]]),de&=15,P[H]=q=F[de][5],L>0)if(L===16){for(V=re;V<H;V++)P[V]=1;re=-1}else re=-1;if(F[de][6])re===-1&&(re=H);else if(re>-1){for(V=re;V<H;V++)P[V]=q;re=-1}B[H]==="B"&&(P[H]=0),I.hiLevel|=q}i&&function(z,ee,le){for(var ge=0;ge<le;ge++)if(z[ge]==="S"){ee[ge]=b;for(var se=ge-1;se>=0&&z[se]==="WS";se--)ee[se]=b}}(B,P,Z)},T=function(D,P,I,L,V){if(!(V.hiLevel<D)){if(D===1&&b===1&&!a)return P.reverse(),void(I&&I.reverse());for(var H,q,G,re,Z=P.length,de=0;de<Z;){if(L[de]>=D){for(G=de+1;G<Z&&L[G]>=D;)G++;for(re=de,q=G-1;re<q;re++,q--)H=P[re],P[re]=P[q],P[q]=H,I&&(H=I[re],I[re]=I[q],I[q]=H);de=G}de++}}},R=function(D,P,I){var L=D.split(""),V={hiLevel:b};return I||(I=[]),E(L,I,V),function(H,q,G){if(G.hiLevel!==0&&d)for(var re,Z=0;Z<H.length;Z++)q[Z]===1&&(re=p.indexOf(H[Z]))>=0&&(H[Z]=p[re+1])}(L,I,V),T(2,L,P,I,V),T(1,L,P,I,V),L.join("")};return this.__bidiEngine__.doBidiReorder=function(D,P,I){if(function(V,H){if(H)for(var q=0;q<V.length;q++)H[q]=q;l===void 0&&(l=_(V)),u===void 0&&(u=_(V))}(D,P),s||!c||u)if(s&&c&&l^u)b=l?1:0,D=A(D,P,I);else if(!s&&c&&u)b=l?1:0,D=R(D,P,I),D=A(D,P);else if(!s||l||c||u){if(s&&!c&&l^u)D=A(D,P),l?(b=0,D=R(D,P,I)):(b=1,D=R(D,P,I),D=A(D,P));else if(s&&l&&!c&&u)b=1,D=R(D,P,I),D=A(D,P);else if(!s&&!c&&l^u){var L=d;l?(b=1,D=R(D,P,I),b=0,d=!1,D=R(D,P,I),d=L):(b=0,D=R(D,P,I),D=A(D,P),b=1,d=!1,D=R(D,P,I),d=L,D=A(D,P))}}else b=0,D=R(D,P,I);else b=l?1:0,D=R(D,P,I);return D},this.__bidiEngine__.setOptions=function(D){D&&(s=D.isInputVisual,c=D.isOutputVisual,l=D.isInputRtl,u=D.isOutputRtl,d=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(s=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?s.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):s.push([r.doBidiReorder(a[l])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(xr),xr.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new qh(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ylt(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new alt(this.contents),this.head=new slt(this),this.name=new dlt(this),this.cmap=new ose(this),this.toUnicode={},this.hhea=new olt(this),this.maxp=new flt(this),this.hmtx=new hlt(this),this.post=new clt(this),this.os2=new llt(this),this.loca=new vlt(this),this.glyf=new mlt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,u;for(u=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,l;for(s=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var fu,qh=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),alt=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,l,c,u,d,f,m,h,v,g;for(g in h=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),s=Math.floor(f/c),d=16*h-f,(a=new qh).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*h,u=a.pos+i,l=null,v=[],r)for(m=r[g],a.writeString(g),a.writeInt(t(m)),a.writeInt(u),a.writeInt(m.length),v=v.concat(m),g==="head"&&(l=u),u+=m.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=lse.call(r);r.length%4;)r.push(0);for(i=new qh(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),ilt={}.hasOwnProperty,ld=function(t,e){for(var r in e)ilt.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};fu=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var slt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ld(e,fu),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new qh).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),XV=function(){function t(e,r){var n,a,i,s,l,c,u,d,f,m,h,v,g,p,y,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),m=h/2,e.pos+=6,i=function(){var w,_;for(_=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)_.push(e.readUInt16());return _}(),e.pos+=2,g=function(){var w,_;for(_=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)_.push(e.readUInt16());return _}(),u=function(){var w,_;for(_=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)_.push(e.readUInt16());return _}(),d=function(){var w,_;for(_=[],c=w=0;0<=m?w<m:w>m;c=0<=m?++w:--w)_.push(e.readUInt16());return _}(),a=(this.length-e.pos+this.offset)/2,l=function(){var w,_;for(_=[],c=w=0;0<=a?w<a:w>a;c=0<=a?++w:--w)_.push(e.readUInt16());return _}(),c=y=0,b=i.length;y<b;c=++y)for(p=i[c],n=x=v=g[c];v<=p?x<=p:x>=p;n=v<=p?++x:--x)d[c]===0?s=n+u[c]:(s=l[d[c]/2+(n-v)-(m-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}e.pos=f}return t.encode=function(e,r){var n,a,i,s,l,c,u,d,f,m,h,v,g,p,y,x,b,w,_,j,A,E,T,R,D,P,I,L,V,H,q,G,re,Z,de,k,F,B,z,ee,le,ge,se,ie,we,pe;switch(L=new qh,s=Object.keys(e).sort(function(Me,he){return Me-he}),r){case"macroman":for(g=0,p=function(){var Me=[];for(v=0;v<256;++v)Me.push(0);return Me}(),x={0:0},i={},V=0,re=s.length;V<re;V++)x[se=e[a=s[V]]]==null&&(x[se]=++g),i[a]={old:e[a],new:x[e[a]]},p[a]=x[e[a]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(p),{charMap:i,subtable:L.data,maxGlyphID:g+1};case"unicode":for(P=[],f=[],b=0,x={},n={},y=u=null,H=0,Z=s.length;H<Z;H++)x[_=e[a=s[H]]]==null&&(x[_]=++b),n[a]={old:_,new:x[_]},l=x[_]-a,y!=null&&l===u||(y&&f.push(y),P.push(a),u=l),y=a;for(y&&f.push(y),f.push(65535),P.push(65535),R=2*(T=P.length),E=2*Math.pow(Math.log(T)/Math.LN2,2),m=Math.log(E/2)/Math.LN2,A=2*T-E,c=[],j=[],h=[],v=q=0,de=P.length;q<de;v=++q){if(D=P[v],d=f[v],D===65535){c.push(0),j.push(0);break}if(D-(I=n[D].new)>=32768)for(c.push(0),j.push(2*(h.length+T-v)),a=G=D;D<=d?G<=d:G>=d;a=D<=d?++G:--G)h.push(n[a].new);else c.push(I-D),j.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*T+2*h.length),L.writeUInt16(0),L.writeUInt16(R),L.writeUInt16(E),L.writeUInt16(m),L.writeUInt16(A),le=0,k=f.length;le<k;le++)a=f[le],L.writeUInt16(a);for(L.writeUInt16(0),ge=0,F=P.length;ge<F;ge++)a=P[ge],L.writeUInt16(a);for(ie=0,B=c.length;ie<B;ie++)l=c[ie],L.writeUInt16(l);for(we=0,z=j.length;we<z;we++)w=j[we],L.writeUInt16(w);for(pe=0,ee=h.length;pe<ee;pe++)g=h[pe],L.writeUInt16(g);return{charMap:n,subtable:L.data,maxGlyphID:b+1}}},t}(),ose=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ld(e,fu),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new XV(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=XV.encode(r,n),(i=new qh).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),olt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ld(e,fu),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),llt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ld(e,fu),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),clt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ld(e,fu),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},e}(),ult=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},dlt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ld(e,fu),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,s,l,c,u,d,f,m,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},s=f=0,m=a.length;f<m;s=++f)i=a[s],r.pos=i.offset,d=r.readString(i.length),l=new ult(d,i),u[h=i.nameID]==null&&(u[h]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),flt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ld(e,fu),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),hlt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ld(e,fu),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,s,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=i?d<i:d>i;n=0<=i?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,m,h;for(h=[],d=0,f=(m=this.metrics).length;d<f;d++)s=m[d],h.push(s.advance);return h}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),lse=[].slice,mlt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ld(e,fu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,s,l,c,u,d,f,m;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new qh(n.read(i))).readShort(),d=c.readShort(),m=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new glt(c,d,m,u,f):new plt(c,l,d,m,u,f),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,s,l,c,u;for(l=[],s=[],c=0,u=n.length;c<u;c++)i=r[n[c]],s.push(l.length),i&&(l=l.concat(i.encode(a)));return s.push(l.length),{table:l,offsets:s}},e}(),plt=function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),glt=function(){function t(e,r,n,a,i){var s,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new qh(lse.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),vlt=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ld(e,fu),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,l=0;l<a.length;++l)if(a[l]=i,s<n.length&&n[s]==l){++s,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},e}(),ylt=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,l,c;for(a={},s=0,l=e.length;s<l;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,l,c,u,d,f,m,h,v,g,p,y;for(a in n=ose.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},y=n.charMap)h[(c=y[a]).old]=c.new;for(v in m=n.maxGlyphID,s)v in h||(h[v]=m++);return d=function(x){var b,w;for(b in w={},x)w[x[b]]=b;return w}(h),f=Object.keys(d).sort(function(x,b){return x-b}),g=function(){var x,b,w;for(w=[],x=0,b=f.length;x<b;x++)l=f[x],w.push(d[l]);return w}(),i=this.font.glyf.encode(s,g,h),u=this.font.loca.encode(i.offsets,g),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},t}();xr.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e}();function cse(t,e,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,l=a.internal.getFontSize()/s,c=a.getLineHeightFactor?a.getLineHeightFactor():i,u=l*c,d=/\r\n|\r|\n/g,f="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof t=="string"?t.split(d):t,m=f.length||1),r+=l*(2-i),n.valign==="middle"?r-=m/2*u:n.valign==="bottom"&&(r-=m*u),n.halign==="center"||n.halign==="right"){var h=l;if(n.halign==="center"&&(h*=.5),f&&m>=1){for(var v=0;v<f.length;v++)a.text(f[v],e-a.getStringUnitWidth(f[v])*h,r),r+=u;return a}e-=a.getStringUnitWidth(t)*h}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var ZV={},Q0=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:ZV=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var d=t.unifyColor(e.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=t.unifyColor(e.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=t.unifyColor(e.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return ZV||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),HO=function(t,e){return HO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},HO(t,e)};function use(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");HO(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var dse=function(t){use(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function xlt(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function blt(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function sA(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function fse(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var s=hse(a,!1);s&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,s)}function hse(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function z5(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function mse(t,e){var r=z5(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function wlt(t,e,r,n,a){var i={},s=1.3333333333333333,l=Y4(e,function(b){return a.getComputedStyle(b).backgroundColor});l!=null&&(i.fillColor=l);var c=Y4(e,function(b){return a.getComputedStyle(b).color});c!=null&&(i.textColor=c);var u=_lt(n,r);u&&(i.cellPadding=u);var d="borderTopColor",f=s*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var h=(parseFloat(m)||0)/f;h&&(i.lineWidth=h)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var v=Y4(e,function(b){return a.getComputedStyle(b)[d]});v!=null&&(i.lineColor=v);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var p=parseInt(n.fontSize||"");isNaN(p)||(i.fontSize=p/s);var y=Slt(n);y&&(i.fontStyle=y);var x=(n.fontFamily||"").toLowerCase();return t.indexOf(x)!==-1&&(i.font=x),i}function Slt(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Y4(t,e){var r=pse(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function pse(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:pse(t.parentElement,e):r}function _lt(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/n}),s=z5(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function gse(t,e,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),d=[],f=[],m=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:d,body:f,foot:m};for(var h=0;h<l.rows.length;h++){var v=l.rows[h],g=(s=(i=v==null?void 0:v.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),p=jlt(c,u,r,v,n,a);p&&(g==="thead"?d.push(p):g==="tfoot"?m.push(p):f.push(p))}return{head:d,body:f,foot:m}}function jlt(t,e,r,n,a,i){for(var s=new dse(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var d=void 0;i&&(d=wlt(t,c,e,u,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:d,_element:c,content:Nlt(c)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function Nlt(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Alt(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Hd(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function vse(t,e){var r=new Q0(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();Alt(a,n,e);var i=Hd({},a,n,e),s;typeof window<"u"&&(s=window);var l=Elt(a,n,e),c=Clt(a,n,e),u=Tlt(r,i),d=Plt(r,i,s);return{id:e.tableId,content:d,hooks:c,styles:l,settings:u}}function Elt(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=t[c],d=e[c],f=r[c];n.columnStyles=Hd({},u,d,f)}else{var m=[t,e,r],h=m.map(function(v){return v[c]||{}});n[c]=Hd({},h[0],h[1],h[2])}},i=0,s=Object.keys(n);i<s.length;i++){var l=s[i];a(l)}return n}function Clt(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var l=s[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function Tlt(t,e){var r,n,a,i,s,l,c,u,d,f,m,h,v=z5(e.margin,40/t.scaleFactor()),g=(r=klt(t,e.startY))!==null&&r!==void 0?r:v.top,p;e.showFoot===!0?p="everyPage":e.showFoot===!1?p="never":p=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var x=(i=e.useCss)!==null&&i!==void 0?i:!1,b=e.theme||(x?"plain":"striped"),w=!!e.horizontalPageBreak,_=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:x,theme:b,startY:g,margin:v,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:y,showFoot:p,tableLineWidth:(f=e.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(m=e.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:w,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function klt(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Plt(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(r){var l=gse(t,e.html,r,s,e.useCss)||{};n=l.head||n,a=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Dlt(n,a,i);return{columns:c,head:n,body:a,foot:i}}function Dlt(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(c>0?"_".concat(c):"");var d={dataKey:u};a.push(d)}}),a}var WO=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),Olt=function(t){use(e,t);function e(r,n,a,i,s,l){var c=t.call(this,r,n,l)||this;return c.cell=a,c.row=i,c.column=s,c.section=i.section,c}return e}(WO),Ilt=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,s){for(var l=0,c=r;l<c.length;l++){var u=c[l],d=new Olt(e,this,n,a,i,s),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new WO(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new WO(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),yse=function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof dse&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var l=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+l;return u>a?u:a},0)},t}(),xse=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=z5(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),Mlt=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},t}();function Rlt(t,e){Llt(t,e);var r=[],n=0;e.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(e);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=qO(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=qO(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),$lt(e),Blt(e,t),Flt(e)}function Llt(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=mse(t,e);e.allRows().forEach(function(i){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],u=i.cells[c.index];if(u){var d=e.hooks.didParseCell;e.callCellHooks(t,d,u,i,c,null);var f=u.padding("horizontal");u.contentWidth=sA(u.text,u.styles,t)+f;var m=sA(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/r;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(i){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var d=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(c.minWidth=f,c.wrappedWidth=f)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function qO(t,e,r){for(var n=e,a=t.reduce(function(h,v){return h+v.wrappedWidth},0),i=0;i<t.length;i++){var s=t[i],l=s.wrappedWidth/a,c=n*l,u=s.width+c,d=r(s),f=u<d?d:u;e-=f-s.width,s.width=f}if(e=Math.round(e*1e10)/1e10,e){var m=t.filter(function(h){return e<0?h.width>r(h):!0});m.length&&(e=qO(m,e,r))}return e}function Flt(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,l=t.columns;s<l.length;s++){var c=l[s],u=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var d=i.cells[c.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var f=n.length-a,m=d.rowSpan>f?f:d.rowSpan;e[c.index]={cell:d,left:m,row:i}}}}}function $lt(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,s=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(s-=1,s>1&&t.columns[l+1])i+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(s=u.colSpan,i=0,u.colSpan>1){a=u,i+=c.width;continue}u.width=c.width+i}}}function Blt(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],s=0,l=t.columns;s<l.length;s++){var c=l[s],u=i.cells[c.index];if(u){e.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,d+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=QV(u.text,d,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=QV(u.text,d,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>i.height&&(i.height=m)}}r.count--}}function QV(t,e,r,n,a){return t.map(function(i){return Ult(i,e,r,n,a)})}function Ult(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=sA(t,r,n))return t;for(;e<sA(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function bse(t,e){var r=new Q0(t),n=zlt(e,r.scaleFactor()),a=new Ilt(e,n);return Rlt(r,a),r.applyStyles(r.userStyles),a}function zlt(t,e){var r=t.content,n=Hlt(r.columns);if(r.head.length===0){var a=JV(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=JV(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,s=t.styles;return{columns:n,head:K4("head",r.head,n,s,i,e),body:K4("body",r.body,n,s,i,e),foot:K4("foot",r.foot,n,s,i,e)}}function K4(t,e,r,n,a,i){var s={},l=e.map(function(c,u){for(var d=0,f={},m=0,h=0,v=0,g=r;v<g.length;v++){var p=g[v];if(s[p.index]==null||s[p.index].left===0)if(h===0){var y=void 0;Array.isArray(c)?y=c[p.index-m-d]:y=c[p.dataKey];var x={};typeof y=="object"&&!Array.isArray(y)&&(x=(y==null?void 0:y.styles)||{});var b=Wlt(t,p,u,a,n,i,x),w=new xse(y,b,t);f[p.dataKey]=w,f[p.index]=w,h=w.colSpan-1,s[p.index]={left:w.rowSpan-1,times:h}}else h--,m++;else s[p.index].left--,h=s[p.index].times,d++}return new yse(c,u,t,f)});return l}function JV(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=Vlt(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Vlt(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Hlt(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new Mlt(a,e,r)})}function Wlt(t,e,r,n,a,i,s){var l=blt(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var u=Hd({},l.table,l[t],a.styles,c),d=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},f=t==="body"?d:{},m=t==="body"&&r%2===0?Hd({},l.alternateRow,a.alternateRowStyles):{},h=xlt(i),v=Hd({},h,u,m,f);return Hd(v,s)}function qlt(t,e,r){var n;r===void 0&&(r={});var a=mse(t,e),i=new Map,s=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var h=e.columns.find(function(v){return v.dataKey===m||v.index===m});h&&!i.has(h.index)&&(i.set(h.index,!0),s.push(h.index),l.push(e.columns[h.index]),a-=h.wrappedWidth)});for(var u=!0,d=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;d<e.columns.length;){if(i.has(d)){d++;continue}var f=e.columns[d].wrappedWidth;if(u||a>=f)u=!1,s.push(d),l.push(e.columns[d]),a-=f;else break;d++}return{colIndexes:s,columns:l,lastIndex:d-1}}function Glt(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=qlt(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function wse(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+a.bottom+s;if(r.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(m,h){return m+h.height},0);l+=u}var d=new Q0(t);(r.pageBreak==="always"||r.startY!=null&&l>d.pageSize().height)&&(_se(d),i.y=a.top),e.callWillDrawPageHooks(d,i);var f=Hd({},i);e.startPageNumber=d.pageNumber(),r.horizontalPageBreak?Ylt(d,e,f,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(m){return lf(d,e,m,i,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(m,h){var v=h===e.body.length-1;oA(d,e,m,v,f,i,e.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(m){return lf(d,e,m,i,e.columns)})),fse(d,e,f,i),e.callEndPageHooks(d,i),e.finalY=i.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function Ylt(t,e,r,n){var a=Glt(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){t.applyStyles(t.userStyles),d>0?B1(t,e,r,n,u.columns,!0):eH(t,e,n,u.columns),Klt(t,e,r,n,u.columns),X4(t,e,n,u.columns)});else for(var s=-1,l=a[0],c=function(){var u=s;if(l){t.applyStyles(t.userStyles);var d=l.columns;s>=0?B1(t,e,r,n,d,!0):eH(t,e,n,d),u=tH(t,e,s+1,n,d),X4(t,e,n,d)}var f=u-s;a.slice(1).forEach(function(m){t.applyStyles(t.userStyles),B1(t,e,r,n,m.columns,!0),tH(t,e,s+1,n,m.columns,f),X4(t,e,n,m.columns)}),s=u};s<e.body.length-1;)c()}function eH(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return lf(t,e,i,r,n)})}function Klt(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,s){var l=s===e.body.length-1;oA(t,e,i,l,r,n,a)})}function tH(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var s=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,s).forEach(function(c,u){var d=r+u===e.body.length-1,f=Sse(t,e,d,n);c.canEntireRowFit(f,a)&&(lf(t,e,c,n,a),l=r+u)}),l}function X4(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return lf(t,e,i,r,n)})}function Xlt(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function Zlt(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,s=0,l=r.columns;s<l.length;s++){var c=l[s],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new xse(u.raw,u.styles,u.section);d=Hd(d,u),d.text=[];var f=Xlt(u,e,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var m=n.scaleFactor(),h=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,h),u.contentHeight>=e&&(u.contentHeight=e,d.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),d.contentHeight=d.getContentHeight(m,h),d.contentHeight>i&&(i=d.contentHeight),a[c.index]=d}}var v=new yse(t.raw,-1,t.section,a,!0);v.height=i;for(var g=0,p=r.columns;g<p.length;g++){var c=p[g],d=v.cells[c.index];d&&(d.height=v.height);var u=t.cells[c.index];u&&(u.height=t.height)}return v}function Qlt(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,l=a-s;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=e.hasRowSpan(n.columns),f=e.getMaxCellHeight(n.columns)>l;return f?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function oA(t,e,r,n,a,i,s){var l=Sse(t,e,n,i);if(r.canEntireRowFit(l,s))lf(t,e,r,i,s);else if(Qlt(t,r,l,e)){var c=Zlt(r,l,e,t);lf(t,e,r,i,s),B1(t,e,a,i,s),oA(t,e,c,n,a,i,s)}else B1(t,e,a,i,s),oA(t,e,r,n,a,i,s)}function lf(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var l=s[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}Jlt(t,c,n);var d=c.getTextPos();cse(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function Jlt(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=hse(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),ect(t,e,r,n.lineWidth))}function ect(t,e,r,n){var a,i,s,l;n.top&&(a=r.x,i=r.y,s=r.x+e.width,l=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,s,l)),n.bottom&&(a=r.x,i=r.y+e.height,s=r.x+e.width,l=r.y+e.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,s,l)),n.left&&(a=r.x,i=r.y,s=r.x,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,i,s,l)),n.right&&(a=r.x+e.width,i=r.y,s=r.x+e.width,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,i,s,l));function c(u,d,f,m,h){t.getDocument().setLineWidth(u),t.getDocument().line(d,f,m,h,"S")}}function Sse(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function B1(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return lf(t,e,l,n,a)}),e.callEndPageHooks(t,n);var s=e.settings.margin;fse(t,e,r,n),_se(t),e.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return lf(t,e,l,n,a)}),t.applyStyles(t.userStyles))}function _se(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function tct(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=vse(this,n),i=bse(this,a);return wse(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){cse(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Q0.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Q0.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Q0(this),i=gse(a,e,window,r,!1),s=i.head,l=i.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var Z4;function Lm(t,e){var r=vse(t,e),n=bse(t,r);wse(t,n)}try{if(typeof window<"u"&&window){var rH=window,nH=rH.jsPDF||((Z4=rH.jspdf)===null||Z4===void 0?void 0:Z4.jsPDF);nH&&tct(nH)}}catch(t){console.error("Could not apply autoTable plugin",t)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var lA={};lA.version="0.18.5";var jse=1252,rct=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Nse=function(t){rct.indexOf(t)!=-1&&(jse=t)};function nct(){Nse(1252)}var iw=function(t){Nse(t)};function act(){iw(1200),nct()}var __=function(e){return String.fromCharCode(e)},aH=function(e){return String.fromCharCode(e)},iH,yh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function sw(t){for(var e="",r=0,n=0,a=0,i=0,s=0,l=0,c=0,u=0;u<t.length;)r=t.charCodeAt(u++),i=r>>2,n=t.charCodeAt(u++),s=(r&3)<<4|n>>4,a=t.charCodeAt(u++),l=(n&15)<<2|a>>6,c=a&63,isNaN(n)?l=c=64:isNaN(a)&&(c=64),e+=yh.charAt(i)+yh.charAt(s)+yh.charAt(l)+yh.charAt(c);return e}function cf(t){var e="",r=0,n=0,a=0,i=0,s=0,l=0,c=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)i=yh.indexOf(t.charAt(u++)),s=yh.indexOf(t.charAt(u++)),r=i<<2|s>>4,e+=String.fromCharCode(r),l=yh.indexOf(t.charAt(u++)),n=(s&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(n)),c=yh.indexOf(t.charAt(u++)),a=(l&3)<<6|c,c!==64&&(e+=String.fromCharCode(a));return e}var An=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),vf=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Qp(t){return An?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function sH(t){return An?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Mc=function(e){return An?vf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function V5(t){if(typeof ArrayBuffer>"u")return Mc(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function S2(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function ict(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var cs=An?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:vf(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),a=0;for(e=0,r=0;e<t.length;r+=a,++e)if(a=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function sct(t){for(var e=[],r=0,n=t.length+250,a=Qp(t.length+255),i=0;i<t.length;++i){var s=t.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var l=t.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|l>>6&15|(s&3)<<4,a[r++]=128|l&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(e.push(a.slice(0,r)),r=0,a=Qp(65535),n=65530)}return e.push(a.slice(0,r)),cs(e)}var U1=/\u0000/g,j_=/[\u0001-\u0006]/g;function J0(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function zc(t,e){var r=""+t;return r.length>=e?r:Ua("0",e-r.length)+r}function g6(t,e){var r=""+t;return r.length>=e?r:Ua(" ",e-r.length)+r}function cA(t,e){var r=""+t;return r.length>=e?r:r+Ua(" ",e-r.length)}function oct(t,e){var r=""+Math.round(t);return r.length>=e?r:Ua("0",e-r.length)+r}function lct(t,e){var r=""+t;return r.length>=e?r:Ua("0",e-r.length)+r}var oH=Math.pow(2,32);function o0(t,e){if(t>oH||t<-oH)return oct(t,e);var r=Math.round(t);return lct(r,e)}function uA(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var lH=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Q4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function cct(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Va={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},cH={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},uct={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function dA(t,e,r){for(var n=t<0?-1:1,a=t*n,i=0,s=1,l=0,c=1,u=0,d=0,f=Math.floor(a);u<e&&(f=Math.floor(a),l=f*s+i,d=f*u+c,!(a-f<5e-8));)a=1/(a-f),i=s,s=l,c=u,u=d;if(d>e&&(u>e?(d=c,l=i):(d=u,l=s)),!r)return[0,n*l,d];var m=Math.floor(n*l/d);return[m,n*l-m*d,d]}function N_(t,e,r){if(t>2958465||t<0)return null;var n=t|0,a=Math.floor(86400*(t-n)),i=0,s=[],l={D:n,T:a,u:86400*(t-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++a==86400&&(l.T=a=0,++n,++l.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=vct(c,s))}return l.y=s[0],l.m=s[1],l.d=s[2],l.S=a%60,a=Math.floor(a/60),l.M=a%60,a=Math.floor(a/60),l.H=a,l.q=i,l}var Ase=new Date(1899,11,31,0,0,0),dct=Ase.getTime(),fct=new Date(1900,2,1,0,0,0);function Ese(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=fct&&(r+=24*60*60*1e3),(r-(dct+(t.getTimezoneOffset()-Ase.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function v6(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function hct(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function mct(t){var e=t<0?12:11,r=v6(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function pct(t){var e=v6(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function gct(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=mct(t):e===10?r=t.toFixed(10).substr(0,12):r=pct(t),v6(hct(r.toUpperCase()))}function GO(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):gct(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Gh(14,Ese(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function vct(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function yct(t,e,r,n){var a="",i=0,s=0,l=r.y,c,u=0;switch(t){case 98:l=r.y+543;case 121:switch(e.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=r.m,u=e.length;break;case 3:return Q4[r.m-1][1];case 5:return Q4[r.m-1][0];default:return Q4[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=r.d,u=e.length;break;case 3:return lH[r.q][0];default:return lH[r.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?zc(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),e==="s"?i===0?"0":""+i/s:(a=zc(i,2+n),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=l,u=1;break}var d=u>0?zc(c,u):"";return d}function xh(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var Cse=/%/g;function xct(t,e,r){var n=e.replace(Cse,""),a=e.length-n.length;return Gd(t,n,r*Math.pow(10,2*a))+Ua("%",a)}function bct(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Gd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Tse(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Tse(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var kse=/# (\?+)( ?)\/( ?)(\d+)/;function wct(t,e,r){var n=parseInt(t[4],10),a=Math.round(e*n),i=Math.floor(a/n),s=a-i*n,l=n;return r+(i===0?"":""+i)+" "+(s===0?Ua(" ",t[1].length+1+t[4].length):g6(s,t[1].length)+t[2]+"/"+t[3]+zc(l,t[4].length))}function Sct(t,e,r){return r+(e===0?"":""+e)+Ua(" ",t[1].length+2+t[4].length)}var Pse=/^#*0*\.([0#]+)/,Dse=/\).*[0#]/,Ose=/\(###\) ###\\?-####/;function to(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function uH(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function dH(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function _ct(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function jct(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ll(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Dse)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ll("n",n,r):"("+Ll("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return bct(t,e,r);if(e.indexOf("%")!==-1)return xct(t,e,r);if(e.indexOf("E")!==-1)return Tse(e,r);if(e.charCodeAt(0)===36)return"$"+Ll(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,l,c=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+o0(c,e.length);if(e.match(/^[#?]+$/))return a=o0(r,0),a==="0"&&(a=""),a.length>e.length?a:to(e.substr(0,e.length-a.length))+a;if(i=e.match(kse))return wct(i,c,u);if(e.match(/^#+0+$/))return u+o0(c,e.length-e.indexOf("0"));if(i=e.match(Pse))return a=uH(r,i[1].length).replace(/^([^\.]+)$/,"$1."+to(i[1])).replace(/\.$/,"."+to(i[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+Ua("0",to(i[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+uH(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+xh(o0(c,0));if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ll(t,e,-r):xh(""+(Math.floor(r)+_ct(r,i[1].length)))+"."+zc(dH(r,i[1].length),i[1].length);if(i=e.match(/^#,#*,#0/))return Ll(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=J0(Ll(t,e.replace(/[\\-]/g,""),r)),s=0,J0(J0(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<a.length?a.charAt(s++):v==="0"?"0":""}));if(e.match(Ose))return a=Ll(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=dA(c,Math.pow(10,s)-1,!1),a=""+u,d=Gd("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=cA(l[2],s),d.length<i[4].length&&(d=to(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=dA(c,Math.pow(10,s)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?g6(l[1],s)+i[2]+"/"+i[3]+cA(l[2],s):Ua(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=o0(r,0),e.length<=a.length?a:to(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=e.indexOf(".")-s,m=e.length-a.length-f;return to(e.substr(0,f)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return s=dH(r,i[1].length),r<0?"-"+Ll(t,e,-r):xh(jct(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?zc(0,3-v.length):"")+v})+"."+zc(s,i[1].length);switch(e){case"###,##0.00":return Ll(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=xh(o0(c,0));return h!=="0"?u+h:"";case"###,###.00":return Ll(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ll(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Nct(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Gd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Act(t,e,r){var n=e.replace(Cse,""),a=e.length-n.length;return Gd(t,n,r*Math.pow(10,2*a))+Ua("%",a)}function Ise(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Ise(t,-e);var a=t.indexOf(".");a===-1&&(a=t.indexOf("E"));var i=Math.floor(Math.log(e)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(e/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,d){return c+u+d.substr(0,(a+i)%a)+"."+d.substr(i)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function wu(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Dse)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?wu("n",n,r):"("+wu("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Nct(t,e,r);if(e.indexOf("%")!==-1)return Act(t,e,r);if(e.indexOf("E")!==-1)return Ise(e,r);if(e.charCodeAt(0)===36)return"$"+wu(t,e.substr(e.charAt(1)==" "?2:1),r);var a,i,s,l,c=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+zc(c,e.length);if(e.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>e.length?a:to(e.substr(0,e.length-a.length))+a;if(i=e.match(kse))return Sct(i,c,u);if(e.match(/^#+0+$/))return u+zc(c,e.length-e.indexOf("0"));if(i=e.match(Pse))return a=(""+r).replace(/^([^\.]+)$/,"$1."+to(i[1])).replace(/\.$/,"."+to(i[1])),a=a.replace(/\.(\d*)$/,function(v,g){return"."+g+Ua("0",to(i[1]).length-g.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),i=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=e.match(/^#{1,3},##0(\.?)$/))return u+xh(""+c);if(i=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+wu(t,e,-r):xh(""+r)+"."+Ua("0",i[1].length);if(i=e.match(/^#,#*,#0/))return wu(t,e.replace(/^#,#*,/,""),r);if(i=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=J0(wu(t,e.replace(/[\\-]/g,""),r)),s=0,J0(J0(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return s<a.length?a.charAt(s++):v==="0"?"0":""}));if(e.match(Ose))return a=wu(t,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(i=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),l=dA(c,Math.pow(10,s)-1,!1),a=""+u,d=Gd("n",i[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+i[2]+"/"+i[3],d=cA(l[2],s),d.length<i[4].length&&(d=to(i[4].substr(i[4].length-d.length))+d),a+=d,a;if(i=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),l=dA(c,Math.pow(10,s)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?g6(l[1],s)+i[2]+"/"+i[3]+cA(l[2],s):Ua(" ",2*s+1+i[2].length+i[3].length));if(i=e.match(/^[#0?]+$/))return a=""+r,e.length<=a.length?a:to(e.substr(0,e.length-a.length))+a;if(i=e.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=e.indexOf(".")-s,m=e.length-a.length-f;return to(e.substr(0,f)+a+e.substr(e.length-m))}if(i=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+wu(t,e,-r):xh(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?zc(0,3-v.length):"")+v})+"."+zc(0,i[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=xh(""+c);return h!=="0"?u+h:"";default:if(e.match(/\.[0#?]*$/))return wu(t,e.slice(0,e.lastIndexOf(".")),r)+to(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Gd(t,e,r){return(r|0)===r?wu(t,e,r):Ll(t,e,r)}function Ect(t){for(var e=[],r=!1,n=0,a=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(a,n-a),a=n+1}if(e[e.length]=t.substr(a),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Mse=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Rse(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":uA(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(Mse))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Cct(t,e,r,n){for(var a=[],i="",s=0,l="",c="t",u,d,f,m="H";s<t.length;)switch(l=t.charAt(s)){case"G":if(!uA(t,s))throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=t.charCodeAt(++s))!==34&&s<t.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var h=t.charAt(++s),v=h==="("||h===")"?h:"t";a[a.length]={t:v,v:h},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(u==null&&(u=N_(e,r,t.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:t.substr(s,2)},c=l,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=N_(e,r),u==null))return"";for(i=l;++s<t.length&&t.charAt(s).toLowerCase()===l;)i+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=m),a[a.length]={t:l,v:i},c=l;break;case"A":case"a":case"":var g={t:l,v:l};if(u==null&&(u=N_(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",m="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",s+=5,m="h"):t.substr(s,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",s+=5,m="h"):(g.t="t",++s),u==null&&g.t==="T")return"";a[a.length]=g,c=l;break;case"[":for(i=l;t.charAt(s++)!=="]"&&s<t.length;)i+=t.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Mse)){if(u==null&&(u=N_(e,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Rse(t)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=l;++s<t.length&&(l=t.charAt(s))==="0";)i+=l;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=l;++s<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(s))>-1;)i+=l;a[a.length]={t:"n",v:i};break;case"?":for(i=l;t.charAt(++s)===l;)i+=l;a[a.length]={t:l,v:i},c=l;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":l,v:l},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=l;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)i+=t.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:l,v:l},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);a[a.length]={t:"t",v:l},++s;break}var p=0,y=0,x;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=m,c="h",p<1&&(p=1);break;case"s":(x=a[s].v.match(/\.0+$/))&&(y=Math.max(y,x[0].length-1)),p<3&&(p=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",p<2&&(p=2));break;case"X":break;case"Z":p<1&&a[s].v.match(/[Hh]/)&&(p=1),p<2&&a[s].v.match(/[Mm]/)&&(p=2),p<3&&a[s].v.match(/[Ss]/)&&(p=3)}switch(p){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var b="",w;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=yct(a[s].t.charCodeAt(0),a[s].v,u,y),a[s].t="t";break;case"n":case"?":for(w=s+1;a[w]!=null&&((l=a[w].t)==="?"||l==="D"||(l===" "||l==="t")&&a[w+1]!=null&&(a[w+1].t==="?"||a[w+1].t==="t"&&a[w+1].v==="/")||a[s].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(a[w].v==="/"||a[w].v===" "&&a[w+1]!=null&&a[w+1].t=="?"));)a[s].v+=a[w].v,a[w]={v:"",t:";"},++w;b+=a[s].v,s=w-1;break;case"G":a[s].t="t",a[s].v=GO(e,r);break}var _="",j,A;if(b.length>0){b.charCodeAt(0)==40?(j=e<0&&b.charCodeAt(0)===45?-e:e,A=Gd("n",b,j)):(j=e<0&&n>1?-e:e,A=Gd("n",b,j),j<0&&a[0]&&a[0].t=="t"&&(A=A.substr(1),a[0].v="-"+a[0].v)),w=A.length-1;var E=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){E=s;break}var T=a.length;if(E===a.length&&A.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(w>=a[s].v.length-1?(w-=a[s].v.length,a[s].v=A.substr(w+1,a[s].v.length)):w<0?a[s].v="":(a[s].v=A.substr(0,w+1),w=-1),a[s].t="t",T=s);w>=0&&T<a.length&&(a[T].v=A.substr(0,w+1)+a[T].v)}else if(E!==a.length&&A.indexOf("E")===-1){for(w=A.indexOf(".")-1,s=E;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(d=a[s].v.indexOf(".")>-1&&s===E?a[s].v.indexOf(".")-1:a[s].v.length-1,_=a[s].v.substr(d+1);d>=0;--d)w>=0&&(a[s].v.charAt(d)==="0"||a[s].v.charAt(d)==="#")&&(_=A.charAt(w--)+_);a[s].v=_,a[s].t="t",T=s}for(w>=0&&T<a.length&&(a[T].v=A.substr(0,w+1)+a[T].v),w=A.indexOf(".")+1,s=E;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==E)){for(d=a[s].v.indexOf(".")>-1&&s===E?a[s].v.indexOf(".")+1:0,_=a[s].v.substr(0,d);d<a[s].v.length;++d)w<A.length&&(_+=A.charAt(w++));a[s].v=_,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(j=n>1&&e<0&&s>0&&a[s-1].v==="-"?-e:e,a[s].v=Gd(a[s].t,a[s].v,j),a[s].t="t");var R="";for(s=0;s!==a.length;++s)a[s]!=null&&(R+=a[s].v);return R}var fH=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function hH(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function Tct(t,e){var r=Ect(t),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(fH),l=r[1].match(fH);return hH(e,s)?[n,r[0]]:hH(e,l)?[n,r[1]]:[n,r[s!=null&&l!=null?2:1]]}return[n,i]}function Gh(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Va)[t],n==null&&(n=r.table&&r.table[cH[t]]||Va[cH[t]]),n==null&&(n=uct[t]||"General");break}if(uA(n,0))return GO(e,r);e instanceof Date&&(e=Ese(e,r.date1904));var a=Tct(n,e);if(uA(a[1]))return GO(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Cct(a[1],e,r,a[0])}function Lse(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Va[r]==null){e<0&&(e=r);continue}if(Va[r]==t){e=r;break}}e<0&&(e=391)}return Va[e]=t,e}function H5(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Lse(t[e],e)}function W5(){Va=cct()}var Fse=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function kct(t){var e=typeof t=="number"?Va[t]:t;return e=e.replace(Fse,"(\\d+)"),new RegExp("^"+e+"$")}function Pct(t,e,r){var n=-1,a=-1,i=-1,s=-1,l=-1,c=-1;(e.match(Fse)||[]).forEach(function(f,m){var h=parseInt(r[m+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":i=h;break;case"h":s=h;break;case"s":c=h;break;case"m":s>=0?l=h:a=h;break}}),c>=0&&l==-1&&a>=0&&(l=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&l==-1&&c==-1?u:n==-1&&a==-1&&i==-1?d:u+"T"+d}var Dct=function(){var t={};t.version="1.2.0";function e(){for(var A=0,E=new Array(256),T=0;T!=256;++T)A=T,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,E[T]=A;return typeof Int32Array<"u"?new Int32Array(E):E}var r=e();function n(A){var E=0,T=0,R=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(R=0;R!=256;++R)D[R]=A[R];for(R=0;R!=256;++R)for(T=A[R],E=256+R;E<4096;E+=256)T=D[E]=T>>>8^A[T&255];var P=[];for(R=1;R!=16;++R)P[R-1]=typeof Int32Array<"u"?D.subarray(R*256,R*256+256):D.slice(R*256,R*256+256);return P}var a=n(r),i=a[0],s=a[1],l=a[2],c=a[3],u=a[4],d=a[5],f=a[6],m=a[7],h=a[8],v=a[9],g=a[10],p=a[11],y=a[12],x=a[13],b=a[14];function w(A,E){for(var T=E^-1,R=0,D=A.length;R<D;)T=T>>>8^r[(T^A.charCodeAt(R++))&255];return~T}function _(A,E){for(var T=E^-1,R=A.length-15,D=0;D<R;)T=b[A[D++]^T&255]^x[A[D++]^T>>8&255]^y[A[D++]^T>>16&255]^p[A[D++]^T>>>24]^g[A[D++]]^v[A[D++]]^h[A[D++]]^m[A[D++]]^f[A[D++]]^d[A[D++]]^u[A[D++]]^c[A[D++]]^l[A[D++]]^s[A[D++]]^i[A[D++]]^r[A[D++]];for(R+=15;D<R;)T=T>>>8^r[(T^A[D++])&255];return~T}function j(A,E){for(var T=E^-1,R=0,D=A.length,P=0,I=0;R<D;)P=A.charCodeAt(R++),P<128?T=T>>>8^r[(T^P)&255]:P<2048?(T=T>>>8^r[(T^(192|P>>6&31))&255],T=T>>>8^r[(T^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,I=A.charCodeAt(R++)&1023,T=T>>>8^r[(T^(240|P>>8&7))&255],T=T>>>8^r[(T^(128|P>>2&63))&255],T=T>>>8^r[(T^(128|I>>6&15|(P&3)<<4))&255],T=T>>>8^r[(T^(128|I&63))&255]):(T=T>>>8^r[(T^(224|P>>12&15))&255],T=T>>>8^r[(T^(128|P>>6&63))&255],T=T>>>8^r[(T^(128|P&63))&255]);return~T}return t.table=r,t.bstr=w,t.buf=_,t.str=j,t}(),qn=function(){var e={};e.version="1.2.1";function r(J,be){for(var fe=J.split("/"),me=be.split("/"),xe=0,Se=0,ze=Math.min(fe.length,me.length);xe<ze;++xe){if(Se=fe[xe].length-me[xe].length)return Se;if(fe[xe]!=me[xe])return fe[xe]<me[xe]?-1:1}return fe.length-me.length}function n(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:n(J.slice(0,-1));var be=J.lastIndexOf("/");return be===-1?J:J.slice(0,be+1)}function a(J){if(J.charAt(J.length-1)=="/")return a(J.slice(0,-1));var be=J.lastIndexOf("/");return be===-1?J:J.slice(be+1)}function i(J,be){typeof be=="string"&&(be=new Date(be));var fe=be.getHours();fe=fe<<6|be.getMinutes(),fe=fe<<5|be.getSeconds()>>>1,J.write_shift(2,fe);var me=be.getFullYear()-1980;me=me<<4|be.getMonth()+1,me=me<<5|be.getDate(),J.write_shift(2,me)}function s(J){var be=J.read_shift(2)&65535,fe=J.read_shift(2)&65535,me=new Date,xe=fe&31;fe>>>=5;var Se=fe&15;fe>>>=4,me.setMilliseconds(0),me.setFullYear(fe+1980),me.setMonth(Se-1),me.setDate(xe);var ze=be&31;be>>>=5;var Je=be&63;return be>>>=6,me.setHours(be),me.setMinutes(Je),me.setSeconds(ze<<1),me}function l(J){al(J,0);for(var be={},fe=0;J.l<=J.length-4;){var me=J.read_shift(2),xe=J.read_shift(2),Se=J.l+xe,ze={};switch(me){case 21589:fe=J.read_shift(1),fe&1&&(ze.mtime=J.read_shift(4)),xe>5&&(fe&2&&(ze.atime=J.read_shift(4)),fe&4&&(ze.ctime=J.read_shift(4))),ze.mtime&&(ze.mt=new Date(ze.mtime*1e3));break}J.l=Se,be[me]=ze}return be}var c;function u(){return c||(c={})}function d(J,be){if(J[0]==80&&J[1]==75)return Cn(J,be);if((J[0]|32)==109&&(J[1]|32)==105)return kr(J,be);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var fe=3,me=512,xe=0,Se=0,ze=0,Je=0,Ue=0,We=[],Ge=J.slice(0,512);al(Ge,0);var St=f(Ge);switch(fe=St[0],fe){case 3:me=512;break;case 4:me=4096;break;case 0:if(St[1]==0)return Cn(J,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+fe)}me!==512&&(Ge=J.slice(0,me),al(Ge,28));var Tt=J.slice(0,me);m(Ge,fe);var zt=Ge.read_shift(4,"i");if(fe===3&&zt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+zt);Ge.l+=4,ze=Ge.read_shift(4,"i"),Ge.l+=4,Ge.chk("00100000","Mini Stream Cutoff Size: "),Je=Ge.read_shift(4,"i"),xe=Ge.read_shift(4,"i"),Ue=Ge.read_shift(4,"i"),Se=Ge.read_shift(4,"i");for(var At=-1,$t=0;$t<109&&(At=Ge.read_shift(4,"i"),!(At<0));++$t)We[$t]=At;var Tr=h(J,me);p(Ue,Se,Tr,me,We);var Tn=x(Tr,ze,We,me);Tn[ze].name="!Directory",xe>0&&Je!==I&&(Tn[Je].name="!MiniFAT"),Tn[We[0]].name="!FAT",Tn.fat_addrs=We,Tn.ssz=me;var Vn={},fi=[],cc=[],gd=[];b(ze,Tn,Tr,fi,xe,Vn,cc,Je),v(cc,gd,fi),fi.shift();var hu={FileIndex:cc,FullPaths:gd};return be&&be.raw&&(hu.raw={header:Tt,sectors:Tr}),hu}function f(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(L,"Header Signature: "),J.l+=16;var be=J.read_shift(2,"u");return[J.read_shift(2,"u"),be]}function m(J,be){var fe=9;switch(J.l+=2,fe=J.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+fe);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+fe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+fe)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function h(J,be){for(var fe=Math.ceil(J.length/be)-1,me=[],xe=1;xe<fe;++xe)me[xe-1]=J.slice(xe*be,(xe+1)*be);return me[fe-1]=J.slice(fe*be),me}function v(J,be,fe){for(var me=0,xe=0,Se=0,ze=0,Je=0,Ue=fe.length,We=[],Ge=[];me<Ue;++me)We[me]=Ge[me]=me,be[me]=fe[me];for(;Je<Ge.length;++Je)me=Ge[Je],xe=J[me].L,Se=J[me].R,ze=J[me].C,We[me]===me&&(xe!==-1&&We[xe]!==xe&&(We[me]=We[xe]),Se!==-1&&We[Se]!==Se&&(We[me]=We[Se])),ze!==-1&&(We[ze]=me),xe!==-1&&me!=We[me]&&(We[xe]=We[me],Ge.lastIndexOf(xe)<Je&&Ge.push(xe)),Se!==-1&&me!=We[me]&&(We[Se]=We[me],Ge.lastIndexOf(Se)<Je&&Ge.push(Se));for(me=1;me<Ue;++me)We[me]===me&&(Se!==-1&&We[Se]!==Se?We[me]=We[Se]:xe!==-1&&We[xe]!==xe&&(We[me]=We[xe]));for(me=1;me<Ue;++me)if(J[me].type!==0){if(Je=me,Je!=We[Je])do Je=We[Je],be[me]=be[Je]+"/"+be[me];while(Je!==0&&We[Je]!==-1&&Je!=We[Je]);We[me]=-1}for(be[0]+="/",me=1;me<Ue;++me)J[me].type!==2&&(be[me]+="/")}function g(J,be,fe){for(var me=J.start,xe=J.size,Se=[],ze=me;fe&&xe>0&&ze>=0;)Se.push(be.slice(ze*P,ze*P+P)),xe-=P,ze=Qm(fe,ze*4);return Se.length===0?rt(0):cs(Se).slice(0,J.size)}function p(J,be,fe,me,xe){var Se=I;if(J===I){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var ze=fe[J],Je=(me>>>2)-1;if(!ze)return;for(var Ue=0;Ue<Je&&(Se=Qm(ze,Ue*4))!==I;++Ue)xe.push(Se);p(Qm(ze,me-4),be-1,fe,me,xe)}}function y(J,be,fe,me,xe){var Se=[],ze=[];xe||(xe=[]);var Je=me-1,Ue=0,We=0;for(Ue=be;Ue>=0;){xe[Ue]=!0,Se[Se.length]=Ue,ze.push(J[Ue]);var Ge=fe[Math.floor(Ue*4/me)];if(We=Ue*4&Je,me<4+We)throw new Error("FAT boundary crossed: "+Ue+" 4 "+me);if(!J[Ge])break;Ue=Qm(J[Ge],We)}return{nodes:Se,data:wH([ze])}}function x(J,be,fe,me){var xe=J.length,Se=[],ze=[],Je=[],Ue=[],We=me-1,Ge=0,St=0,Tt=0,zt=0;for(Ge=0;Ge<xe;++Ge)if(Je=[],Tt=Ge+be,Tt>=xe&&(Tt-=xe),!ze[Tt]){Ue=[];var At=[];for(St=Tt;St>=0;){At[St]=!0,ze[St]=!0,Je[Je.length]=St,Ue.push(J[St]);var $t=fe[Math.floor(St*4/me)];if(zt=St*4&We,me<4+zt)throw new Error("FAT boundary crossed: "+St+" 4 "+me);if(!J[$t]||(St=Qm(J[$t],zt),At[St]))break}Se[Tt]={nodes:Je,data:wH([Ue])}}return Se}function b(J,be,fe,me,xe,Se,ze,Je){for(var Ue=0,We=me.length?2:0,Ge=be[J].data,St=0,Tt=0,zt;St<Ge.length;St+=128){var At=Ge.slice(St,St+128);al(At,64),Tt=At.read_shift(2),zt=S6(At,0,Tt-We),me.push(zt);var $t={name:zt,type:At.read_shift(1),color:At.read_shift(1),L:At.read_shift(4,"i"),R:At.read_shift(4,"i"),C:At.read_shift(4,"i"),clsid:At.read_shift(16),state:At.read_shift(4,"i"),start:0,size:0},Tr=At.read_shift(2)+At.read_shift(2)+At.read_shift(2)+At.read_shift(2);Tr!==0&&($t.ct=w(At,At.l-8));var Tn=At.read_shift(2)+At.read_shift(2)+At.read_shift(2)+At.read_shift(2);Tn!==0&&($t.mt=w(At,At.l-8)),$t.start=At.read_shift(4,"i"),$t.size=At.read_shift(4,"i"),$t.size<0&&$t.start<0&&($t.size=$t.type=0,$t.start=I,$t.name=""),$t.type===5?(Ue=$t.start,xe>0&&Ue!==I&&(be[Ue].name="!StreamData")):$t.size>=4096?($t.storage="fat",be[$t.start]===void 0&&(be[$t.start]=y(fe,$t.start,be.fat_addrs,be.ssz)),be[$t.start].name=$t.name,$t.content=be[$t.start].data.slice(0,$t.size)):($t.storage="minifat",$t.size<0?$t.size=0:Ue!==I&&$t.start!==I&&be[Ue]&&($t.content=g($t,be[Ue].data,(be[Je]||{}).data))),$t.content&&al($t.content,0),Se[zt]=$t,ze.push($t)}}function w(J,be){return new Date((ol(J,be+4)/1e7*Math.pow(2,32)+ol(J,be)/1e7-11644473600)*1e3)}function _(J,be){return u(),d(c.readFileSync(J),be)}function j(J,be){var fe=be&&be.type;switch(fe||An&&Buffer.isBuffer(J)&&(fe="buffer"),fe||"base64"){case"file":return _(J,be);case"base64":return d(Mc(cf(J)),be);case"binary":return d(Mc(J),be)}return d(J,be)}function A(J,be){var fe=be||{},me=fe.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=me+"/",J.FileIndex[0]={name:me,type:5}),fe.CLSID&&(J.FileIndex[0].clsid=fe.CLSID),E(J)}function E(J){var be="Sh33tJ5";if(!qn.find(J,"/"+be)){var fe=rt(4);fe[0]=55,fe[1]=fe[3]=50,fe[2]=54,J.FileIndex.push({name:be,type:2,content:fe,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+be),T(J)}}function T(J,be){A(J);for(var fe=!1,me=!1,xe=J.FullPaths.length-1;xe>=0;--xe){var Se=J.FileIndex[xe];switch(Se.type){case 0:me?fe=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:me=!0,isNaN(Se.R*Se.L*Se.C)&&(fe=!0),Se.R>-1&&Se.L>-1&&Se.R==Se.L&&(fe=!0);break;default:fe=!0;break}}if(!(!fe&&!be)){var ze=new Date(1987,1,19),Je=0,Ue=Object.create?Object.create(null):{},We=[];for(xe=0;xe<J.FullPaths.length;++xe)Ue[J.FullPaths[xe]]=!0,J.FileIndex[xe].type!==0&&We.push([J.FullPaths[xe],J.FileIndex[xe]]);for(xe=0;xe<We.length;++xe){var Ge=n(We[xe][0]);me=Ue[Ge],me||(We.push([Ge,{name:a(Ge).replace("/",""),type:1,clsid:H,ct:ze,mt:ze,content:null}]),Ue[Ge]=!0)}for(We.sort(function(zt,At){return r(zt[0],At[0])}),J.FullPaths=[],J.FileIndex=[],xe=0;xe<We.length;++xe)J.FullPaths[xe]=We[xe][0],J.FileIndex[xe]=We[xe][1];for(xe=0;xe<We.length;++xe){var St=J.FileIndex[xe],Tt=J.FullPaths[xe];if(St.name=a(Tt).replace("/",""),St.L=St.R=St.C=-(St.color=1),St.size=St.content?St.content.length:0,St.start=0,St.clsid=St.clsid||H,xe===0)St.C=We.length>1?1:-1,St.size=0,St.type=5;else if(Tt.slice(-1)=="/"){for(Je=xe+1;Je<We.length&&n(J.FullPaths[Je])!=Tt;++Je);for(St.C=Je>=We.length?-1:Je,Je=xe+1;Je<We.length&&n(J.FullPaths[Je])!=n(Tt);++Je);St.R=Je>=We.length?-1:Je,St.type=1}else n(J.FullPaths[xe+1]||"")==n(Tt)&&(St.R=xe+1),St.type=2}}}function R(J,be){var fe=be||{};if(fe.fileType=="mad")return Qt(J,fe);switch(T(J),fe.fileType){case"zip":return Ji(J,fe)}var me=function(zt){for(var At=0,$t=0,Tr=0;Tr<zt.FileIndex.length;++Tr){var Tn=zt.FileIndex[Tr];if(Tn.content){var Vn=Tn.content.length;Vn>0&&(Vn<4096?At+=Vn+63>>6:$t+=Vn+511>>9)}}for(var fi=zt.FullPaths.length+3>>2,cc=At+7>>3,gd=At+127>>7,hu=cc+$t+fi+gd,uc=hu+127>>7,mu=uc<=109?0:Math.ceil((uc-109)/127);hu+uc+mu+127>>7>uc;)mu=++uc<=109?0:Math.ceil((uc-109)/127);var qo=[1,mu,uc,gd,fi,$t,At,0];return zt.FileIndex[0].size=At<<6,qo[7]=(zt.FileIndex[0].start=qo[0]+qo[1]+qo[2]+qo[3]+qo[4]+qo[5])+(qo[6]+7>>3),qo}(J),xe=rt(me[7]<<9),Se=0,ze=0;{for(Se=0;Se<8;++Se)xe.write_shift(1,V[Se]);for(Se=0;Se<8;++Se)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),Se=0;Se<3;++Se)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,me[2]),xe.write_shift(4,me[0]+me[1]+me[2]+me[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,me[3]?me[0]+me[1]+me[2]-1:I),xe.write_shift(4,me[3]),xe.write_shift(-4,me[1]?me[0]-1:I),xe.write_shift(4,me[1]),Se=0;Se<109;++Se)xe.write_shift(-4,Se<me[2]?me[1]+Se:-1)}if(me[1])for(ze=0;ze<me[1];++ze){for(;Se<236+ze*127;++Se)xe.write_shift(-4,Se<me[2]?me[1]+Se:-1);xe.write_shift(-4,ze===me[1]-1?I:ze+1)}var Je=function(zt){for(ze+=zt;Se<ze-1;++Se)xe.write_shift(-4,Se+1);zt&&(++Se,xe.write_shift(-4,I))};for(ze=Se=0,ze+=me[1];Se<ze;++Se)xe.write_shift(-4,q.DIFSECT);for(ze+=me[2];Se<ze;++Se)xe.write_shift(-4,q.FATSECT);Je(me[3]),Je(me[4]);for(var Ue=0,We=0,Ge=J.FileIndex[0];Ue<J.FileIndex.length;++Ue)Ge=J.FileIndex[Ue],Ge.content&&(We=Ge.content.length,!(We<4096)&&(Ge.start=ze,Je(We+511>>9)));for(Je(me[6]+7>>3);xe.l&511;)xe.write_shift(-4,q.ENDOFCHAIN);for(ze=Se=0,Ue=0;Ue<J.FileIndex.length;++Ue)Ge=J.FileIndex[Ue],Ge.content&&(We=Ge.content.length,!(!We||We>=4096)&&(Ge.start=ze,Je(We+63>>6)));for(;xe.l&511;)xe.write_shift(-4,q.ENDOFCHAIN);for(Se=0;Se<me[4]<<2;++Se){var St=J.FullPaths[Se];if(!St||St.length===0){for(Ue=0;Ue<17;++Ue)xe.write_shift(4,0);for(Ue=0;Ue<3;++Ue)xe.write_shift(4,-1);for(Ue=0;Ue<12;++Ue)xe.write_shift(4,0);continue}Ge=J.FileIndex[Se],Se===0&&(Ge.start=Ge.size?Ge.start-1:I);var Tt=Se===0&&fe.root||Ge.name;if(We=2*(Tt.length+1),xe.write_shift(64,Tt,"utf16le"),xe.write_shift(2,We),xe.write_shift(1,Ge.type),xe.write_shift(1,Ge.color),xe.write_shift(-4,Ge.L),xe.write_shift(-4,Ge.R),xe.write_shift(-4,Ge.C),Ge.clsid)xe.write_shift(16,Ge.clsid,"hex");else for(Ue=0;Ue<4;++Ue)xe.write_shift(4,0);xe.write_shift(4,Ge.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,Ge.start),xe.write_shift(4,Ge.size),xe.write_shift(4,0)}for(Se=1;Se<J.FileIndex.length;++Se)if(Ge=J.FileIndex[Se],Ge.size>=4096)if(xe.l=Ge.start+1<<9,An&&Buffer.isBuffer(Ge.content))Ge.content.copy(xe,xe.l,0,Ge.size),xe.l+=Ge.size+511&-512;else{for(Ue=0;Ue<Ge.size;++Ue)xe.write_shift(1,Ge.content[Ue]);for(;Ue&511;++Ue)xe.write_shift(1,0)}for(Se=1;Se<J.FileIndex.length;++Se)if(Ge=J.FileIndex[Se],Ge.size>0&&Ge.size<4096)if(An&&Buffer.isBuffer(Ge.content))Ge.content.copy(xe,xe.l,0,Ge.size),xe.l+=Ge.size+63&-64;else{for(Ue=0;Ue<Ge.size;++Ue)xe.write_shift(1,Ge.content[Ue]);for(;Ue&63;++Ue)xe.write_shift(1,0)}if(An)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function D(J,be){var fe=J.FullPaths.map(function(Ue){return Ue.toUpperCase()}),me=fe.map(function(Ue){var We=Ue.split("/");return We[We.length-(Ue.slice(-1)=="/"?2:1)]}),xe=!1;be.charCodeAt(0)===47?(xe=!0,be=fe[0].slice(0,-1)+be):xe=be.indexOf("/")!==-1;var Se=be.toUpperCase(),ze=xe===!0?fe.indexOf(Se):me.indexOf(Se);if(ze!==-1)return J.FileIndex[ze];var Je=!Se.match(j_);for(Se=Se.replace(U1,""),Je&&(Se=Se.replace(j_,"!")),ze=0;ze<fe.length;++ze)if((Je?fe[ze].replace(j_,"!"):fe[ze]).replace(U1,"")==Se||(Je?me[ze].replace(j_,"!"):me[ze]).replace(U1,"")==Se)return J.FileIndex[ze];return null}var P=64,I=-2,L="d0cf11e0a1b11ae1",V=[208,207,17,224,161,177,26,225],H="00000000000000000000000000000000",q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:I,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:H,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(J,be,fe){u();var me=R(J,fe);c.writeFileSync(be,me)}function re(J){for(var be=new Array(J.length),fe=0;fe<J.length;++fe)be[fe]=String.fromCharCode(J[fe]);return be.join("")}function Z(J,be){var fe=R(J,be);switch(be&&be.type||"buffer"){case"file":return u(),c.writeFileSync(be.filename,fe),fe;case"binary":return typeof fe=="string"?fe:re(fe);case"base64":return sw(typeof fe=="string"?fe:re(fe));case"buffer":if(An)return Buffer.isBuffer(fe)?fe:vf(fe);case"array":return typeof fe=="string"?Mc(fe):fe}return fe}var de;function k(J){try{var be=J.InflateRaw,fe=new be;if(fe._processChunk(new Uint8Array([3,0]),fe._finishFlushFlag),fe.bytesRead)de=J;else throw new Error("zlib does not expose bytesRead")}catch(me){console.error("cannot use native zlib: "+(me.message||me))}}function F(J,be){if(!de)return Gr(J,be);var fe=de.InflateRaw,me=new fe,xe=me._processChunk(J.slice(J.l),me._finishFlushFlag);return J.l+=me.bytesRead,xe}function B(J){return de?de.deflateRawSync(J):Ct(J)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ge(J){var be=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(be>>16|be>>8|be)&255}for(var se=typeof Uint8Array<"u",ie=se?new Uint8Array(256):[],we=0;we<256;++we)ie[we]=ge(we);function pe(J,be){var fe=ie[J&255];return be<=8?fe>>>8-be:(fe=fe<<8|ie[J>>8&255],be<=16?fe>>>16-be:(fe=fe<<8|ie[J>>16&255],fe>>>24-be))}function Me(J,be){var fe=be&7,me=be>>>3;return(J[me]|(fe<=6?0:J[me+1]<<8))>>>fe&3}function he(J,be){var fe=be&7,me=be>>>3;return(J[me]|(fe<=5?0:J[me+1]<<8))>>>fe&7}function oe(J,be){var fe=be&7,me=be>>>3;return(J[me]|(fe<=4?0:J[me+1]<<8))>>>fe&15}function X(J,be){var fe=be&7,me=be>>>3;return(J[me]|(fe<=3?0:J[me+1]<<8))>>>fe&31}function Ae(J,be){var fe=be&7,me=be>>>3;return(J[me]|(fe<=1?0:J[me+1]<<8))>>>fe&127}function Be(J,be,fe){var me=be&7,xe=be>>>3,Se=(1<<fe)-1,ze=J[xe]>>>me;return fe<8-me||(ze|=J[xe+1]<<8-me,fe<16-me)||(ze|=J[xe+2]<<16-me,fe<24-me)||(ze|=J[xe+3]<<24-me),ze&Se}function qe(J,be,fe){var me=be&7,xe=be>>>3;return me<=5?J[xe]|=(fe&7)<<me:(J[xe]|=fe<<me&255,J[xe+1]=(fe&7)>>8-me),be+3}function st(J,be,fe){var me=be&7,xe=be>>>3;return fe=(fe&1)<<me,J[xe]|=fe,be+1}function Pe(J,be,fe){var me=be&7,xe=be>>>3;return fe<<=me,J[xe]|=fe&255,fe>>>=8,J[xe+1]=fe,be+8}function ne(J,be,fe){var me=be&7,xe=be>>>3;return fe<<=me,J[xe]|=fe&255,fe>>>=8,J[xe+1]=fe&255,J[xe+2]=fe>>>8,be+16}function ue(J,be){var fe=J.length,me=2*fe>be?2*fe:be+5,xe=0;if(fe>=be)return J;if(An){var Se=sH(me);if(J.copy)J.copy(Se);else for(;xe<J.length;++xe)Se[xe]=J[xe];return Se}else if(se){var ze=new Uint8Array(me);if(ze.set)ze.set(J);else for(;xe<fe;++xe)ze[xe]=J[xe];return ze}return J.length=me,J}function Ne(J){for(var be=new Array(J),fe=0;fe<J;++fe)be[fe]=0;return be}function Re(J,be,fe){var me=1,xe=0,Se=0,ze=0,Je=0,Ue=J.length,We=se?new Uint16Array(32):Ne(32);for(Se=0;Se<32;++Se)We[Se]=0;for(Se=Ue;Se<fe;++Se)J[Se]=0;Ue=J.length;var Ge=se?new Uint16Array(Ue):Ne(Ue);for(Se=0;Se<Ue;++Se)We[xe=J[Se]]++,me<xe&&(me=xe),Ge[Se]=0;for(We[0]=0,Se=1;Se<=me;++Se)We[Se+16]=Je=Je+We[Se-1]<<1;for(Se=0;Se<Ue;++Se)Je=J[Se],Je!=0&&(Ge[Se]=We[Je+16]++);var St=0;for(Se=0;Se<Ue;++Se)if(St=J[Se],St!=0)for(Je=pe(Ge[Se],me)>>me-St,ze=(1<<me+4-St)-1;ze>=0;--ze)be[Je|ze<<St]=St&15|Se<<4;return me}var Fe=se?new Uint16Array(512):Ne(512),Xe=se?new Uint16Array(32):Ne(32);if(!se){for(var it=0;it<512;++it)Fe[it]=0;for(it=0;it<32;++it)Xe[it]=0}(function(){for(var J=[],be=0;be<32;be++)J.push(5);Re(J,Xe,32);var fe=[];for(be=0;be<=143;be++)fe.push(8);for(;be<=255;be++)fe.push(9);for(;be<=279;be++)fe.push(7);for(;be<=287;be++)fe.push(8);Re(fe,Fe,288)})();var vt=function(){for(var be=se?new Uint8Array(32768):[],fe=0,me=0;fe<le.length-1;++fe)for(;me<le[fe+1];++me)be[me]=fe;for(;me<32768;++me)be[me]=29;var xe=se?new Uint8Array(259):[];for(fe=0,me=0;fe<ee.length-1;++fe)for(;me<ee[fe+1];++me)xe[me]=fe;function Se(Je,Ue){for(var We=0;We<Je.length;){var Ge=Math.min(65535,Je.length-We),St=We+Ge==Je.length;for(Ue.write_shift(1,+St),Ue.write_shift(2,Ge),Ue.write_shift(2,~Ge&65535);Ge-- >0;)Ue[Ue.l++]=Je[We++]}return Ue.l}function ze(Je,Ue){for(var We=0,Ge=0,St=se?new Uint16Array(32768):[];Ge<Je.length;){var Tt=Math.min(65535,Je.length-Ge);if(Tt<10){for(We=qe(Ue,We,+(Ge+Tt==Je.length)),We&7&&(We+=8-(We&7)),Ue.l=We/8|0,Ue.write_shift(2,Tt),Ue.write_shift(2,~Tt&65535);Tt-- >0;)Ue[Ue.l++]=Je[Ge++];We=Ue.l*8;continue}We=qe(Ue,We,+(Ge+Tt==Je.length)+2);for(var zt=0;Tt-- >0;){var At=Je[Ge];zt=(zt<<5^At)&32767;var $t=-1,Tr=0;if(($t=St[zt])&&($t|=Ge&-32768,$t>Ge&&($t-=32768),$t<Ge))for(;Je[$t+Tr]==Je[Ge+Tr]&&Tr<250;)++Tr;if(Tr>2){At=xe[Tr],At<=22?We=Pe(Ue,We,ie[At+1]>>1)-1:(Pe(Ue,We,3),We+=5,Pe(Ue,We,ie[At-23]>>5),We+=3);var Tn=At<8?0:At-4>>2;Tn>0&&(ne(Ue,We,Tr-ee[At]),We+=Tn),At=be[Ge-$t],We=Pe(Ue,We,ie[At]>>3),We-=3;var Vn=At<4?0:At-2>>1;Vn>0&&(ne(Ue,We,Ge-$t-le[At]),We+=Vn);for(var fi=0;fi<Tr;++fi)St[zt]=Ge&32767,zt=(zt<<5^Je[Ge])&32767,++Ge;Tt-=Tr-1}else At<=143?At=At+48:We=st(Ue,We,1),We=Pe(Ue,We,ie[At]),St[zt]=Ge&32767,++Ge}We=Pe(Ue,We,0)-1}return Ue.l=(We+7)/8|0,Ue.l}return function(Ue,We){return Ue.length<8?Se(Ue,We):ze(Ue,We)}}();function Ct(J){var be=rt(50+Math.floor(J.length*1.1)),fe=vt(J,be);return be.slice(0,fe)}var gt=se?new Uint16Array(32768):Ne(32768),Zr=se?new Uint16Array(32768):Ne(32768),ir=se?new Uint16Array(128):Ne(128),On=1,zr=1;function Fr(J,be){var fe=X(J,be)+257;be+=5;var me=X(J,be)+1;be+=5;var xe=oe(J,be)+4;be+=4;for(var Se=0,ze=se?new Uint8Array(19):Ne(19),Je=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ue=1,We=se?new Uint8Array(8):Ne(8),Ge=se?new Uint8Array(8):Ne(8),St=ze.length,Tt=0;Tt<xe;++Tt)ze[z[Tt]]=Se=he(J,be),Ue<Se&&(Ue=Se),We[Se]++,be+=3;var zt=0;for(We[0]=0,Tt=1;Tt<=Ue;++Tt)Ge[Tt]=zt=zt+We[Tt-1]<<1;for(Tt=0;Tt<St;++Tt)(zt=ze[Tt])!=0&&(Je[Tt]=Ge[zt]++);var At=0;for(Tt=0;Tt<St;++Tt)if(At=ze[Tt],At!=0){zt=ie[Je[Tt]]>>8-At;for(var $t=(1<<7-At)-1;$t>=0;--$t)ir[zt|$t<<At]=At&7|Tt<<3}var Tr=[];for(Ue=1;Tr.length<fe+me;)switch(zt=ir[Ae(J,be)],be+=zt&7,zt>>>=3){case 16:for(Se=3+Me(J,be),be+=2,zt=Tr[Tr.length-1];Se-- >0;)Tr.push(zt);break;case 17:for(Se=3+he(J,be),be+=3;Se-- >0;)Tr.push(0);break;case 18:for(Se=11+Ae(J,be),be+=7;Se-- >0;)Tr.push(0);break;default:Tr.push(zt),Ue<zt&&(Ue=zt);break}var Tn=Tr.slice(0,fe),Vn=Tr.slice(fe);for(Tt=fe;Tt<286;++Tt)Tn[Tt]=0;for(Tt=me;Tt<30;++Tt)Vn[Tt]=0;return On=Re(Tn,gt,286),zr=Re(Vn,Zr,30),be}function ca(J,be){if(J[0]==3&&!(J[1]&3))return[Qp(be),2];for(var fe=0,me=0,xe=sH(be||1<<18),Se=0,ze=xe.length>>>0,Je=0,Ue=0;!(me&1);){if(me=he(J,fe),fe+=3,me>>>1)me>>1==1?(Je=9,Ue=5):(fe=Fr(J,fe),Je=On,Ue=zr);else{fe&7&&(fe+=8-(fe&7));var We=J[fe>>>3]|J[(fe>>>3)+1]<<8;if(fe+=32,We>0)for(!be&&ze<Se+We&&(xe=ue(xe,Se+We),ze=xe.length);We-- >0;)xe[Se++]=J[fe>>>3],fe+=8;continue}for(;;){!be&&ze<Se+32767&&(xe=ue(xe,Se+32767),ze=xe.length);var Ge=Be(J,fe,Je),St=me>>>1==1?Fe[Ge]:gt[Ge];if(fe+=St&15,St>>>=4,!(St>>>8&255))xe[Se++]=St;else{if(St==256)break;St-=257;var Tt=St<8?0:St-4>>2;Tt>5&&(Tt=0);var zt=Se+ee[St];Tt>0&&(zt+=Be(J,fe,Tt),fe+=Tt),Ge=Be(J,fe,Ue),St=me>>>1==1?Xe[Ge]:Zr[Ge],fe+=St&15,St>>>=4;var At=St<4?0:St-2>>1,$t=le[St];for(At>0&&($t+=Be(J,fe,At),fe+=At),!be&&ze<zt&&(xe=ue(xe,zt+100),ze=xe.length);Se<zt;)xe[Se]=xe[Se-$t],++Se}}}return be?[xe,fe+7>>>3]:[xe.slice(0,Se),fe+7>>>3]}function Gr(J,be){var fe=J.slice(J.l||0),me=ca(fe,be);return J.l+=me[1],me[0]}function xs(J,be){if(J)typeof console<"u"&&console.error(be);else throw new Error(be)}function Cn(J,be){var fe=J;al(fe,0);var me=[],xe=[],Se={FileIndex:me,FullPaths:xe};A(Se,{root:be.root});for(var ze=fe.length-4;(fe[ze]!=80||fe[ze+1]!=75||fe[ze+2]!=5||fe[ze+3]!=6)&&ze>=0;)--ze;fe.l=ze+4,fe.l+=4;var Je=fe.read_shift(2);fe.l+=6;var Ue=fe.read_shift(4);for(fe.l=Ue,ze=0;ze<Je;++ze){fe.l+=20;var We=fe.read_shift(4),Ge=fe.read_shift(4),St=fe.read_shift(2),Tt=fe.read_shift(2),zt=fe.read_shift(2);fe.l+=8;var At=fe.read_shift(4),$t=l(fe.slice(fe.l+St,fe.l+St+Tt));fe.l+=St+Tt+zt;var Tr=fe.l;fe.l=At+4,Qi(fe,We,Ge,Se,$t),fe.l=Tr}return Se}function Qi(J,be,fe,me,xe){J.l+=2;var Se=J.read_shift(2),ze=J.read_shift(2),Je=s(J);if(Se&8257)throw new Error("Unsupported ZIP encryption");for(var Ue=J.read_shift(4),We=J.read_shift(4),Ge=J.read_shift(4),St=J.read_shift(2),Tt=J.read_shift(2),zt="",At=0;At<St;++At)zt+=String.fromCharCode(J[J.l++]);if(Tt){var $t=l(J.slice(J.l,J.l+Tt));($t[21589]||{}).mt&&(Je=$t[21589].mt),((xe||{})[21589]||{}).mt&&(Je=xe[21589].mt)}J.l+=Tt;var Tr=J.slice(J.l,J.l+We);switch(ze){case 8:Tr=F(J,Ge);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ze)}var Tn=!1;Se&8&&(Ue=J.read_shift(4),Ue==134695760&&(Ue=J.read_shift(4),Tn=!0),We=J.read_shift(4),Ge=J.read_shift(4)),We!=be&&xs(Tn,"Bad compressed size: "+be+" != "+We),Ge!=fe&&xs(Tn,"Bad uncompressed size: "+fe+" != "+Ge),ta(me,zt,Tr,{unsafe:!0,mt:Je})}function Ji(J,be){var fe=be||{},me=[],xe=[],Se=rt(1),ze=fe.compression?8:0,Je=0,Ue=0,We=0,Ge=0,St=0,Tt=J.FullPaths[0],zt=Tt,At=J.FileIndex[0],$t=[],Tr=0;for(Ue=1;Ue<J.FullPaths.length;++Ue)if(zt=J.FullPaths[Ue].slice(Tt.length),At=J.FileIndex[Ue],!(!At.size||!At.content||zt=="Sh33tJ5")){var Tn=Ge,Vn=rt(zt.length);for(We=0;We<zt.length;++We)Vn.write_shift(1,zt.charCodeAt(We)&127);Vn=Vn.slice(0,Vn.l),$t[St]=Dct.buf(At.content,0);var fi=At.content;ze==8&&(fi=B(fi)),Se=rt(30),Se.write_shift(4,67324752),Se.write_shift(2,20),Se.write_shift(2,Je),Se.write_shift(2,ze),At.mt?i(Se,At.mt):Se.write_shift(4,0),Se.write_shift(-4,$t[St]),Se.write_shift(4,fi.length),Se.write_shift(4,At.content.length),Se.write_shift(2,Vn.length),Se.write_shift(2,0),Ge+=Se.length,me.push(Se),Ge+=Vn.length,me.push(Vn),Ge+=fi.length,me.push(fi),Se=rt(46),Se.write_shift(4,33639248),Se.write_shift(2,0),Se.write_shift(2,20),Se.write_shift(2,Je),Se.write_shift(2,ze),Se.write_shift(4,0),Se.write_shift(-4,$t[St]),Se.write_shift(4,fi.length),Se.write_shift(4,At.content.length),Se.write_shift(2,Vn.length),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(4,0),Se.write_shift(4,Tn),Tr+=Se.l,xe.push(Se),Tr+=Vn.length,xe.push(Vn),++St}return Se=rt(22),Se.write_shift(4,101010256),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,St),Se.write_shift(2,St),Se.write_shift(4,Tr),Se.write_shift(4,Ge),Se.write_shift(2,0),cs([cs(me),cs(xe),Se])}var Qr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ie(J,be){if(J.ctype)return J.ctype;var fe=J.name||"",me=fe.match(/\.([^\.]+)$/);return me&&Qr[me[1]]||be&&(me=(fe=be).match(/[\.\\]([^\.\\])+$/),me&&Qr[me[1]])?Qr[me[1]]:"application/octet-stream"}function Ye(J){for(var be=sw(J),fe=[],me=0;me<be.length;me+=76)fe.push(be.slice(me,me+76));return fe.join(`\r
`)+`\r
`}function _t(J){var be=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(We){var Ge=We.charCodeAt(0).toString(16).toUpperCase();return"="+(Ge.length==1?"0"+Ge:Ge)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var fe=[],me=be.split(`\r
`),xe=0;xe<me.length;++xe){var Se=me[xe];if(Se.length==0){fe.push("");continue}for(var ze=0;ze<Se.length;){var Je=76,Ue=Se.slice(ze,ze+Je);Ue.charAt(Je-1)=="="?Je--:Ue.charAt(Je-2)=="="?Je-=2:Ue.charAt(Je-3)=="="&&(Je-=3),Ue=Se.slice(ze,ze+Je),ze+=Je,ze<Se.length&&(Ue+="="),fe.push(Ue)}}return fe.join(`\r
`)}function Nt(J){for(var be=[],fe=0;fe<J.length;++fe){for(var me=J[fe];fe<=J.length&&me.charAt(me.length-1)=="=";)me=me.slice(0,me.length-1)+J[++fe];be.push(me)}for(var xe=0;xe<be.length;++xe)be[xe]=be[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(Se){return String.fromCharCode(parseInt(Se.slice(1),16))});return Mc(be.join(`\r
`))}function pr(J,be,fe){for(var me="",xe="",Se="",ze,Je=0;Je<10;++Je){var Ue=be[Je];if(!Ue||Ue.match(/^\s*$/))break;var We=Ue.match(/^(.*?):\s*([^\s].*)$/);if(We)switch(We[1].toLowerCase()){case"content-location":me=We[2].trim();break;case"content-type":Se=We[2].trim();break;case"content-transfer-encoding":xe=We[2].trim();break}}switch(++Je,xe.toLowerCase()){case"base64":ze=Mc(cf(be.slice(Je).join("")));break;case"quoted-printable":ze=Nt(be.slice(Je));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var Ge=ta(J,me.slice(fe.length),ze,{unsafe:!0});Se&&(Ge.ctype=Se)}function kr(J,be){if(re(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var fe=be&&be.root||"",me=(An&&Buffer.isBuffer(J)?J.toString("binary"):re(J)).split(`\r
`),xe=0,Se="";for(xe=0;xe<me.length;++xe)if(Se=me[xe],!!/^Content-Location:/i.test(Se)&&(Se=Se.slice(Se.indexOf("file")),fe||(fe=Se.slice(0,Se.lastIndexOf("/")+1)),Se.slice(0,fe.length)!=fe))for(;fe.length>0&&(fe=fe.slice(0,fe.length-1),fe=fe.slice(0,fe.lastIndexOf("/")+1),Se.slice(0,fe.length)!=fe););var ze=(me[1]||"").match(/boundary="(.*?)"/);if(!ze)throw new Error("MAD cannot find boundary");var Je="--"+(ze[1]||""),Ue=[],We=[],Ge={FileIndex:Ue,FullPaths:We};A(Ge);var St,Tt=0;for(xe=0;xe<me.length;++xe){var zt=me[xe];zt!==Je&&zt!==Je+"--"||(Tt++&&pr(Ge,me.slice(St,xe),fe),St=xe)}return Ge}function Qt(J,be){var fe=be||{},me=fe.boundary||"SheetJS";me="------="+me;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+me.slice(2)+'"',"","",""],Se=J.FullPaths[0],ze=Se,Je=J.FileIndex[0],Ue=1;Ue<J.FullPaths.length;++Ue)if(ze=J.FullPaths[Ue].slice(Se.length),Je=J.FileIndex[Ue],!(!Je.size||!Je.content||ze=="Sh33tJ5")){ze=ze.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tr){return"_x"+Tr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tr){return"_u"+Tr.charCodeAt(0).toString(16)+"_"});for(var We=Je.content,Ge=An&&Buffer.isBuffer(We)?We.toString("binary"):re(We),St=0,Tt=Math.min(1024,Ge.length),zt=0,At=0;At<=Tt;++At)(zt=Ge.charCodeAt(At))>=32&&zt<128&&++St;var $t=St>=Tt*4/5;xe.push(me),xe.push("Content-Location: "+(fe.root||"file:///C:/SheetJS/")+ze),xe.push("Content-Transfer-Encoding: "+($t?"quoted-printable":"base64")),xe.push("Content-Type: "+Ie(Je,ze)),xe.push(""),xe.push($t?_t(Ge):Ye(Ge))}return xe.push(me+`--\r
`),xe.join(`\r
`)}function Wa(J){var be={};return A(be,J),be}function ta(J,be,fe,me){var xe=me&&me.unsafe;xe||A(J);var Se=!xe&&qn.find(J,be);if(!Se){var ze=J.FullPaths[0];be.slice(0,ze.length)==ze?ze=be:(ze.slice(-1)!="/"&&(ze+="/"),ze=(ze+be).replace("//","/")),Se={name:a(be),type:2},J.FileIndex.push(Se),J.FullPaths.push(ze),xe||qn.utils.cfb_gc(J)}return Se.content=fe,Se.size=fe?fe.length:0,me&&(me.CLSID&&(Se.clsid=me.CLSID),me.mt&&(Se.mt=me.mt),me.ct&&(Se.ct=me.ct)),Se}function ua(J,be){A(J);var fe=qn.find(J,be);if(fe){for(var me=0;me<J.FileIndex.length;++me)if(J.FileIndex[me]==fe)return J.FileIndex.splice(me,1),J.FullPaths.splice(me,1),!0}return!1}function qa(J,be,fe){A(J);var me=qn.find(J,be);if(me){for(var xe=0;xe<J.FileIndex.length;++xe)if(J.FileIndex[xe]==me)return J.FileIndex[xe].name=a(fe),J.FullPaths[xe]=fe,!0}return!1}function Ta(J){T(J,!0)}return e.find=D,e.read=j,e.parse=d,e.write=Z,e.writeFile=G,e.utils={cfb_new:Wa,cfb_add:ta,cfb_del:ua,cfb_mov:qa,cfb_gc:Ta,ReadShift:V1,CheckField:roe,prep_blob:al,bconcat:cs,use_zlib:k,_deflateRaw:Ct,_inflateRaw:Gr,consts:q},e}();function Oct(t){return typeof t=="string"?V5(t):Array.isArray(t)?ict(t):t}function _2(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=V5(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?lw(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var a=new Blob([Oct(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,t);if(typeof saveAs<"u")return saveAs(a,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(t);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=S2(e)),l.write(e),l.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+t)}function vs(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function mH(t,e){for(var r=[],n=vs(t),a=0;a!==n.length;++a)r[t[n[a]][e]]==null&&(r[t[n[a]][e]]=n[a]);return r}function y6(t){for(var e=[],r=vs(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function q5(t){for(var e=[],r=vs(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function Ict(t){for(var e=[],r=vs(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var fA=new Date(1899,11,30,0,0,0);function Uo(t,e){var r=t.getTime(),n=fA.getTime()+(t.getTimezoneOffset()-fA.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var $se=new Date,Mct=fA.getTime()+($se.getTimezoneOffset()-fA.getTimezoneOffset())*6e4,pH=$se.getTimezoneOffset();function Bse(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Mct),e.getTimezoneOffset()!==pH&&e.setTime(e.getTime()+(e.getTimezoneOffset()-pH)*6e4),e}var gH=new Date("2017-02-19T19:06:09.000Z"),Use=isNaN(gH.getFullYear())?new Date("2/19/17"):gH,Rct=Use.getFullYear()==2017;function po(t,e){var r=new Date(t);if(Rct)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Use.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=t.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return t.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function G5(t,e){if(An&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=t.length;++a)n.push(String.fromCharCode(t[a]));return n.join("")}function zo(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=zo(t[r]));return e}function Ua(t,e){for(var r="";r.length<e;)r+=t;return r}function Yd(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(e=Number(n)))?e/r:e}var Lct=["january","february","march","april","may","june","july","august","september","october","november","december"];function ow(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),a=e.getMonth(),i=e.getDate();if(isNaN(i))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Lct.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Kr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return An?n=vf(r):n=sct(r),qn.utils.cfb_add(t,e,n)}qn.utils.cfb_add(t,e,r)}else t.file(e,r)}function x6(){return qn.utils.cfb_new()}var ji=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Fct={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},b6=y6(Fct),w6=/[&<>'"]/g,$ct=/[\u0000-\u0008\u000b-\u001f]/g;function $n(t){var e=t+"";return e.replace(w6,function(r){return b6[r]}).replace($ct,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function vH(t){return $n(t).replace(/ /g,"_x0020_")}var zse=/[\u0000-\u001f]/g;function Bct(t){var e=t+"";return e.replace(w6,function(r){return b6[r]}).replace(/\n/g,"<br/>").replace(zse,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Uct(t){var e=t+"";return e.replace(w6,function(r){return b6[r]}).replace(zse,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function zct(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Vct(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function J4(t){for(var e="",r=0,n=0,a=0,i=0,s=0,l=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(a=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,e+=String.fromCharCode(s);continue}if(i=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=t.charCodeAt(r++),l=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function yH(t){var e=Qp(2*t.length),r,n,a=1,i=0,s=0,l;for(n=0;n<t.length;n+=a)a=1,(l=t.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(t.charCodeAt(n+1)&63),a=2):l<240?(r=(l&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),a=3):(a=4,r=(l&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[i++]=s&255,e[i++]=s>>>8,s=0),e[i++]=r%256,e[i++]=r>>>8;return e.slice(0,i).toString("ucs2")}function xH(t){return vf(t,"binary").toString("utf8")}var A_="foo bar baz",z1=An&&(xH(A_)==J4(A_)&&xH||yH(A_)==J4(A_)&&yH)||J4,lw=An?function(t){return vf(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,a=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Hct=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<t.length;++a)n=n.replace(t[a][0],t[a][1]);return n}}(),Vse=/(^\s|\s$|\n)/;function us(t,e){return"<"+t+(e.match(Vse)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function cw(t){return vs(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function kt(t,e,r){return"<"+t+(r!=null?cw(r):"")+(e!=null?(e.match(Vse)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function YO(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function Wct(t,e){switch(typeof t){case"string":var r=kt("vt:lpwstr",$n(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return kt((t|0)==t?"vt:i4":"vt:r8",$n(String(t)));case"boolean":return kt("vt:bool",t?"true":"false")}if(t instanceof Date)return kt("vt:filetime",YO(t));throw new Error("Unable to serialize "+t)}var Vi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Gy=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],sl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function qct(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),a=t[e+6]&15,i=5;i>=0;--i)a=a*256+t[e+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Gct(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,a=0,i=0,s=n?-e:e;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(e)?26985:0);for(var l=0;l<=5;++l,i/=256)t[r+l]=i&255;t[r+6]=(a&15)<<4|i&15,t[r+7]=a>>4|n}var bH=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var a=0,i=t[0][n].length;a<i;a+=r)e.push.apply(e,t[0][n].slice(a,a+r));return e},wH=An?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:vf(e)})):bH(t)}:bH,SH=function(t,e,r){for(var n=[],a=e;a<r;a+=2)n.push(String.fromCharCode(d1(t,a)));return n.join("").replace(U1,"")},S6=An?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(U1,""):SH(t,e,r)}:SH,_H=function(t,e,r){for(var n=[],a=e;a<e+r;++a)n.push(("0"+t[a].toString(16)).slice(-2));return n.join("")},Hse=An?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):_H(t,e,r)}:_H,jH=function(t,e,r){for(var n=[],a=e;a<r;a++)n.push(String.fromCharCode(y0(t,a)));return n.join("")},j2=An?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):jH(e,r,n)}:jH,Wse=function(t,e){var r=ol(t,e);return r>0?j2(t,e+4,e+4+r-1):""},qse=Wse,Gse=function(t,e){var r=ol(t,e);return r>0?j2(t,e+4,e+4+r-1):""},Yse=Gse,Kse=function(t,e){var r=2*ol(t,e);return r>0?j2(t,e+4,e+4+r-1):""},Xse=Kse,Zse=function(e,r){var n=ol(e,r);return n>0?S6(e,r+4,r+4+n):""},Qse=Zse,Jse=function(t,e){var r=ol(t,e);return r>0?j2(t,e+4,e+4+r):""},eoe=Jse,toe=function(t,e){return qct(t,e)},hA=toe,_6=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};An&&(qse=function(e,r){if(!Buffer.isBuffer(e))return Wse(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},Yse=function(e,r){if(!Buffer.isBuffer(e))return Gse(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},Xse=function(e,r){if(!Buffer.isBuffer(e))return Kse(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},Qse=function(e,r){if(!Buffer.isBuffer(e))return Zse(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},eoe=function(e,r){if(!Buffer.isBuffer(e))return Jse(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},hA=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):toe(e,r)},_6=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var y0=function(t,e){return t[e]},d1=function(t,e){return t[e+1]*256+t[e]},Yct=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},ol=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Qm=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},Kct=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function V1(t,e){var r="",n,a,i=[],s,l,c,u;switch(e){case"dbcs":if(u=this.l,An&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(c=0;c<t;++c)r+=String.fromCharCode(d1(this,u)),u+=2;t*=2;break;case"utf8":r=j2(this,this.l,this.l+t);break;case"utf16le":t*=2,r=S6(this,this.l,this.l+t);break;case"wstr":return V1.call(this,t,"dbcs");case"lpstr-ansi":r=qse(this,this.l),t=4+ol(this,this.l);break;case"lpstr-cp":r=Yse(this,this.l),t=4+ol(this,this.l);break;case"lpwstr":r=Xse(this,this.l),t=4+2*ol(this,this.l);break;case"lpp4":t=4+ol(this,this.l),r=Qse(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ol(this,this.l),r=eoe(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=y0(this,this.l+t++))!==0;)i.push(__(s));r=i.join("");break;case"_wstr":for(t=0,r="";(s=d1(this,this.l+t))!==0;)i.push(__(s)),t+=2;t+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=y0(this,u),this.l=u+1,l=V1.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(__(d1(this,u))),u+=2}r=i.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=t;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=y0(this,u),this.l=u+1,l=V1.call(this,t-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+l;i.push(__(y0(this,u))),u+=1}r=i.join("");break;default:switch(t){case 1:return n=y0(this,this.l),this.l++,n;case 2:return n=(e==="i"?Yct:d1)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Qm:Kct)(this,this.l),this.l+=4,n):(a=ol(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return t==8?a=hA(this,this.l):a=hA([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;t=8;case 16:r=Hse(this,this.l,t);break}}return this.l+=t,r}var Xct=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},Zct=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},Qct=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function Jct(t,e,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=e.length;++a)Qct(this,e.charCodeAt(a),this.l+2*a);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;n=e.length}else if(r==="hex"){for(;a<t;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+t,this.length);for(a=0;a<Math.min(e.length,t);++a){var s=e.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,Xct(this,e,this.l);break;case 8:if(n=8,r==="f"){Gct(this,e,this.l);break}case 16:break;case-4:n=4,Zct(this,e,this.l);break}return this.l+=n,this}function roe(t,e){var r=Hse(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function al(t,e){t.l=e,t.read_shift=V1,t.chk=roe,t.write_shift=Jct}function Xu(t,e){t.l+=e}function rt(t){var e=Qp(t);return al(e,0),e}function Fo(){var t=[],e=An?256:2048,r=function(u){var d=rt(u);return al(d,0),d},n=r(e),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,e)))},s=function(){return a(),cs(t)},l=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(e)};return{next:i,push:l,end:s,_bufs:t}}function yt(t,e,r,n){var a=+e,i;if(!isNaN(a)){n||(n=qpt[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=t.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var l=0;l!=4;++l)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&_6(r)&&t.push(r)}}function H1(t,e,r){var n=zo(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function NH(t,e,r){var n=zo(t);return n.s=H1(n.s,e.s,r),n.e=H1(n.e,e.s,r),n}function W1(t,e){if(t.cRel&&t.c<0)for(t=zo(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=zo(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Bn(t);return!t.cRel&&t.cRel!=null&&(r=rut(r)),!t.rRel&&t.rRel!=null&&(r=eut(r)),r}function ek(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Vs(t.s.c)+":"+(t.e.cRel?"":"$")+Vs(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ps(t.s.r)+":"+(t.e.rRel?"":"$")+ps(t.e.r):W1(t.s,e.biff)+":"+W1(t.e,e.biff)}function j6(t){return parseInt(tut(t),10)-1}function ps(t){return""+(t+1)}function eut(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function tut(t){return t.replace(/\$(\d+)$/,"$1")}function N6(t){for(var e=nut(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Vs(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function rut(t){return t.replace(/^([A-Z])/,"$$$1")}function nut(t){return t.replace(/^\$([A-Z])/,"$1")}function aut(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Hi(t){for(var e=0,r=0,n=0;n<t.length;++n){var a=t.charCodeAt(n);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:e-1}}function Bn(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function wl(t){var e=t.indexOf(":");return e==-1?{s:Hi(t),e:Hi(t)}:{s:Hi(t.slice(0,e)),e:Hi(t.slice(e+1))}}function _i(t,e){return typeof e>"u"||typeof e=="number"?_i(t.s,t.e):(typeof t!="string"&&(t=Bn(t)),typeof e!="string"&&(e=Bn(e)),t==e?t:t+":"+e)}function pa(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=t.length;for(r=0;n<i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.s.c=--r,r=0;n<i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(e.s.r=--r,n===i||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=i&&!((a=t.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(e.e.c=--r,r=0;n!=i&&!((a=t.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return e.e.r=--r,e}function AH(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Gh(t.z,r?Uo(e):e)}catch{}try{return t.w=Gh((t.XF||{}).numFmtId||(r?14:0),r?Uo(e):e)}catch{return""+e}}function uf(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?N2[t.v]||t.v:e==null?AH(t,t.v):AH(t,e))}function xg(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function noe(t,e,r){var n=r||{},a=t?Array.isArray(t):n.dense,i=t||(a?[]:{}),s=0,l=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Hi(n.origin):n.origin;s=c.r,l=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var d=pa(i["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),s==-1&&(u.e.r=s=d.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[f].length;++m)if(!(typeof e[f][m]>"u")){var h={v:e[f][m]},v=s+f,g=l+m;if(u.s.r>v&&(u.s.r=v),u.s.c>g&&(u.s.c=g),u.e.r<v&&(u.e.r=v),u.e.c<g&&(u.e.c=g),e[f][m]&&typeof e[f][m]=="object"&&!Array.isArray(e[f][m])&&!(e[f][m]instanceof Date))h=e[f][m];else if(Array.isArray(h.v)&&(h.f=e[f][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Va[14],n.cellDates?(h.t="d",h.w=Gh(h.z,Uo(h.v))):(h.t="n",h.v=Uo(h.v),h.w=Gh(h.z,h.v))):h.t="s";if(a)i[v]||(i[v]=[]),i[v][g]&&i[v][g].z&&(h.z=i[v][g].z),i[v][g]=h;else{var p=Bn({c:g,r:v});i[p]&&i[p].z&&(h.z=i[p].z),i[p]=h}}}return u.s.c<1e7&&(i["!ref"]=_i(u)),i}function Yy(t,e){return noe(null,t,e)}function iut(t){return t.read_shift(4,"i")}function Zc(t,e){return e||(e=rt(4)),e.write_shift(4,t),e}function Hs(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Wi(t,e){var r=!1;return e==null&&(r=!0,e=rt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function sut(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function out(t,e){return e||(e=rt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function A6(t,e){var r=t.l,n=t.read_shift(1),a=Hs(t),i=[],s={t:a,h:a};if(n&1){for(var l=t.read_shift(4),c=0;c!=l;++c)i.push(sut(t));s.r=i}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function lut(t,e){var r=!1;return e==null&&(r=!0,e=rt(15+4*t.t.length)),e.write_shift(1,0),Wi(t.t,e),r?e.slice(0,e.l):e}var cut=A6;function uut(t,e){var r=!1;return e==null&&(r=!0,e=rt(23+4*t.t.length)),e.write_shift(1,1),Wi(t.t,e),e.write_shift(4,1),out({},e),r?e.slice(0,e.l):e}function lc(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function bg(t,e){return e==null&&(e=rt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function wg(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Sg(t,e){return e==null&&(e=rt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var dut=Hs,aoe=Wi;function E6(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function mA(t,e){var r=!1;return e==null&&(r=!0,e=rt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var fut=Hs,KO=E6,C6=mA;function ioe(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var a=n===0?hA([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Qm(e,0)>>2;return r?a/100:a}function soe(t,e){e==null&&(e=rt(4));var r=0,n=0,a=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?a:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function ooe(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function hut(t,e){return e||(e=rt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var _g=ooe,Ky=hut;function Xy(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Jp(t,e){return(e||rt(8)).write_shift(8,t,"f")}function mut(t){var e={},r=t.read_shift(1),n=r>>>1,a=t.read_shift(1),i=t.read_shift(2,"i"),s=t.read_shift(1),l=t.read_shift(1),c=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=a;var u=_ut[a];u&&(e.rgb=LH(u));break;case 2:e.rgb=LH([s,l,c]);break;case 3:e.theme=a;break}return i!=0&&(e.tint=i>0?i/32767:i/32768),e}function pA(t,e){if(e||(e=rt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function put(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function gut(t,e){e||(e=rt(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var loe=2,rl=3,E_=11,gA=19,C_=64,vut=65,yut=71,xut=4108,but=4126,ls=80,EH={1:{n:"CodePage",t:loe},2:{n:"Category",t:ls},3:{n:"PresentationFormat",t:ls},4:{n:"ByteCount",t:rl},5:{n:"LineCount",t:rl},6:{n:"ParagraphCount",t:rl},7:{n:"SlideCount",t:rl},8:{n:"NoteCount",t:rl},9:{n:"HiddenCount",t:rl},10:{n:"MultimediaClipCount",t:rl},11:{n:"ScaleCrop",t:E_},12:{n:"HeadingPairs",t:xut},13:{n:"TitlesOfParts",t:but},14:{n:"Manager",t:ls},15:{n:"Company",t:ls},16:{n:"LinksUpToDate",t:E_},17:{n:"CharacterCount",t:rl},19:{n:"SharedDoc",t:E_},22:{n:"HyperlinksChanged",t:E_},23:{n:"AppVersion",t:rl,p:"version"},24:{n:"DigSig",t:vut},26:{n:"ContentType",t:ls},27:{n:"ContentStatus",t:ls},28:{n:"Language",t:ls},29:{n:"Version",t:ls},255:{},2147483648:{n:"Locale",t:gA},2147483651:{n:"Behavior",t:gA},1919054434:{}},CH={1:{n:"CodePage",t:loe},2:{n:"Title",t:ls},3:{n:"Subject",t:ls},4:{n:"Author",t:ls},5:{n:"Keywords",t:ls},6:{n:"Comments",t:ls},7:{n:"Template",t:ls},8:{n:"LastAuthor",t:ls},9:{n:"RevNumber",t:ls},10:{n:"EditTime",t:C_},11:{n:"LastPrinted",t:C_},12:{n:"CreatedDate",t:C_},13:{n:"ModifiedDate",t:C_},14:{n:"PageCount",t:rl},15:{n:"WordCount",t:rl},16:{n:"CharCount",t:rl},17:{n:"Thumbnail",t:yut},18:{n:"Application",t:ls},19:{n:"DocSecurity",t:rl},255:{},2147483648:{n:"Locale",t:gA},2147483651:{n:"Behavior",t:gA},1919054434:{}};function wut(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Sut=wut([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_ut=zo(Sut),N2={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},jut={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},T_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function coe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function uoe(t,e){var r=Ict(jut),n=[],a;n[n.length]=ji,n[n.length]=kt("Types",null,{xmlns:Vi.CT,"xmlns:xsd":Vi.xsd,"xmlns:xsi":Vi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return kt("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){t[c]&&t[c].length>0&&(a=t[c][0],n[n.length]=kt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:T_[c][e.bookType]||T_[c].xlsx}))},s=function(c){(t[c]||[]).forEach(function(u){n[n.length]=kt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:T_[c][e.bookType]||T_[c].xlsx})})},l=function(c){(t[c]||[]).forEach(function(u){n[n.length]=kt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),l("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),s("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var gn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function doe(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ev(t){var e=[ji,kt("Relationships",null,{xmlns:Vi.RELS})];return vs(t["!id"]).forEach(function(r){e[e.length]=kt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Fn(t,e,r,n,a,i){if(a||(a={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,a.Id="rId"+e,a.Type=n,a.Target=r,[gn.HLINK,gn.XPATH,gn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),t["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][a.Id]=a,t[("/"+a.Target).replace("//","/")]=a,e}function Nut(t){var e=[ji];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function TH(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Aut(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Eut(t){var e=[ji];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(TH(t[r][0],t[r][1])),e.push(Aut("",t[r][0]));return e.push(TH("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function foe(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+lA.version+"</meta:generator></office:meta></office:document-meta>"}var Tp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function tk(t,e,r,n,a){a[t]!=null||e==null||e===""||(a[t]=e,e=$n(e),n[n.length]=r?kt(t,e,r):us(t,e))}function hoe(t,e){var r=e||{},n=[ji,kt("cp:coreProperties",null,{"xmlns:cp":Vi.CORE_PROPS,"xmlns:dc":Vi.dc,"xmlns:dcterms":Vi.dcterms,"xmlns:dcmitype":Vi.dcmitype,"xmlns:xsi":Vi.xsi})],a={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&tk("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:YO(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),t.ModifiedDate!=null&&tk("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:YO(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Tp.length;++i){var s=Tp[i],l=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&tk(s[0],l,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var tv=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],moe=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function poe(t){var e=[],r=kt;return t||(t={}),t.Application="SheetJS",e[e.length]=ji,e[e.length]=kt("Properties",null,{xmlns:Vi.EXT_PROPS,"xmlns:vt":Vi.vt}),tv.forEach(function(n){if(t[n[1]]!==void 0){var a;switch(n[2]){case"string":a=$n(String(t[n[1]]));break;case"bool":a=t[n[1]]?"true":"false";break}a!==void 0&&(e[e.length]=r(n[0],a))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+$n(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function goe(t){var e=[ji,kt("Properties",null,{xmlns:Vi.CUST_PROPS,"xmlns:vt":Vi.vt})];if(!t)return e.join("");var r=1;return vs(t).forEach(function(a){++r,e[e.length]=kt("property",Wct(t[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:$n(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var kH={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Cut(t,e){var r=[];return vs(kH).map(function(n){for(var a=0;a<Tp.length;++a)if(Tp[a][1]==n)return Tp[a];for(a=0;a<tv.length;++a)if(tv[a][1]==n)return tv[a];throw n}).forEach(function(n){if(t[n[1]]!=null){var a=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(us(kH[n[1]]||n[1],a))}}),kt("DocumentProperties",r.join(""),{xmlns:sl.o})}function Tut(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return t&&vs(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)){for(var s=0;s<Tp.length;++s)if(i==Tp[s][1])return;for(s=0;s<tv.length;++s)if(i==tv[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var l=t[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),a.push(kt(vH(i),l,{"dt:dt":c}))}}),e&&vs(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)&&!(t&&Object.prototype.hasOwnProperty.call(t,i))){var s=e[i],l="string";typeof s=="number"?(l="float",s=String(s)):s===!0||s===!1?(l="boolean",s=s?"1":"0"):s instanceof Date?(l="dateTime.tz",s=s.toISOString()):s=String(s),a.push(kt(vH(i),s,{"dt:dt":l}))}}),"<"+n+' xmlns="'+sl.o+'">'+a.join("")+"</"+n+">"}function kut(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=rt(8);return s.write_shift(4,n),s.write_shift(4,a),s}function PH(t,e){var r=rt(4),n=rt(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=rt(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=kut(e);break;case 31:case 80:for(n=rt(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return cs([r,n])}var voe=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Put(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function DH(t,e,r){var n=rt(8),a=[],i=[],s=8,l=0,c=rt(8),u=rt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!e){u=rt(8),u.write_shift(4,0),a.unshift(u);var d=[rt(4)];for(d[0].write_shift(4,t.length),l=0;l<t.length;++l){var f=t[l][0];for(c=rt(8+2*(f.length+1)+(f.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,f.length+1),c.write_shift(0,f,"dbcs");c.l!=c.length;)c.write_shift(1,0);d.push(c)}c=cs(d),i.unshift(c),s+=8+c.length}for(l=0;l<t.length;++l)if(!(e&&!e[t[l][0]])&&!(voe.indexOf(t[l][0])>-1||moe.indexOf(t[l][0])>-1)&&t[l][1]!=null){var m=t[l][1],h=0;if(e){h=+e[t[l][0]];var v=r[h];if(v.p=="version"&&typeof m=="string"){var g=m.split(".");m=(+g[0]<<16)+(+g[1]||0)}c=PH(v.t,m)}else{var p=Put(m);p==-1&&(p=31,m=String(m)),c=PH(p,m)}i.push(c),u=rt(8),u.write_shift(4,e?h:2+l),a.push(u),s+=8+c.length}var y=8*(i.length+1);for(l=0;l<i.length;++l)a[l].write_shift(4,y),y+=i[l].length;return n.write_shift(4,s),n.write_shift(4,i.length),cs([n].concat(a).concat(i))}function OH(t,e,r,n,a,i){var s=rt(a?68:48),l=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,qn.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,a?68:48);var c=DH(t,r,n);if(l.push(c),a){var u=DH(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),l.push(u)}return cs(l)}function Dut(t,e){e||(e=rt(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function Out(t,e){return t.read_shift(e)===1}function ro(t,e){return e||(e=rt(2)),e.write_shift(2,+!!t),e}function yoe(t){return t.read_shift(2,"u")}function Ul(t,e){return e||(e=rt(2)),e.write_shift(2,t),e}function xoe(t,e,r){return r||(r=rt(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function boe(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=t.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?t.read_shift(n,a):"";return s}function Iut(t){var e=t.t||"",r=rt(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=rt(2*e.length);n.write_shift(2*e.length,e,"utf16le");var a=[r,n];return cs(a)}function Mut(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var a=t.read_shift(1);return a===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Rut(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):Mut(t,n,r)}function Lut(t,e,r){if(r.biff>5)return Rut(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function woe(t,e,r){return r||(r=rt(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function IH(t,e){e||(e=rt(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function Fut(t){var e=rt(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}e.write_shift(4,2),e.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(i==28)n=n.slice(1),IH(n,e);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var l=a>-1?n.slice(0,a):n;for(e.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)e.write_shift(2,l.charCodeAt(r));e.write_shift(2,0),i&8&&IH(a>-1?n.slice(a+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)e.write_shift(1,n.charCodeAt(r+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function eg(t,e,r,n){return n||(n=rt(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function $ut(t,e,r){var n=r.biff>8?4:2,a=t.read_shift(n),i=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[a,i,s]}function But(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),a=t.read_shift(2);return{s:{c:n,r:e},e:{c:a,r}}}function Soe(t,e){return e||(e=rt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function T6(t,e,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=rt(a);return i.write_shift(2,n),i.write_shift(2,e),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Uut(t,e){var r=!e||e.biff==8,n=rt(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function zut(t,e){var r=!e||e.biff>=8?2:1,n=rt(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Vut(t,e){var r=rt(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],a=0;a<t.length;++a)n[a]=Iut(t[a]);var i=cs([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function Hut(){var t=rt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Wut(t){var e=rt(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function qut(t,e){var r=t.name||"Arial",n=e&&e.biff==5,a=n?15+r.length:16+2*r.length,i=rt(a);return i.write_shift(2,t.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Gut(t,e,r,n){var a=rt(10);return eg(t,e,n,a),a.write_shift(4,r),a}function Yut(t,e,r,n,a){var i=!a||a.biff==8,s=rt(8+ +i+(1+i)*r.length);return eg(t,e,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function Kut(t,e,r,n){var a=r&&r.biff==5;n||(n=rt(a?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(a?1:2,e.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function Xut(t,e){var r=e.biff==8||!e.biff?4:2,n=rt(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function MH(t,e,r,n){var a=r&&r.biff==5;n||(n=rt(a?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var i=0;return t.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Zut(t){var e=rt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Qut(t,e,r,n,a,i){var s=rt(8);return eg(t,e,n,s),xoe(r,i,s),s}function Jut(t,e,r,n){var a=rt(14);return eg(t,e,n,a),Jp(r,a),a}function edt(t,e,r){if(r.biff<8)return tdt(t,e,r);for(var n=[],a=t.l+e,i=t.read_shift(r.biff>8?4:2);i--!==0;)n.push($ut(t,r.biff>8?12:6,r));if(t.l!=a)throw new Error("Bad ExternSheet: "+t.l+" != "+a);return n}function tdt(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=boe(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function rdt(t){var e=rt(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)Soe(t[r],e);return e}function ndt(t){var e=rt(24),r=Hi(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(n[a],16));return cs([e,Fut(t[1])])}function adt(t){var e=t[1].Tooltip,r=rt(10+2*(e.length+1));r.write_shift(2,2048);var n=Hi(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<e.length;++a)r.write_shift(2,e.charCodeAt(a));return r.write_shift(2,0),r}function idt(t){return t||(t=rt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function sdt(t,e,r){if(!r.cellStyles)return Xu(t,e);var n=r&&r.biff>=12?4:2,a=t.read_shift(n),i=t.read_shift(n),s=t.read_shift(n),l=t.read_shift(n),c=t.read_shift(2);n==2&&(t.l+=2);var u={s:a,e:i,w:s,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function odt(t,e){var r=rt(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function ldt(t){for(var e=rt(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function cdt(t,e,r){var n=rt(15);return E2(n,t,e),n.write_shift(8,r,"f"),n}function udt(t,e,r){var n=rt(9);return E2(n,t,e),n.write_shift(2,r),n}var ddt=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=y6({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],d=Qp(1);switch(c.type){case"base64":d=Mc(cf(l));break;case"binary":d=Mc(l);break;case"buffer":case"array":d=l;break}al(d,0);var f=d.read_shift(1),m=!!(f&136),h=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,p=521;f==2&&(g=d.read_shift(2)),d.l+=3,f!=2&&(g=d.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(p=d.read_shift(2));var y=d.read_shift(2),x=c.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(x=t[d[d.l]]),d.l+=1,d.l+=2),v&&(d.l+=36);for(var b=[],w={},_=Math.min(d.length,f==2?521:p-10-(h?264:0)),j=v?32:11;d.l<_&&d[d.l]!=13;)switch(w={},w.name=iH.utils.decode(x,d.slice(d.l,d.l+j)).replace(/[\u0000\r\n].*$/g,""),d.l+=j,w.type=String.fromCharCode(d.read_shift(1)),f!=2&&!v&&(w.offset=d.read_shift(4)),w.len=d.read_shift(1),f==2&&(w.offset=d.read_shift(2)),w.dec=d.read_shift(1),w.name.length&&b.push(w),f!=2&&(d.l+=v?13:14),w.type){case"B":(!h||w.len!=8)&&c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+w.name+":"+w.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+w.type)}if(d[d.l]!==13&&(d.l=p-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=p;var A=0,E=0;for(u[0]=[],E=0;E!=b.length;++E)u[0][E]=b[E].name;for(;g-- >0;){if(d[d.l]===42){d.l+=y;continue}for(++d.l,u[++A]=[],E=0,E=0;E!=b.length;++E){var T=d.slice(d.l,d.l+b[E].len);d.l+=b[E].len,al(T,0);var R=iH.utils.decode(x,T);switch(b[E].type){case"C":R.trim().length&&(u[A][E]=R.replace(/\s+$/,""));break;case"D":R.length===8?u[A][E]=new Date(+R.slice(0,4),+R.slice(4,6)-1,+R.slice(6,8)):u[A][E]=R;break;case"F":u[A][E]=parseFloat(R.trim());break;case"+":case"I":u[A][E]=v?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(R.trim().toUpperCase()){case"Y":case"T":u[A][E]=!0;break;case"N":case"F":u[A][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+R+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[A][E]="##MEMO##"+(v?parseInt(R.trim(),10):T.read_shift(4));break;case"N":R=R.replace(/\u0000/g,"").trim(),R&&R!="."&&(u[A][E]=+R||0);break;case"@":u[A][E]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":u[A][E]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":u[A][E]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][E]=-T.read_shift(-8,"f");break;case"B":if(h&&b[E].len==8){u[A][E]=T.read_shift(8,"f");break}case"G":case"P":T.l+=b[E].len;break;case"0":if(b[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[E].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=b,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Yy(r(l,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function a(l,c){try{return xg(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(l,c){var u=c||{};if(+u.codepage>=0&&iw(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Fo(),f=wA(l,{header:1,raw:!0,cellDates:!0}),m=f[0],h=f.slice(1),v=l["!cols"]||[],g=0,p=0,y=0,x=1;for(g=0;g<m.length;++g){if(((v[g]||{}).DBF||{}).name){m[g]=v[g].DBF.name,++y;continue}if(m[g]!=null){if(++y,typeof m[g]=="number"&&(m[g]=m[g].toString(10)),typeof m[g]!="string")throw new Error("DBF Invalid column name "+m[g]+" |"+typeof m[g]+"|");if(m.indexOf(m[g])!==g){for(p=0;p<1024;++p)if(m.indexOf(m[g]+"_"+p)==-1){m[g]+="_"+p;break}}}}var b=pa(l["!ref"]),w=[],_=[],j=[];for(g=0;g<=b.e.c-b.s.c;++g){var A="",E="",T=0,R=[];for(p=0;p<h.length;++p)h[p][g]!=null&&R.push(h[p][g]);if(R.length==0||m[g]==null){w[g]="?";continue}for(p=0;p<R.length;++p){switch(typeof R[p]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=R[p]instanceof Date?"D":"C";break;default:E="C"}T=Math.max(T,String(R[p]).length),A=A&&A!=E?"C":E}T>250&&(T=250),E=((v[g]||{}).DBF||{}).type,E=="C"&&v[g].DBF.len>T&&(T=v[g].DBF.len),A=="B"&&E=="N"&&(A="N",j[g]=v[g].DBF.dec,T=v[g].DBF.len),_[g]=A=="C"||E=="N"?T:i[A]||0,x+=_[g],w[g]=A}var D=d.next(32);for(D.write_shift(4,318902576),D.write_shift(4,h.length),D.write_shift(2,296+32*y),D.write_shift(2,x),g=0;g<4;++g)D.write_shift(4,0);for(D.write_shift(4,0|(+e[jse]||3)<<8),g=0,p=0;g<m.length;++g)if(m[g]!=null){var P=d.next(32),I=(m[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,I,"sbcs"),P.write_shift(1,w[g]=="?"?"C":w[g],"sbcs"),P.write_shift(4,p),P.write_shift(1,_[g]||i[w[g]]||0),P.write_shift(1,j[g]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),p+=_[g]||i[w[g]]||0}var L=d.next(264);for(L.write_shift(4,13),g=0;g<65;++g)L.write_shift(4,0);for(g=0;g<h.length;++g){var V=d.next(x);for(V.write_shift(1,0),p=0;p<m.length;++p)if(m[p]!=null)switch(w[p]){case"L":V.write_shift(1,h[g][p]==null?63:h[g][p]?84:70);break;case"B":V.write_shift(8,h[g][p]||0,"f");break;case"N":var H="0";for(typeof h[g][p]=="number"&&(H=h[g][p].toFixed(j[p]||0)),y=0;y<_[p]-H.length;++y)V.write_shift(1,32);V.write_shift(1,H,"sbcs");break;case"D":h[g][p]?(V.write_shift(4,("0000"+h[g][p].getFullYear()).slice(-4),"sbcs"),V.write_shift(2,("00"+(h[g][p].getMonth()+1)).slice(-2),"sbcs"),V.write_shift(2,("00"+h[g][p].getDate()).slice(-2),"sbcs")):V.write_shift(8,"00000000","sbcs");break;case"C":var q=String(h[g][p]!=null?h[g][p]:"").slice(0,_[p]);for(V.write_shift(1,q,"sbcs"),y=0;y<_[p]-q.length;++y)V.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),fdt=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+vs(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var v=t[h];return typeof v=="number"?aH(v):v},n=function(m,h,v){var g=h.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?m:aH(g)};t["|"]=254;function a(m,h){switch(h.type){case"base64":return i(cf(m),h);case"binary":return i(m,h);case"buffer":return i(An&&Buffer.isBuffer(m)?m.toString("binary"):S2(m),h);case"array":return i(G5(m),h)}throw new Error("Unrecognized type "+h.type)}function i(m,h){var v=m.split(/[\n\r]+/),g=-1,p=-1,y=0,x=0,b=[],w=[],_=null,j={},A=[],E=[],T=[],R=0,D;for(+h.codepage>=0&&iw(+h.codepage);y!==v.length;++y){R=0;var P=v[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),I=P.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),L=I[0],V;if(P.length>0)switch(L){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":I[1].charAt(0)=="P"&&w.push(P.slice(3).replace(/;;/g,";"));break;case"C":var H=!1,q=!1,G=!1,re=!1,Z=-1,de=-1;for(x=1;x<I.length;++x)switch(I[x].charAt(0)){case"A":break;case"X":p=parseInt(I[x].slice(1))-1,q=!0;break;case"Y":for(g=parseInt(I[x].slice(1))-1,q||(p=0),D=b.length;D<=g;++D)b[D]=[];break;case"K":V=I[x].slice(1),V.charAt(0)==='"'?V=V.slice(1,V.length-1):V==="TRUE"?V=!0:V==="FALSE"?V=!1:isNaN(Yd(V))?isNaN(ow(V).getDate())||(V=po(V)):(V=Yd(V),_!==null&&Rse(_)&&(V=Bse(V))),H=!0;break;case"E":re=!0;var k=uft(I[x].slice(1),{r:g,c:p});b[g][p]=[b[g][p],k];break;case"S":G=!0,b[g][p]=[b[g][p],"S5S"];break;case"G":break;case"R":Z=parseInt(I[x].slice(1))-1;break;case"C":de=parseInt(I[x].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}if(H&&(b[g][p]&&b[g][p].length==2?b[g][p][0]=V:b[g][p]=V,_=null),G){if(re)throw new Error("SYLK shared formula cannot have own formula");var F=Z>-1&&b[Z][de];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");b[g][p][1]=dft(F[1],{r:g-Z,c:p-de})}break;case"F":var B=0;for(x=1;x<I.length;++x)switch(I[x].charAt(0)){case"X":p=parseInt(I[x].slice(1))-1,++B;break;case"Y":for(g=parseInt(I[x].slice(1))-1,D=b.length;D<=g;++D)b[D]=[];break;case"M":R=parseInt(I[x].slice(1))/20;break;case"F":break;case"G":break;case"P":_=w[parseInt(I[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=I[x].slice(1).split(" "),D=parseInt(T[0],10);D<=parseInt(T[1],10);++D)R=parseInt(T[2],10),E[D-1]=R===0?{hidden:!0}:{wch:R},k6(E[D-1]);break;case"C":p=parseInt(I[x].slice(1))-1,E[p]||(E[p]={});break;case"R":g=parseInt(I[x].slice(1))-1,A[g]||(A[g]={}),R>0?(A[g].hpt=R,A[g].hpx=Eoe(R)):R===0&&(A[g].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}B<1&&(_=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}}return A.length>0&&(j["!rows"]=A),E.length>0&&(j["!cols"]=E),h&&h.sheetRows&&(b=b.slice(0,h.sheetRows)),[b,j]}function s(m,h){var v=a(m,h),g=v[0],p=v[1],y=Yy(g,h);return vs(p).forEach(function(x){y[x]=p[x]}),y}function l(m,h){return xg(s(m,h),h)}function c(m,h,v,g){var p="C;Y"+(v+1)+";X"+(g+1)+";K";switch(m.t){case"n":p+=m.v||0,m.f&&!m.F&&(p+=";E"+D6(m.f,{r:v,c:g}));break;case"b":p+=m.v?"TRUE":"FALSE";break;case"e":p+=m.w||m.v;break;case"d":p+='"'+(m.w||m.v)+'"';break;case"s":p+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return p}function u(m,h){h.forEach(function(v,g){var p="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?p+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=vA(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=yA(v.wpx)),typeof v.wch=="number"&&(p+=Math.round(v.wch))),p.charAt(p.length-1)!=" "&&m.push(p)})}function d(m,h){h.forEach(function(v,g){var p="F;";v.hidden?p+="M0;":v.hpt?p+="M"+20*v.hpt+";":v.hpx&&(p+="M"+20*xA(v.hpx)+";"),p.length>2&&m.push(p+"R"+(g+1))})}function f(m,h){var v=["ID;PWXL;N;E"],g=[],p=pa(m["!ref"]),y,x=Array.isArray(m),b=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),m["!cols"]&&u(v,m["!cols"]),m["!rows"]&&d(v,m["!rows"]),v.push("B;Y"+(p.e.r-p.s.r+1)+";X"+(p.e.c-p.s.c+1)+";D"+[p.s.c,p.s.r,p.e.c,p.e.r].join(" "));for(var w=p.s.r;w<=p.e.r;++w)for(var _=p.s.c;_<=p.e.c;++_){var j=Bn({r:w,c:_});y=x?(m[w]||[])[_]:m[j],!(!y||y.v==null&&(!y.f||y.F))&&g.push(c(y,m,w,_))}return v.join(b)+b+g.join(b)+b+"E"+b}return{to_workbook:l,to_sheet:s,from_sheet:f}}(),hdt=function(){function t(i,s){switch(s.type){case"base64":return e(cf(i),s);case"binary":return e(i,s);case"buffer":return e(An&&Buffer.isBuffer(i)?i.toString("binary"):S2(i),s);case"array":return e(G5(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){for(var l=i.split(`
`),c=-1,u=-1,d=0,f=[];d!==l.length;++d){if(l[d].trim()==="BOT"){f[++c]=[],u=0;continue}if(!(c<0)){var m=l[d].trim().split(","),h=m[0],v=m[1];++d;for(var g=l[d]||"";(g.match(/["]/g)||[]).length&1&&d<l.length-1;)g+=`
`+l[++d];switch(g=g.trim(),+h){case-1:if(g==="BOT"){f[++c]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[c][u]=!0:g==="FALSE"?f[c][u]=!1:isNaN(Yd(v))?isNaN(ow(v).getDate())?f[c][u]=v:f[c][u]=po(v):f[c][u]=Yd(v),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[c][u++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Yy(t(i,s),s)}function n(i,s){return xg(r(i,s),s)}var a=function(){var i=function(c,u,d,f,m){c.push(u),c.push(d+","+f),c.push('"'+m.replace(/"/g,'""')+'"')},s=function(c,u,d,f){c.push(u+","+d),c.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(c){var u=[],d=pa(c["!ref"]),f,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,d.e.r-d.s.r+1,""),i(u,"TUPLES",0,d.e.c-d.s.c+1,""),i(u,"DATA",0,0,"");for(var h=d.s.r;h<=d.e.r;++h){s(u,-1,0,"BOT");for(var v=d.s.c;v<=d.e.c;++v){var g=Bn({r:h,c:v});if(f=m?(c[h]||[])[v]:c[g],!f){s(u,1,0,"");continue}switch(f.t){case"n":var p=f.w;!p&&f.v!=null&&(p=f.v),p==null?f.f&&!f.F?s(u,1,0,"="+f.f):s(u,1,0,""):s(u,0,p,"V");break;case"b":s(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Gh(f.z||Va[14],Uo(po(f.v)))),s(u,0,f.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var y=`\r
`,x=u.join(y);return x}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),_oe=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,m){for(var h=f.split(`
`),v=-1,g=-1,p=0,y=[];p!==h.length;++p){var x=h[p].trim().split(":");if(x[0]==="cell"){var b=Hi(x[1]);if(y.length<=b.r)for(v=y.length;v<=b.r;++v)y[v]||(y[v]=[]);switch(v=b.r,g=b.c,x[2]){case"t":y[v][g]=t(x[3]);break;case"v":y[v][g]=+x[3];break;case"vtf":var w=x[x.length-1];case"vtc":switch(x[3]){case"nl":y[v][g]=!!+x[4];break;default:y[v][g]=+x[4];break}x[2]=="vtf"&&(y[v][g]=[y[v][g],w])}}}return m&&m.sheetRows&&(y=y.slice(0,m.sheetRows)),y}function n(f,m){return Yy(r(f,m),m)}function a(f,m){return xg(n(f,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var m=[],h=[],v,g="",p=wl(f["!ref"]),y=Array.isArray(f),x=p.s.r;x<=p.e.r;++x)for(var b=p.s.c;b<=p.e.c;++b)if(g=Bn({r:x,c:b}),v=y?(f[x]||[])[b]:f[g],!(!v||v.v==null||v.t==="z")){switch(h=["cell",g,"t"],v.t){case"s":case"str":h.push(e(v.v));break;case"n":v.f?(h[2]="vtf",h[3]="n",h[4]=v.v,h[5]=e(v.f)):(h[2]="v",h[3]=v.v);break;case"b":h[2]="vt"+(v.f?"f":"c"),h[3]="nl",h[4]=v.v?"1":"0",h[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var w=Uo(po(v.v));h[2]="vtc",h[3]="nd",h[4]=""+w,h[5]=v.w||Gh(v.z||Va[14],w);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(p.e.c-p.s.c+1)+":r:"+(p.e.r-p.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function d(f){return[i,s,l,s,u(f),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),mdt=function(){function t(d,f,m,h,v){v.raw?f[m][h]=d:d===""||(d==="TRUE"?f[m][h]=!0:d==="FALSE"?f[m][h]=!1:isNaN(Yd(d))?isNaN(ow(d).getDate())?f[m][h]=d:f[m][h]=po(d):f[m][h]=Yd(d))}function e(d,f){var m=f||{},h=[];if(!d||d.length===0)return h;for(var v=d.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var p=10,y=0,x=0;x<=g;++x)y=v[x].indexOf(" "),y==-1?y=v[x].length:y++,p=Math.max(p,y);for(x=0;x<=g;++x){h[x]=[];var b=0;for(t(v[x].slice(0,p).trim(),h,x,b,m),b=1;b<=(v[x].length-p)/10+1;++b)t(v[x].slice(p+(b-1)*10,p+b*10).trim(),h,x,b,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},m=!1,h=0,v=0;h<d.length;++h)(v=d.charCodeAt(h))==34?m=!m:!m&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h]);if(!v.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h])}return v.sort(function(g,p){return g[0]-p[0]||n[g[1]]-n[p[1]]}),r[v.pop()[1]]||44}function i(d,f){var m=f||{},h="",v=m.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(h=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(h=d.charAt(4),d=d.slice(6)):h=a(d.slice(0,1024)):m&&m.FS?h=m.FS:h=a(d.slice(0,1024));var p=0,y=0,x=0,b=0,w=0,_=h.charCodeAt(0),j=!1,A=0,E=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var T=m.dateNF!=null?kct(m.dateNF):null;function R(){var D=d.slice(b,w),P={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)P.t="z";else if(m.raw)P.t="s",P.v=D;else if(D.trim().length===0)P.t="s",P.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(P.t="s",P.v=D.slice(2,-1).replace(/""/g,'"')):fft(D)?(P.t="n",P.f=D.slice(1)):(P.t="s",P.v=D);else if(D=="TRUE")P.t="b",P.v=!0;else if(D=="FALSE")P.t="b",P.v=!1;else if(!isNaN(x=Yd(D)))P.t="n",m.cellText!==!1&&(P.w=D),P.v=x;else if(!isNaN(ow(D).getDate())||T&&D.match(T)){P.z=m.dateNF||Va[14];var I=0;T&&D.match(T)&&(D=Pct(D,m.dateNF,D.match(T)||[]),I=1),m.cellDates?(P.t="d",P.v=po(D,I)):(P.t="n",P.v=Uo(po(D,I))),m.cellText!==!1&&(P.w=Gh(P.z,P.v instanceof Date?Uo(P.v):P.v)),m.cellNF||delete P.z}else P.t="s",P.v=D;if(P.t=="z"||(m.dense?(v[p]||(v[p]=[]),v[p][y]=P):v[Bn({c:y,r:p})]=P),b=w+1,E=d.charCodeAt(b),g.e.c<y&&(g.e.c=y),g.e.r<p&&(g.e.r=p),A==_)++y;else if(y=0,++p,m.sheetRows&&m.sheetRows<=p)return!0}e:for(;w<d.length;++w)switch(A=d.charCodeAt(w)){case 34:E===34&&(j=!j);break;case _:case 10:case 13:if(!j&&R())break e;break}return w-b>0&&R(),v["!ref"]=_i(g),v}function s(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?i(d,f):Yy(e(d,f),f)}function l(d,f){var m="",h=f.type=="string"?[0,0,0,0]:Agt(d,f);switch(f.type){case"base64":m=cf(d);break;case"binary":m=d;break;case"buffer":f.codepage==65001?m=d.toString("utf8"):(f.codepage,m=An&&Buffer.isBuffer(d)?d.toString("binary"):S2(d));break;case"array":m=G5(d);break;case"string":m=d;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=z1(m.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?m=z1(m):f.type=="binary",m.slice(0,19)=="socialcalc:version:"?_oe.to_sheet(f.type=="string"?m:z1(m),f):s(m,f)}function c(d,f){return xg(l(d,f),f)}function u(d){for(var f=[],m=pa(d["!ref"]),h,v=Array.isArray(d),g=m.s.r;g<=m.e.r;++g){for(var p=[],y=m.s.c;y<=m.e.c;++y){var x=Bn({r:g,c:y});if(h=v?(d[g]||[])[y]:d[x],!h||h.v==null){p.push("          ");continue}for(var b=(h.w||(uf(h),h.w)||"").slice(0,10);b.length<10;)b+=" ";p.push(b+(y===0?" ":""))}f.push(p.join(""))}return f.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),RH=function(){function t(k,F,B){if(k){al(k,k.l||0);for(var z=B.Enum||Z;k.l<k.length;){var ee=k.read_shift(2),le=z[ee]||z[65535],ge=k.read_shift(2),se=k.l+ge,ie=le.f&&le.f(k,ge,B);if(k.l=se,F(ie,le,ee))return}}}function e(k,F){switch(F.type){case"base64":return r(Mc(cf(k)),F);case"binary":return r(Mc(k),F);case"buffer":case"array":return r(k,F)}throw"Unsupported type "+F.type}function r(k,F){if(!k)return k;var B=F||{},z=B.dense?[]:{},ee="Sheet1",le="",ge=0,se={},ie=[],we=[],pe={s:{r:0,c:0},e:{r:0,c:0}},Me=B.sheetRows||0;if(k[2]==0&&(k[3]==8||k[3]==9)&&k.length>=16&&k[14]==5&&k[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(k[2]==2)B.Enum=Z,t(k,function(Ae,Be,qe){switch(qe){case 0:B.vers=Ae,Ae>=4096&&(B.qpro=!0);break;case 6:pe=Ae;break;case 204:Ae&&(le=Ae);break;case 222:le=Ae;break;case 15:case 51:B.qpro||(Ae[1].v=Ae[1].v.slice(1));case 13:case 14:case 16:qe==14&&(Ae[2]&112)==112&&(Ae[2]&15)>1&&(Ae[2]&15)<15&&(Ae[1].z=B.dateNF||Va[14],B.cellDates&&(Ae[1].t="d",Ae[1].v=Bse(Ae[1].v))),B.qpro&&Ae[3]>ge&&(z["!ref"]=_i(pe),se[ee]=z,ie.push(ee),z=B.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},ge=Ae[3],ee=le||"Sheet"+(ge+1),le="");var st=B.dense?(z[Ae[0].r]||[])[Ae[0].c]:z[Bn(Ae[0])];if(st){st.t=Ae[1].t,st.v=Ae[1].v,Ae[1].z!=null&&(st.z=Ae[1].z),Ae[1].f!=null&&(st.f=Ae[1].f);break}B.dense?(z[Ae[0].r]||(z[Ae[0].r]=[]),z[Ae[0].r][Ae[0].c]=Ae[1]):z[Bn(Ae[0])]=Ae[1];break}},B);else if(k[2]==26||k[2]==14)B.Enum=de,k[2]==14&&(B.qpro=!0,k.l=0),t(k,function(Ae,Be,qe){switch(qe){case 204:ee=Ae;break;case 22:Ae[1].v=Ae[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ae[3]>ge&&(z["!ref"]=_i(pe),se[ee]=z,ie.push(ee),z=B.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},ge=Ae[3],ee="Sheet"+(ge+1)),Me>0&&Ae[0].r>=Me)break;B.dense?(z[Ae[0].r]||(z[Ae[0].r]=[]),z[Ae[0].r][Ae[0].c]=Ae[1]):z[Bn(Ae[0])]=Ae[1],pe.e.c<Ae[0].c&&(pe.e.c=Ae[0].c),pe.e.r<Ae[0].r&&(pe.e.r=Ae[0].r);break;case 27:Ae[14e3]&&(we[Ae[14e3][0]]=Ae[14e3][1]);break;case 1537:we[Ae[0]]=Ae[1],Ae[0]==ge&&(ee=Ae[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+k[2]);if(z["!ref"]=_i(pe),se[le||ee]=z,ie.push(le||ee),!we.length)return{SheetNames:ie,Sheets:se};for(var he={},oe=[],X=0;X<we.length;++X)se[ie[X]]?(oe.push(we[X]||ie[X]),he[we[X]]=se[we[X]]||se[ie[X]]):(oe.push(we[X]),he[we[X]]={"!ref":"A1"});return{SheetNames:oe,Sheets:he}}function n(k,F){var B=F||{};if(+B.codepage>=0&&iw(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var z=Fo(),ee=pa(k["!ref"]),le=Array.isArray(k),ge=[];Pt(z,0,i(1030)),Pt(z,6,c(ee));for(var se=Math.min(ee.e.r,8191),ie=ee.s.r;ie<=se;++ie)for(var we=ps(ie),pe=ee.s.c;pe<=ee.e.c;++pe){ie===ee.s.r&&(ge[pe]=Vs(pe));var Me=ge[pe]+we,he=le?(k[ie]||[])[pe]:k[Me];if(!(!he||he.t=="z"))if(he.t=="n")(he.v|0)==he.v&&he.v>=-32768&&he.v<=32767?Pt(z,13,h(ie,pe,he.v)):Pt(z,14,g(ie,pe,he.v));else{var oe=uf(he);Pt(z,15,f(ie,pe,oe.slice(0,239)))}}return Pt(z,1),z.end()}function a(k,F){var B=F||{};if(+B.codepage>=0&&iw(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var z=Fo();Pt(z,0,s(k));for(var ee=0,le=0;ee<k.SheetNames.length;++ee)(k.Sheets[k.SheetNames[ee]]||{})["!ref"]&&Pt(z,27,re(k.SheetNames[ee],le++));var ge=0;for(ee=0;ee<k.SheetNames.length;++ee){var se=k.Sheets[k.SheetNames[ee]];if(!(!se||!se["!ref"])){for(var ie=pa(se["!ref"]),we=Array.isArray(se),pe=[],Me=Math.min(ie.e.r,8191),he=ie.s.r;he<=Me;++he)for(var oe=ps(he),X=ie.s.c;X<=ie.e.c;++X){he===ie.s.r&&(pe[X]=Vs(X));var Ae=pe[X]+oe,Be=we?(se[he]||[])[X]:se[Ae];if(!(!Be||Be.t=="z"))if(Be.t=="n")Pt(z,23,R(he,X,ge,Be.v));else{var qe=uf(Be);Pt(z,22,A(he,X,ge,qe.slice(0,239)))}}++ge}}return Pt(z,1),z.end()}function i(k){var F=rt(2);return F.write_shift(2,k),F}function s(k){var F=rt(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var B=0,z=0,ee=0,le=0;le<k.SheetNames.length;++le){var ge=k.SheetNames[le],se=k.Sheets[ge];if(!(!se||!se["!ref"])){++ee;var ie=wl(se["!ref"]);B<ie.e.r&&(B=ie.e.r),z<ie.e.c&&(z=ie.e.c)}}return B>8191&&(B=8191),F.write_shift(2,B),F.write_shift(1,ee),F.write_shift(1,z),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function l(k,F,B){var z={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&B.qpro?(z.s.c=k.read_shift(1),k.l++,z.s.r=k.read_shift(2),z.e.c=k.read_shift(1),k.l++,z.e.r=k.read_shift(2),z):(z.s.c=k.read_shift(2),z.s.r=k.read_shift(2),F==12&&B.qpro&&(k.l+=2),z.e.c=k.read_shift(2),z.e.r=k.read_shift(2),F==12&&B.qpro&&(k.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(k){var F=rt(8);return F.write_shift(2,k.s.c),F.write_shift(2,k.s.r),F.write_shift(2,k.e.c),F.write_shift(2,k.e.r),F}function u(k,F,B){var z=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(z[0].c=k.read_shift(1),z[3]=k.read_shift(1),z[0].r=k.read_shift(2),k.l+=2):(z[2]=k.read_shift(1),z[0].c=k.read_shift(2),z[0].r=k.read_shift(2)),z}function d(k,F,B){var z=k.l+F,ee=u(k,F,B);if(ee[1].t="s",B.vers==20768){k.l++;var le=k.read_shift(1);return ee[1].v=k.read_shift(le,"utf8"),ee}return B.qpro&&k.l++,ee[1].v=k.read_shift(z-k.l,"cstr"),ee}function f(k,F,B){var z=rt(7+B.length);z.write_shift(1,255),z.write_shift(2,F),z.write_shift(2,k),z.write_shift(1,39);for(var ee=0;ee<z.length;++ee){var le=B.charCodeAt(ee);z.write_shift(1,le>=128?95:le)}return z.write_shift(1,0),z}function m(k,F,B){var z=u(k,F,B);return z[1].v=k.read_shift(2,"i"),z}function h(k,F,B){var z=rt(7);return z.write_shift(1,255),z.write_shift(2,F),z.write_shift(2,k),z.write_shift(2,B,"i"),z}function v(k,F,B){var z=u(k,F,B);return z[1].v=k.read_shift(8,"f"),z}function g(k,F,B){var z=rt(13);return z.write_shift(1,255),z.write_shift(2,F),z.write_shift(2,k),z.write_shift(8,B,"f"),z}function p(k,F,B){var z=k.l+F,ee=u(k,F,B);if(ee[1].v=k.read_shift(8,"f"),B.qpro)k.l=z;else{var le=k.read_shift(2);w(k.slice(k.l,k.l+le),ee),k.l+=le}return ee}function y(k,F,B){var z=F&32768;return F&=-32769,F=(z?k:0)+(F>=8192?F-16384:F),(z?"":"$")+(B?Vs(F):ps(F))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function w(k,F){al(k,0);for(var B=[],z=0,ee="",le="",ge="",se="";k.l<k.length;){var ie=k[k.l++];switch(ie){case 0:B.push(k.read_shift(8,"f"));break;case 1:le=y(F[0].c,k.read_shift(2),!0),ee=y(F[0].r,k.read_shift(2),!1),B.push(le+ee);break;case 2:{var we=y(F[0].c,k.read_shift(2),!0),pe=y(F[0].r,k.read_shift(2),!1);le=y(F[0].c,k.read_shift(2),!0),ee=y(F[0].r,k.read_shift(2),!1),B.push(we+pe+":"+le+ee)}break;case 3:if(k.l<k.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(k.read_shift(2));break;case 6:{for(var Me="";ie=k[k.l++];)Me+=String.fromCharCode(ie);B.push('"'+Me.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:se=B.pop(),ge=B.pop(),B.push(["AND","OR"][ie-20]+"("+ge+","+se+")");break;default:if(ie<32&&b[ie])se=B.pop(),ge=B.pop(),B.push(ge+b[ie]+se);else if(x[ie]){if(z=x[ie][1],z==69&&(z=k[k.l++]),z>B.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+B.join("|")+"|");return}var he=B.slice(-z);B.length-=z,B.push(x[ie][0]+"("+he.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}B.length==1?F[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function _(k){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=k.read_shift(2),F[3]=k[k.l++],F[0].c=k[k.l++],F}function j(k,F){var B=_(k);return B[1].t="s",B[1].v=k.read_shift(F-4,"cstr"),B}function A(k,F,B,z){var ee=rt(6+z.length);ee.write_shift(2,k),ee.write_shift(1,B),ee.write_shift(1,F),ee.write_shift(1,39);for(var le=0;le<z.length;++le){var ge=z.charCodeAt(le);ee.write_shift(1,ge>=128?95:ge)}return ee.write_shift(1,0),ee}function E(k,F){var B=_(k);B[1].v=k.read_shift(2);var z=B[1].v>>1;if(B[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return B[1].v=z,B}function T(k,F){var B=_(k),z=k.read_shift(4),ee=k.read_shift(4),le=k.read_shift(2);if(le==65535)return z===0&&ee===3221225472?(B[1].t="e",B[1].v=15):z===0&&ee===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var ge=le&32768;return le=(le&32767)-16446,B[1].v=(1-ge*2)*(ee*Math.pow(2,le+32)+z*Math.pow(2,le)),B}function R(k,F,B,z){var ee=rt(14);if(ee.write_shift(2,k),ee.write_shift(1,B),ee.write_shift(1,F),z==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var le=0,ge=0,se=0,ie=0;return z<0&&(le=1,z=-z),ge=Math.log2(z)|0,z/=Math.pow(2,ge-31),ie=z>>>0,ie&2147483648||(z/=2,++ge,ie=z>>>0),z-=ie,ie|=2147483648,ie>>>=0,z*=Math.pow(2,32),se=z>>>0,ee.write_shift(4,se),ee.write_shift(4,ie),ge+=16383+(le?32768:0),ee.write_shift(2,ge),ee}function D(k,F){var B=T(k);return k.l+=F-14,B}function P(k,F){var B=_(k),z=k.read_shift(4);return B[1].v=z>>6,B}function I(k,F){var B=_(k),z=k.read_shift(8,"f");return B[1].v=z,B}function L(k,F){var B=I(k);return k.l+=F-10,B}function V(k,F){return k[k.l+F-1]==0?k.read_shift(F,"cstr"):""}function H(k,F){var B=k[k.l++];B>F-1&&(B=F-1);for(var z="";z.length<B;)z+=String.fromCharCode(k[k.l++]);return z}function q(k,F,B){if(!(!B.qpro||F<21)){var z=k.read_shift(1);k.l+=17,k.l+=1,k.l+=2;var ee=k.read_shift(F-21,"cstr");return[z,ee]}}function G(k,F){for(var B={},z=k.l+F;k.l<z;){var ee=k.read_shift(2);if(ee==14e3){for(B[ee]=[0,""],B[ee][0]=k.read_shift(2);k[k.l];)B[ee][1]+=String.fromCharCode(k[k.l]),k.l++;k.l++}}return B}function re(k,F){var B=rt(5+k.length);B.write_shift(2,14e3),B.write_shift(2,F);for(var z=0;z<k.length;++z){var ee=k.charCodeAt(z);B[B.l++]=ee>127?95:ee}return B[B.l++]=0,B}var Z={0:{n:"BOF",f:yoe},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:p},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:V},222:{n:"SHEETNAMELP",f:H},65535:{n:""}},de={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:I},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:V},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:e}}(),pdt=/^\s|\s$|[\t\n\r]/;function joe(t,e){if(!e.bookSST)return"";var r=[ji];r[r.length]=kt("sst",null,{xmlns:Gy[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var a=t[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(pdt)&&(i+=' xml:space="preserve"'),i+=">"+$n(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function gdt(t){return[t.read_shift(4),t.read_shift(4)]}function vdt(t,e){return e||(e=rt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var ydt=lut;function xdt(t){var e=Fo();yt(e,159,vdt(t));for(var r=0;r<t.length;++r)yt(e,19,ydt(t[r]));return yt(e,160),e.end()}function bdt(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Noe(t){var e=0,r,n=bdt(t),a=n.length+1,i,s,l,c,u;for(r=Qp(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],l=e&16384?1:0,c=e<<1&32767,u=l|c,e=u^s;return e^52811}var wdt=function(){function t(a,i){switch(i.type){case"base64":return e(cf(a),i);case"binary":return e(a,i);case"buffer":return e(An&&Buffer.isBuffer(a)?a.toString("binary"):S2(a),i);case"array":return e(G5(a),i)}throw new Error("Unrecognized type "+i.type)}function e(a,i){var s=i||{},l=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(d,f){Array.isArray(l)&&(l[f]=[]);for(var m=/\\\w+\b/g,h=0,v,g=-1;v=m.exec(d);){switch(v[0]){case"\\cell":var p=d.slice(h,m.lastIndex-v[0].length);if(p[0]==" "&&(p=p.slice(1)),++g,p.length){var y={v:p,t:"s"};Array.isArray(l)?l[f][g]=y:l[Bn({r:f,c:g})]=y}break}h=m.lastIndex}g>u.e.c&&(u.e.c=g)}),l["!ref"]=_i(u),l}function r(a,i){return xg(t(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=pa(a["!ref"]),l,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var d=s.s.c;d<=s.e.c;++d)i.push("\\cellx"+(d+1));for(i.push("\\pard\\intbl"),d=s.s.c;d<=s.e.c;++d){var f=Bn({r:u,c:d});l=c?(a[u]||[])[d]:a[f],!(!l||l.v==null&&(!l.f||l.F))&&(i.push(" "+(l.w||(uf(l),l.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function LH(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var Sdt=6,Kd=Sdt;function vA(t){return Math.floor((t+Math.round(128/Kd)/256)*Kd)}function yA(t){return Math.floor((t-5)/Kd*100+.5)/100}function XO(t){return Math.round((t*Kd+5)/Kd*256)/256}function k6(t){t.width?(t.wpx=vA(t.width),t.wch=yA(t.wpx),t.MDW=Kd):t.wpx?(t.wch=yA(t.wpx),t.width=XO(t.wch),t.MDW=Kd):typeof t.wch=="number"&&(t.width=XO(t.wch),t.wpx=vA(t.width),t.MDW=Kd),t.customWidth&&delete t.customWidth}var _dt=96,Aoe=_dt;function xA(t){return t*96/Aoe}function Eoe(t){return t*Aoe/96}function jdt(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=kt("numFmt",null,{numFmtId:n,formatCode:$n(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=kt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Ndt(t){var e=[];return e[e.length]=kt("cellXfs",null),t.forEach(function(r){e[e.length]=kt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=kt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Coe(t,e){var r=[ji,kt("styleSheet",null,{xmlns:Gy[0],"xmlns:vt":Vi.vt})],n;return t.SSF&&(n=jdt(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Ndt(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Adt(t,e){var r=t.read_shift(2),n=Hs(t);return[r,n]}function Edt(t,e,r){r||(r=rt(6+4*e.length)),r.write_shift(2,t),Wi(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Cdt(t,e,r){var n={};n.sz=t.read_shift(2)/20;var a=put(t);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=t.read_shift(2);switch(i===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var l=t.read_shift(1);l>0&&(n.family=l);var c=t.read_shift(1);switch(c>0&&(n.charset=c),t.l++,n.color=mut(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Hs(t),n}function Tdt(t,e){e||(e=rt(25+4*32)),e.write_shift(2,t.sz*20),gut(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),pA(t.color,e);var n=0;return n=2,e.write_shift(1,n),Wi(t.name,e),e.length>e.l?e.slice(0,e.l):e}var kdt=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rk,Pdt=Xu;function FH(t,e){e||(e=rt(4*3+8*7+16*1)),rk||(rk=y6(kdt));var r=rk[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(pA({auto:1},e),pA({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Ddt(t,e){var r=t.l+e,n=t.read_shift(2),a=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:a}}function Toe(t,e,r){r||(r=rt(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Xx(t,e){return e||(e=rt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Odt=Xu;function Idt(t,e){return e||(e=rt(51)),e.write_shift(1,0),Xx(null,e),Xx(null,e),Xx(null,e),Xx(null,e),Xx(null,e),e.length>e.l?e.slice(0,e.l):e}function Mdt(t,e){return e||(e=rt(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),mA(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Rdt(t,e,r){var n=rt(2052);return n.write_shift(4,t),mA(e,n),mA(r,n),n.length>n.l?n.slice(0,n.l):n}function Ldt(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&++r}),r!=0&&(yt(t,615,Zc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&yt(t,44,Edt(a,e[a]))}),yt(t,616))}}function Fdt(t){var e=1;yt(t,611,Zc(e)),yt(t,43,Tdt({sz:12,color:{theme:1},name:"Calibri",family:2})),yt(t,612)}function $dt(t){var e=2;yt(t,603,Zc(e)),yt(t,45,FH({patternType:"none"})),yt(t,45,FH({patternType:"gray125"})),yt(t,604)}function Bdt(t){var e=1;yt(t,613,Zc(e)),yt(t,46,Idt()),yt(t,614)}function Udt(t){var e=1;yt(t,626,Zc(e)),yt(t,47,Toe({numFmtId:0},65535)),yt(t,627)}function zdt(t,e){yt(t,617,Zc(e.length)),e.forEach(function(r){yt(t,47,Toe(r,0))}),yt(t,618)}function Vdt(t){var e=1;yt(t,619,Zc(e)),yt(t,48,Mdt({xfId:0,name:"Normal"})),yt(t,620)}function Hdt(t){var e=0;yt(t,505,Zc(e)),yt(t,506)}function Wdt(t){var e=0;yt(t,508,Rdt(e,"TableStyleMedium9","PivotStyleMedium4")),yt(t,509)}function qdt(t,e){var r=Fo();return yt(r,278),Ldt(r,t.SSF),Fdt(r),$dt(r),Bdt(r),Udt(r),zdt(r,e.cellXfs),Vdt(r),Hdt(r),Wdt(r),yt(r,279),r.end()}function koe(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[ji];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Gdt(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Hs(t)}}function Ydt(t){var e=rt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Wi(t.name,e),e.slice(0,e.l)}function Kdt(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Xdt(t){var e=rt(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Zdt(t,e){var r=rt(8+2*e.length);return r.write_shift(4,t),Wi(e,r),r.slice(0,r.l)}function Qdt(t){return t.l+=4,t.read_shift(4)!=0}function Jdt(t,e){var r=rt(8);return r.write_shift(4,t),r.write_shift(4,1),r}function eft(){var t=Fo();return yt(t,332),yt(t,334,Zc(1)),yt(t,335,Ydt({name:"XLDAPR",version:12e4,flags:3496657072})),yt(t,336),yt(t,339,Zdt(1,"XLDAPR")),yt(t,52),yt(t,35,Zc(514)),yt(t,4096,Zc(0)),yt(t,4097,Ul(1)),yt(t,36),yt(t,53),yt(t,340),yt(t,337,Jdt(1)),yt(t,51,Xdt([[1,0]])),yt(t,338),yt(t,333),t.end()}function Poe(){var t=[ji];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function tft(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Bn(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var O0=1024;function Doe(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[kt("xml",null,{"xmlns:v":sl.v,"xmlns:o":sl.o,"xmlns:x":sl.x,"xmlns:mv":sl.mv}).replace(/\/>/,">"),kt("o:shapelayout",kt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),kt("v:shapetype",[kt("v:stroke",null,{joinstyle:"miter"}),kt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];O0<t*1e3;)O0+=1e3;return e.forEach(function(i){var s=Hi(i[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?kt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=kt("v:fill",c,l),d={on:"t",obscured:"t"};++O0,a=a.concat(["<v:shape"+cw({id:"_x0000_s"+O0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,kt("v:shadow",null,d),kt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",us("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),us("x:AutoFill","False"),us("x:Row",String(s.r)),us("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Ooe(t){var e=[ji,kt("comments",null,{xmlns:Gy[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(a){var i=$n(a.a);r.indexOf(i)==-1&&(r.push(i),e.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf($n(c.a))),i.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)e.push(us("t",$n(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,l=1;l<i.length;++l)s+=`Reply:
    `+i[l]+`
`;e.push(us("t",$n(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function rft(t,e,r){var n=[ji,kt("ThreadedComments",null,{xmlns:Vi.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,l){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(kt("threadedComment",us("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function nft(t){var e=[ji,kt("personList",null,{xmlns:Vi.TCMNT,"xmlns:x":Gy[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(kt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function aft(t){var e={};e.iauthor=t.read_shift(4);var r=_g(t);return e.rfx=r.s,e.ref=Bn(r.s),t.l+=16,e}function ift(t,e){return e==null&&(e=rt(36)),e.write_shift(4,t[1].iauthor),Ky(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var sft=Hs;function oft(t){return Wi(t.slice(0,54))}function lft(t){var e=Fo(),r=[];return yt(e,628),yt(e,630),t.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),yt(e,632,oft(a.a)))})}),yt(e,631),yt(e,633),t.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Hi(n[0]),e:Hi(n[0])};yt(e,635,ift([i,a])),a.t&&a.t.length>0&&yt(e,637,uut(a)),yt(e,636),delete a.iauthor})}),yt(e,634),yt(e,629),e.end()}function cft(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&qn.utils.cfb_add(t,a,e.FileIndex[n].content)}})}var Ioe=["xlsb","xlsm","xlam","biff8","xla"],uft=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,a,i,s){var l=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,d=s.length>0?parseInt(s,10)|0:0;return l?d+=e.c:--d,c?u+=e.r:--u,a+(l?"":"$")+Vs(d)+(c?"":"$")+ps(u)}return function(a,i){return e=i,a.replace(t,r)}}(),P6=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,D6=function(){return function(e,r){return e.replace(P6,function(n,a,i,s,l,c){var u=N6(s)-(i?0:r.c),d=j6(c)-(l?0:r.r),f=d==0?"":l?d+1:"["+d+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+f+"C"+m})}}();function dft(t,e){return t.replace(P6,function(r,n,a,i,s,l){return n+(a=="$"?a+i:Vs(N6(i)+e.c))+(s=="$"?s+l:ps(j6(l)+e.r))})}function fft(t){return t.length!=1}function gi(t){t.l+=1}function Yh(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Moe(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Roe(t);r.biff==12&&(n=4)}var a=t.read_shift(n),i=t.read_shift(n),s=Yh(t),l=Yh(t);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function Roe(t){var e=Yh(t),r=Yh(t),n=t.read_shift(1),a=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function hft(t,e,r){if(r.biff<8)return Roe(t);var n=t.read_shift(r.biff==12?4:2),a=t.read_shift(r.biff==12?4:2),i=Yh(t),s=Yh(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Loe(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return mft(t);var n=t.read_shift(r&&r.biff==12?4:2),a=Yh(t);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function mft(t){var e=Yh(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function pft(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function gft(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return vft(t);var a=t.read_shift(n>=12?4:2),i=t.read_shift(2),s=(i&16384)>>14,l=(i&32768)>>15;if(i&=16383,l==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:l}}function vft(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),a==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:a,rRel:n}}function yft(t,e,r){var n=(t[t.l++]&96)>>5,a=Moe(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function xft(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}var s=Moe(t,i,r);return[n,a,s]}function bft(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function wft(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=8;if(r)switch(r.biff){case 5:t.l+=12,i=6;break;case 12:i=12;break}return t.l+=i,[n,a]}function Sft(t,e,r){var n=(t[t.l++]&96)>>5,a=hft(t,e-1,r);return[n,a]}function _ft(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function $H(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function jft(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(t.read_shift(r&&r.biff==2?1:2));return a}function Nft(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Aft(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function Eft(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Cft(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function Foe(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Tft(t){return t.read_shift(2),Foe(t)}function kft(t){return t.read_shift(2),Foe(t)}function Pft(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=Loe(t,0,r);return[n,a]}function Dft(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=gft(t,0,r);return[n,a]}function Oft(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var i=Loe(t,0,r);return[n,a,i]}function Ift(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var a=t.read_shift(r&&r.biff<=3?1:2);return[Iht[a],Uoe[a],n]}function Mft(t,e,r){var n=t[t.l++],a=t.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:Rft(t);return[a,(i[0]===0?Uoe:Oht)[i[1]]]}function Rft(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Lft(t,e,r){t.l+=r&&r.biff==2?3:4}function Fft(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function $ft(t){return t.l++,N2[t.read_shift(1)]}function Bft(t){return t.l++,t.read_shift(2)}function Uft(t){return t.l++,t.read_shift(1)!==0}function zft(t){return t.l++,Xy(t)}function Vft(t,e,r){return t.l++,boe(t,e-1,r)}function Hft(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Out(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=N2[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Xy(t);break;case 2:r[1]=Lut(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Wft(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?_g:But)(t));return a}function qft(t,e,r){var n=0,a=0;r.biff==12?(n=t.read_shift(4),a=t.read_shift(4)):(a=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var l=0;l!=a;++l)s[i][l]=Hft(t,r.biff);return s}function Gft(t,e,r){var n=t.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=t.read_shift(a);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,i]}function Yft(t,e,r){if(r.biff==5)return Kft(t);var n=t.read_shift(1)>>>5&3,a=t.read_shift(2),i=t.read_shift(4);return[n,a,i]}function Kft(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Xft(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Zft(t,e,r){var n=t.read_shift(1)>>>5&3,a=t.read_shift(r&&r.biff==2?1:2);return[n,a]}function Qft(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function Jft(t,e,r){var n=(t[t.l++]&96)>>5,a=t.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return t.l+=i,[n,a]}var eht=Xu,tht=Xu,rht=Xu;function A2(t,e,r){return t.l+=2,[pft(t)]}function O6(t){return t.l+=6,[]}var nht=A2,aht=O6,iht=O6,sht=A2;function $oe(t){return t.l+=2,[yoe(t),t.read_shift(2)&1]}var oht=A2,lht=$oe,cht=O6,uht=A2,dht=A2,fht=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function hht(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),a=t.read_shift(2),i=t.read_shift(2),s=fht[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:a,C:i}}function mht(t){return t.l+=2,[t.read_shift(4)]}function pht(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function ght(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function vht(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function yht(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function xht(t){return t.l+=4,[0,0]}var BH={1:{n:"PtgExp",f:Fft},2:{n:"PtgTbl",f:rht},3:{n:"PtgAdd",f:gi},4:{n:"PtgSub",f:gi},5:{n:"PtgMul",f:gi},6:{n:"PtgDiv",f:gi},7:{n:"PtgPower",f:gi},8:{n:"PtgConcat",f:gi},9:{n:"PtgLt",f:gi},10:{n:"PtgLe",f:gi},11:{n:"PtgEq",f:gi},12:{n:"PtgGe",f:gi},13:{n:"PtgGt",f:gi},14:{n:"PtgNe",f:gi},15:{n:"PtgIsect",f:gi},16:{n:"PtgUnion",f:gi},17:{n:"PtgRange",f:gi},18:{n:"PtgUplus",f:gi},19:{n:"PtgUminus",f:gi},20:{n:"PtgPercent",f:gi},21:{n:"PtgParen",f:gi},22:{n:"PtgMissArg",f:gi},23:{n:"PtgStr",f:Vft},26:{n:"PtgSheet",f:pht},27:{n:"PtgEndSheet",f:ght},28:{n:"PtgErr",f:$ft},29:{n:"PtgBool",f:Uft},30:{n:"PtgInt",f:Bft},31:{n:"PtgNum",f:zft},32:{n:"PtgArray",f:_ft},33:{n:"PtgFunc",f:Ift},34:{n:"PtgFuncVar",f:Mft},35:{n:"PtgName",f:Gft},36:{n:"PtgRef",f:Pft},37:{n:"PtgArea",f:yft},38:{n:"PtgMemArea",f:Xft},39:{n:"PtgMemErr",f:eht},40:{n:"PtgMemNoMem",f:tht},41:{n:"PtgMemFunc",f:Zft},42:{n:"PtgRefErr",f:Qft},43:{n:"PtgAreaErr",f:bft},44:{n:"PtgRefN",f:Dft},45:{n:"PtgAreaN",f:Sft},46:{n:"PtgMemAreaN",f:vht},47:{n:"PtgMemNoMemN",f:yht},57:{n:"PtgNameX",f:Yft},58:{n:"PtgRef3d",f:Oft},59:{n:"PtgArea3d",f:xft},60:{n:"PtgRefErr3d",f:Jft},61:{n:"PtgAreaErr3d",f:wft},255:{}},bht={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},wht={1:{n:"PtgElfLel",f:$oe},2:{n:"PtgElfRw",f:uht},3:{n:"PtgElfCol",f:nht},6:{n:"PtgElfRwV",f:dht},7:{n:"PtgElfColV",f:sht},10:{n:"PtgElfRadical",f:oht},11:{n:"PtgElfRadicalS",f:cht},13:{n:"PtgElfColS",f:aht},15:{n:"PtgElfColSV",f:iht},16:{n:"PtgElfRadicalLel",f:lht},25:{n:"PtgList",f:hht},29:{n:"PtgSxName",f:mht},255:{}},Sht={0:{n:"PtgAttrNoop",f:xht},1:{n:"PtgAttrSemi",f:Cft},2:{n:"PtgAttrIf",f:Aft},4:{n:"PtgAttrChoose",f:jft},8:{n:"PtgAttrGoto",f:Nft},16:{n:"PtgAttrSum",f:Lft},32:{n:"PtgAttrBaxcel",f:$H},33:{n:"PtgAttrBaxcel",f:$H},64:{n:"PtgAttrSpace",f:Tft},65:{n:"PtgAttrSpaceSemi",f:kft},128:{n:"PtgAttrIfError",f:Eft},255:{}};function _ht(t,e,r,n){if(n.biff<8)return Xu(t,e);for(var a=t.l+e,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=qft(t,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Wft(t,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=a-t.l,e!==0&&i.push(Xu(t,e)),i}function jht(t,e,r){for(var n=t.l+e,a,i,s=[];n!=t.l;)e=n-t.l,i=t[t.l],a=BH[i]||BH[bht[i]],(i===24||i===25)&&(a=(i===24?wht:Sht)[t[t.l+1]]),!a||!a.f?Xu(t,e):s.push([a.n,a.f(t,e,r)]);return s}function Nht(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var Aht={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Eht(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Boe(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(t[n[0]][0]){case 357:return a=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return t[n[0]][0][3]?(a=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function UH(t,e,r){var n=Boe(t,e,r);return n=="#REF"?n:Eht(n,r)}function cy(t,e,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},l=[],c,u,d,f=0,m=0,h,v="";if(!t[0]||!t[0][0])return"";for(var g=-1,p="",y=0,x=t[0].length;y<x;++y){var b=t[0][y];switch(b[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),g>=0){switch(t[0][g][1][0]){case 0:p=Ua(" ",t[0][g][1][1]);break;case 1:p=Ua("\r",t[0][g][1][1]);break;default:if(p="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}u=u+p,g=-1}l.push(u+Aht[b[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=H1(b[1][1],s,a),l.push(W1(d,i));break;case"PtgRefN":d=r?H1(b[1][1],r,a):b[1][1],l.push(W1(d,i));break;case"PtgRef3d":f=b[1][1],d=H1(b[1][2],s,a),v=UH(n,f,a),l.push(v+"!"+W1(d,i));break;case"PtgFunc":case"PtgFuncVar":var w=b[1][0],_=b[1][1];w||(w=0),w&=127;var j=w==0?[]:l.slice(-w);l.length-=w,_==="User"&&(_=j.shift()),l.push(_+"("+j.join(",")+")");break;case"PtgBool":l.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(b[1]);break;case"PtgNum":l.push(String(b[1]));break;case"PtgStr":l.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(b[1]);break;case"PtgAreaN":h=NH(b[1][1],r?{s:r}:s,a),l.push(ek(h,a));break;case"PtgArea":h=NH(b[1][1],s,a),l.push(ek(h,a));break;case"PtgArea3d":f=b[1][1],h=b[1][2],v=UH(n,f,a),l.push(v+"!"+ek(h,a));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=b[1][2];var A=(n.names||[])[m-1]||(n[0]||[])[m],E=A?A.Name:"SH33TJSNAME"+String(m);E&&E.slice(0,6)=="_xlfn."&&!a.xlfn&&(E=E.slice(6)),l.push(E);break;case"PtgNameX":var T=b[1][1];m=b[1][2];var R;if(a.biff<=5)T<0&&(T=-T),n[T]&&(R=n[T][m]);else{var D="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][m]&&n[T][m].itab>0&&(D=n.SheetNames[n[T][m].itab-1]+"!"):D=n.SheetNames[m-1]+"!"),n[T]&&n[T][m])D+=n[T][m].Name;else if(n[0]&&n[0][m])D+=n[0][m].Name;else{var P=(Boe(n,T,a)||"").split(";;");P[m-1]?D=P[m-1]:D+="SH33TJSERRX"}l.push(D);break}R||(R={Name:"SH33TJSERRY"}),l.push(R.Name);break;case"PtgParen":var I="(",L=")";if(g>=0){switch(p="",t[0][g][1][0]){case 2:I=Ua(" ",t[0][g][1][1])+I;break;case 3:I=Ua("\r",t[0][g][1][1])+I;break;case 4:L=Ua(" ",t[0][g][1][1])+L;break;case 5:L=Ua("\r",t[0][g][1][1])+L;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}l.push(I+l.pop()+L);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:b[1][1],r:b[1][0]};var V={c:r.c,r:r.r};if(n.sharedf[Bn(d)]){var H=n.sharedf[Bn(d)];l.push(cy(H,s,V,n,a))}else{var q=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){l.push(cy(u[1],s,V,n,a)),q=!0;break}q||l.push(b[1])}break;case"PtgArray":l.push("{"+Nht(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&G.indexOf(t[0][y][0])==-1){b=t[0][g];var re=!0;switch(b[1][0]){case 4:re=!1;case 0:p=Ua(" ",b[1][1]);break;case 5:re=!1;case 1:p=Ua("\r",b[1][1]);break;default:if(p="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}l.push((re?p:"")+l.pop()+(re?"":p)),g=-1}}if(l.length>1&&a.WTF)throw new Error("bad formula stack");return l[0]}function Cht(t){if(t==null){var e=rt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Jp(t);return Jp(0)}function Tht(t,e,r,n,a){var i=eg(e,r,a),s=Cht(t.v),l=rt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=rt(t.bf.length),d=0;d<t.bf.length;++d)u[d]=t.bf[d];var f=cs([i,s,l,u]);return f}function Y5(t,e,r){var n=t.read_shift(4),a=jht(t,n,r),i=t.read_shift(4),s=i>0?_ht(t,i,a,r):null;return[a,s]}var kht=Y5,K5=Y5,Pht=Y5,Dht=Y5,Oht={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Uoe={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Iht={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Mht(t){var e="of:="+t.replace(P6,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Rht(t){return t.replace(/\./,"!")}var q1=typeof Map<"u";function I6(t,e,r){var n=0,a=t.length;if(r){if(q1?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var i=q1?r.get(e):r[e];n<i.length;++n)if(t[i[n]].t===e)return t.Count++,i[n]}}else for(;n<a;++n)if(t[n].t===e)return t.Count++,n;return t[a]={t:e},t.Count++,t.Unique++,r&&(q1?(r.has(e)||r.set(e,[]),r.get(e).push(a)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(a))),a}function X5(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Kd=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=yA(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=XO(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function zoe(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function gm(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],a=60,i=t.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Lse(e.z,a),r.ssf[a]=e.z,r.revssf[e.z]=n=a;break}}for(a=0;a!=i;++a)if(t[a].numFmtId===n)return a;return t[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Lht(t,e,r){if(t&&t["!ref"]){var n=pa(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function Fht(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+_i(t[r])+'"/>';return e+"</mergeCells>"}function $ht(t,e,r,n,a){var i=!1,s={},l=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[r];try{e.Workbook&&(c=e.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=lw($n(c))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),l=(l||"")+kt("outlinePr",null,u)}!i&&!l||(a[a.length]=kt("sheetPr",l,s))}var Bht=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Uht=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function zht(t){var e={sheet:1};return Bht.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),Uht.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=Noe(t.password).toString(16).toUpperCase()),kt("sheetProtection",null,e)}function Vht(t){return zoe(t),kt("pageMargins",null,t)}function Hht(t,e){for(var r=["<cols>"],n,a=0;a!=e.length;++a)(n=e[a])&&(r[r.length]=kt("col",null,X5(a,n)));return r[r.length]="</cols>",r.join("")}function Wht(t,e,r,n){var a=typeof t.ref=="string"?t.ref:_i(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=wl(a);s.s.r==s.e.r&&(s.e.r=wl(e["!ref"]).e.r,a=_i(s));for(var l=0;l<i.length;++l){var c=i[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),kt("autoFilter",null,{ref:a})}function qht(t,e,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),kt("sheetViews",kt("sheetView",null,a),{})}function Ght(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var a="",i=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":a=t.v?"1":"0";break;case"n":a=""+t.v;break;case"e":a=N2[t.v];break;case"d":n&&n.cellDates?a=po(t.v,-1).toISOString():(t=zo(t),t.t="n",a=""+(t.v=Uo(po(t.v)))),typeof t.z>"u"&&(t.z=Va[14]);break;default:a=t.v;break}var l=us("v",$n(a)),c={r:e},u=gm(n.cellXfs,t,n);switch(u!==0&&(c.s=u),t.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=us("v",""+I6(n.Strings,t.v,n.revStrings)),c.t="s";break}c.t="str";break}if(t.t!=i&&(t.t=i,t.v=s),typeof t.f=="string"&&t.f){var d=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;l=kt("f",$n(t.f),d)+(t.v!=null?l:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(c.cm=1),kt("c",l,c)}function Yht(t,e,r,n){var a=[],i=[],s=pa(t["!ref"]),l="",c,u="",d=[],f=0,m=0,h=t["!rows"],v=Array.isArray(t),g={r:u},p,y=-1;for(m=s.s.c;m<=s.e.c;++m)d[m]=Vs(m);for(f=s.s.r;f<=s.e.r;++f){for(i=[],u=ps(f),m=s.s.c;m<=s.e.c;++m){c=d[m]+u;var x=v?(t[f]||[])[m]:t[c];x!==void 0&&(l=Ght(x,c,t,e))!=null&&i.push(l)}(i.length>0||h&&h[f])&&(g={r:u},h&&h[f]&&(p=h[f],p.hidden&&(g.hidden=1),y=-1,p.hpx?y=xA(p.hpx):p.hpt&&(y=p.hpt),y>-1&&(g.ht=y,g.customHeight=1),p.level&&(g.outlineLevel=p.level)),a[a.length]=kt("row",i.join(""),g))}if(h)for(;f<h.length;++f)h&&h[f]&&(g={r:f+1},p=h[f],p.hidden&&(g.hidden=1),y=-1,p.hpx?y=xA(p.hpx):p.hpt&&(y=p.hpt),y>-1&&(g.ht=y,g.customHeight=1),p.level&&(g.outlineLevel=p.level),a[a.length]=kt("row","",g));return a.join("")}function Voe(t,e,r,n){var a=[ji,kt("worksheet",null,{xmlns:Gy[0],"xmlns:r":Vi.r})],i=r.SheetNames[t],s=0,l="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",d=pa(u);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=_i(d)}n||(n={}),c["!comments"]=[];var f=[];$ht(c,r,t,e,a),a[a.length]=kt("dimension",null,{ref:u}),a[a.length]=qht(c,e,t,r),e.sheetFormat&&(a[a.length]=kt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=Hht(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=Yht(c,e),l.length>0&&(a[a.length]=l)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=zht(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=Wht(c["!autofilter"],c,r,t)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=Fht(c["!merges"]));var m=-1,h,v=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(g){g[1].Target&&(h={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=Fn(n,-1,$n(g[1].Target).replace(/#.*$/,""),gn.HLINK),h["r:id"]="rId"+v),(m=g[1].Target.indexOf("#"))>-1&&(h.location=$n(g[1].Target.slice(m+1))),g[1].Tooltip&&(h.tooltip=$n(g[1].Tooltip)),a[a.length]=kt("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=Vht(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=us("ignoredErrors",kt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(v=Fn(n,-1,"../drawings/drawing"+(t+1)+".xml",gn.DRAW),a[a.length]=kt("drawing",null,{"r:id":"rId"+v}),c["!drawing"]=f),c["!comments"].length>0&&(v=Fn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",gn.VML),a[a.length]=kt("legacyDrawing",null,{"r:id":"rId"+v}),c["!legacy"]=v),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Kht(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var a=t.read_shift(2);t.l+=1;var i=t.read_shift(1);return t.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Xht(t,e,r){var n=rt(145),a=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var i=320;a.hpx?i=xA(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:t,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var f=-1,m=-1,h=d<<10;h<d+1<<10;++h){u.c=h;var v=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Bn(u)];v&&(f<0&&(f=h),m=h)}f<0||(++l,n.write_shift(4,f),n.write_shift(4,m))}var g=n.l;return n.l=c,n.write_shift(4,l),n.l=g,n.length>n.l?n.slice(0,n.l):n}function Zht(t,e,r,n){var a=Xht(n,r,e);(a.length>17||(e["!rows"]||[])[n])&&yt(t,0,a)}var Qht=_g,Jht=Ky;function emt(){}function tmt(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=dut(t),r}function rmt(t,e,r){r==null&&(r=rt(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return pA({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),aoe(t,r),r.slice(0,r.l)}function nmt(t){var e=lc(t);return[e]}function amt(t,e,r){return r==null&&(r=rt(8)),bg(e,r)}function imt(t){var e=wg(t);return[e]}function smt(t,e,r){return r==null&&(r=rt(4)),Sg(e,r)}function omt(t){var e=lc(t),r=t.read_shift(1);return[e,r,"b"]}function lmt(t,e,r){return r==null&&(r=rt(9)),bg(e,r),r.write_shift(1,t.v?1:0),r}function cmt(t){var e=wg(t),r=t.read_shift(1);return[e,r,"b"]}function umt(t,e,r){return r==null&&(r=rt(5)),Sg(e,r),r.write_shift(1,t.v?1:0),r}function dmt(t){var e=lc(t),r=t.read_shift(1);return[e,r,"e"]}function fmt(t,e,r){return r==null&&(r=rt(9)),bg(e,r),r.write_shift(1,t.v),r}function hmt(t){var e=wg(t),r=t.read_shift(1);return[e,r,"e"]}function mmt(t,e,r){return r==null&&(r=rt(8)),Sg(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function pmt(t){var e=lc(t),r=t.read_shift(4);return[e,r,"s"]}function gmt(t,e,r){return r==null&&(r=rt(12)),bg(e,r),r.write_shift(4,e.v),r}function vmt(t){var e=wg(t),r=t.read_shift(4);return[e,r,"s"]}function ymt(t,e,r){return r==null&&(r=rt(8)),Sg(e,r),r.write_shift(4,e.v),r}function xmt(t){var e=lc(t),r=Xy(t);return[e,r,"n"]}function bmt(t,e,r){return r==null&&(r=rt(16)),bg(e,r),Jp(t.v,r),r}function wmt(t){var e=wg(t),r=Xy(t);return[e,r,"n"]}function Smt(t,e,r){return r==null&&(r=rt(12)),Sg(e,r),Jp(t.v,r),r}function _mt(t){var e=lc(t),r=ioe(t);return[e,r,"n"]}function jmt(t,e,r){return r==null&&(r=rt(12)),bg(e,r),soe(t.v,r),r}function Nmt(t){var e=wg(t),r=ioe(t);return[e,r,"n"]}function Amt(t,e,r){return r==null&&(r=rt(8)),Sg(e,r),soe(t.v,r),r}function Emt(t){var e=lc(t),r=A6(t);return[e,r,"is"]}function Cmt(t){var e=lc(t),r=Hs(t);return[e,r,"str"]}function Tmt(t,e,r){return r==null&&(r=rt(12+4*t.v.length)),bg(e,r),Wi(t.v,r),r.length>r.l?r.slice(0,r.l):r}function kmt(t){var e=wg(t),r=Hs(t);return[e,r,"str"]}function Pmt(t,e,r){return r==null&&(r=rt(8+4*t.v.length)),Sg(e,r),Wi(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Dmt(t,e,r){var n=t.l+e,a=lc(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"b"];if(r.cellFormula){t.l+=2;var l=K5(t,n-t.l,r);s[3]=cy(l,null,a,r.supbooks,r)}else t.l=n;return s}function Omt(t,e,r){var n=t.l+e,a=lc(t);a.r=r["!row"];var i=t.read_shift(1),s=[a,i,"e"];if(r.cellFormula){t.l+=2;var l=K5(t,n-t.l,r);s[3]=cy(l,null,a,r.supbooks,r)}else t.l=n;return s}function Imt(t,e,r){var n=t.l+e,a=lc(t);a.r=r["!row"];var i=Xy(t),s=[a,i,"n"];if(r.cellFormula){t.l+=2;var l=K5(t,n-t.l,r);s[3]=cy(l,null,a,r.supbooks,r)}else t.l=n;return s}function Mmt(t,e,r){var n=t.l+e,a=lc(t);a.r=r["!row"];var i=Hs(t),s=[a,i,"str"];if(r.cellFormula){t.l+=2;var l=K5(t,n-t.l,r);s[3]=cy(l,null,a,r.supbooks,r)}else t.l=n;return s}var Rmt=_g,Lmt=Ky;function Fmt(t,e){return e==null&&(e=rt(4)),e.write_shift(4,t),e}function $mt(t,e){var r=t.l+e,n=_g(t),a=E6(t),i=Hs(t),s=Hs(t),l=Hs(t);t.l=r;var c={rfx:n,relId:a,loc:i,display:l};return s&&(c.Tooltip=s),c}function Bmt(t,e){var r=rt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Ky({s:Hi(t[0]),e:Hi(t[0])},r),C6("rId"+e,r);var n=t[1].Target.indexOf("#"),a=n==-1?"":t[1].Target.slice(n+1);return Wi(a||"",r),Wi(t[1].Tooltip||"",r),Wi("",r),r.slice(0,r.l)}function Umt(){}function zmt(t,e,r){var n=t.l+e,a=ooe(t),i=t.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var l=kht(t,n-t.l,r);s[1]=l}else t.l=n;return s}function Vmt(t,e,r){var n=t.l+e,a=_g(t),i=[a];if(r.cellFormula){var s=Dht(t,n-t.l,r);i[1]=s,t.l=n}else t.l=n;return i}function Hmt(t,e,r){r==null&&(r=rt(18));var n=X5(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),r.write_shift(2,a),r}var Hoe=["left","right","top","bottom","header","footer"];function Wmt(t){var e={};return Hoe.forEach(function(r){e[r]=Xy(t)}),e}function qmt(t,e){return e==null&&(e=rt(6*8)),zoe(t),Hoe.forEach(function(r){Jp(t[r],e)}),e}function Gmt(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Ymt(t,e,r){r==null&&(r=rt(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Kmt(t){var e=rt(24);return e.write_shift(4,4),e.write_shift(4,1),Ky(t,e),e}function Xmt(t,e){return e==null&&(e=rt(16*4+2)),e.write_shift(2,t.password?Noe(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function Zmt(){}function Qmt(){}function Jmt(t,e,r,n,a,i,s){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=zo(e),e.z=e.z||Va[14],e.v=Uo(po(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var c={r,c:n};switch(c.s=gm(a.cellXfs,e,a),e.l&&i["!links"].push([Bn(c),e.l]),e.c&&i["!comments"].push([Bn(c),e.c]),e.t){case"s":case"str":return a.bookSST?(l=I6(a.Strings,e.v,a.revStrings),c.t="s",c.v=l,s?yt(t,18,ymt(e,c)):yt(t,7,gmt(e,c))):(c.t="str",s?yt(t,17,Pmt(e,c)):yt(t,6,Tmt(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?yt(t,13,Amt(e,c)):yt(t,2,jmt(e,c)):s?yt(t,16,Smt(e,c)):yt(t,5,bmt(e,c)),!0;case"b":return c.t="b",s?yt(t,15,umt(e,c)):yt(t,4,lmt(e,c)),!0;case"e":return c.t="e",s?yt(t,14,mmt(e,c)):yt(t,3,fmt(e,c)),!0}return s?yt(t,12,smt(e,c)):yt(t,1,amt(e,c)),!0}function ept(t,e,r,n){var a=pa(e["!ref"]||"A1"),i,s="",l=[];yt(t,145);var c=Array.isArray(e),u=a.e.r;e["!rows"]&&(u=Math.max(a.e.r,e["!rows"].length-1));for(var d=a.s.r;d<=u;++d){s=ps(d),Zht(t,e,a,d);var f=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(l[m]=Vs(m)),i=l[m]+s;var h=c?(e[d]||[])[m]:e[i];if(!h){f=!1;continue}f=Jmt(t,h,d,m,n,e,f)}}yt(t,146)}function tpt(t,e){!e||!e["!merges"]||(yt(t,177,Fmt(e["!merges"].length)),e["!merges"].forEach(function(r){yt(t,176,Lmt(r))}),yt(t,178))}function rpt(t,e){!e||!e["!cols"]||(yt(t,390),e["!cols"].forEach(function(r,n){r&&yt(t,60,Hmt(n,r))}),yt(t,391))}function npt(t,e){!e||!e["!ref"]||(yt(t,648),yt(t,649,Kmt(pa(e["!ref"]))),yt(t,650))}function apt(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var a=Fn(r,-1,n[1].Target.replace(/#.*$/,""),gn.HLINK);yt(t,494,Bmt(n,a))}}),delete e["!links"]}function ipt(t,e,r,n){if(e["!comments"].length>0){var a=Fn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",gn.VML);yt(t,551,C6("rId"+a)),e["!legacy"]=a}}function spt(t,e,r,n){if(e["!autofilter"]){var a=e["!autofilter"],i=typeof a.ref=="string"?a.ref:_i(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,l=wl(i);l.s.r==l.e.r&&(l.e.r=wl(e["!ref"]).e.r,i=_i(l));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),yt(t,161,Ky(pa(i))),yt(t,162)}}function opt(t,e,r){yt(t,133),yt(t,137,Ymt(e,r)),yt(t,138),yt(t,134)}function lpt(t,e){e["!protect"]&&yt(t,535,Xmt(e["!protect"]))}function cpt(t,e,r,n){var a=Fo(),i=r.SheetNames[t],s=r.Sheets[i]||{},l=i;try{r&&r.Workbook&&(l=r.Workbook.Sheets[t].CodeName||l)}catch{}var c=pa(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],yt(a,129),(r.vbaraw||s["!outline"])&&yt(a,147,rmt(l,s["!outline"])),yt(a,148,Jht(c)),opt(a,s,r.Workbook),rpt(a,s),ept(a,s,t,e),lpt(a,s),spt(a,s,r,t),tpt(a,s),apt(a,s,n),s["!margins"]&&yt(a,476,qmt(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&npt(a,s),ipt(a,s,t,n),yt(a,130),a.end()}function upt(t,e){t.l+=10;var r=Hs(t);return{name:r}}var dpt=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function fpt(t){return!t.Workbook||!t.Workbook.WBProps?"false":Vct(t.Workbook.WBProps.date1904)?"true":"false"}var hpt="][*?/\\".split("");function Woe(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return hpt.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function mpt(t,e,r){t.forEach(function(n,a){Woe(n);for(var i=0;i<a;++i)if(n==t[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[a]&&e[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function ppt(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];mpt(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)Lht(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function qoe(t){var e=[ji];e[e.length]=kt("workbook",null,{xmlns:Gy[0],"xmlns:r":Vi.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(dpt.forEach(function(l){t.Workbook.WBProps[l[0]]!=null&&t.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=t.Workbook.WBProps[l[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=kt("workbookPr",null,n);var a=t.Workbook&&t.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",i=0;i!=t.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==t.SheetNames.length&&(i=0),e[e.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",i=0;i!=t.SheetNames.length;++i){var s={name:$n(t.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=kt("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(e[e.length]=kt("definedName",$n(l.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function gpt(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=KO(t),r.name=Hs(t),r}function vpt(t,e){return e||(e=rt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),C6(t.strRelID,e),Wi(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function ypt(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var a=e>8?Hs(t):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function xpt(t,e){e||(e=rt(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),aoe(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function bpt(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var a=t.read_shift(4),i=fut(t),s=Pht(t,0,r),l=E6(t);t.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),l&&(c.Comment=l),c}function wpt(t,e){yt(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};yt(t,156,vpt(a))}yt(t,144)}function Spt(t,e){e||(e=rt(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Wi("SheetJS",e),Wi(lA.version,e),Wi(lA.version,e),Wi("7262",e),e.length>e.l?e.slice(0,e.l):e}function _pt(t,e){e||(e=rt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function jpt(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(yt(t,135),yt(t,158,_pt(a)),yt(t,136))}}function Npt(t,e){var r=Fo();return yt(r,131),yt(r,128,Spt()),yt(r,153,xpt(t.Workbook&&t.Workbook.WBProps||null)),jpt(r,t),wpt(r,t),yt(r,132),r.end()}function Apt(t,e,r){return(e.slice(-4)===".bin"?Npt:qoe)(t)}function Ept(t,e,r,n,a){return(e.slice(-4)===".bin"?cpt:Voe)(t,r,n,a)}function Cpt(t,e,r){return(e.slice(-4)===".bin"?qdt:Coe)(t,r)}function Tpt(t,e,r){return(e.slice(-4)===".bin"?xdt:joe)(t,r)}function kpt(t,e,r){return(e.slice(-4)===".bin"?lft:Ooe)(t)}function Ppt(t){return(t.slice(-4)===".bin"?eft:Poe)()}function Dpt(t,e){var r=[];return t.Props&&r.push(Cut(t.Props,e)),t.Custprops&&r.push(Tut(t.Props,t.Custprops)),r.join("")}function Opt(){return""}function Ipt(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,a){var i=[];i.push(kt("NumberFormat",null,{"ss:Format":$n(Va[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(kt("Style",i.join(""),s))}),kt("Styles",r.join(""))}function Goe(t){return kt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+D6(t.Ref,{r:0,c:0})})}function Mpt(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var a=e[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Goe(a)))}return kt("Names",r.join(""))}function Rpt(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var l=a[s];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||i.push(Goe(l)))}return i.join("")}function Lpt(t,e,r,n){if(!t)return"";var a=[];if(t["!margins"]&&(a.push("<PageSetup>"),t["!margins"].header&&a.push(kt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&a.push(kt("Footer",null,{"x:Margin":t["!margins"].footer})),a.push(kt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(kt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),t["!protect"]&&(a.push(us("ProtectContents","True")),t["!protect"].objects&&a.push(us("ProtectObjects","True")),t["!protect"].scenarios&&a.push(us("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?a.push(us("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&a.push(us("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":kt("WorksheetOptions",a.join(""),{xmlns:sl.x})}function Fpt(t){return t.map(function(e){var r=zct(e.t||""),n=kt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return kt("Comment",n,{"ss:Author":e.a})}).join("")}function $pt(t,e,r,n,a,i,s){if(!t||t.v==null&&t.f==null)return"";var l={};if(t.f&&(l["ss:Formula"]="="+$n(D6(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var c=Hi(t.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(t.l&&t.l.Target&&(l["ss:HRef"]=$n(t.l.Target),t.l.Tooltip&&(l["x:HRefScreenTip"]=$n(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=s.c||u[d].s.r!=s.r||(u[d].e.c>u[d].s.c&&(l["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(l["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",m="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",m=String(t.v);break;case"b":f="Boolean",m=t.v?"1":"0";break;case"e":f="Error",m=N2[t.v];break;case"d":f="DateTime",m=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Va[14]);break;case"s":f="String",m=Uct(t.v||"");break}var h=gm(n.cellXfs,t,n);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=s.c+1;var v=t.v!=null?m:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(t.c||[]).length>0&&(g+=Fpt(t.c)),kt("Cell",g,l)}function Bpt(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Eoe(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Upt(t,e,r,n){if(!t["!ref"])return"";var a=pa(t["!ref"]),i=t["!merges"]||[],s=0,l=[];t["!cols"]&&t["!cols"].forEach(function(p,y){k6(p);var x=!!p.width,b=X5(y,p),w={"ss:Index":y+1};x&&(w["ss:Width"]=vA(b.width)),p.hidden&&(w["ss:Hidden"]="1"),l.push(kt("Column",null,w))});for(var c=Array.isArray(t),u=a.s.r;u<=a.e.r;++u){for(var d=[Bpt(u,(t["!rows"]||[])[u])],f=a.s.c;f<=a.e.c;++f){var m=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>u)&&!(i[s].e.c<f)&&!(i[s].e.r<u)){(i[s].s.c!=f||i[s].s.r!=u)&&(m=!0);break}if(!m){var h={r:u,c:f},v=Bn(h),g=c?(t[u]||[])[f]:t[v];d.push($pt(g,v,t,e,r,n,h))}}d.push("</Row>"),d.length>2&&l.push(d.join(""))}return l.join("")}function zpt(t,e,r){var n=[],a=r.SheetNames[t],i=r.Sheets[a],s=i?Rpt(i,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?Upt(i,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Lpt(i,e,t,r)),n.join("")}function Vpt(t,e){e||(e={}),t.SSF||(t.SSF=zo(Va)),t.SSF&&(W5(),H5(t.SSF),e.revssf=q5(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],gm(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Dpt(t,e)),r.push(Opt()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(kt("Worksheet",zpt(n,e,t),{"ss:Name":$n(t.SheetNames[n])}));return r[2]=Ipt(t,e),r[3]=Mpt(t),ji+kt("Workbook",r.join(""),{xmlns:sl.ss,"xmlns:o":sl.o,"xmlns:x":sl.x,"xmlns:ss":sl.ss,"xmlns:dt":sl.dt,"xmlns:html":sl.html})}var nk={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Hpt(t,e){var r=[],n=[],a=[],i=0,s,l=mH(EH,"n"),c=mH(CH,"n");if(t.Props)for(s=vs(t.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(l,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],t.Props[s[i]]]);if(t.Custprops)for(s=vs(t.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(t.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(l,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],t.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)voe.indexOf(a[i][0])>-1||moe.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&qn.utils.cfb_add(e,"/SummaryInformation",OH(n,nk.SI,c,CH)),(r.length||u.length)&&qn.utils.cfb_add(e,"/DocumentSummaryInformation",OH(r,nk.DSI,l,EH,u.length?u:null,nk.UDI))}function Wpt(t,e){var r=e||{},n=qn.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return qn.utils.cfb_add(n,a,Yoe(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Hpt(t,n),r.biff==8&&t.vbaraw&&cft(n,qn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var qpt={0:{f:Kht},1:{f:nmt},2:{f:_mt},3:{f:dmt},4:{f:omt},5:{f:xmt},6:{f:Cmt},7:{f:pmt},8:{f:Mmt},9:{f:Imt},10:{f:Dmt},11:{f:Omt},12:{f:imt},13:{f:Nmt},14:{f:hmt},15:{f:cmt},16:{f:wmt},17:{f:kmt},18:{f:vmt},19:{f:A6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:bpt},40:{},42:{},43:{f:Cdt},44:{f:Adt},45:{f:Pdt},46:{f:Odt},47:{f:Ddt},48:{},49:{f:iut},50:{},51:{f:Kdt},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:sdt},62:{f:Emt},63:{f:tft},64:{f:Zmt},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Xu,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Gmt},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:tmt},148:{f:Qht,p:16},151:{f:Umt},152:{},153:{f:ypt},154:{},155:{},156:{f:gpt},157:{},158:{},159:{T:1,f:gdt},160:{T:-1},161:{T:1,f:_g},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Rmt},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Gdt},336:{T:-1},337:{f:Qdt,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:KO},357:{},358:{},359:{},360:{T:1},361:{},362:{f:edt},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:zmt},427:{f:Vmt},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Wmt},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:emt},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:$mt},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:KO},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:sft},633:{T:1},634:{T:-1},635:{T:1,f:aft},636:{T:-1},637:{f:cut},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:upt},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Qmt},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Pt(t,e,r,n){var a=e;if(!isNaN(a)){var i=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&_6(r)&&t.push(r)}}function Gpt(t,e,r,n){var a=(r||[]).length||0;if(a<=8224)return Pt(t,e,r,a);var i=e;if(!isNaN(i)){for(var s=r.parts||[],l=0,c=0,u=0;u+(s[l]||8224)<=8224;)u+=s[l]||8224,l++;var d=t.next(4);for(d.write_shift(2,i),d.write_shift(2,u),t.push(r.slice(c,c+u)),c+=u;c<a;){for(d=t.next(4),d.write_shift(2,60),u=0;u+(s[l]||8224)<=8224;)u+=s[l]||8224,l++;d.write_shift(2,u),t.push(r.slice(c,c+u)),c+=u}}}function E2(t,e,r){return t||(t=rt(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Ypt(t,e,r,n){var a=rt(9);return E2(a,t,e),xoe(r,n||"b",a),a}function Kpt(t,e,r){var n=rt(8+2*r.length);return E2(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Xpt(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Uo(po(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Pt(t,2,udt(r,n,a)):Pt(t,3,cdt(r,n,a));return;case"b":case"e":Pt(t,5,Ypt(r,n,e.v,e.t));return;case"s":case"str":Pt(t,4,Kpt(r,n,(e.v||"").slice(0,255)));return}Pt(t,1,E2(null,r,n))}function Zpt(t,e,r,n){var a=Array.isArray(e),i=pa(e["!ref"]||"A1"),s,l="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=_i(i)}for(var u=i.s.r;u<=i.e.r;++u){l=ps(u);for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(c[d]=Vs(d)),s=c[d]+l;var f=a?(e[u]||[])[d]:e[s];f&&Xpt(t,f,u,d)}}}function Qpt(t,e){for(var r=e||{},n=Fo(),a=0,i=0;i<t.SheetNames.length;++i)t.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Pt(n,r.biff==4?1033:r.biff==3?521:9,T6(t,16,r)),Zpt(n,t.Sheets[t.SheetNames[a]],a,r),Pt(n,10),n.end()}function Jpt(t,e,r){Pt(t,49,qut({sz:12,name:"Arial"},r))}function egt(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)e[a]!=null&&Pt(t,1054,Kut(a,e[a],r))})}function tgt(t,e){var r=rt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Pt(t,2151,r),r=rt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Soe(pa(e["!ref"]||"A1"),r),r.write_shift(4,4),Pt(t,2152,r)}function rgt(t,e){for(var r=0;r<16;++r)Pt(t,224,MH({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){Pt(t,224,MH(n,0,e))})}function ngt(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];Pt(t,440,ndt(n)),n[1].Tooltip&&Pt(t,2048,adt(n))}delete e["!links"]}function agt(t,e){if(e){var r=0;e.forEach(function(n,a){++r<=256&&n&&Pt(t,125,odt(X5(a,n),a))})}}function igt(t,e,r,n,a){var i=16+gm(a.cellXfs,e,a);if(e.v==null&&!e.bf){Pt(t,513,eg(r,n,i));return}if(e.bf)Pt(t,6,Tht(e,r,n,a,i));else switch(e.t){case"d":case"n":var s=e.t=="d"?Uo(po(e.v)):e.v;Pt(t,515,Jut(r,n,s,i));break;case"b":case"e":Pt(t,517,Qut(r,n,e.v,i,a,e.t));break;case"s":case"str":if(a.bookSST){var l=I6(a.Strings,e.v,a.revStrings);Pt(t,253,Gut(r,n,l,i))}else Pt(t,516,Yut(r,n,(e.v||"").slice(0,255),i,a));break;default:Pt(t,513,eg(r,n,i))}}function sgt(t,e,r){var n=Fo(),a=r.SheetNames[t],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},l=(s.Sheets||[])[t]||{},c=Array.isArray(i),u=e.biff==8,d,f="",m=[],h=pa(i["!ref"]||"A1"),v=u?65536:16384;if(h.e.c>255||h.e.r>=v){if(e.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,v-1)}Pt(n,2057,T6(r,16,e)),Pt(n,13,Ul(1)),Pt(n,12,Ul(100)),Pt(n,15,ro(!0)),Pt(n,17,ro(!1)),Pt(n,16,Jp(.001)),Pt(n,95,ro(!0)),Pt(n,42,ro(!1)),Pt(n,43,ro(!1)),Pt(n,130,Ul(1)),Pt(n,128,Zut()),Pt(n,131,ro(!1)),Pt(n,132,ro(!1)),u&&agt(n,i["!cols"]),Pt(n,512,Xut(h,e)),u&&(i["!links"]=[]);for(var g=h.s.r;g<=h.e.r;++g){f=ps(g);for(var p=h.s.c;p<=h.e.c;++p){g===h.s.r&&(m[p]=Vs(p)),d=m[p]+f;var y=c?(i[g]||[])[p]:i[d];y&&(igt(n,y,g,p,e),u&&y.l&&i["!links"].push([d,y.l]))}}var x=l.CodeName||l.name||a;return u&&Pt(n,574,Wut((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&Pt(n,229,rdt(i["!merges"])),u&&ngt(n,i),Pt(n,442,woe(x)),u&&tgt(n,i),Pt(n,10),n.end()}function ogt(t,e,r){var n=Fo(),a=(t||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},l=r.biff==8,c=r.biff==5;if(Pt(n,2057,T6(t,5,r)),r.bookType=="xla"&&Pt(n,135),Pt(n,225,l?Ul(1200):null),Pt(n,193,Dut(2)),c&&Pt(n,191),c&&Pt(n,192),Pt(n,226),Pt(n,92,Uut("SheetJS",r)),Pt(n,66,Ul(l?1200:1252)),l&&Pt(n,353,Ul(0)),l&&Pt(n,448),Pt(n,317,ldt(t.SheetNames.length)),l&&t.vbaraw&&Pt(n,211),l&&t.vbaraw){var u=s.CodeName||"ThisWorkbook";Pt(n,442,woe(u))}Pt(n,156,Ul(17)),Pt(n,25,ro(!1)),Pt(n,18,ro(!1)),Pt(n,19,Ul(0)),l&&Pt(n,431,ro(!1)),l&&Pt(n,444,Ul(0)),Pt(n,61,Hut()),Pt(n,64,ro(!1)),Pt(n,141,Ul(0)),Pt(n,34,ro(fpt(t)=="true")),Pt(n,14,ro(!0)),l&&Pt(n,439,ro(!1)),Pt(n,218,Ul(0)),Jpt(n,t,r),egt(n,t.SSF,r),rgt(n,r),l&&Pt(n,352,ro(!1));var d=n.end(),f=Fo();l&&Pt(f,140,idt()),l&&r.Strings&&Gpt(f,252,Vut(r.Strings)),Pt(f,10);var m=f.end(),h=Fo(),v=0,g=0;for(g=0;g<t.SheetNames.length;++g)v+=(l?12:11)+(l?2:1)*t.SheetNames[g].length;var p=d.length+v+m.length;for(g=0;g<t.SheetNames.length;++g){var y=i[g]||{};Pt(h,133,zut({pos:p,hs:y.Hidden||0,dt:0,name:t.SheetNames[g]},r)),p+=e[g].length}var x=h.end();if(v!=x.length)throw new Error("BS8 "+v+" != "+x.length);var b=[];return d.length&&b.push(d),x.length&&b.push(x),m.length&&b.push(m),cs(b)}function lgt(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=zo(Va)),t&&t.SSF&&(W5(),H5(t.SSF),r.revssf=q5(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,M6(r),r.cellXfs=[],gm(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var a=0;a<t.SheetNames.length;++a)n[n.length]=sgt(a,r,t);return n.unshift(ogt(t,n,r)),cs(n)}function Yoe(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var a=wl(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=e||{};switch(i.biff||2){case 8:case 5:return lgt(t,e);case 4:case 3:case 2:return Qpt(t,e)}throw new Error("invalid type "+i.bookType+" for BIFF")}function cgt(t,e,r,n){for(var a=t["!merges"]||[],i=[],s=e.s.c;s<=e.e.c;++s){for(var l=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){l=-1;break}l=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(l<0)){var d=Bn({r,c:s}),f=n.dense?(t[r]||[])[s]:t[d],m=f&&f.v!=null&&(f.h||Bct(f.w||(uf(f),f.w)||""))||"",h={};l>1&&(h.rowspan=l),c>1&&(h.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+f.l.Target+'">'+m+"</a>")),h.id=(n.id||"sjs")+"-"+d,i.push(kt("td",m,h))}}var v="<tr>";return v+i.join("")+"</tr>"}var ugt='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',dgt="</body></html>";function fgt(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Koe(t,e){var r=e||{},n=r.header!=null?r.header:ugt,a=r.footer!=null?r.footer:dgt,i=[n],s=wl(t["!ref"]);r.dense=Array.isArray(t),i.push(fgt(t,s,r));for(var l=s.s.r;l<=s.e.r;++l)i.push(cgt(t,s,l,r));return i.push("</table>"+a),i.join("")}function Xoe(t,e,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Hi(n.origin):n.origin;a=s.r,i=s.c}var l=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(t["!ref"]){var d=wl(t["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),a==-1&&(u.e.r=a=d.e.r+1)}var f=[],m=0,h=t["!rows"]||(t["!rows"]=[]),v=0,g=0,p=0,y=0,x=0,b=0;for(t["!cols"]||(t["!cols"]=[]);v<l.length&&g<c;++v){var w=l[v];if(zH(w)){if(n.display)continue;h[g]={hidden:!0}}var _=w.children;for(p=y=0;p<_.length;++p){var j=_[p];if(!(n.display&&zH(j))){var A=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):Hct(j.innerHTML),E=j.getAttribute("data-z")||j.getAttribute("z");for(m=0;m<f.length;++m){var T=f[m];T.s.c==y+i&&T.s.r<g+a&&g+a<=T.e.r&&(y=T.e.c+1-i,m=-1)}b=+j.getAttribute("colspan")||1,((x=+j.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:g+a,c:y+i},e:{r:g+a+(x||1)-1,c:y+i+(b||1)-1}});var R={t:"s",v:A},D=j.getAttribute("data-t")||j.getAttribute("t")||"";A!=null&&(A.length==0?R.t=D||"z":n.raw||A.trim().length==0||D=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(Yd(A))?isNaN(ow(A).getDate())||(R={t:"d",v:po(A)},n.cellDates||(R={t:"n",v:Uo(R.v)}),R.z=n.dateNF||Va[14]):R={t:"n",v:Yd(A)})),R.z===void 0&&E!=null&&(R.z=E);var P="",I=j.getElementsByTagName("A");if(I&&I.length)for(var L=0;L<I.length&&!(I[L].hasAttribute("href")&&(P=I[L].getAttribute("href"),P.charAt(0)!="#"));++L);P&&P.charAt(0)!="#"&&(R.l={Target:P}),n.dense?(t[g+a]||(t[g+a]=[]),t[g+a][y+i]=R):t[Bn({c:y+i,r:g+a})]=R,u.e.c<y+i&&(u.e.c=y+i),y+=b}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+a),t["!ref"]=_i(u),g>=c&&(t["!fullref"]=_i((u.e.r=l.length-v+g-1+a,u))),t}function Zoe(t,e){var r=e||{},n=r.dense?[]:{};return Xoe(n,t,e)}function hgt(t,e){return xg(Zoe(t,e),e)}function zH(t){var e="",r=mgt(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function mgt(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var pgt=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+cw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ji+e}}(),VH=function(){var t=function(i){return $n(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,l){var c=[];c.push('      <table:table table:name="'+$n(s.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,d=0,f=wl(i["!ref"]||"A1"),m=i["!merges"]||[],h=0,v=Array.isArray(i);if(i["!cols"])for(d=0;d<=f.e.c;++d)c.push("        <table:table-column"+(i["!cols"][d]?' table:style-name="co'+i["!cols"][d].ods+'"':"")+`></table:table-column>
`);var g="",p=i["!rows"]||[];for(u=0;u<f.s.r;++u)g=p[u]?' table:style-name="ro'+p[u].ods+'"':"",c.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=p[u]?' table:style-name="ro'+p[u].ods+'"':"",c.push("        <table:table-row"+g+`>
`),d=0;d<f.s.c;++d)c.push(e);for(;d<=f.e.c;++d){var y=!1,x={},b="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>d)&&!(m[h].s.r>u)&&!(m[h].e.c<d)&&!(m[h].e.r<u)){(m[h].s.c!=d||m[h].s.r!=u)&&(y=!0),x["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,x["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(y){c.push(r);continue}var w=Bn({r:u,c:d}),_=v?(i[u]||[])[d]:i[w];if(_&&_.f&&(x["table:formula"]=$n(Mht(_.f)),_.F&&_.F.slice(0,w.length)==w)){var j=wl(_.F);x["table:number-matrix-columns-spanned"]=j.e.c-j.s.c+1,x["table:number-matrix-rows-spanned"]=j.e.r-j.s.r+1}if(!_){c.push(e);continue}switch(_.t){case"b":b=_.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=_.v?"true":"false";break;case"n":b=_.w||String(_.v||0),x["office:value-type"]="float",x["office:value"]=_.v||0;break;case"s":case"str":b=_.v==null?"":_.v,x["office:value-type"]="string";break;case"d":b=_.w||po(_.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=po(_.v).toISOString(),x["table:style-name"]="ce1";break;default:c.push(e);continue}var A=t(b);if(_.l&&_.l.Target){var E=_.l.Target;E=E.charAt(0)=="#"?"#"+Rht(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),A=kt("text:a",A,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+kt("table:table-cell",kt("text:p",A,{}),x)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var l=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;k6(f),f.ods=l;var m=u["!cols"][d].wpx+"px";i.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++l}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=c;var f=u["!rows"][d].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,l){var c=[ji],u=cw({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=cw({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+d+`>
`),c.push(foe().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)c.push(n(s.Sheets[s.SheetNames[f]],s,f));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function Qoe(t,e){if(e.bookType=="fods")return VH(t,e);var r=x6(),n="",a=[],i=[];return n="mimetype",Kr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Kr(r,n,VH(t,e)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Kr(r,n,pgt(t,e)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Kr(r,n,ji+foe()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Kr(r,n,Eut(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Kr(r,n,Nut(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function bA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ggt(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Mc(lw(t))}function vgt(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Kh(t){var e=t.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(a){r.set(a,n),n+=a.length}),r}function ygt(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)t[e+i]=a&255;t[e+15]|=r>=0?0:128}function uw(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Rn(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function rv(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Ci(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],a=uw(t,r),i=a&7;a=Math.floor(a/8);var s=0,l;if(a==0)break;switch(i){case 0:{for(var c=r[0];t[r[0]++]>=128;);l=t.slice(c,r[0])}break;case 5:s=4,l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=uw(t,r),l=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:l,type:i};e[a]==null?e[a]=[u]:e[a].push(u)}return e}function as(t){var e=[];return t.forEach(function(r,n){r.forEach(function(a){a.data&&(e.push(Rn(n*8+a.type)),a.type==2&&e.push(Rn(a.data.length)),e.push(a.data))})}),Kh(e)}function _c(t){for(var e,r=[],n=[0];n[0]<t.length;){var a=uw(t,n),i=Ci(t.slice(n[0],n[0]+a));n[0]+=a;var s={id:rv(i[1][0].data),messages:[]};i[2].forEach(function(l){var c=Ci(l.data),u=rv(c[3][0].data);s.messages.push({meta:c,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=i[3])!=null&&e[0]&&(s.merge=rv(i[3][0].data)>>>0>0),r.push(s)}return r}function l0(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Rn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Rn(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:Rn(s.data.length)}],n[2].push({data:as(s.meta),type:2})});var i=as(n);e.push(Rn(i.length)),e.push(i),a.forEach(function(s){return e.push(s)})}),Kh(e)}function xgt(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=uw(e,r),a=[];r[0]<e.length;){var i=e[r[0]]&3;if(i==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var l=s-59;s=e[r[0]],l>1&&(s|=e[r[0]+1]<<8),l>2&&(s|=e[r[0]+2]<<16),l>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=l}a.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(e[r[0]]>>2&7)+4,c=(e[r[0]++]&224)<<3,c|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,i==2?(c=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(c=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Kh(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var d=Kh(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function jc(t){for(var e=[],r=0;r<t.length;){var n=t[r++],a=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(xgt(n,t.slice(r,r+a))),r+=a}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Kh(e)}function c0(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),a=new Uint8Array(4);e.push(a);var i=Rn(n),s=i.length;e.push(i),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Kh(e)}function ak(t,e){var r=new Uint8Array(32),n=bA(r),a=12,i=0;switch(r[0]=5,t.t){case"n":r[1]=2,ygt(r,a,t.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,t.v?1:0,!0),i|=2,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,i,!0),r.slice(0,a)}function ik(t,e){var r=new Uint8Array(32),n=bA(r),a=12,i=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(a,t.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,t.v?1:0,!0),i|=32,a+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(a,e.indexOf(t.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Uf(t){var e=Ci(t);return uw(e[1][0].data)}function bgt(t,e,r){var n,a,i,s;if(!((n=t[6])!=null&&n[0])||!((a=t[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var l=((s=(i=t[8])==null?void 0:i[0])==null?void 0:s.data)&&rv(t[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=bA(t[7][0].data),d=0,f=[],m=bA(t[4][0].data),h=0,v=[],g=0;g<e.length;++g){if(e[g]==null){u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535);continue}u.setUint16(g*2,d,!0),m.setUint16(g*2,h,!0);var p,y;switch(typeof e[g]){case"string":p=ak({t:"s",v:e[g]},r),y=ik({t:"s",v:e[g]},r);break;case"number":p=ak({t:"n",v:e[g]},r),y=ik({t:"n",v:e[g]},r);break;case"boolean":p=ak({t:"b",v:e[g]},r),y=ik({t:"b",v:e[g]},r);break;default:throw new Error("Unsupported value "+e[g])}f.push(p),d+=p.length,v.push(y),h+=y.length,++c}for(t[2][0].data=Rn(c);g<t[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),m.setUint16(g*2,65535,!0);return t[6][0].data=Kh(f),t[3][0].data=Kh(v),c}function wgt(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=wl(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(_i(n)));var i=wA(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(F){return F.forEach(function(B){typeof B=="string"&&s.push(B)})});var l={},c=[],u=qn.read(e.numbers,{type:"base64"});u.FileIndex.map(function(F,B){return[F,u.FullPaths[B]]}).forEach(function(F){var B=F[0],z=F[1];if(B.type==2&&B.name.match(/\.iwa/)){var ee=B.content,le=jc(ee),ge=_c(le);ge.forEach(function(se){c.push(se.id),l[se.id]={deps:[],location:z,type:rv(se.messages[0].meta[1][0].data)}})}}),c.sort(function(F,B){return F-B});var d=c.filter(function(F){return F>1}).map(function(F){return[F,Rn(F)]});u.FileIndex.map(function(F,B){return[F,u.FullPaths[B]]}).forEach(function(F){var B=F[0];if(F[1],!!B.name.match(/\.iwa/)){var z=_c(jc(B.content));z.forEach(function(ee){ee.messages.forEach(function(le){d.forEach(function(ge){ee.messages.some(function(se){return rv(se.meta[1][0].data)!=11006&&vgt(se.data,ge[1])})&&l[ge[0]].deps.push(ee.id)})})})}});for(var f=qn.find(u,l[1].location),m=_c(jc(f.content)),h,v=0;v<m.length;++v){var g=m[v];g.id==1&&(h=g)}var p=Uf(Ci(h.messages[0].data)[1][0].data);for(f=qn.find(u,l[p].location),m=_c(jc(f.content)),v=0;v<m.length;++v)g=m[v],g.id==p&&(h=g);for(p=Uf(Ci(h.messages[0].data)[2][0].data),f=qn.find(u,l[p].location),m=_c(jc(f.content)),v=0;v<m.length;++v)g=m[v],g.id==p&&(h=g);for(p=Uf(Ci(h.messages[0].data)[2][0].data),f=qn.find(u,l[p].location),m=_c(jc(f.content)),v=0;v<m.length;++v)g=m[v],g.id==p&&(h=g);var y=Ci(h.messages[0].data);{y[6][0].data=Rn(n.e.r+1),y[7][0].data=Rn(n.e.c+1);var x=Uf(y[46][0].data),b=qn.find(u,l[x].location),w=_c(jc(b.content));{for(var _=0;_<w.length&&w[_].id!=x;++_);if(w[_].id!=x)throw"Bad ColumnRowUIDMapArchive";var j=Ci(w[_].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var A=0;A<=n.e.c;++A){var E=[];E[1]=E[2]=[{type:0,data:Rn(A+420690)}],j[1].push({type:2,data:as(E)}),j[2].push({type:0,data:Rn(A)}),j[3].push({type:0,data:Rn(A)})}j[4]=[],j[5]=[],j[6]=[];for(var T=0;T<=n.e.r;++T)E=[],E[1]=E[2]=[{type:0,data:Rn(T+726270)}],j[4].push({type:2,data:as(E)}),j[5].push({type:0,data:Rn(T)}),j[6].push({type:0,data:Rn(T)});w[_].messages[0].data=as(j)}b.content=c0(l0(w)),b.size=b.content.length,delete y[46];var R=Ci(y[4][0].data);{R[7][0].data=Rn(n.e.r+1);var D=Ci(R[1][0].data),P=Uf(D[2][0].data);b=qn.find(u,l[P].location),w=_c(jc(b.content));{if(w[0].id!=P)throw"Bad HeaderStorageBucket";var I=Ci(w[0].messages[0].data);for(T=0;T<i.length;++T){var L=Ci(I[2][0].data);L[1][0].data=Rn(T),L[4][0].data=Rn(i[T].length),I[2][T]={type:I[2][0].type,data:as(L)}}w[0].messages[0].data=as(I)}b.content=c0(l0(w)),b.size=b.content.length;var V=Uf(R[2][0].data);b=qn.find(u,l[V].location),w=_c(jc(b.content));{if(w[0].id!=V)throw"Bad HeaderStorageBucket";for(I=Ci(w[0].messages[0].data),A=0;A<=n.e.c;++A)L=Ci(I[2][0].data),L[1][0].data=Rn(A),L[4][0].data=Rn(n.e.r+1),I[2][A]={type:I[2][0].type,data:as(L)};w[0].messages[0].data=as(I)}b.content=c0(l0(w)),b.size=b.content.length;var H=Uf(R[4][0].data);(function(){for(var F=qn.find(u,l[H].location),B=_c(jc(F.content)),z,ee=0;ee<B.length;++ee){var le=B[ee];le.id==H&&(z=le)}var ge=Ci(z.messages[0].data);{ge[3]=[];var se=[];s.forEach(function(pe,Me){se[1]=[{type:0,data:Rn(Me)}],se[2]=[{type:0,data:Rn(1)}],se[3]=[{type:2,data:ggt(pe)}],ge[3].push({type:2,data:as(se)})})}z.messages[0].data=as(ge);var ie=l0(B),we=c0(ie);F.content=we,F.size=F.content.length})();var q=Ci(R[3][0].data);{var G=q[1][0];delete q[2];var re=Ci(G.data);{var Z=Uf(re[2][0].data);(function(){for(var F=qn.find(u,l[Z].location),B=_c(jc(F.content)),z,ee=0;ee<B.length;++ee){var le=B[ee];le.id==Z&&(z=le)}var ge=Ci(z.messages[0].data);{delete ge[6],delete q[7];var se=new Uint8Array(ge[5][0].data);ge[5]=[];for(var ie=0,we=0;we<=n.e.r;++we){var pe=Ci(se);ie+=bgt(pe,i[we],s),pe[1][0].data=Rn(we),ge[5].push({data:as(pe),type:2})}ge[1]=[{type:0,data:Rn(n.e.c+1)}],ge[2]=[{type:0,data:Rn(n.e.r+1)}],ge[3]=[{type:0,data:Rn(ie)}],ge[4]=[{type:0,data:Rn(n.e.r+1)}]}z.messages[0].data=as(ge);var Me=l0(B),he=c0(Me);F.content=he,F.size=F.content.length})()}G.data=as(re)}R[3][0].data=as(q)}y[4][0].data=as(R)}h.messages[0].data=as(y);var de=l0(m),k=c0(de);return f.content=k,f.size=f.content.length,u}function Sgt(t){return function(r){for(var n=0;n!=t.length;++n){var a=t[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function M6(t){Sgt([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function _gt(t,e){return e.bookType=="ods"?Qoe(t,e):e.bookType=="numbers"?wgt(t,e):e.bookType=="xlsb"?jgt(t,e):Ngt(t,e)}function jgt(t,e){O0=1024,t&&!t.SSF&&(t.SSF=zo(Va)),t&&t.SSF&&(W5(),H5(t.SSF),e.revssf=q5(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,q1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=Ioe.indexOf(e.bookType)>-1,a=coe();M6(e=e||{});var i=x6(),s="",l=0;if(e.cellXfs=[],gm(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Kr(i,s,hoe(t.Props,e)),a.coreprops.push(s),Fn(e.rels,2,s,gn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(t.SheetNames[u]);t.Props.SheetNames=c}for(t.Props.Worksheets=t.Props.SheetNames.length,Kr(i,s,poe(t.Props)),a.extprops.push(s),Fn(e.rels,3,s,gn.EXT_PROPS),t.Custprops!==t.Props&&vs(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Kr(i,s,goe(t.Custprops)),a.custprops.push(s),Fn(e.rels,4,s,gn.CUST_PROPS)),l=1;l<=t.SheetNames.length;++l){var d={"!id":{}},f=t.Sheets[t.SheetNames[l-1]],m=(f||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+l+"."+r,Kr(i,s,Ept(l-1,s,e,t,d)),a.sheets.push(s),Fn(e.wbrels,-1,"worksheets/sheet"+l+"."+r,gn.WS[0])}if(f){var h=f["!comments"],v=!1,g="";h&&h.length>0&&(g="xl/comments"+l+"."+r,Kr(i,g,kpt(h,g)),a.comments.push(g),Fn(d,-1,"../comments"+l+"."+r,gn.CMNT),v=!0),f["!legacy"]&&v&&Kr(i,"xl/drawings/vmlDrawing"+l+".vml",Doe(l,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Kr(i,doe(s),ev(d))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Kr(i,s,Tpt(e.Strings,s,e)),a.strs.push(s),Fn(e.wbrels,-1,"sharedStrings."+r,gn.SST)),s="xl/workbook."+r,Kr(i,s,Apt(t,s)),a.workbooks.push(s),Fn(e.rels,1,s,gn.WB),s="xl/theme/theme1.xml",Kr(i,s,koe(t.Themes,e)),a.themes.push(s),Fn(e.wbrels,-1,"theme/theme1.xml",gn.THEME),s="xl/styles."+r,Kr(i,s,Cpt(t,s,e)),a.styles.push(s),Fn(e.wbrels,-1,"styles."+r,gn.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",Kr(i,s,t.vbaraw),a.vba.push(s),Fn(e.wbrels,-1,"vbaProject.bin",gn.VBA)),s="xl/metadata."+r,Kr(i,s,Ppt(s)),a.metadata.push(s),Fn(e.wbrels,-1,"metadata."+r,gn.XLMETA),Kr(i,"[Content_Types].xml",uoe(a,e)),Kr(i,"_rels/.rels",ev(e.rels)),Kr(i,"xl/_rels/workbook."+r+".rels",ev(e.wbrels)),delete e.revssf,delete e.ssf,i}function Ngt(t,e){O0=1024,t&&!t.SSF&&(t.SSF=zo(Va)),t&&t.SSF&&(W5(),H5(t.SSF),e.revssf=q5(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,q1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=Ioe.indexOf(e.bookType)>-1,a=coe();M6(e=e||{});var i=x6(),s="",l=0;if(e.cellXfs=[],gm(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Kr(i,s,hoe(t.Props,e)),a.coreprops.push(s),Fn(e.rels,2,s,gn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var c=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(t.SheetNames[u]);t.Props.SheetNames=c}t.Props.Worksheets=t.Props.SheetNames.length,Kr(i,s,poe(t.Props)),a.extprops.push(s),Fn(e.rels,3,s,gn.EXT_PROPS),t.Custprops!==t.Props&&vs(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Kr(i,s,goe(t.Custprops)),a.custprops.push(s),Fn(e.rels,4,s,gn.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,l=1;l<=t.SheetNames.length;++l){var f={"!id":{}},m=t.Sheets[t.SheetNames[l-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+l+"."+r,Kr(i,s,Voe(l-1,e,t,f)),a.sheets.push(s),Fn(e.wbrels,-1,"worksheets/sheet"+l+"."+r,gn.WS[0])}if(m){var v=m["!comments"],g=!1,p="";if(v&&v.length>0){var y=!1;v.forEach(function(x){x[1].forEach(function(b){b.T==!0&&(y=!0)})}),y&&(p="xl/threadedComments/threadedComment"+l+"."+r,Kr(i,p,rft(v,d,e)),a.threadedcomments.push(p),Fn(f,-1,"../threadedComments/threadedComment"+l+"."+r,gn.TCMNT)),p="xl/comments"+l+"."+r,Kr(i,p,Ooe(v)),a.comments.push(p),Fn(f,-1,"../comments"+l+"."+r,gn.CMNT),g=!0}m["!legacy"]&&g&&Kr(i,"xl/drawings/vmlDrawing"+l+".vml",Doe(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}f["!id"].rId1&&Kr(i,doe(s),ev(f))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Kr(i,s,joe(e.Strings,e)),a.strs.push(s),Fn(e.wbrels,-1,"sharedStrings."+r,gn.SST)),s="xl/workbook."+r,Kr(i,s,qoe(t)),a.workbooks.push(s),Fn(e.rels,1,s,gn.WB),s="xl/theme/theme1.xml",Kr(i,s,koe(t.Themes,e)),a.themes.push(s),Fn(e.wbrels,-1,"theme/theme1.xml",gn.THEME),s="xl/styles."+r,Kr(i,s,Coe(t,e)),a.styles.push(s),Fn(e.wbrels,-1,"styles."+r,gn.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",Kr(i,s,t.vbaraw),a.vba.push(s),Fn(e.wbrels,-1,"vbaProject.bin",gn.VBA)),s="xl/metadata."+r,Kr(i,s,Poe()),a.metadata.push(s),Fn(e.wbrels,-1,"metadata."+r,gn.XLMETA),d.length>1&&(s="xl/persons/person.xml",Kr(i,s,nft(d)),a.people.push(s),Fn(e.wbrels,-1,"persons/person.xml",gn.PEOPLE)),Kr(i,"[Content_Types].xml",uoe(a,e)),Kr(i,"_rels/.rels",ev(e.rels)),Kr(i,"xl/_rels/workbook."+r+".rels",ev(e.wbrels)),delete e.revssf,delete e.ssf,i}function Agt(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=cf(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Joe(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return _2(e.file,qn.write(t,{type:An?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return qn.write(t,e)}function Egt(t,e){var r=zo(e||{}),n=_gt(t,r);return Cgt(n,r)}function Cgt(t,e){var r={},n=An?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var a=t.FullPaths?qn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(V5(a))}return e.password&&typeof encrypt_agile<"u"?Joe(encrypt_agile(a,e.password),e):e.type==="file"?_2(e.file,a):e.type=="string"?z1(a):a}function Tgt(t,e){var r=e||{},n=Wpt(t,r);return Joe(n,r)}function Su(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return sw(lw(n));case"binary":return lw(n);case"string":return t;case"file":return _2(e.file,n,"utf8");case"buffer":return An?vf(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Su(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function kgt(t,e){switch(e.type){case"base64":return sw(t);case"binary":return t;case"string":return t;case"file":return _2(e.file,t,"binary");case"buffer":return An?vf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function k_(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?sw(r):e.type=="string"?z1(r):r;case"file":return _2(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function ele(t,e){act(),ppt(t);var r=zo(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=ele(t,r);return r.type="array",V5(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=t.SheetNames.indexOf(r.sheet),!t.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Su(Vpt(t,r),r);case"slk":case"sylk":return Su(fdt.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"htm":case"html":return Su(Koe(t.Sheets[t.SheetNames[a]],r),r);case"txt":return kgt(tle(t.Sheets[t.SheetNames[a]],r),r);case"csv":return Su(R6(t.Sheets[t.SheetNames[a]],r),r,"\uFEFF");case"dif":return Su(hdt.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"dbf":return k_(ddt.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"prn":return Su(mdt.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"rtf":return Su(wdt.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"eth":return Su(_oe.from_sheet(t.Sheets[t.SheetNames[a]],r),r);case"fods":return Su(Qoe(t,r),r);case"wk1":return k_(RH.sheet_to_wk1(t.Sheets[t.SheetNames[a]],r),r);case"wk3":return k_(RH.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),k_(Yoe(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Tgt(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Egt(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Pgt(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Dgt(t,e,r){var n={};return n.type="file",n.file=e,Pgt(n),ele(t,n)}function Ogt(t,e,r,n,a,i,s,l){var c=ps(r),u=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),f=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!s||t[r])for(var h=e.s.c;h<=e.e.c;++h){var v=s?t[r][h]:t[n[h]+c];if(v===void 0||v.t===void 0){if(u===void 0)continue;i[h]!=null&&(m[i[h]]=u);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(i[h]!=null){if(g==null)if(v.t=="e"&&g===null)m[i[h]]=null;else if(u!==void 0)m[i[h]]=u;else if(d&&g===null)m[i[h]]=null;else continue;else m[i[h]]=d&&(v.t!=="n"||v.t==="n"&&l.rawNumbers!==!1)?g:uf(v,g,l);g!=null&&(f=!1)}}return{row:m,isempty:f}}function wA(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":c=pa(d);break;case"number":c=pa(t["!ref"]),c.s.r=d;break;default:c=d}n>0&&(a=0);var f=ps(c.s.r),m=[],h=[],v=0,g=0,p=Array.isArray(t),y=c.s.r,x=0,b={};p&&!t[y]&&(t[y]=[]);var w=u.skipHidden&&t["!cols"]||[],_=u.skipHidden&&t["!rows"]||[];for(x=c.s.c;x<=c.e.c;++x)if(!(w[x]||{}).hidden)switch(m[x]=Vs(x),r=p?t[y][x]:t[m[x]+f],n){case 1:i[x]=x-c.s.c;break;case 2:i[x]=m[x];break;case 3:i[x]=u.header[x-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=s=uf(r,null,u),g=b[s]||0,!g)b[s]=1;else{do l=s+"_"+g++;while(b[l]);b[s]=g,b[l]=1}i[x]=l}for(y=c.s.r+a;y<=c.e.r;++y)if(!(_[y]||{}).hidden){var j=Ogt(t,c,y,m,n,i,p,u);(j.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[v++]=j.row)}return h.length=v,h}var HH=/"/g;function Igt(t,e,r,n,a,i,s,l){for(var c=!0,u=[],d="",f=ps(r),m=e.s.c;m<=e.e.c;++m)if(n[m]){var h=l.dense?(t[r]||[])[m]:t[n[m]+f];if(h==null)d="";else if(h.v!=null){c=!1,d=""+(l.rawNumbers&&h.t=="n"?h.v:uf(h,null,l));for(var v=0,g=0;v!==d.length;++v)if((g=d.charCodeAt(v))===a||g===i||g===34||l.forceQuotes){d='"'+d.replace(HH,'""')+'"';break}d=="ID"&&(d='"ID"')}else h.f!=null&&!h.F?(c=!1,d="="+h.f,d.indexOf(",")>=0&&(d='"'+d.replace(HH,'""')+'"')):d="";u.push(d)}return l.blankrows===!1&&c?null:u.join(s)}function R6(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var a=pa(t["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),d="",f=[];n.dense=Array.isArray(t);for(var m=n.skipHidden&&t["!cols"]||[],h=n.skipHidden&&t["!rows"]||[],v=a.s.c;v<=a.e.c;++v)(m[v]||{}).hidden||(f[v]=Vs(v));for(var g=0,p=a.s.r;p<=a.e.r;++p)(h[p]||{}).hidden||(d=Igt(t,a,p,f,s,c,i,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((g++?l:"")+d)));return delete n.dense,r.join("")}function tle(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=R6(t,e);return r}function Mgt(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var a=pa(t["!ref"]),i="",s=[],l,c=[],u=Array.isArray(t);for(l=a.s.c;l<=a.e.c;++l)s[l]=Vs(l);for(var d=a.s.r;d<=a.e.r;++d)for(i=ps(d),l=a.s.c;l<=a.e.c;++l)if(e=s[l]+i,r=u?(t[d]||[])[l]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=e+"="+n}return c}function rle(t,e,r){var n=r||{},a=+!n.skipHeader,i=t||{},s=0,l=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Hi(n.origin):n.origin;s=c.r,l=c.c}var u,d={s:{c:0,r:0},e:{c:l,r:s+e.length-1+a}};if(i["!ref"]){var f=pa(i["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),s==-1&&(s=f.e.r+1,d.e.r=s+e.length-1+a)}else s==-1&&(s=0,d.e.r=e.length-1+a);var m=n.header||[],h=0;e.forEach(function(g,p){vs(g).forEach(function(y){(h=m.indexOf(y))==-1&&(m[h=m.length]=y);var x=g[y],b="z",w="",_=Bn({c:l+h,r:s+p+a});u=dw(i,_),x&&typeof x=="object"&&!(x instanceof Date)?i[_]=x:(typeof x=="number"?b="n":typeof x=="boolean"?b="b":typeof x=="string"?b="s":x instanceof Date?(b="d",n.cellDates||(b="n",x=Uo(x)),w=n.dateNF||Va[14]):x===null&&n.nullError&&(b="e",x=0),u?(u.t=b,u.v=x,delete u.w,delete u.R,w&&(u.z=w)):i[_]=u={t:b,v:x},w&&(u.z=w))})}),d.e.c=Math.max(d.e.c,l+m.length-1);var v=ps(s);if(a)for(h=0;h<m.length;++h)i[Vs(h+l)+v]={t:"s",v:m[h]};return i["!ref"]=_i(d),i}function Rgt(t,e){return rle(null,t,e)}function dw(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Hi(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?dw(t,Bn(e)):dw(t,Bn({r:e,c:r||0}))}function Lgt(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Fgt(){return{SheetNames:[],Sheets:{}}}function $gt(t,e,r,n){var a=1;if(!r)for(;a<=65535&&t.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&t.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Woe(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Bgt(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=Lgt(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Ugt(t,e){return t.z=e,t}function nle(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function zgt(t,e,r){return nle(t,"#"+e,r)}function Vgt(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function Hgt(t,e,r,n){for(var a=typeof e!="string"?e:pa(e),i=typeof e=="string"?e:_i(e),s=a.s.r;s<=a.e.r;++s)for(var l=a.s.c;l<=a.e.c;++l){var c=dw(t,s,l);c.t="n",c.F=i,delete c.v,s==a.s.r&&l==a.s.c&&(c.f=r,n&&(c.D=!0))}return t}var Zs={encode_col:Vs,encode_row:ps,encode_cell:Bn,encode_range:_i,decode_col:N6,decode_row:j6,split_cell:aut,decode_cell:Hi,decode_range:wl,format_cell:uf,sheet_add_aoa:noe,sheet_add_json:rle,sheet_add_dom:Xoe,aoa_to_sheet:Yy,json_to_sheet:Rgt,table_to_sheet:Zoe,table_to_book:hgt,sheet_to_csv:R6,sheet_to_txt:tle,sheet_to_json:wA,sheet_to_html:Koe,sheet_to_formulae:Mgt,sheet_to_row_object_array:wA,sheet_get_cell:dw,book_new:Fgt,book_append_sheet:$gt,book_set_sheet_visibility:Bgt,cell_set_number_format:Ugt,cell_set_hyperlink:nle,cell_set_internal_link:zgt,cell_add_comment:Vgt,sheet_set_array_formula:Hgt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};async function Wgt(){p1(new Date,60);try{const{data:e,error:r}=await ye.from("appointments").select("appointment_date, appointment_datetime").order("appointment_date",{ascending:!0});if(r)return console.error("Erro ao buscar agendamentos por perodo:",r),[];if(!e||e.length===0)return console.log("Nenhum dado de agendamento encontrado"),[];const n=e.reduce((i,s)=>{const l=s.appointment_date;return i[l]=(i[l]||0)+1,i},{}),a=Object.entries(n).map(([i,s])=>({date:wr(Lu(i),"dd/MM",{locale:Kn}),count:s}));return console.log("Dados de agendamentos processados:",a),a}catch(e){return console.error("Erro inesperado ao buscar agendamentos:",e),[]}}async function qgt(){try{const{data:t,error:e}=await ye.from("appointments").select("attendant_id, attendant_name, status");if(e)return console.error("Erro ao buscar desempenho dos atendentes:",e),[];if(!t||t.length===0)return console.log("Nenhum dado de atendentes encontrado"),[];const r={};return t.forEach(n=>{const{attendant_id:a,attendant_name:i,status:s}=n;r[a]||(r[a]={total:0,completed:0,name:i}),r[a].total+=1,(s==="atendimento_finalizado"||s==="completed")&&(r[a].completed+=1)}),Object.values(r).map(n=>({attendantName:n.name,appointmentsCount:n.total,completionRate:n.total>0?parseFloat((n.completed/n.total*100).toFixed(1)):0}))}catch(t){return console.error("Erro inesperado ao buscar desempenho dos atendentes:",t),[]}}async function Ggt(){try{const{data:t,error:e}=await ye.from("appointments").select("service_id, service_name");if(e)return console.error("Erro ao buscar servios populares:",e),[];if(!t||t.length===0)return console.log("Nenhum dado de servios encontrado"),[];const r={};return t.forEach(n=>{const{service_id:a,service_name:i}=n;r[a]||(r[a]={name:i,count:0}),r[a].count+=1}),Object.values(r).map(n=>({serviceName:n.name,count:n.count})).sort((n,a)=>a.count-n.count).slice(0,5)}catch(t){return console.error("Erro inesperado ao buscar servios populares:",t),[]}}async function Ygt(){try{const{data:t,error:e}=await ye.from("appointments").select("appointment_time");if(e)return console.error("Erro ao buscar horrios de pico:",e),[];if(!t||t.length===0)return console.log("Nenhum dado de horrios encontrado"),[];const r={};return t.forEach(n=>{const a=n.appointment_time.split(":")[0];r[a]=(r[a]||0)+1}),Object.entries(r).map(([n,a])=>({hour:`${n}h`,count:a})).sort((n,a)=>parseInt(n.hour)-parseInt(a.hour))}catch(t){return console.error("Erro inesperado ao buscar horrios de pico:",t),[]}}async function Kgt(){try{const e=p1(new Date,180),{data:r,error:n}=await ye.from("appointments").select("appointment_date, status");if(n)return console.error("Erro ao buscar taxas de cancelamento:",n),[];if(!r||r.length===0)return console.log("Nenhum dado de cancelamento encontrado"),[];const a={};r.forEach(s=>{const l=Lu(s.appointment_date),c=wr(l,"yyyy-MM");a[c]||(a[c]={total:0,canceled:0}),a[c].total+=1,(s.status==="agendamento_cancelado"||s.status==="canceled")&&(a[c].canceled+=1)});const i=Object.entries(a).map(([s,l])=>{const c=Lu(`${s}-01`),u=l.total>0?l.canceled/l.total*100:0;return{period:wr(c,"MMM/yyyy",{locale:Kn}),rate:parseFloat(u.toFixed(1))}}).sort((s,l)=>{const[c,u]=s.period.split("/"),[d,f]=l.period.split("/");if(u!==f)return parseInt(u)-parseInt(f);const m=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],h=m.findIndex(g=>c.toLowerCase().startsWith(g)),v=m.findIndex(g=>d.toLowerCase().startsWith(g));return h-v});return console.log("Dados de cancelamento processados:",i),i}catch(t){return console.error("Erro inesperado ao buscar taxas de cancelamento:",t),[]}}async function Xgt(){try{const t=new Date,e=mo(t),r=Mw(t),{data:n,error:a}=await ye.from("appointments").select("appointment_date, service_price, status").gte("appointment_date",wr(e,"yyyy-MM-dd")).lte("appointment_date",wr(r,"yyyy-MM-dd")).not("status","eq","agendamento_cancelado").not("status","eq","canceled");if(a)return console.error("Erro ao buscar receita por perodo:",a),[];if(!n||n.length===0)return console.log("Nenhum dado de receita encontrado"),[];const i={};return n.forEach(s=>{const l=s.appointment_date;i[l]=(i[l]||0)+s.service_price}),Object.entries(i).map(([s,l])=>({date:wr(Lu(s),"dd/MM",{locale:Kn}),amount:l})).sort((s,l)=>{const c=Lu(s.date.split("/").reverse().join("-")),u=Lu(l.date.split("/").reverse().join("-"));return c.getTime()-u.getTime()})}catch(t){return console.error("Erro inesperado ao buscar receita por perodo:",t),[]}}async function Zgt(){try{const{data:t,error:e}=await ye.from("appointments").select("*"),{data:r,error:n}=await ye.from("attendants").select("*"),{data:a,error:i}=await ye.from("services").select("*");if(e||n||i)return console.error("Erro ao buscar estatsticas gerais:",e||n||i),{totalAppointments:0,totalAttendants:0,totalServices:0,averagePrice:0};if(!t||t.length===0)return{totalAppointments:0,totalAttendants:0,totalServices:0,averagePrice:0};const s=(t==null?void 0:t.length)||0,l=(r==null?void 0:r.length)||0,c=(a==null?void 0:a.length)||0,u=(a==null?void 0:a.reduce((f,m)=>f+m.price,0))||0,d=c>0?u/c:0;return{totalAppointments:s,totalAttendants:l,totalServices:c,averagePrice:d}}catch(t){return console.error("Erro inesperado ao buscar estatsticas gerais:",t),{totalAppointments:0,totalAttendants:0,totalServices:0,averagePrice:0}}}async function Qgt(t){const e=new xr,r=wr(new Date,"dd/MM/yyyy",{locale:Kn});e.setFontSize(20),e.text("Relatrio Geral",14,20),e.setFontSize(10),e.text(`Data de gerao: ${r}`,14,30),e.setFontSize(16),e.text("Estatsticas Gerais",14,45),Lm(e,{startY:50,head:[["Mtrica","Valor"]],body:[["Total de Agendamentos",t.generalStats.totalAppointments.toString()],["Total de Atendentes",t.generalStats.totalAttendants.toString()],["Total de Servios",t.generalStats.totalServices.toString()],["Preo Mdio",`R$ ${t.generalStats.averagePrice.toFixed(2)}`]]}),e.addPage(),e.setFontSize(16),e.text("Agendamentos por Perodo",14,20),Lm(e,{startY:25,head:[["Data","Quantidade"]],body:t.appointmentsByPeriod.map(n=>[n.date,n.count])}),e.addPage(),e.setFontSize(16),e.text("Desempenho dos Atendentes",14,20),Lm(e,{startY:25,head:[["Atendente","Total de Agendamentos","Taxa de Concluso"]],body:t.attendantPerformance.map(n=>[n.attendantName,n.appointmentsCount,`${n.completionRate.toFixed(1)}%`])}),e.addPage(),e.setFontSize(16),e.text("Servios Mais Populares",14,20),Lm(e,{startY:25,head:[["Servio","Quantidade"]],body:t.popularServices.map(n=>[n.serviceName,n.count])}),e.addPage(),e.setFontSize(16),e.text("Horrios de Pico",14,20),Lm(e,{startY:25,head:[["Horrio","Quantidade"]],body:t.peakHours.map(n=>[n.hour,n.count])}),e.addPage(),e.setFontSize(16),e.text("Taxas de Cancelamento",14,20),Lm(e,{startY:25,head:[["Perodo","Taxa"]],body:t.cancellationRates.map(n=>[n.period,`${n.rate.toFixed(1)}%`])}),e.addPage(),e.setFontSize(16),e.text("Receita por Perodo",14,20),Lm(e,{startY:25,head:[["Data","Valor"]],body:t.revenueByPeriod.map(n=>[n.date,`R$ ${n.amount.toFixed(2)}`])}),e.save(`relatorio_${wr(new Date,"dd-MM-yyyy")}.pdf`)}async function Jgt(t){const e=Zs.book_new(),r=[["Mtrica","Valor"],["Total de Agendamentos",t.generalStats.totalAppointments],["Total de Atendentes",t.generalStats.totalAttendants],["Total de Servios",t.generalStats.totalServices],["Preo Mdio",`R$ ${t.generalStats.averagePrice.toFixed(2)}`]],n=Zs.aoa_to_sheet(r);Zs.book_append_sheet(e,n,"Estatsticas Gerais");const a=[["Data","Quantidade"],...t.appointmentsByPeriod.map(p=>[p.date,p.count])],i=Zs.aoa_to_sheet(a);Zs.book_append_sheet(e,i,"Agendamentos");const s=[["Atendente","Total de Agendamentos","Taxa de Concluso (%)"],...t.attendantPerformance.map(p=>[p.attendantName,p.appointmentsCount,p.completionRate.toFixed(1)])],l=Zs.aoa_to_sheet(s);Zs.book_append_sheet(e,l,"Desempenho Atendentes");const c=[["Servio","Quantidade"],...t.popularServices.map(p=>[p.serviceName,p.count])],u=Zs.aoa_to_sheet(c);Zs.book_append_sheet(e,u,"Servios Populares");const d=[["Horrio","Quantidade"],...t.peakHours.map(p=>[p.hour,p.count])],f=Zs.aoa_to_sheet(d);Zs.book_append_sheet(e,f,"Horrios de Pico");const m=[["Perodo","Taxa (%)"],...t.cancellationRates.map(p=>[p.period,p.rate.toFixed(1)])],h=Zs.aoa_to_sheet(m);Zs.book_append_sheet(e,h,"Taxas de Cancelamento");const v=[["Data","Valor (R$)"],...t.revenueByPeriod.map(p=>[p.date,p.amount.toFixed(2)])],g=Zs.aoa_to_sheet(v);Zs.book_append_sheet(e,g,"Receita"),Dgt(e,`relatorio_${wr(new Date,"dd-MM-yyyy")}.xlsx`)}const e0t={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},WH={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},t0t=()=>{var L;const[t,e]=N.useState("appointments"),[r,n]=N.useState(!0),[a,i]=N.useState(!1),[s,l]=N.useState(null),[c,u]=N.useState(!0),[d,f]=N.useState([]),[m,h]=N.useState([]),[v,g]=N.useState([]),[p,y]=N.useState([]),[x,b]=N.useState([]),[w,_]=N.useState([]),[j,A]=N.useState({totalAppointments:0,totalAttendants:0,totalServices:0,averagePrice:0}),[E,T]=N.useState(null),R=async()=>{n(!0);try{const V=await bot();l(V);const H=await wot();H.success&&T(H.stats);const[q,G,re,Z,de,k,F]=await Promise.all([Wgt(),qgt(),Ggt(),Ygt(),Kgt(),Xgt(),Zgt()]);console.log("Dados de agendamentos recebidos:",q),console.log("Dados de cancelamento recebidos:",de),console.log("Estatsticas detalhadas de agendamentos:",H==null?void 0:H.stats),f(q),h(G),g(re),y(Z),b(de),_(k),A(F)}catch(V){console.error("Erro ao buscar dados dos relatrios:",V),Oe.error("Erro ao carregar dados dos relatrios.")}finally{n(!1),i(!1),u(!1)}};N.useEffect(()=>{R()},[]);const D=async()=>{i(!0);try{await R(),Oe.success("Dados atualizados com sucesso!")}catch(V){console.error("Erro ao atualizar dados:",V),Oe.error("Erro ao atualizar dados.")}},P=async()=>{try{await Qgt({appointmentsByPeriod:d,attendantPerformance:m,popularServices:v,peakHours:p,cancellationRates:x,revenueByPeriod:w,generalStats:j}),Oe.success("Relatrio PDF gerado com sucesso!")}catch(V){console.error("Erro ao gerar PDF:",V),Oe.error("Erro ao gerar relatrio PDF.")}},I=async()=>{try{await Jgt({appointmentsByPeriod:d,attendantPerformance:m,popularServices:v,peakHours:p,cancellationRates:x,revenueByPeriod:w,generalStats:j}),Oe.success("Relatrio Excel gerado com sucesso!")}catch(V){console.error("Erro ao gerar Excel:",V),Oe.error("Erro ao gerar relatrio Excel.")}};return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-4 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:e0t,children:[o.jsxs(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",variants:WH,children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Relatrios"}),o.jsxs("div",{className:"flex flex-wrap w-full sm:w-auto gap-2 justify-start sm:justify-end",children:[o.jsxs(je,{variant:"outline",onClick:P,disabled:r||a,className:"flex items-center gap-2",size:"sm",children:[o.jsx(Gc,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Exportar PDF"}),o.jsx("span",{className:"sm:hidden",children:"PDF"})]}),o.jsxs(je,{variant:"outline",onClick:I,disabled:r||a,className:"flex items-center gap-2",size:"sm",children:[o.jsx(jde,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Exportar Excel"}),o.jsx("span",{className:"sm:hidden",children:"Excel"})]}),o.jsxs(je,{variant:"outline",onClick:D,disabled:a||r,className:"flex items-center gap-2",size:"sm",children:[o.jsx(Oo,{className:`h-4 w-4 ${a?"animate-spin":""}`}),o.jsx("span",{className:"hidden sm:inline",children:a?"Atualizando...":"Atualizar dados"}),o.jsx("span",{className:"sm:hidden",children:a?"...":"Atualizar"})]})]})]}),o.jsx(nt.div,{variants:WH,children:o.jsxs(ys,{defaultValue:"appointments",value:t,onValueChange:e,children:[o.jsxs(Di,{className:"flex flex-wrap mb-4 overflow-x-auto",children:[o.jsxs(qt,{value:"appointments",className:"flex items-center justify-center",children:[o.jsx(nn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline ml-2",children:"Agendamentos"})]}),o.jsxs(qt,{value:"attendants",className:"flex items-center justify-center",children:[o.jsx(xl,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline ml-2",children:"Atendentes"})]}),o.jsxs(qt,{value:"services",className:"flex items-center justify-center",children:[o.jsx(DL,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline ml-2",children:"Servios"})]}),o.jsxs(qt,{value:"hours",className:"flex items-center justify-center",children:[o.jsx(pn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline ml-2",children:"Horrios"})]}),o.jsxs(qt,{value:"cancellations",className:"flex items-center justify-center",children:[o.jsx(el,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline ml-2",children:"Cancelamentos"})]}),o.jsxs(qt,{value:"revenue",className:"flex items-center justify-center",children:[o.jsx(Ql,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline ml-2",children:"Receita"})]}),o.jsxs(qt,{value:"overview",className:"flex items-center justify-center",children:[o.jsx(Ip,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline ml-2",children:"Banco de Dados"})]})]}),o.jsx(nr,{value:"overview",className:"space-y-4",children:o.jsx("div",{className:"mt-4",children:o.jsx(ot,{className:"w-full",children:o.jsx(lt,{className:"pt-6",children:c?o.jsx("div",{className:"flex justify-center items-center p-6",children:o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-blue-500 rounded-full border-t-transparent"})}):s?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ip,{className:"h-5 w-5 text-blue-500"}),o.jsx("span",{className:"font-medium",children:"Diagnstico do Banco de Dados"})]}),o.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Conectado"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Tabelas Disponveis"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Total:"}),o.jsx("span",{className:"text-xs font-medium",children:"8"})]})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Tamanho do Banco"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Dados:"}),o.jsx("span",{className:"text-xs font-medium",children:"2.4 MB"})]})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Verso PostgreSQL"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Verso:"}),o.jsx("span",{className:"text-xs font-medium",children:"14.9"})]})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Conexes"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Ativas:"}),o.jsx("span",{className:"text-xs font-medium",children:"3/20"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2",children:[o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Cache"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Hit Ratio:"}),o.jsx("span",{className:"text-xs font-medium",children:"98.7%"})]})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Tempo de Atividade"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Uptime:"}),o.jsx("span",{className:"text-xs font-medium",children:"14 dias"})]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["ltima verificao:"," ",new Date().toLocaleString("pt-BR")]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 space-y-3",children:[o.jsx(el,{className:"h-8 w-8 text-amber-500"}),o.jsx("h3",{className:"text-lg font-medium",children:"Sem informaes disponveis"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No foi possvel obter informaes sobre o banco de dados. Tente verificar novamente."})]})})})})}),o.jsxs(nr,{value:"appointments",className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Zo,{title:"Total de Agendamentos",value:(E==null?void 0:E.total)||j.totalAppointments,icon:nn,iconColor:"text-blue-500",isLoading:r}),o.jsx(Zo,{title:"Mdia Diria",value:(E==null?void 0:E.dailyAverage)||(d.length>0?(d.reduce((V,H)=>V+H.count,0)/d.length).toFixed(1):"0"),description:"Agendamentos por dia",icon:bh,iconColor:"text-indigo-500",isLoading:r}),o.jsx(Zo,{title:"Mximo por Dia",value:(E==null?void 0:E.maxPerDay)||0,description:E!=null&&E.peakDay?`Dia: ${E.peakDay}`:"",icon:nn,iconColor:"text-green-500",isLoading:r}),o.jsx(Zo,{title:"Taxa de Concluso",value:`${(E==null?void 0:E.completionRate)||0}%`,description:"Agendamentos concludos",icon:Us,iconColor:"text-green-500",isLoading:r})]}),o.jsx("div",{className:"flex justify-between items-center mb-2",children:o.jsx("h3",{className:"text-lg font-medium",children:"Anlise de Agendamentos"})}),d.length>0||E&&E.total>0?o.jsx(mot,{data:d,isLoading:r,detailedStats:E}):o.jsx(ot,{children:o.jsx(lt,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 space-y-3",children:[o.jsx(el,{className:"h-8 w-8 text-amber-500"}),o.jsx("h3",{className:"text-lg font-medium",children:"Sem dados disponveis"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["No h dados de agendamentos disponveis.",o.jsx("br",{}),"Para visualizar estatsticas, adicione agendamentos ao sistema."]})]})})})]}),o.jsxs(nr,{value:"attendants",className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Zo,{title:"Total de Atendentes",value:j.totalAttendants,icon:xl,iconColor:"text-green-500",isLoading:r}),o.jsx(Zo,{title:"Taxa Mdia de Concluso",value:m.length>0?`${(m.reduce((V,H)=>V+H.completionRate,0)/m.length).toFixed(1)}%`:"0%",icon:bh,iconColor:"text-indigo-500",isLoading:r})]}),m.length>0?o.jsx(pot,{data:m,isLoading:r}):o.jsx(ot,{children:o.jsx(lt,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 space-y-3",children:[o.jsx(el,{className:"h-8 w-8 text-amber-500"}),o.jsx("h3",{className:"text-lg font-medium",children:"Sem dados disponveis"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["No h dados de atendentes disponveis.",o.jsx("br",{}),"Verifique se existem atendentes cadastrados no sistema."]})]})})})]}),o.jsxs(nr,{value:"services",className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Zo,{title:"Total de Servios",value:j.totalServices,icon:DL,iconColor:"text-purple-500",isLoading:r}),o.jsx(Zo,{title:"Preo Mdio",value:`R$ ${j.averagePrice.toFixed(2)}`,icon:Ql,iconColor:"text-yellow-500",isLoading:r})]}),v.length>0?o.jsx(got,{data:v,isLoading:r}):o.jsx(ot,{children:o.jsx(lt,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 space-y-3",children:[o.jsx(el,{className:"h-8 w-8 text-amber-500"}),o.jsx("h3",{className:"text-lg font-medium",children:"Sem dados disponveis"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["No h dados de servios disponveis.",o.jsx("br",{}),"Verifique se existem servios cadastrados no sistema."]})]})})})]}),o.jsxs(nr,{value:"hours",className:"space-y-4",children:[o.jsx("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:o.jsx(Zo,{title:"Horrio Mais Popular",value:p.length>0?p.reduce((V,H)=>V.count>H.count?V:H).hour:"N/A",icon:pn,iconColor:"text-orange-500",isLoading:r})}),p.length>0?o.jsx(vot,{data:p,isLoading:r}):o.jsx(ot,{children:o.jsx(lt,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 space-y-3",children:[o.jsx(el,{className:"h-8 w-8 text-amber-500"}),o.jsx("h3",{className:"text-lg font-medium",children:"Sem dados disponveis"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["No h dados de horrios disponveis.",o.jsx("br",{}),"Verifique se existem agendamentos no sistema."]})]})})})]}),o.jsxs(nr,{value:"cancellations",className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Zo,{title:"Taxa Mdia de Cancelamento",value:x.length>0?`${(x.reduce((V,H)=>V+H.rate,0)/x.length).toFixed(1)}%`:"0%",icon:el,iconColor:"text-red-500",isLoading:r}),o.jsx(Zo,{title:"Total de Cancelamentos",value:((L=s==null?void 0:s.statusCounts)==null?void 0:L.agendamento_cancelado)||0,description:"Agendamentos cancelados",icon:el,iconColor:"text-orange-500",isLoading:r})]}),o.jsx("div",{className:"flex justify-between items-center mb-2",children:o.jsx("h3",{className:"text-lg font-medium",children:"Taxas de Cancelamento"})}),x.length>0?o.jsx(yot,{data:x,isLoading:r}):o.jsx(ot,{children:o.jsx(lt,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 space-y-3",children:[o.jsx(el,{className:"h-8 w-8 text-amber-500"}),o.jsx("h3",{className:"text-lg font-medium",children:"Sem dados disponveis"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["No h dados de cancelamento disponveis.",o.jsx("br",{}),"Verifique se existem agendamentos no sistema."]})]})})})]}),o.jsxs(nr,{value:"revenue",className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Zo,{title:"Receita Total",value:`R$ ${w.reduce((V,H)=>V+H.amount,0).toFixed(2)}`,icon:Ql,iconColor:"text-green-500",isLoading:r}),o.jsx(Zo,{title:"Mdia Diria",value:w.length>0?`R$ ${(w.reduce((V,H)=>V+H.amount,0)/w.length).toFixed(2)}`:"R$ 0,00",icon:bh,iconColor:"text-indigo-500",isLoading:r})]}),w.length>0?o.jsx(xot,{data:w,isLoading:r}):o.jsx(ot,{children:o.jsx(lt,{className:"pt-6",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6 space-y-3",children:[o.jsx(el,{className:"h-8 w-8 text-amber-500"}),o.jsx("h3",{className:"text-lg font-medium",children:"Sem dados disponveis"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["No h dados de receita disponveis.",o.jsx("br",{}),"Verifique se existem agendamentos no sistema."]})]})})})]})]})})]})})};var C2=t=>t.type==="checkbox",hp=t=>t instanceof Date,no=t=>t==null;const ale=t=>typeof t=="object";var oi=t=>!no(t)&&!Array.isArray(t)&&ale(t)&&!hp(t),ile=t=>oi(t)&&t.target?C2(t.target)?t.target.checked:t.target.value:t,r0t=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,sle=(t,e)=>t.has(r0t(e)),n0t=t=>{const e=t.constructor&&t.constructor.prototype;return oi(e)&&e.hasOwnProperty("isPrototypeOf")},L6=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function is(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(L6&&(t instanceof Blob||n))&&(r||oi(t)))if(e=r?[]:{},!r&&!n0t(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=is(t[a]));else return t;return e}var Z5=t=>Array.isArray(t)?t.filter(Boolean):[],Za=t=>t===void 0,Ft=(t,e,r)=>{if(!e||!oi(t))return r;const n=Z5(e.split(/[,[\].]+?/)).reduce((a,i)=>no(a)?a:a[i],t);return Za(n)||n===t?Za(t[e])?r:t[e]:n},il=t=>typeof t=="boolean",F6=t=>/^\w*$/.test(t),ole=t=>Z5(t.replace(/["|']|\]/g,"").split(/\.|\[/)),kn=(t,e,r)=>{let n=-1;const a=F6(e)?[e]:ole(e),i=a.length,s=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==s){const u=t[l];c=oi(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const SA={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Rc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},kd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lle=W.createContext(null),Q5=()=>W.useContext(lle),a0t=t=>{const{children:e,...r}=t;return W.createElement(lle.Provider,{value:r},e)};var cle=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const s=i;return e._proxyFormState[s]!==Rc.all&&(e._proxyFormState[s]=!n||Rc.all),r&&(r[s]=!0),t[s]}});return a},ZO=t=>no(t)||!ale(t);function Bd(t,e){if(ZO(t)||ZO(e))return t===e;if(hp(t)&&hp(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const a of r){const i=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const s=e[a];if(hp(i)&&hp(s)||oi(i)&&oi(s)||Array.isArray(i)&&Array.isArray(s)?!Bd(i,s):i!==s)return!1}}return!0}const ule=(t,e)=>{const r=N.useRef(e);Bd(e,r.current)||(r.current=e),N.useEffect(t,r.current)};function i0t(t){const e=Q5(),{control:r=e.control,disabled:n,name:a,exact:i}=t||{},[s,l]=W.useState(r._formState),c=W.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ule(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),W.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),W.useMemo(()=>cle(s,r,c.current,!1),[s,r])}var Mu=t=>typeof t=="string",dle=(t,e,r,n,a)=>Mu(t)?(n&&e.watch.add(t),Ft(r,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Ft(r,i))):(n&&(e.watchAll=!0),r);function s0t(t){const e=Q5(),{control:r=e.control,name:n,defaultValue:a,disabled:i,exact:s}=t||{},[l,c]=W.useState(r._getWatch(n,a));return ule(()=>r._subscribe({name:n,formState:{values:!0},exact:s,callback:u=>!i&&c(dle(n,r._names,u.values||r._formValues,!1,a))}),[n,a,i,s]),W.useEffect(()=>r._removeUnmounted()),l}function o0t(t){const e=Q5(),{name:r,disabled:n,control:a=e.control,shouldUnregister:i}=t,s=sle(a._names.array,r),l=s0t({control:a,name:r,defaultValue:Ft(a._formValues,r,Ft(a._defaultValues,r,t.defaultValue)),exact:!0}),c=i0t({control:a,name:r,exact:!0}),u=W.useRef(t),d=W.useRef(a.register(r,{...t.rules,value:l,...il(t.disabled)?{disabled:t.disabled}:{}})),f=W.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ft(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ft(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ft(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ft(c.validatingFields,r)},error:{enumerable:!0,get:()=>Ft(c.errors,r)}}),[c,r]),m=W.useCallback(p=>d.current.onChange({target:{value:ile(p),name:r},type:SA.CHANGE}),[r]),h=W.useCallback(()=>d.current.onBlur({target:{value:Ft(a._formValues,r),name:r},type:SA.BLUR}),[r,a._formValues]),v=W.useCallback(p=>{const y=Ft(a._fields,r);y&&p&&(y._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:x=>p.setCustomValidity(x),reportValidity:()=>p.reportValidity()})},[a._fields,r]),g=W.useMemo(()=>({name:r,value:l,...il(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:m,onBlur:h,ref:v}),[r,n,c.disabled,m,h,v,l]);return W.useEffect(()=>{const p=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...il(u.current.disabled)?{disabled:u.current.disabled}:{}});const y=(x,b)=>{const w=Ft(a._fields,x);w&&w._f&&(w._f.mount=b)};if(y(r,!0),p){const x=is(Ft(a._options.defaultValues,r));kn(a._defaultValues,r,x),Za(Ft(a._formValues,r))&&kn(a._formValues,r,x)}return!s&&a.register(r),()=>{(s?p&&!a._state.action:p)?a.unregister(r):y(r,!1)}},[r,a,s,i]),W.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),W.useMemo(()=>({field:g,formState:c,fieldState:f}),[g,c,f])}const l0t=t=>t.render(o0t(t));var fle=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},G1=t=>Array.isArray(t)?t:[t],qH=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},eo=t=>oi(t)&&!Object.keys(t).length,$6=t=>t.type==="file",Lc=t=>typeof t=="function",_A=t=>{if(!L6)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hle=t=>t.type==="select-multiple",B6=t=>t.type==="radio",c0t=t=>B6(t)||C2(t),sk=t=>_A(t)&&t.isConnected;function u0t(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Za(t)?n++:t[e[n++]];return t}function d0t(t){for(const e in t)if(t.hasOwnProperty(e)&&!Za(t[e]))return!1;return!0}function Ei(t,e){const r=Array.isArray(e)?e:F6(e)?[e]:ole(e),n=r.length===1?t:u0t(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(oi(n)&&eo(n)||Array.isArray(n)&&d0t(n))&&Ei(t,r.slice(0,-1)),t}var mle=t=>{for(const e in t)if(Lc(t[e]))return!0;return!1};function jA(t,e={}){const r=Array.isArray(t);if(oi(t)||r)for(const n in t)Array.isArray(t[n])||oi(t[n])&&!mle(t[n])?(e[n]=Array.isArray(t[n])?[]:{},jA(t[n],e[n])):no(t[n])||(e[n]=!0);return e}function ple(t,e,r){const n=Array.isArray(t);if(oi(t)||n)for(const a in t)Array.isArray(t[a])||oi(t[a])&&!mle(t[a])?Za(e)||ZO(r[a])?r[a]=Array.isArray(t[a])?jA(t[a],[]):{...jA(t[a])}:ple(t[a],no(e)?{}:e[a],r[a]):r[a]=!Bd(t[a],e[a]);return r}var Zx=(t,e)=>ple(t,e,jA(e));const GH={value:!1,isValid:!1},YH={value:!0,isValid:!0};var gle=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Za(t[0].attributes.value)?Za(t[0].value)||t[0].value===""?YH:{value:t[0].value,isValid:!0}:YH:GH}return GH},vle=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Za(t)?t:e?t===""?NaN:t&&+t:r&&Mu(t)?new Date(t):n?n(t):t;const KH={isValid:!1,value:null};var yle=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,KH):KH;function XH(t){const e=t.ref;return $6(e)?e.files:B6(e)?yle(t.refs).value:hle(e)?[...e.selectedOptions].map(({value:r})=>r):C2(e)?gle(t.refs).value:vle(Za(e.value)?t.ref.value:e.value,t)}var f0t=(t,e,r,n)=>{const a={};for(const i of t){const s=Ft(e,i);s&&kn(a,i,s._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},NA=t=>t instanceof RegExp,Qx=t=>Za(t)?t:NA(t)?t.source:oi(t)?NA(t.value)?t.value.source:t.value:t,ZH=t=>({isOnSubmit:!t||t===Rc.onSubmit,isOnBlur:t===Rc.onBlur,isOnChange:t===Rc.onChange,isOnAll:t===Rc.all,isOnTouch:t===Rc.onTouched});const QH="AsyncFunction";var h0t=t=>!!t&&!!t.validate&&!!(Lc(t.validate)&&t.validate.constructor.name===QH||oi(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===QH)),m0t=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),JH=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Y1=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const i=Ft(t,a);if(i){const{_f:s,...l}=i;if(s){if(s.refs&&s.refs[0]&&e(s.refs[0],a)&&!n)return!0;if(s.ref&&e(s.ref,s.name)&&!n)return!0;if(Y1(l,e))break}else if(oi(l)&&Y1(l,e))break}}};function eW(t,e,r){const n=Ft(t,r);if(n||F6(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=Ft(e,i),l=Ft(t,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var p0t=(t,e,r,n)=>{r(t);const{name:a,...i}=t;return eo(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(s=>e[s]===(!n||Rc.all))},g0t=(t,e,r)=>!t||!e||t===e||G1(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),v0t=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,y0t=(t,e)=>!Z5(Ft(t,e)).length&&Ei(t,e),x0t=(t,e,r)=>{const n=G1(Ft(t,r));return kn(n,"root",e[r]),kn(t,r,n),t},aj=t=>Mu(t);function tW(t,e,r="validate"){if(aj(t)||Array.isArray(t)&&t.every(aj)||il(t)&&!t)return{type:r,message:aj(t)?t:"",ref:e}}var u0=t=>oi(t)&&!NA(t)?t:{value:t,message:""},rW=async(t,e,r,n,a,i)=>{const{ref:s,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:h,validate:v,name:g,valueAsNumber:p,mount:y}=t._f,x=Ft(r,g);if(!y||e.has(g))return{};const b=l?l[0]:s,w=P=>{a&&b.reportValidity&&(b.setCustomValidity(il(P)?"":P||""),b.reportValidity())},_={},j=B6(s),A=C2(s),E=j||A,T=(p||$6(s))&&Za(s.value)&&Za(x)||_A(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,R=fle.bind(null,g,n,_),D=(P,I,L,V=kd.maxLength,H=kd.minLength)=>{const q=P?I:L;_[g]={type:P?V:H,message:q,ref:s,...R(P?V:H,q)}};if(i?!Array.isArray(x)||!x.length:c&&(!E&&(T||no(x))||il(x)&&!x||A&&!gle(l).isValid||j&&!yle(l).isValid)){const{value:P,message:I}=aj(c)?{value:!!c,message:c}:u0(c);if(P&&(_[g]={type:kd.required,message:I,ref:b,...R(kd.required,I)},!n))return w(I),_}if(!T&&(!no(f)||!no(m))){let P,I;const L=u0(m),V=u0(f);if(!no(x)&&!isNaN(x)){const H=s.valueAsNumber||x&&+x;no(L.value)||(P=H>L.value),no(V.value)||(I=H<V.value)}else{const H=s.valueAsDate||new Date(x),q=Z=>new Date(new Date().toDateString()+" "+Z),G=s.type=="time",re=s.type=="week";Mu(L.value)&&x&&(P=G?q(x)>q(L.value):re?x>L.value:H>new Date(L.value)),Mu(V.value)&&x&&(I=G?q(x)<q(V.value):re?x<V.value:H<new Date(V.value))}if((P||I)&&(D(!!P,L.message,V.message,kd.max,kd.min),!n))return w(_[g].message),_}if((u||d)&&!T&&(Mu(x)||i&&Array.isArray(x))){const P=u0(u),I=u0(d),L=!no(P.value)&&x.length>+P.value,V=!no(I.value)&&x.length<+I.value;if((L||V)&&(D(L,P.message,I.message),!n))return w(_[g].message),_}if(h&&!T&&Mu(x)){const{value:P,message:I}=u0(h);if(NA(P)&&!x.match(P)&&(_[g]={type:kd.pattern,message:I,ref:s,...R(kd.pattern,I)},!n))return w(I),_}if(v){if(Lc(v)){const P=await v(x,r),I=tW(P,b);if(I&&(_[g]={...I,...R(kd.validate,I.message)},!n))return w(I.message),_}else if(oi(v)){let P={};for(const I in v){if(!eo(P)&&!n)break;const L=tW(await v[I](x,r),b,I);L&&(P={...L,...R(I,L.message)},w(L.message),n&&(_[g]=P))}if(!eo(P)&&(_[g]={ref:b,...P},!n))return _}}return w(!0),_};const b0t={mode:Rc.onSubmit,reValidateMode:Rc.onChange,shouldFocusError:!0};function w0t(t={}){let e={...b0t,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Lc(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let a=oi(e.defaultValues)||oi(e.values)?is(e.values||e.defaultValues)||{}:{},i=e.shouldUnregister?{}:is(a),s={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:qH(),state:qH()},h=ZH(e.mode),v=ZH(e.reValidateMode),g=e.criteriaMode===Rc.all,p=ne=>ue=>{clearTimeout(u),u=setTimeout(ne,ue)},y=async ne=>{if(!e.disabled&&(d.isValid||f.isValid||ne)){const ue=e.resolver?eo((await T()).errors):await D(n,!0);ue!==r.isValid&&m.state.next({isValid:ue})}},x=(ne,ue)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ne||Array.from(l.mount)).forEach(Ne=>{Ne&&(ue?kn(r.validatingFields,Ne,ue):Ei(r.validatingFields,Ne))}),m.state.next({validatingFields:r.validatingFields,isValidating:!eo(r.validatingFields)}))},b=(ne,ue=[],Ne,Re,Fe=!0,Xe=!0)=>{if(Re&&Ne&&!e.disabled){if(s.action=!0,Xe&&Array.isArray(Ft(n,ne))){const it=Ne(Ft(n,ne),Re.argA,Re.argB);Fe&&kn(n,ne,it)}if(Xe&&Array.isArray(Ft(r.errors,ne))){const it=Ne(Ft(r.errors,ne),Re.argA,Re.argB);Fe&&kn(r.errors,ne,it),y0t(r.errors,ne)}if((d.touchedFields||f.touchedFields)&&Xe&&Array.isArray(Ft(r.touchedFields,ne))){const it=Ne(Ft(r.touchedFields,ne),Re.argA,Re.argB);Fe&&kn(r.touchedFields,ne,it)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Zx(a,i)),m.state.next({name:ne,isDirty:I(ne,ue),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else kn(i,ne,ue)},w=(ne,ue)=>{kn(r.errors,ne,ue),m.state.next({errors:r.errors})},_=ne=>{r.errors=ne,m.state.next({errors:r.errors,isValid:!1})},j=(ne,ue,Ne,Re)=>{const Fe=Ft(n,ne);if(Fe){const Xe=Ft(i,ne,Za(Ne)?Ft(a,ne):Ne);Za(Xe)||Re&&Re.defaultChecked||ue?kn(i,ne,ue?Xe:XH(Fe._f)):H(ne,Xe),s.mount&&y()}},A=(ne,ue,Ne,Re,Fe)=>{let Xe=!1,it=!1;const vt={name:ne};if(!e.disabled){if(!Ne||Re){(d.isDirty||f.isDirty)&&(it=r.isDirty,r.isDirty=vt.isDirty=I(),Xe=it!==vt.isDirty);const Ct=Bd(Ft(a,ne),ue);it=!!Ft(r.dirtyFields,ne),Ct?Ei(r.dirtyFields,ne):kn(r.dirtyFields,ne,!0),vt.dirtyFields=r.dirtyFields,Xe=Xe||(d.dirtyFields||f.dirtyFields)&&it!==!Ct}if(Ne){const Ct=Ft(r.touchedFields,ne);Ct||(kn(r.touchedFields,ne,Ne),vt.touchedFields=r.touchedFields,Xe=Xe||(d.touchedFields||f.touchedFields)&&Ct!==Ne)}Xe&&Fe&&m.state.next(vt)}return Xe?vt:{}},E=(ne,ue,Ne,Re)=>{const Fe=Ft(r.errors,ne),Xe=(d.isValid||f.isValid)&&il(ue)&&r.isValid!==ue;if(e.delayError&&Ne?(c=p(()=>w(ne,Ne)),c(e.delayError)):(clearTimeout(u),c=null,Ne?kn(r.errors,ne,Ne):Ei(r.errors,ne)),(Ne?!Bd(Fe,Ne):Fe)||!eo(Re)||Xe){const it={...Re,...Xe&&il(ue)?{isValid:ue}:{},errors:r.errors,name:ne};r={...r,...it},m.state.next(it)}},T=async ne=>{x(ne,!0);const ue=await e.resolver(i,e.context,f0t(ne||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return x(ne),ue},R=async ne=>{const{errors:ue}=await T(ne);if(ne)for(const Ne of ne){const Re=Ft(ue,Ne);Re?kn(r.errors,Ne,Re):Ei(r.errors,Ne)}else r.errors=ue;return ue},D=async(ne,ue,Ne={valid:!0})=>{for(const Re in ne){const Fe=ne[Re];if(Fe){const{_f:Xe,...it}=Fe;if(Xe){const vt=l.array.has(Xe.name),Ct=Fe._f&&h0t(Fe._f);Ct&&d.validatingFields&&x([Re],!0);const gt=await rW(Fe,l.disabled,i,g,e.shouldUseNativeValidation&&!ue,vt);if(Ct&&d.validatingFields&&x([Re]),gt[Xe.name]&&(Ne.valid=!1,ue))break;!ue&&(Ft(gt,Xe.name)?vt?x0t(r.errors,gt,Xe.name):kn(r.errors,Xe.name,gt[Xe.name]):Ei(r.errors,Xe.name))}!eo(it)&&await D(it,ue,Ne)}}return Ne.valid},P=()=>{for(const ne of l.unMount){const ue=Ft(n,ne);ue&&(ue._f.refs?ue._f.refs.every(Ne=>!sk(Ne)):!sk(ue._f.ref))&&se(ne)}l.unMount=new Set},I=(ne,ue)=>!e.disabled&&(ne&&ue&&kn(i,ne,ue),!Bd(k(),a)),L=(ne,ue,Ne)=>dle(ne,l,{...s.mount?i:Za(ue)?a:Mu(ne)?{[ne]:ue}:ue},Ne,ue),V=ne=>Z5(Ft(s.mount?i:a,ne,e.shouldUnregister?Ft(a,ne,[]):[])),H=(ne,ue,Ne={})=>{const Re=Ft(n,ne);let Fe=ue;if(Re){const Xe=Re._f;Xe&&(!Xe.disabled&&kn(i,ne,vle(ue,Xe)),Fe=_A(Xe.ref)&&no(ue)?"":ue,hle(Xe.ref)?[...Xe.ref.options].forEach(it=>it.selected=Fe.includes(it.value)):Xe.refs?C2(Xe.ref)?Xe.refs.length>1?Xe.refs.forEach(it=>(!it.defaultChecked||!it.disabled)&&(it.checked=Array.isArray(Fe)?!!Fe.find(vt=>vt===it.value):Fe===it.value)):Xe.refs[0]&&(Xe.refs[0].checked=!!Fe):Xe.refs.forEach(it=>it.checked=it.value===Fe):$6(Xe.ref)?Xe.ref.value="":(Xe.ref.value=Fe,Xe.ref.type||m.state.next({name:ne,values:is(i)})))}(Ne.shouldDirty||Ne.shouldTouch)&&A(ne,Fe,Ne.shouldTouch,Ne.shouldDirty,!0),Ne.shouldValidate&&de(ne)},q=(ne,ue,Ne)=>{for(const Re in ue){const Fe=ue[Re],Xe=`${ne}.${Re}`,it=Ft(n,Xe);(l.array.has(ne)||oi(Fe)||it&&!it._f)&&!hp(Fe)?q(Xe,Fe,Ne):H(Xe,Fe,Ne)}},G=(ne,ue,Ne={})=>{const Re=Ft(n,ne),Fe=l.array.has(ne),Xe=is(ue);kn(i,ne,Xe),Fe?(m.array.next({name:ne,values:is(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Ne.shouldDirty&&m.state.next({name:ne,dirtyFields:Zx(a,i),isDirty:I(ne,Xe)})):Re&&!Re._f&&!no(Xe)?q(ne,Xe,Ne):H(ne,Xe,Ne),JH(ne,l)&&m.state.next({...r}),m.state.next({name:s.mount?ne:void 0,values:is(i)})},re=async ne=>{s.mount=!0;const ue=ne.target;let Ne=ue.name,Re=!0;const Fe=Ft(n,Ne),Xe=it=>{Re=Number.isNaN(it)||hp(it)&&isNaN(it.getTime())||Bd(it,Ft(i,Ne,it))};if(Fe){let it,vt;const Ct=ue.type?XH(Fe._f):ile(ne),gt=ne.type===SA.BLUR||ne.type===SA.FOCUS_OUT,Zr=!m0t(Fe._f)&&!e.resolver&&!Ft(r.errors,Ne)&&!Fe._f.deps||v0t(gt,Ft(r.touchedFields,Ne),r.isSubmitted,v,h),ir=JH(Ne,l,gt);kn(i,Ne,Ct),gt?(Fe._f.onBlur&&Fe._f.onBlur(ne),c&&c(0)):Fe._f.onChange&&Fe._f.onChange(ne);const On=A(Ne,Ct,gt),zr=!eo(On)||ir;if(!gt&&m.state.next({name:Ne,type:ne.type,values:is(i)}),Zr)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?gt&&y():gt||y()),zr&&m.state.next({name:Ne,...ir?{}:On});if(!gt&&ir&&m.state.next({...r}),e.resolver){const{errors:Fr}=await T([Ne]);if(Xe(Ct),Re){const ca=eW(r.errors,n,Ne),Gr=eW(Fr,n,ca.name||Ne);it=Gr.error,Ne=Gr.name,vt=eo(Fr)}}else x([Ne],!0),it=(await rW(Fe,l.disabled,i,g,e.shouldUseNativeValidation))[Ne],x([Ne]),Xe(Ct),Re&&(it?vt=!1:(d.isValid||f.isValid)&&(vt=await D(n,!0)));Re&&(Fe._f.deps&&de(Fe._f.deps),E(Ne,vt,it,On))}},Z=(ne,ue)=>{if(Ft(r.errors,ue)&&ne.focus)return ne.focus(),1},de=async(ne,ue={})=>{let Ne,Re;const Fe=G1(ne);if(e.resolver){const Xe=await R(Za(ne)?ne:Fe);Ne=eo(Xe),Re=ne?!Fe.some(it=>Ft(Xe,it)):Ne}else ne?(Re=(await Promise.all(Fe.map(async Xe=>{const it=Ft(n,Xe);return await D(it&&it._f?{[Xe]:it}:it)}))).every(Boolean),!(!Re&&!r.isValid)&&y()):Re=Ne=await D(n);return m.state.next({...!Mu(ne)||(d.isValid||f.isValid)&&Ne!==r.isValid?{}:{name:ne},...e.resolver||!ne?{isValid:Ne}:{},errors:r.errors}),ue.shouldFocus&&!Re&&Y1(n,Z,ne?Fe:l.mount),Re},k=ne=>{const ue={...s.mount?i:a};return Za(ne)?ue:Mu(ne)?Ft(ue,ne):ne.map(Ne=>Ft(ue,Ne))},F=(ne,ue)=>({invalid:!!Ft((ue||r).errors,ne),isDirty:!!Ft((ue||r).dirtyFields,ne),error:Ft((ue||r).errors,ne),isValidating:!!Ft(r.validatingFields,ne),isTouched:!!Ft((ue||r).touchedFields,ne)}),B=ne=>{ne&&G1(ne).forEach(ue=>Ei(r.errors,ue)),m.state.next({errors:ne?r.errors:{}})},z=(ne,ue,Ne)=>{const Re=(Ft(n,ne,{_f:{}})._f||{}).ref,Fe=Ft(r.errors,ne)||{},{ref:Xe,message:it,type:vt,...Ct}=Fe;kn(r.errors,ne,{...Ct,...ue,ref:Re}),m.state.next({name:ne,errors:r.errors,isValid:!1}),Ne&&Ne.shouldFocus&&Re&&Re.focus&&Re.focus()},ee=(ne,ue)=>Lc(ne)?m.state.subscribe({next:Ne=>ne(L(void 0,ue),Ne)}):L(ne,ue,!0),le=ne=>m.state.subscribe({next:ue=>{g0t(ne.name,ue.name,ne.exact)&&p0t(ue,ne.formState||d,qe,ne.reRenderRoot)&&ne.callback({values:{...i},...r,...ue})}}).unsubscribe,ge=ne=>(s.mount=!0,f={...f,...ne.formState},le({...ne,formState:f})),se=(ne,ue={})=>{for(const Ne of ne?G1(ne):l.mount)l.mount.delete(Ne),l.array.delete(Ne),ue.keepValue||(Ei(n,Ne),Ei(i,Ne)),!ue.keepError&&Ei(r.errors,Ne),!ue.keepDirty&&Ei(r.dirtyFields,Ne),!ue.keepTouched&&Ei(r.touchedFields,Ne),!ue.keepIsValidating&&Ei(r.validatingFields,Ne),!e.shouldUnregister&&!ue.keepDefaultValue&&Ei(a,Ne);m.state.next({values:is(i)}),m.state.next({...r,...ue.keepDirty?{isDirty:I()}:{}}),!ue.keepIsValid&&y()},ie=({disabled:ne,name:ue})=>{(il(ne)&&s.mount||ne||l.disabled.has(ue))&&(ne?l.disabled.add(ue):l.disabled.delete(ue))},we=(ne,ue={})=>{let Ne=Ft(n,ne);const Re=il(ue.disabled)||il(e.disabled);return kn(n,ne,{...Ne||{},_f:{...Ne&&Ne._f?Ne._f:{ref:{name:ne}},name:ne,mount:!0,...ue}}),l.mount.add(ne),Ne?ie({disabled:il(ue.disabled)?ue.disabled:e.disabled,name:ne}):j(ne,!0,ue.value),{...Re?{disabled:ue.disabled||e.disabled}:{},...e.progressive?{required:!!ue.required,min:Qx(ue.min),max:Qx(ue.max),minLength:Qx(ue.minLength),maxLength:Qx(ue.maxLength),pattern:Qx(ue.pattern)}:{},name:ne,onChange:re,onBlur:re,ref:Fe=>{if(Fe){we(ne,ue),Ne=Ft(n,ne);const Xe=Za(Fe.value)&&Fe.querySelectorAll&&Fe.querySelectorAll("input,select,textarea")[0]||Fe,it=c0t(Xe),vt=Ne._f.refs||[];if(it?vt.find(Ct=>Ct===Xe):Xe===Ne._f.ref)return;kn(n,ne,{_f:{...Ne._f,...it?{refs:[...vt.filter(sk),Xe,...Array.isArray(Ft(a,ne))?[{}]:[]],ref:{type:Xe.type,name:ne}}:{ref:Xe}}}),j(ne,!1,void 0,Xe)}else Ne=Ft(n,ne,{}),Ne._f&&(Ne._f.mount=!1),(e.shouldUnregister||ue.shouldUnregister)&&!(sle(l.array,ne)&&s.action)&&l.unMount.add(ne)}}},pe=()=>e.shouldFocusError&&Y1(n,Z,l.mount),Me=ne=>{il(ne)&&(m.state.next({disabled:ne}),Y1(n,(ue,Ne)=>{const Re=Ft(n,Ne);Re&&(ue.disabled=Re._f.disabled||ne,Array.isArray(Re._f.refs)&&Re._f.refs.forEach(Fe=>{Fe.disabled=Re._f.disabled||ne}))},0,!1))},he=(ne,ue)=>async Ne=>{let Re;Ne&&(Ne.preventDefault&&Ne.preventDefault(),Ne.persist&&Ne.persist());let Fe=is(i);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Xe,values:it}=await T();r.errors=Xe,Fe=it}else await D(n);if(l.disabled.size)for(const Xe of l.disabled)kn(Fe,Xe,void 0);if(Ei(r.errors,"root"),eo(r.errors)){m.state.next({errors:{}});try{await ne(Fe,Ne)}catch(Xe){Re=Xe}}else ue&&await ue({...r.errors},Ne),pe(),setTimeout(pe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:eo(r.errors)&&!Re,submitCount:r.submitCount+1,errors:r.errors}),Re)throw Re},oe=(ne,ue={})=>{Ft(n,ne)&&(Za(ue.defaultValue)?G(ne,is(Ft(a,ne))):(G(ne,ue.defaultValue),kn(a,ne,is(ue.defaultValue))),ue.keepTouched||Ei(r.touchedFields,ne),ue.keepDirty||(Ei(r.dirtyFields,ne),r.isDirty=ue.defaultValue?I(ne,is(Ft(a,ne))):I()),ue.keepError||(Ei(r.errors,ne),d.isValid&&y()),m.state.next({...r}))},X=(ne,ue={})=>{const Ne=ne?is(ne):a,Re=is(Ne),Fe=eo(ne),Xe=Fe?a:Re;if(ue.keepDefaultValues||(a=Ne),!ue.keepValues){if(ue.keepDirtyValues){const it=new Set([...l.mount,...Object.keys(Zx(a,i))]);for(const vt of Array.from(it))Ft(r.dirtyFields,vt)?kn(Xe,vt,Ft(i,vt)):G(vt,Ft(Xe,vt))}else{if(L6&&Za(ne))for(const it of l.mount){const vt=Ft(n,it);if(vt&&vt._f){const Ct=Array.isArray(vt._f.refs)?vt._f.refs[0]:vt._f.ref;if(_A(Ct)){const gt=Ct.closest("form");if(gt){gt.reset();break}}}}for(const it of l.mount)G(it,Ft(Xe,it))}i=is(Xe),m.array.next({values:{...Xe}}),m.state.next({values:{...Xe}})}l={mount:ue.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!ue.keepIsValid||!!ue.keepDirtyValues,s.watch=!!e.shouldUnregister,m.state.next({submitCount:ue.keepSubmitCount?r.submitCount:0,isDirty:Fe?!1:ue.keepDirty?r.isDirty:!!(ue.keepDefaultValues&&!Bd(ne,a)),isSubmitted:ue.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Fe?{}:ue.keepDirtyValues?ue.keepDefaultValues&&i?Zx(a,i):r.dirtyFields:ue.keepDefaultValues&&ne?Zx(a,ne):ue.keepDirty?r.dirtyFields:{},touchedFields:ue.keepTouched?r.touchedFields:{},errors:ue.keepErrors?r.errors:{},isSubmitSuccessful:ue.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ae=(ne,ue)=>X(Lc(ne)?ne(i):ne,ue),Be=(ne,ue={})=>{const Ne=Ft(n,ne),Re=Ne&&Ne._f;if(Re){const Fe=Re.refs?Re.refs[0]:Re.ref;Fe.focus&&(Fe.focus(),ue.shouldSelect&&Lc(Fe.select)&&Fe.select())}},qe=ne=>{r={...r,...ne}},Pe={control:{register:we,unregister:se,getFieldState:F,handleSubmit:he,setError:z,_subscribe:le,_runSchema:T,_getWatch:L,_getDirty:I,_setValid:y,_setFieldArray:b,_setDisabledField:ie,_setErrors:_,_getFieldArray:V,_reset:X,_resetDefaultValues:()=>Lc(e.defaultValues)&&e.defaultValues().then(ne=>{Ae(ne,e.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Me,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(ne){s=ne},get _defaultValues(){return a},get _names(){return l},set _names(ne){l=ne},get _formState(){return r},get _options(){return e},set _options(ne){e={...e,...ne}}},subscribe:ge,trigger:de,register:we,handleSubmit:he,watch:ee,setValue:G,getValues:k,reset:Ae,resetField:oe,clearErrors:B,unregister:se,setError:z,setFocus:Be,getFieldState:F};return{...Pe,formControl:Pe}}const S0t=typeof window<"u"?W.useLayoutEffect:W.useEffect;function Vl(t={}){const e=W.useRef(void 0),r=W.useRef(void 0),[n,a]=W.useState({isDirty:!1,isValidating:!1,isLoading:Lc(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Lc(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:w0t(t),formState:n},t.formControl&&t.defaultValues&&!Lc(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,S0t(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,s},[i]),W.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),W.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode),t.errors&&!eo(t.errors)&&i._setErrors(t.errors)},[i,t.errors,t.mode,t.reValidateMode]),W.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),W.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),W.useEffect(()=>{t.values&&!Bd(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,a(s=>({...s}))):i._resetDefaultValues()},[i,t.values]),W.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=cle(n,i),e.current}const nW=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Ft(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},xle=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?nW(n.ref,r,t):n.refs&&n.refs.forEach(a=>nW(a,r,t))}},_0t=(t,e)=>{e.shouldUseNativeValidation&&xle(t,e);const r={};for(const n in t){const a=Ft(e.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(j0t(e.names||Object.keys(t),n)){const s=Object.assign({},Ft(r,n));kn(s,"root",i),kn(r,n,s)}else kn(r,n,i)}return r},j0t=(t,e)=>t.some(r=>r.startsWith(e+"."));var N0t=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[s]={message:l.message,type:l.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[s].types,u=c&&c[n.code];r[s]=fle(s,e,r,a,u?[].concat(u,n.message):n.message)}t.shift()}return r},Hl=function(t,e,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(s,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&xle({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(s){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(s))return{values:{},errors:_0t(N0t(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}},cn;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),s={};for(const l of i)s[l]=a[l];return t.objectValues(s)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},t.find=(a,i)=>{for(const s of a)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(cn||(cn={}));var QO;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(QO||(QO={}));const Yt=cn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ld=t=>{switch(typeof t){case"undefined":return Yt.undefined;case"string":return Yt.string;case"number":return isNaN(t)?Yt.nan:Yt.number;case"boolean":return Yt.boolean;case"function":return Yt.function;case"bigint":return Yt.bigint;case"symbol":return Yt.symbol;case"object":return Array.isArray(t)?Yt.array:t===null?Yt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Yt.promise:typeof Map<"u"&&t instanceof Map?Yt.map:typeof Set<"u"&&t instanceof Set?Yt.set:typeof Date<"u"&&t instanceof Date?Yt.date:Yt.object;default:return Yt.unknown}},jt=cn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),A0t=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class vl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let l=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(e){if(!(e instanceof vl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,cn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}vl.create=t=>new vl(t);const uy=(t,e)=>{let r;switch(t.code){case jt.invalid_type:t.received===Yt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case jt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,cn.jsonStringifyReplacer)}`;break;case jt.unrecognized_keys:r=`Unrecognized key(s) in object: ${cn.joinValues(t.keys,", ")}`;break;case jt.invalid_union:r="Invalid input";break;case jt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${cn.joinValues(t.options)}`;break;case jt.invalid_enum_value:r=`Invalid enum value. Expected ${cn.joinValues(t.options)}, received '${t.received}'`;break;case jt.invalid_arguments:r="Invalid function arguments";break;case jt.invalid_return_type:r="Invalid function return type";break;case jt.invalid_date:r="Invalid date";break;case jt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:cn.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case jt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case jt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case jt.custom:r="Invalid input";break;case jt.invalid_intersection_types:r="Intersection results could not be merged";break;case jt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case jt.not_finite:r="Number must be finite";break;default:r=e.defaultError,cn.assertNever(t)}return{message:r}};let ble=uy;function E0t(t){ble=t}function AA(){return ble}const EA=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(s,{data:e,defaultError:l}).message;return{...a,path:i,message:l}},C0t=[];function Bt(t,e){const r=AA(),n=EA({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===uy?void 0:uy].filter(a=>!!a)});t.common.issues.push(n)}class Ws{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return Cr;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return Ws.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return Cr;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:e.value,value:n}}}const Cr=Object.freeze({status:"aborted"}),I0=t=>({status:"dirty",value:t}),vo=t=>({status:"valid",value:t}),JO=t=>t.status==="aborted",e3=t=>t.status==="dirty",tg=t=>t.status==="valid",fw=t=>typeof Promise<"u"&&t instanceof Promise;function CA(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function wle(t,e,r,n,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var rr;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(rr||(rr={}));var f1,h1;class Zu{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aW=(t,e)=>{if(tg(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new vl(t.common.issues);return this._error=r,this._error}}};function Hr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(s,l)=>{var c,u;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class Xr{get description(){return this._def.description}_getType(e){return Ld(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Ld(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ws,ctx:{common:e.parent.common,data:e.data,parsedType:Ld(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(fw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ld(e)},i=this._parseSync({data:e,path:a.path,parent:a});return aW(a,i)}"~validate"(e){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ld(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:a});return tg(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(i=>tg(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ld(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(fw(a)?a:Promise.resolve(a));return aW(n,i)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=e(a),l=()=>i.addIssue({code:jt.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new ou({schema:this,typeName:jr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return qu.create(this,this._def)}nullable(){return Jh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qc.create(this)}promise(){return fy.create(this,this._def)}or(e){return gw.create([this,e],this._def)}and(e){return vw.create(this,e,this._def)}transform(e){return new ou({...Hr(this._def),schema:this,typeName:jr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Sw({...Hr(this._def),innerType:this,defaultValue:r,typeName:jr.ZodDefault})}brand(){return new U6({typeName:jr.ZodBranded,type:this,...Hr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new _w({...Hr(this._def),innerType:this,catchValue:r,typeName:jr.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return T2.create(this,e)}readonly(){return jw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const T0t=/^c[^\s-]{8,}$/i,k0t=/^[0-9a-z]+$/,P0t=/^[0-9A-HJKMNP-TV-Z]{26}$/i,D0t=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,O0t=/^[a-z0-9_-]{21}$/i,I0t=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,M0t=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,R0t=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,L0t="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ok;const F0t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$0t=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,B0t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,U0t=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,z0t=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,V0t=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Sle="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",H0t=new RegExp(`^${Sle}$`);function _le(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function W0t(t){return new RegExp(`^${_le(t)}$`)}function jle(t){let e=`${Sle}T${_le(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function q0t(t,e){return!!((e==="v4"||!e)&&F0t.test(t)||(e==="v6"||!e)&&B0t.test(t))}function G0t(t,e){if(!I0t.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function Y0t(t,e){return!!((e==="v4"||!e)&&$0t.test(t)||(e==="v6"||!e)&&U0t.test(t))}class Vc extends Xr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Yt.string){const i=this._getOrReturnCtx(e);return Bt(i,{code:jt.invalid_type,expected:Yt.string,received:i.parsedType}),Cr}const n=new Ws;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),Bt(a,{code:jt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),Bt(a,{code:jt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,l=e.data.length<i.value;(s||l)&&(a=this._getOrReturnCtx(e,a),s?Bt(a,{code:jt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Bt(a,{code:jt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")R0t.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"email",code:jt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")ok||(ok=new RegExp(L0t,"u")),ok.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"emoji",code:jt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")D0t.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"uuid",code:jt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")O0t.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"nanoid",code:jt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")T0t.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"cuid",code:jt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")k0t.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"cuid2",code:jt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")P0t.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"ulid",code:jt.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Bt(a,{validation:"url",code:jt.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"regex",code:jt.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),Bt(a,{code:jt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),Bt(a,{code:jt.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),Bt(a,{code:jt.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?jle(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{code:jt.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?H0t.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{code:jt.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?W0t(i).test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{code:jt.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?M0t.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"duration",code:jt.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?q0t(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"ip",code:jt.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?G0t(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"jwt",code:jt.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Y0t(e.data,i.version)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"cidr",code:jt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?z0t.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"base64",code:jt.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?V0t.test(e.data)||(a=this._getOrReturnCtx(e,a),Bt(a,{validation:"base64url",code:jt.invalid_string,message:i.message}),n.dirty()):cn.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:jt.invalid_string,...rr.errToObj(n)})}_addCheck(e){return new Vc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...rr.errToObj(e)})}url(e){return this._addCheck({kind:"url",...rr.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...rr.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...rr.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...rr.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...rr.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...rr.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...rr.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...rr.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...rr.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...rr.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...rr.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...rr.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...rr.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...rr.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...rr.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...rr.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...rr.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...rr.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...rr.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...rr.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...rr.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...rr.errToObj(r)})}nonempty(e){return this.min(1,rr.errToObj(e))}trim(){return new Vc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Vc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Vc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Vc.create=t=>{var e;return new Vc({checks:[],typeName:jr.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Hr(t)})};function K0t(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(t.toFixed(a).replace(".","")),s=parseInt(e.toFixed(a).replace(".",""));return i%s/Math.pow(10,a)}class Xh extends Xr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Yt.number){const i=this._getOrReturnCtx(e);return Bt(i,{code:jt.invalid_type,expected:Yt.number,received:i.parsedType}),Cr}let n;const a=new Ws;for(const i of this._def.checks)i.kind==="int"?cn.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Bt(n,{code:jt.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:jt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:jt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?K0t(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:jt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Bt(n,{code:jt.not_finite,message:i.message}),a.dirty()):cn.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,rr.toString(r))}gt(e,r){return this.setLimit("min",e,!1,rr.toString(r))}lte(e,r){return this.setLimit("max",e,!0,rr.toString(r))}lt(e,r){return this.setLimit("max",e,!1,rr.toString(r))}setLimit(e,r,n,a){return new Xh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:rr.toString(a)}]})}_addCheck(e){return new Xh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:rr.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:rr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:rr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:rr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:rr.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:rr.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:rr.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:rr.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:rr.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&cn.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Xh.create=t=>new Xh({checks:[],typeName:jr.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Hr(t)});class Zh extends Xr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Yt.bigint)return this._getInvalidInput(e);let n;const a=new Ws;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:jt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:jt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Bt(n,{code:jt.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):cn.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Bt(r,{code:jt.invalid_type,expected:Yt.bigint,received:r.parsedType}),Cr}gte(e,r){return this.setLimit("min",e,!0,rr.toString(r))}gt(e,r){return this.setLimit("min",e,!1,rr.toString(r))}lte(e,r){return this.setLimit("max",e,!0,rr.toString(r))}lt(e,r){return this.setLimit("max",e,!1,rr.toString(r))}setLimit(e,r,n,a){return new Zh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:rr.toString(a)}]})}_addCheck(e){return new Zh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:rr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:rr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:rr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:rr.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:rr.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Zh.create=t=>{var e;return new Zh({checks:[],typeName:jr.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Hr(t)})};class hw extends Xr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Yt.boolean){const n=this._getOrReturnCtx(e);return Bt(n,{code:jt.invalid_type,expected:Yt.boolean,received:n.parsedType}),Cr}return vo(e.data)}}hw.create=t=>new hw({typeName:jr.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Hr(t)});class rg extends Xr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Yt.date){const i=this._getOrReturnCtx(e);return Bt(i,{code:jt.invalid_type,expected:Yt.date,received:i.parsedType}),Cr}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Bt(i,{code:jt.invalid_date}),Cr}const n=new Ws;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),Bt(a,{code:jt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),Bt(a,{code:jt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):cn.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rg({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:rr.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:rr.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}rg.create=t=>new rg({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:jr.ZodDate,...Hr(t)});class TA extends Xr{_parse(e){if(this._getType(e)!==Yt.symbol){const n=this._getOrReturnCtx(e);return Bt(n,{code:jt.invalid_type,expected:Yt.symbol,received:n.parsedType}),Cr}return vo(e.data)}}TA.create=t=>new TA({typeName:jr.ZodSymbol,...Hr(t)});class mw extends Xr{_parse(e){if(this._getType(e)!==Yt.undefined){const n=this._getOrReturnCtx(e);return Bt(n,{code:jt.invalid_type,expected:Yt.undefined,received:n.parsedType}),Cr}return vo(e.data)}}mw.create=t=>new mw({typeName:jr.ZodUndefined,...Hr(t)});class pw extends Xr{_parse(e){if(this._getType(e)!==Yt.null){const n=this._getOrReturnCtx(e);return Bt(n,{code:jt.invalid_type,expected:Yt.null,received:n.parsedType}),Cr}return vo(e.data)}}pw.create=t=>new pw({typeName:jr.ZodNull,...Hr(t)});class dy extends Xr{constructor(){super(...arguments),this._any=!0}_parse(e){return vo(e.data)}}dy.create=t=>new dy({typeName:jr.ZodAny,...Hr(t)});class kp extends Xr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return vo(e.data)}}kp.create=t=>new kp({typeName:jr.ZodUnknown,...Hr(t)});class df extends Xr{_parse(e){const r=this._getOrReturnCtx(e);return Bt(r,{code:jt.invalid_type,expected:Yt.never,received:r.parsedType}),Cr}}df.create=t=>new df({typeName:jr.ZodNever,...Hr(t)});class kA extends Xr{_parse(e){if(this._getType(e)!==Yt.undefined){const n=this._getOrReturnCtx(e);return Bt(n,{code:jt.invalid_type,expected:Yt.void,received:n.parsedType}),Cr}return vo(e.data)}}kA.create=t=>new kA({typeName:jr.ZodVoid,...Hr(t)});class Qc extends Xr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==Yt.array)return Bt(r,{code:jt.invalid_type,expected:Yt.array,received:r.parsedType}),Cr;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(s||l)&&(Bt(r,{code:s?jt.too_big:jt.too_small,minimum:l?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Bt(r,{code:jt.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Bt(r,{code:jt.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,l)=>a.type._parseAsync(new Zu(r,s,r.path,l)))).then(s=>Ws.mergeArray(n,s));const i=[...r.data].map((s,l)=>a.type._parseSync(new Zu(r,s,r.path,l)));return Ws.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new Qc({...this._def,minLength:{value:e,message:rr.toString(r)}})}max(e,r){return new Qc({...this._def,maxLength:{value:e,message:rr.toString(r)}})}length(e,r){return new Qc({...this._def,exactLength:{value:e,message:rr.toString(r)}})}nonempty(e){return this.min(1,e)}}Qc.create=(t,e)=>new Qc({type:t,minLength:null,maxLength:null,exactLength:null,typeName:jr.ZodArray,...Hr(e)});function x0(t){if(t instanceof Sa){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=qu.create(x0(n))}return new Sa({...t._def,shape:()=>e})}else return t instanceof Qc?new Qc({...t._def,type:x0(t.element)}):t instanceof qu?qu.create(x0(t.unwrap())):t instanceof Jh?Jh.create(x0(t.unwrap())):t instanceof Qu?Qu.create(t.items.map(e=>x0(e))):t}class Sa extends Xr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=cn.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Yt.object){const u=this._getOrReturnCtx(e);return Bt(u,{code:jt.invalid_type,expected:Yt.object,received:u.parsedType}),Cr}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof df&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||l.push(u);const c=[];for(const u of s){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Zu(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof df){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Bt(a,{code:jt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Zu(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Ws.mergeObjectSync(n,u)):Ws.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return rr.errToObj,new Sa({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,i,s,l;const c=(s=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=rr.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Sa({...this._def,unknownKeys:"strip"})}passthrough(){return new Sa({...this._def,unknownKeys:"passthrough"})}extend(e){return new Sa({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Sa({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:jr.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Sa({...this._def,catchall:e})}pick(e){const r={};return cn.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Sa({...this._def,shape:()=>r})}omit(e){const r={};return cn.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Sa({...this._def,shape:()=>r})}deepPartial(){return x0(this)}partial(e){const r={};return cn.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}),new Sa({...this._def,shape:()=>r})}required(e){const r={};return cn.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof qu;)i=i._def.innerType;r[n]=i}}),new Sa({...this._def,shape:()=>r})}keyof(){return Nle(cn.objectKeys(this.shape))}}Sa.create=(t,e)=>new Sa({shape:()=>t,unknownKeys:"strip",catchall:df.create(),typeName:jr.ZodObject,...Hr(e)});Sa.strictCreate=(t,e)=>new Sa({shape:()=>t,unknownKeys:"strict",catchall:df.create(),typeName:jr.ZodObject,...Hr(e)});Sa.lazycreate=(t,e)=>new Sa({shape:t,unknownKeys:"strip",catchall:df.create(),typeName:jr.ZodObject,...Hr(e)});class gw extends Xr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const s=i.map(l=>new vl(l.ctx.common.issues));return Bt(r,{code:jt.invalid_union,unionErrors:s}),Cr}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=s.map(c=>new vl(c));return Bt(r,{code:jt.invalid_union,unionErrors:l}),Cr}}get options(){return this._def.options}}gw.create=(t,e)=>new gw({options:t,typeName:jr.ZodUnion,...Hr(e)});const Id=t=>t instanceof xw?Id(t.schema):t instanceof ou?Id(t.innerType()):t instanceof bw?[t.value]:t instanceof Qh?t.options:t instanceof ww?cn.objectValues(t.enum):t instanceof Sw?Id(t._def.innerType):t instanceof mw?[void 0]:t instanceof pw?[null]:t instanceof qu?[void 0,...Id(t.unwrap())]:t instanceof Jh?[null,...Id(t.unwrap())]:t instanceof U6||t instanceof jw?Id(t.unwrap()):t instanceof _w?Id(t._def.innerType):[];class J5 extends Xr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Yt.object)return Bt(r,{code:jt.invalid_type,expected:Yt.object,received:r.parsedType}),Cr;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(Bt(r,{code:jt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Cr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const a=new Map;for(const i of r){const s=Id(i.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of s){if(a.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);a.set(l,i)}}return new J5({typeName:jr.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:a,...Hr(n)})}}function t3(t,e){const r=Ld(t),n=Ld(e);if(t===e)return{valid:!0,data:t};if(r===Yt.object&&n===Yt.object){const a=cn.objectKeys(e),i=cn.objectKeys(t).filter(l=>a.indexOf(l)!==-1),s={...t,...e};for(const l of i){const c=t3(t[l],e[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}else if(r===Yt.array&&n===Yt.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const s=t[i],l=e[i],c=t3(s,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Yt.date&&n===Yt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vw extends Xr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(i,s)=>{if(JO(i)||JO(s))return Cr;const l=t3(i.value,s.value);return l.valid?((e3(i)||e3(s))&&r.dirty(),{status:r.value,value:l.data}):(Bt(n,{code:jt.invalid_intersection_types}),Cr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}vw.create=(t,e,r)=>new vw({left:t,right:e,typeName:jr.ZodIntersection,...Hr(r)});class Qu extends Xr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Yt.array)return Bt(n,{code:jt.invalid_type,expected:Yt.array,received:n.parsedType}),Cr;if(n.data.length<this._def.items.length)return Bt(n,{code:jt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Cr;!this._def.rest&&n.data.length>this._def.items.length&&(Bt(n,{code:jt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Zu(n,s,n.path,l)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Ws.mergeArray(r,s)):Ws.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Qu({...this._def,rest:e})}}Qu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qu({items:t,typeName:jr.ZodTuple,rest:null,...Hr(e)})};class yw extends Xr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Yt.object)return Bt(n,{code:jt.invalid_type,expected:Yt.object,received:n.parsedType}),Cr;const a=[],i=this._def.keyType,s=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new Zu(n,l,n.path,l)),value:s._parse(new Zu(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Ws.mergeObjectAsync(r,a):Ws.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Xr?new yw({keyType:e,valueType:r,typeName:jr.ZodRecord,...Hr(n)}):new yw({keyType:Vc.create(),valueType:e,typeName:jr.ZodRecord,...Hr(r)})}}class PA extends Xr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Yt.map)return Bt(n,{code:jt.invalid_type,expected:Yt.map,received:n.parsedType}),Cr;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Zu(n,l,n.path,[u,"key"])),value:i._parse(new Zu(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Cr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Cr;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}PA.create=(t,e,r)=>new PA({valueType:e,keyType:t,typeName:jr.ZodMap,...Hr(r)});class ng extends Xr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Yt.set)return Bt(n,{code:jt.invalid_type,expected:Yt.set,received:n.parsedType}),Cr;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Bt(n,{code:jt.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Bt(n,{code:jt.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Cr;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Zu(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>s(c)):s(l)}min(e,r){return new ng({...this._def,minSize:{value:e,message:rr.toString(r)}})}max(e,r){return new ng({...this._def,maxSize:{value:e,message:rr.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ng.create=(t,e)=>new ng({valueType:t,minSize:null,maxSize:null,typeName:jr.ZodSet,...Hr(e)});class nv extends Xr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Yt.function)return Bt(r,{code:jt.invalid_type,expected:Yt.function,received:r.parsedType}),Cr;function n(l,c){return EA({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,AA(),uy].filter(u=>!!u),issueData:{code:jt.invalid_arguments,argumentsError:c}})}function a(l,c){return EA({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,AA(),uy].filter(u=>!!u),issueData:{code:jt.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof fy){const l=this;return vo(async function(...c){const u=new vl([]),d=await l._def.args.parseAsync(c,i).catch(h=>{throw u.addIssue(n(c,h)),u}),f=await Reflect.apply(s,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(h=>{throw u.addIssue(a(f,h)),u})})}else{const l=this;return vo(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new vl([n(c,u.error)]);const d=Reflect.apply(s,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new vl([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nv({...this._def,args:Qu.create(e).rest(kp.create())})}returns(e){return new nv({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new nv({args:e||Qu.create([]).rest(kp.create()),returns:r||kp.create(),typeName:jr.ZodFunction,...Hr(n)})}}class xw extends Xr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}xw.create=(t,e)=>new xw({getter:t,typeName:jr.ZodLazy,...Hr(e)});class bw extends Xr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Bt(r,{received:r.data,code:jt.invalid_literal,expected:this._def.value}),Cr}return{status:"valid",value:e.data}}get value(){return this._def.value}}bw.create=(t,e)=>new bw({value:t,typeName:jr.ZodLiteral,...Hr(e)});function Nle(t,e){return new Qh({values:t,typeName:jr.ZodEnum,...Hr(e)})}class Qh extends Xr{constructor(){super(...arguments),f1.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Bt(r,{expected:cn.joinValues(n),received:r.parsedType,code:jt.invalid_type}),Cr}if(CA(this,f1)||wle(this,f1,new Set(this._def.values)),!CA(this,f1).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Bt(r,{received:r.data,code:jt.invalid_enum_value,options:n}),Cr}return vo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Qh.create(e,{...this._def,...r})}exclude(e,r=this._def){return Qh.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}f1=new WeakMap;Qh.create=Nle;class ww extends Xr{constructor(){super(...arguments),h1.set(this,void 0)}_parse(e){const r=cn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Yt.string&&n.parsedType!==Yt.number){const a=cn.objectValues(r);return Bt(n,{expected:cn.joinValues(a),received:n.parsedType,code:jt.invalid_type}),Cr}if(CA(this,h1)||wle(this,h1,new Set(cn.getValidEnumValues(this._def.values))),!CA(this,h1).has(e.data)){const a=cn.objectValues(r);return Bt(n,{received:n.data,code:jt.invalid_enum_value,options:a}),Cr}return vo(e.data)}get enum(){return this._def.values}}h1=new WeakMap;ww.create=(t,e)=>new ww({values:t,typeName:jr.ZodNativeEnum,...Hr(e)});class fy extends Xr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Yt.promise&&r.common.async===!1)return Bt(r,{code:jt.invalid_type,expected:Yt.promise,received:r.parsedType}),Cr;const n=r.parsedType===Yt.promise?r.data:Promise.resolve(r.data);return vo(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}fy.create=(t,e)=>new fy({type:t,typeName:jr.ZodPromise,...Hr(e)});class ou extends Xr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===jr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:s=>{Bt(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async l=>{if(r.value==="aborted")return Cr;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Cr:c.status==="dirty"||r.value==="dirty"?I0(c.value):c});{if(r.value==="aborted")return Cr;const l=this._def.schema._parseSync({data:s,path:n.path,parent:n});return l.status==="aborted"?Cr:l.status==="dirty"||r.value==="dirty"?I0(l.value):l}}if(a.type==="refinement"){const s=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Cr:(l.status==="dirty"&&r.dirty(),s(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Cr:(l.status==="dirty"&&r.dirty(),s(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!tg(s))return s;const l=a.transform(s.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>tg(s)?Promise.resolve(a.transform(s.value,i)).then(l=>({status:r.value,value:l})):s);cn.assertNever(a)}}ou.create=(t,e,r)=>new ou({schema:t,typeName:jr.ZodEffects,effect:e,...Hr(r)});ou.createWithPreprocess=(t,e,r)=>new ou({schema:e,effect:{type:"preprocess",transform:t},typeName:jr.ZodEffects,...Hr(r)});class qu extends Xr{_parse(e){return this._getType(e)===Yt.undefined?vo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qu.create=(t,e)=>new qu({innerType:t,typeName:jr.ZodOptional,...Hr(e)});class Jh extends Xr{_parse(e){return this._getType(e)===Yt.null?vo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Jh.create=(t,e)=>new Jh({innerType:t,typeName:jr.ZodNullable,...Hr(e)});class Sw extends Xr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Yt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Sw.create=(t,e)=>new Sw({innerType:t,typeName:jr.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Hr(e)});class _w extends Xr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return fw(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vl(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}_w.create=(t,e)=>new _w({innerType:t,typeName:jr.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Hr(e)});class DA extends Xr{_parse(e){if(this._getType(e)!==Yt.nan){const n=this._getOrReturnCtx(e);return Bt(n,{code:jt.invalid_type,expected:Yt.nan,received:n.parsedType}),Cr}return{status:"valid",value:e.data}}}DA.create=t=>new DA({typeName:jr.ZodNaN,...Hr(t)});const X0t=Symbol("zod_brand");class U6 extends Xr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class T2 extends Xr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Cr:i.status==="dirty"?(r.dirty(),I0(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Cr:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new T2({in:e,out:r,typeName:jr.ZodPipeline})}}class jw extends Xr{_parse(e){const r=this._def.innerType._parse(e),n=a=>(tg(a)&&(a.value=Object.freeze(a.value)),a);return fw(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}jw.create=(t,e)=>new jw({innerType:t,typeName:jr.ZodReadonly,...Hr(e)});function iW(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Ale(t,e={},r){return t?dy.create().superRefine((n,a)=>{var i,s;const l=t(n);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=iW(e,n),m=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:m})}});if(!l){const c=iW(e,n),u=(s=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&s!==void 0?s:!0;a.addIssue({code:"custom",...c,fatal:u})}}):dy.create()}const Z0t={object:Sa.lazycreate};var jr;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(jr||(jr={}));const Q0t=(t,e={message:`Input not instance of ${t.name}`})=>Ale(r=>r instanceof t,e),Dr=Vc.create,K1=Xh.create,J0t=DA.create,evt=Zh.create,Ch=hw.create,tvt=rg.create,rvt=TA.create,nvt=mw.create,avt=pw.create,ivt=dy.create,svt=kp.create,ovt=df.create,lvt=kA.create,z6=Qc.create,rc=Sa.create,cvt=Sa.strictCreate,uvt=gw.create,dvt=J5.create,fvt=vw.create,hvt=Qu.create,mvt=yw.create,pvt=PA.create,gvt=ng.create,vvt=nv.create,yvt=xw.create,xvt=bw.create,Nw=Qh.create,bvt=ww.create,wvt=fy.create,sW=ou.create,Svt=qu.create,_vt=Jh.create,jvt=ou.createWithPreprocess,Nvt=T2.create,Avt=()=>Dr().optional(),Evt=()=>K1().optional(),Cvt=()=>Ch().optional(),Tvt={string:t=>Vc.create({...t,coerce:!0}),number:t=>Xh.create({...t,coerce:!0}),boolean:t=>hw.create({...t,coerce:!0}),bigint:t=>Zh.create({...t,coerce:!0}),date:t=>rg.create({...t,coerce:!0})},kvt=Cr;var zl=Object.freeze({__proto__:null,defaultErrorMap:uy,setErrorMap:E0t,getErrorMap:AA,makeIssue:EA,EMPTY_PATH:C0t,addIssueToContext:Bt,ParseStatus:Ws,INVALID:Cr,DIRTY:I0,OK:vo,isAborted:JO,isDirty:e3,isValid:tg,isAsync:fw,get util(){return cn},get objectUtil(){return QO},ZodParsedType:Yt,getParsedType:Ld,ZodType:Xr,datetimeRegex:jle,ZodString:Vc,ZodNumber:Xh,ZodBigInt:Zh,ZodBoolean:hw,ZodDate:rg,ZodSymbol:TA,ZodUndefined:mw,ZodNull:pw,ZodAny:dy,ZodUnknown:kp,ZodNever:df,ZodVoid:kA,ZodArray:Qc,ZodObject:Sa,ZodUnion:gw,ZodDiscriminatedUnion:J5,ZodIntersection:vw,ZodTuple:Qu,ZodRecord:yw,ZodMap:PA,ZodSet:ng,ZodFunction:nv,ZodLazy:xw,ZodLiteral:bw,ZodEnum:Qh,ZodNativeEnum:ww,ZodPromise:fy,ZodEffects:ou,ZodTransformer:ou,ZodOptional:qu,ZodNullable:Jh,ZodDefault:Sw,ZodCatch:_w,ZodNaN:DA,BRAND:X0t,ZodBranded:U6,ZodPipeline:T2,ZodReadonly:jw,custom:Ale,Schema:Xr,ZodSchema:Xr,late:Z0t,get ZodFirstPartyTypeKind(){return jr},coerce:Tvt,any:ivt,array:z6,bigint:evt,boolean:Ch,date:tvt,discriminatedUnion:dvt,effect:sW,enum:Nw,function:vvt,instanceof:Q0t,intersection:fvt,lazy:yvt,literal:xvt,map:pvt,nan:J0t,nativeEnum:bvt,never:ovt,null:avt,nullable:_vt,number:K1,object:rc,oboolean:Cvt,onumber:Evt,optional:Svt,ostring:Avt,pipeline:Nvt,preprocess:jvt,promise:wvt,record:mvt,set:gvt,strictObject:cvt,string:Dr,symbol:rvt,transformer:sW,tuple:hvt,undefined:nvt,union:uvt,unknown:svt,void:lvt,NEVER:kvt,ZodIssueCode:jt,quotelessJson:A0t,ZodError:vl});const Wl=a0t,Ele=N.createContext({}),er=({...t})=>o.jsx(Ele.Provider,{value:{name:t.name},children:o.jsx(l0t,{...t})}),eC=()=>{const t=N.useContext(Ele),e=N.useContext(Cle),{getFieldState:r,formState:n}=Q5(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Cle=N.createContext({}),Zt=N.forwardRef(({className:t,...e},r)=>{const n=N.useId();return o.jsx(Cle.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:Ke("space-y-2",t),...e})})});Zt.displayName="FormItem";const Kt=N.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:a}=eC();return o.jsx(pt,{ref:r,className:Ke(n&&"text-destructive",t),htmlFor:a,...e})});Kt.displayName="FormLabel";const tr=N.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=eC();return o.jsx(kue,{ref:e,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...t})});tr.displayName="FormControl";const yi=N.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=eC();return o.jsx("p",{ref:r,id:n,className:Ke("text-sm text-muted-foreground",t),...e})});yi.displayName="FormDescription";const sr=N.forwardRef(({className:t,children:e,...r},n)=>{const{error:a,formMessageId:i}=eC(),s=a?String(a==null?void 0:a.message):e;return s?o.jsx("p",{ref:n,id:i,className:Ke("text-sm font-medium text-destructive",t),...r,children:s}):null});sr.displayName="FormMessage";const vm=Due,ym=Oue,Pvt=N.forwardRef(({className:t,inset:e,children:r,...n},a)=>o.jsxs(dq,{ref:a,className:Ke("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,o.jsx(hy,{className:"ml-auto h-4 w-4"})]}));Pvt.displayName=dq.displayName;const Dvt=N.forwardRef(({className:t,...e},r)=>o.jsx(fq,{ref:r,className:Ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Dvt.displayName=fq.displayName;const yf=N.forwardRef(({className:t,sideOffset:e=4,...r},n)=>o.jsx(Pue,{children:o.jsx(hq,{ref:n,sideOffset:e,className:Ke("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));yf.displayName=hq.displayName;const Aa=N.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(mq,{ref:n,className:Ke("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));Aa.displayName=mq.displayName;const Ovt=N.forwardRef(({className:t,children:e,checked:r,...n},a)=>o.jsxs(pq,{ref:a,className:Ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(gq,{children:o.jsx(Bs,{className:"h-4 w-4"})})}),e]}));Ovt.displayName=pq.displayName;const Ivt=N.forwardRef(({className:t,children:e,...r},n)=>o.jsxs(vq,{ref:n,className:Ke("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(gq,{children:o.jsx(eG,{className:"h-2 w-2 fill-current"})})}),e]}));Ivt.displayName=vq.displayName;const k2=N.forwardRef(({className:t,inset:e,...r},n)=>o.jsx(yq,{ref:n,className:Ke("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));k2.displayName=yq.displayName;const ag=N.forwardRef(({className:t,...e},r)=>o.jsx(xq,{ref:r,className:Ke("-mx-1 my-1 h-px bg-muted",t),...e}));ag.displayName=xq.displayName;const xf=Mue,Tle=Rue,Mvt=Iue,kle=N.forwardRef(({className:t,...e},r)=>o.jsx(bq,{className:Ke("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));kle.displayName=bq.displayName;const cd=N.forwardRef(({className:t,...e},r)=>o.jsxs(Mvt,{children:[o.jsx(kle,{}),o.jsx(wq,{ref:r,className:Ke("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));cd.displayName=wq.displayName;const ud=({className:t,...e})=>o.jsx("div",{className:Ke("flex flex-col space-y-2 text-center sm:text-left",t),...e});ud.displayName="AlertDialogHeader";const dd=({className:t,...e})=>o.jsx("div",{className:Ke("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});dd.displayName="AlertDialogFooter";const fd=N.forwardRef(({className:t,...e},r)=>o.jsx(Sq,{ref:r,className:Ke("text-lg font-semibold",t),...e}));fd.displayName=Sq.displayName;const hd=N.forwardRef(({className:t,...e},r)=>o.jsx(_q,{ref:r,className:Ke("text-sm text-muted-foreground",t),...e}));hd.displayName=_q.displayName;const md=N.forwardRef(({className:t,...e},r)=>o.jsx(jq,{ref:r,className:Ke(fb(),t),...e}));md.displayName=jq.displayName;const pd=N.forwardRef(({className:t,...e},r)=>o.jsx(Nq,{ref:r,className:Ke(fb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));pd.displayName=Nq.displayName;function V6(){const[t,e]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState(null),[s,l]=N.useState(null),[c,u]=N.useState(!1),d=N.useCallback(()=>{if(!t)return!1;const p=new Date,y=new Date(t.expirationDate);return t.isActive&&y>p},[t]),f=N.useCallback(()=>{if(!t||!t.expirationDate)return 0;const p=new Date,x=new Date(t.expirationDate).getTime()-p.getTime(),b=Math.ceil(x/(1e3*60*60*24));return Math.max(0,b)},[t]),m=async p=>{if(c&&!p)return!1;n(!0),i(null);try{const y=p||s;if(y){const{data:x,error:b}=await ye.from("licenses").select("*").eq("license_key",y);if(b)return console.error("Erro ao verificar licena"),i("Erro ao verificar licena."),n(!1),u(!0),!1;if(!x||x.length===0)return i("Licena no encontrada."),e(null),l(null),n(!1),u(!0),!1;const w=x[0],_=new Date,j=new Date(w.expiration_date),A=w.is_active&&j>_;try{(await ye.from("licenses").update({last_check:_.toISOString()}).eq("id",w.id)).error&&console.error("Erro ao atualizar registro de verificao")}catch{console.error("Erro ao atualizar registro de verificao")}const E=IS(w);return e(E),A?(l(w.license_key),u(!1)):(l(null),i("Licena expirada ou invlida."),u(!0)),n(!1),A}else{const{data:x,error:b}=await ye.from("licenses").select("*").eq("is_active",!0).order("last_check",{ascending:!1}).limit(1);if(b)return console.error("Erro ao buscar licenas no banco de dados"),i("Erro ao buscar licenas no banco de dados."),n(!1),u(!0),!1;if(!x||x.length===0)return e(null),n(!1),u(!0),!1;const w=x[0];l(w.license_key);const _=new Date,j=new Date(w.expiration_date),A=w.is_active&&j>_;try{(await ye.from("licenses").update({last_check:_.toISOString()}).eq("id",w.id)).error&&console.error("Erro ao atualizar registro de verificao")}catch{console.error("Erro ao atualizar registro de verificao")}const E=IS(w);return e(E),n(!1),u(!A),A}}catch{return console.error("Erro durante verificao de licena"),i("Ocorreu um erro inesperado ao verificar a licena."),e(null),l(null),n(!1),u(!0),!1}},h=async()=>{n(!0),i(null);try{const{data:p,error:y}=await ye.from("licenses").select("*").eq("is_active",!0).order("last_check",{ascending:!1}).limit(1);if(y){console.error("Erro ao buscar licenas ativas"),n(!1),u(!0);return}p&&p.length>0?await m(p[0].license_key):(n(!1),u(!0))}catch{console.error("Erro ao verificar licenas"),i("Ocorreu um erro ao buscar a licena."),n(!1),u(!0)}};N.useEffect(()=>{h()},[]),N.useEffect(()=>{if(t&&d()){const p=setInterval(()=>{m()},864e5);return()=>{clearInterval(p)}}},[t,d]);const v=p=>{if(!p||p.length<10)return console.error("Chave de licena invlida: muito curta"),i("A chave de licena  muito curta ou est vazia."),!1;if(!(p.startsWith("AP-STD-")||p.startsWith("AP-ENT-")))return console.error("Prefixo de chave invlido"),i("A chave deve comear com 'AP-STD-' ou 'AP-ENT-'."),!1;if(!/^AP-(STD|ENT)-[A-Z0-9\-_]+$/.test(p))return console.error("Formato geral de chave invlido"),i("A chave contm caracteres invlidos. Use apenas letras, nmeros, hfens e underscores."),!1;const b=p.split("-");return b.length<4?(console.error("Chave com nmero insuficiente de blocos"),i("A chave est incompleta. Verifique se copiou todos os caracteres."),!1):(p.startsWith("AP-ENT-")&&b.length<5&&p.length<30,!0)},g=async p=>{if(n(!0),i(null),!p.trim())return i("Por favor, informe uma chave de licena vlida."),n(!1),!1;let y=p.trim().toUpperCase();if(y=y.replace(/\s+/g,""),!y.includes("-")&&(y.startsWith("APSTD")||y.startsWith("APENT"))){const x=y.startsWith("APSTD")?"STD":"ENT",b=y.slice(5),w=`AP-${x}-`,_=[];for(let j=0;j<b.length;j+=5)_.push(b.slice(j,j+5));y=w+_.join("-")}if((y.startsWith("AP-STD-")||y.startsWith("AP-ENT-"))&&!y.slice(7).includes("-")){const x=y.slice(0,7),b=y.slice(7),w=[];for(let _=0;_<b.length;_+=5)w.push(b.slice(_,_+5));y=x+w.join("-")}if(!v(y))return i("Formato de chave invlido."),n(!1),!1;try{const{data:{user:x}}=await ye.auth.getUser();let b;if(y.startsWith("AP-ENT-"))b="enterprise";else if(y.startsWith("AP-STD-"))b="standard";else return i("Tipo de licena no reconhecido no formato da chave."),n(!1),!1;const w="Cliente via Aplicao",_=new Date,j=new Date(_);b==="enterprise"?j.setDate(j.getDate()+365):j.setDate(j.getDate()+30);const{data:A,error:E}=await ye.from("licenses").select("*").eq("license_key",y);if(E)return console.error("Erro ao verificar licena existente"),i("Erro ao verificar licena no banco de dados."),n(!1),!1;if(A&&A.length>0){const P=A[0],{data:I,error:L}=await ye.from("licenses").update({status:"active",is_active:!0,activation_date:_.toISOString(),last_check:_.toISOString()}).eq("id",P.id).select().single();if(L)return console.error("Erro ao ativar licena existente"),i("Erro ao ativar a licena no banco de dados."),n(!1),!1;const V=IS(I);return e(V),l(y),u(!1),n(!1),!0}const{data:T,error:R}=await ye.from("licenses").insert({license_key:y,client_name:w,license_type:b,status:"active",is_active:!0,activation_date:_.toISOString(),expiration_date:j.toISOString(),last_check:_.toISOString(),user_id:x==null?void 0:x.id}).select().single();if(R)return console.error("Erro ao criar nova licena"),i("Erro ao registrar a licena no sistema."),n(!1),!1;const D=IS(T);return e(D),l(y),u(!1),n(!1),!0}catch{return console.error("Erro inesperado ao ativar licena"),i("Ocorreu um erro inesperado ao ativar a licena."),n(!1),!1}};return{license:t,isLoading:r,error:a,isLicenseValid:d(),activateLicense:g,checkLicense:m,getDaysRemaining:f()}}const Rvt={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},oW={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},Lvt=rc({name:Dr().min(2,{message:"Nome deve ter pelo menos 2 caracteres."}).max(50,{message:"Nome no pode ter mais de 50 caracteres."}),email:Dr().email({message:"Email invlido."}),avatar:Dr().optional()}),Fvt=rc({currentPassword:Dr().min(4,{message:"Senha atual deve ter pelo menos 4 caracteres."}),newPassword:Dr().min(4,{message:"Nova senha deve ter pelo menos 4 caracteres."}),confirmPassword:Dr()}).refine(t=>t.newPassword===t.confirmPassword,{message:"As senhas no coincidem.",path:["confirmPassword"]}),$vt=rc({documentType:Nw(["cpf","cnpj"],{required_error:"Selecione o tipo de documento."}),documentNumber:Dr().min(11,{message:"CPF deve ter 11 dgitos ou CNPJ deve ter 14 dgitos."}).max(14,{message:"CPF deve ter 11 dgitos ou CNPJ deve ter 14 dgitos."}),tradingName:Dr().min(2,{message:"Nome fantasia deve ter pelo menos 2 caracteres."}).max(100,{message:"Nome fantasia no pode ter mais de 100 caracteres."}),legalName:Dr().min(2,{message:"Razo social deve ter pelo menos 2 caracteres."}).max(100,{message:"Razo social no pode ter mais de 100 caracteres."}),phone:Dr().min(10,{message:"Telefone deve ter pelo menos 10 dgitos."}).max(20,{message:"Telefone no pode ter mais de 20 caracteres."}),email:Dr().email({message:"Email invlido."}),zipCode:Dr().length(8,{message:"CEP deve ter 8 dgitos."}),address:Dr().min(2,{message:"Endereo deve ter pelo menos 2 caracteres."}).max(200,{message:"Endereo no pode ter mais de 200 caracteres."}),number:Dr().min(1,{message:"Nmero  obrigatrio."}).max(10,{message:"Nmero no pode ter mais de 10 caracteres."}),complement:Dr().max(100,{message:"Complemento no pode ter mais de 100 caracteres."}).optional(),neighborhood:Dr().min(2,{message:"Bairro deve ter pelo menos 2 caracteres."}).max(100,{message:"Bairro no pode ter mais de 100 caracteres."}),city:Dr().min(2,{message:"Cidade deve ter pelo menos 2 caracteres."}).max(100,{message:"Cidade no pode ter mais de 100 caracteres."}),state:Dr().length(2,{message:"Estado deve ter 2 caracteres."}),logoUrl:Dr().optional()}),Bvt=rc({businessHours:z6(rc({id:Dr().optional(),dayOfWeek:Dr(),openTime:Dr().nullable(),closeTime:Dr().nullable(),isClosed:Ch().default(!1)}))}),Uvt=rc({registrationEnabled:Ch().default(!0)}),zvt=rc({id:Dr().optional(),name:Dr().min(2,{message:"Nome deve ter pelo menos 2 caracteres."}),email:Dr().email({message:"Email invlido."}),role:Nw(["admin","manager","user"],{required_error:"Selecione uma funo."}),permissions:z6(Dr())}),lW=t=>{const e={"Segunda-feira":1,"Tera-feira":2,"Quarta-feira":3,"Quinta-feira":4,"Sexta-feira":5,Sbado:6,Domingo:7};return[...t].sort((r,n)=>e[r.dayOfWeek]-e[n.dayOfWeek])},r3=W.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ke("flex items-center p-6 pt-0",t),...e}));r3.displayName="CardFooter";const Vvt=()=>{var Qr;const t=ac(),r=new URLSearchParams(t.search).get("tab"),{toast:n}=ga(),{user:a,isAuthenticated:i,updateUserProfile:s,updateUserPassword:l,isRegistrationEnabled:c,setRegistrationEnabled:u,hasPermission:d}=lu(),[f,m]=N.useState(!1),[h,v]=N.useState(a==null?void 0:a.avatar),[g,p]=N.useState("profile"),[y,x]=N.useState(null),[b,w]=N.useState(void 0),[_,j]=N.useState([]),[A,E]=N.useState([]),[T,R]=N.useState(null),[D,P]=N.useState(!1),[I,L]=N.useState(!1),[V,H]=N.useState([{id:"dashboard",name:"Dashboard"},{id:"agenda",name:"Agenda"},{id:"services",name:"Servios"},{id:"professionals",name:"Profissionais"},{id:"clients",name:"Clientes"},{id:"ratings",name:"Avaliaes"},{id:"survey",name:"Pesquisa"},{id:"loyalty",name:"Fidelidade"},{id:"reports",name:"Relatrios"},{id:"finance",name:"Financeiro"},{id:"settings",name:"Configuraes"},{id:"evolution-api",name:"Evolution API"},{id:"ai",name:"IA"}]),[q,G]=N.useState(null),{license:re,isLoading:Z,error:de,isLicenseValid:k,activateLicense:F,checkLicense:B,getDaysRemaining:z}=V6(),[ee,le]=N.useState(""),[ge,se]=N.useState(!1),ie=d("settings"),we=d("settings"),pe=(a==null?void 0:a.role)==="admin",Me=(a==null?void 0:a.role)==="admin";N.useEffect(()=>{(g==="business"&&!ie||g==="business-hours"&&!we||g==="system-settings"&&!pe||g==="license"&&!Me)&&p("profile")},[g,ie,we,pe,Me]);const he=Vl({resolver:Hl(Lvt),defaultValues:{name:(a==null?void 0:a.name)||"",email:(a==null?void 0:a.email)||"",avatar:(a==null?void 0:a.avatar)||""}}),oe=Vl({resolver:Hl(Fvt),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),X=Vl({resolver:Hl($vt),defaultValues:{documentType:"cnpj",documentNumber:"",tradingName:"",legalName:"",phone:"",email:"",zipCode:"",address:"",number:"",complement:"",neighborhood:"",city:"",state:"",logoUrl:""}}),Ae=Vl({resolver:Hl(Bvt),defaultValues:{businessHours:[]}}),Be=Vl({resolver:Hl(Uvt),defaultValues:{registrationEnabled:c}}),qe=Vl({resolver:Hl(zvt),defaultValues:{name:"",email:"",role:"user",permissions:[]}});N.useEffect(()=>{a&&(he.reset({name:a.name,email:a.email,avatar:a.avatar}),v(a.avatar))},[a,he]),N.useEffect(()=>{(async()=>{if(i)try{const{data:Ye,error:_t}=await ye.from("business_data").select("*").limit(1).single();if(_t&&_t.code!=="PGRST116"){console.error("Erro ao buscar dados do estabelecimento:",_t);return}if(Ye){const Nt=yP(Ye);x(Nt),w(Nt.logoUrl),X.reset({documentType:Nt.documentType,documentNumber:Nt.documentNumber,tradingName:Nt.tradingName,legalName:Nt.legalName,phone:Nt.phone,email:Nt.email,zipCode:Nt.zipCode,address:Nt.address,number:Nt.number,complement:Nt.complement||"",neighborhood:Nt.neighborhood,city:Nt.city,state:Nt.state,logoUrl:Nt.logoUrl||""})}}catch(Ye){console.error("Erro ao buscar dados do estabelecimento:",Ye)}})()},[i,X]),N.useEffect(()=>{(async()=>{if(i)try{const{data:Ye,error:_t}=await ye.from("business_hours").select("*").order("id");if(_t){console.error("Erro ao buscar horrios de funcionamento:",_t);return}if(Ye&&Ye.length>0){const Nt=Ye.map(H8),pr=lW(Nt);j(pr),Ae.setValue("businessHours",pr.map(kr=>({id:kr.id,dayOfWeek:kr.dayOfWeek,openTime:kr.openTime,closeTime:kr.closeTime,isClosed:kr.isClosed})))}}catch(Ye){console.error("Erro ao buscar horrios de funcionamento:",Ye)}})()},[i,Ae]),N.useEffect(()=>{Be.setValue("registrationEnabled",c)},[c,Be]),N.useEffect(()=>{(async()=>{if(i&&(a==null?void 0:a.role)==="admin"){P(!0);try{const{data:Ye,error:_t}=await ye.from("users").select("*").order("created_at",{ascending:!1});if(_t){console.error("Erro ao buscar usurios:",_t);return}Ye&&E(Ye)}catch(Ye){console.error("Erro ao buscar usurios:",Ye)}finally{P(!1)}}})()},[i,a]);const st=async Ie=>{if(!a){n({variant:"destructive",title:"Erro ao atualizar perfil",description:"Voc precisa estar logado para atualizar seu perfil."});return}m(!0);try{await s({name:Ie.name,email:Ie.email,avatar:Ie.avatar})}catch(Ye){console.error("Erro ao atualizar perfil:",Ye)}finally{m(!1)}},Pe=async Ie=>{if(!a){n({variant:"destructive",title:"Erro ao atualizar senha",description:"Voc precisa estar logado para atualizar sua senha."});return}m(!0);try{await l(Ie.currentPassword,Ie.newPassword),oe.reset()}catch(Ye){console.error("Erro ao atualizar senha:",Ye)}finally{m(!1)}},ne=async Ie=>{if(!i){n({variant:"destructive",title:"Erro ao salvar dados",description:"Voc precisa estar logado para salvar os dados do estabelecimento."});return}m(!0);try{const Ye={document_type:Ie.documentType,document_number:Ie.documentNumber,trading_name:Ie.tradingName,legal_name:Ie.legalName,phone:Ie.phone,email:Ie.email,zip_code:Ie.zipCode,address:Ie.address,number:Ie.number,complement:Ie.complement,neighborhood:Ie.neighborhood,city:Ie.city,state:Ie.state,logo_url:Ie.logoUrl};let _t;if(y!=null&&y.id?_t=await ye.from("business_data").update(Ye).eq("id",y.id):_t=await ye.from("business_data").insert(Ye),_t.error)throw _t.error;n({title:"Dados salvos com sucesso",description:"Os dados do estabelecimento foram atualizados."});const{data:Nt,error:pr}=await ye.from("business_data").select("*").limit(1).single();!pr&&Nt&&x(yP(Nt))}catch(Ye){console.error("Erro ao salvar dados do estabelecimento:",Ye);const _t=Ye instanceof Error?Ye.message:"Ocorreu um erro ao salvar os dados do estabelecimento.";n({variant:"destructive",title:"Erro ao salvar dados",description:_t})}finally{m(!1)}},ue=async Ie=>{if(!i){n({variant:"destructive",title:"Erro ao salvar horrios",description:"Voc precisa estar logado para salvar os horrios de funcionamento."});return}m(!0);try{for(const Nt of Ie.businessHours){const pr={day_of_week:Nt.dayOfWeek,open_time:Nt.openTime,close_time:Nt.closeTime,is_closed:Nt.isClosed};if(Nt.id){const kr=await ye.from("business_hours").update(pr).eq("id",Nt.id);if(kr.error)throw kr.error}else{const kr=await ye.from("business_hours").insert(pr);if(kr.error)throw kr.error}}n({title:"Horrios salvos com sucesso",description:"Os horrios de funcionamento foram atualizados."});const{data:Ye,error:_t}=await ye.from("business_hours").select("*").order("id");if(!_t&&Ye){const Nt=Ye.map(H8),pr=lW(Nt);j(pr)}}catch(Ye){console.error("Erro ao salvar horrios de funcionamento:",Ye);const _t=Ye instanceof Error?Ye.message:"Ocorreu um erro ao salvar os horrios de funcionamento.";n({variant:"destructive",title:"Erro ao salvar horrios",description:_t})}finally{m(!1)}},Ne=async Ie=>{if(!i||!a||a.role!=="admin"){n({variant:"destructive",title:"Acesso negado",description:"Voc no tem permisso para alterar as configuraes do sistema."});return}m(!0);try{await u(Ie.registrationEnabled),n({title:"Configuraes atualizadas",description:"As configuraes do sistema foram atualizadas com sucesso."})}catch(Ye){console.error("Erro ao atualizar configuraes do sistema:",Ye)}finally{m(!1)}},Re=Ie=>{var _t;const Ye=(_t=Ie.target.files)==null?void 0:_t[0];if(Ye){const Nt=new FileReader;Nt.onloadend=()=>{const pr=Nt.result;v(pr),he.setValue("avatar",pr)},Nt.readAsDataURL(Ye)}},Fe=Ie=>{var _t;const Ye=(_t=Ie.target.files)==null?void 0:_t[0];if(Ye){const Nt=new FileReader;Nt.onloadend=()=>{const pr=Nt.result;w(pr),X.setValue("logoUrl",pr)},Nt.readAsDataURL(Ye)}},Xe=Ie=>Ie.split(" ").map(Ye=>Ye[0]).join("").toUpperCase().substring(0,2),it=async()=>{if(!ee.trim()){n({variant:"destructive",title:"Erro",description:"Por favor, informe uma chave de licena vlida."});return}se(!0);try{await F(ee)?(n({title:"Sucesso",description:"Licena ativada com sucesso!"}),le("")):n({variant:"destructive",title:"Erro",description:de||"No foi possvel ativar a licena."})}catch{n({variant:"destructive",title:"Erro",description:"Ocorreu um erro ao ativar a licena."})}finally{se(!1)}},vt=async()=>{try{await B(),n({title:"Verificao concluda",description:"Status da licena atualizado."})}catch{n({variant:"destructive",title:"Erro",description:"Ocorreu um erro ao verificar a licena."})}},Ct=()=>re?re.licenseType==="enterprise"?"Enterprise":"Standard":"",gt=()=>re&&re.licenseType==="enterprise"?365:30,Zr=()=>re&&re.licenseType==="enterprise"?"text-purple-700":"text-green-700",ir=()=>!re||!re.expirationDate?!0:!k,On=()=>{g==="profile"?he.handleSubmit(st)():g==="password"?oe.handleSubmit(Pe)():g==="business"?X.handleSubmit(ne)():g==="business-hours"?Ae.handleSubmit(ue)():g==="system-settings"?Be.handleSubmit(Ne)():g==="license"&&it()};N.useEffect(()=>{r&&["profile","password","business","business-hours","system-settings","license"].includes(r)&&p(r==="business"&&!ie||r==="business-hours"&&!we||r==="system-settings"&&!pe||r==="license"&&!Me?"profile":r)},[r,ie,we,pe,Me]),a==null||a.role;const zr=Ie=>{R(Ie),qe.reset({id:Ie.id,name:Ie.name,email:Ie.email,role:Ie.role,permissions:Ie.permissions||[]}),L(!0)},Fr=()=>{R(null),qe.reset({name:"",email:"",role:"user",permissions:[]}),L(!0)},ca=async Ie=>{if(!i||!a||a.role!=="admin"){n({variant:"destructive",title:"Acesso negado",description:"Voc no tem permisso para gerenciar usurios."});return}m(!0);try{if(T){const Nt={name:Ie.name,email:Ie.email,role:Ie.role,updated_at:new Date().toISOString()},{error:pr}=await ye.from("users").update({...Nt,permissions:Ie.permissions}).eq("id",T.id);if(pr&&pr.code==="PGRST204"){const{error:kr}=await ye.from("users").update(Nt).eq("id",T.id);if(kr)throw kr;n({variant:"destructive",title:"Usurio atualizado com restries",description:"As informaes do usurio foram atualizadas, mas a funcionalidade de permisses no est disponvel. Contate o administrador do sistema para atualizar o banco de dados."})}else{if(pr)throw pr;n({title:"Usurio atualizado",description:"As informaes do usurio foram atualizadas com sucesso."})}}else{const pr={name:Ie.name,email:Ie.email,password:"senha123",role:Ie.role,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:kr}=await ye.from("users").insert({...pr,permissions:Ie.permissions});if(kr&&kr.code==="PGRST204"){const{error:Qt}=await ye.from("users").insert(pr);if(Qt)throw Qt;n({variant:"destructive",title:"Usurio criado com restries",description:"O usurio foi criado, mas a funcionalidade de permisses no est disponvel. Contate o administrador do sistema para atualizar o banco de dados."})}else{if(kr)throw kr;n({title:"Usurio criado",description:"O novo usurio foi criado com sucesso."})}}const{data:Ye,error:_t}=await ye.from("users").select("*").order("created_at",{ascending:!1});!_t&&Ye&&E(Ye),L(!1)}catch(Ye){console.error("Erro ao gerenciar usurio:",Ye);const _t=Ye instanceof Error?Ye.message:"Ocorreu um erro ao gerenciar o usurio.";n({variant:"destructive",title:"Erro",description:_t})}finally{m(!1)}},Gr=Ie=>{G(Ie)},xs=()=>{G(null)},Cn=()=>{q&&(Qi(q),G(null))},Qi=async Ie=>{if(!i||!a||a.role!=="admin"){n({variant:"destructive",title:"Acesso negado",description:"Voc no tem permisso para excluir usurios."});return}if(Ie===a.id){n({variant:"destructive",title:"Operao no permitida",description:"Voc no pode excluir seu prprio usurio."});return}m(!0);try{const{error:Ye}=await ye.from("users").delete().eq("id",Ie);if(Ye)throw Ye;n({title:"Usurio excludo",description:"O usurio foi excludo com sucesso."}),E(A.filter(_t=>_t.id!==Ie))}catch(Ye){console.error("Erro ao excluir usurio:",Ye);const _t=Ye instanceof Error?Ye.message:"Ocorreu um erro ao excluir o usurio.";n({variant:"destructive",title:"Erro",description:_t})}finally{m(!1)}},Ji=Ie=>{switch(Ie){case"admin":return"Administrador";case"manager":return"Gerente";case"user":return"Usurio";default:return"Desconhecido"}};return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-4 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:Rvt,children:[o.jsxs(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sticky top-0 z-10 bg-background pt-4 pb-2",variants:oW,children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Configuraes"}),o.jsx(je,{onClick:On,disabled:f||ge,className:"w-full sm:w-auto",children:f||ge?"Salvando...":"Salvar Alteraes"})]}),o.jsx(nt.div,{variants:oW,children:o.jsxs(ys,{value:g,onValueChange:p,children:[o.jsxs(Di,{className:"flex overflow-x-auto w-full mb-4 pb-1 scrollbar-hide",children:[o.jsxs(qt,{value:"profile",className:"flex-1 min-w-[50px] flex items-center justify-center gap-2",children:[o.jsx(Yde,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Perfil"})]}),o.jsxs(qt,{value:"password",className:"flex-1 min-w-[50px] flex items-center justify-center gap-2",children:[o.jsx(Cde,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Senha"})]}),ie&&o.jsxs(qt,{value:"business",className:"flex-1 min-w-[50px] flex items-center justify-center gap-2",children:[o.jsx(pde,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Estabelecimento"})]}),we&&o.jsxs(qt,{value:"business-hours",className:"flex-1 min-w-[50px] flex items-center justify-center gap-2",children:[o.jsx(pn,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Horrios"})]}),pe&&o.jsxs(qt,{value:"system-settings",className:"flex-1 min-w-[50px] flex items-center justify-center gap-2",children:[o.jsx(py,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Configuraes"})]}),Me&&o.jsxs(qt,{value:"license",className:"flex-1 min-w-[50px] flex items-center justify-center gap-2",children:[o.jsx(cj,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Licena"})]})]}),o.jsx(nr,{value:"profile",children:o.jsxs(ot,{children:[o.jsxs(Ot,{className:"px-4 sm:px-6",children:[o.jsx(It,{children:"Informaes do Perfil"}),o.jsx(Nn,{children:"Atualize suas informaes pessoais e foto de perfil."})]}),o.jsx(lt,{className:"px-4 sm:px-6",children:o.jsx(Wl,{...he,children:o.jsx("form",{id:"profile-form",onSubmit:he.handleSubmit(st),className:"space-y-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center space-y-4 mx-auto md:mx-0",children:[o.jsxs(Lh,{className:"h-24 w-24",children:[o.jsx(Fh,{src:h}),o.jsx($h,{className:"text-lg",children:a!=null&&a.name?Xe(a.name):"U"})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("label",{htmlFor:"avatar-upload",className:"cursor-pointer text-sm text-primary hover:underline",children:"Alterar foto"}),o.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:Re})]})]}),o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsx(er,{control:he.control,name:"name",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Nome"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Seu nome",...Ie})}),o.jsx(sr,{})]})}),o.jsx(er,{control:he.control,name:"email",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Email"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"seu.email@exemplo.com",...Ie})}),o.jsx(sr,{})]})})]})]})})})})]})}),o.jsx(nr,{value:"password",children:o.jsxs(ot,{children:[o.jsxs(Ot,{className:"px-4 sm:px-6",children:[o.jsx(It,{children:"Alterar Senha"}),o.jsx(Nn,{children:"Atualize sua senha para manter sua conta segura."})]}),o.jsx(lt,{className:"px-4 sm:px-6",children:o.jsx(Wl,{...oe,children:o.jsxs("form",{id:"password-form",onSubmit:oe.handleSubmit(Pe),className:"space-y-4",children:[o.jsx(er,{control:oe.control,name:"currentPassword",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Senha atual"}),o.jsx(tr,{children:o.jsx(mt,{type:"password",placeholder:"",...Ie})}),o.jsx(sr,{})]})}),o.jsx(er,{control:oe.control,name:"newPassword",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Nova senha"}),o.jsx(tr,{children:o.jsx(mt,{type:"password",placeholder:"",...Ie})}),o.jsx(Nn,{className:"mt-1 text-xs",children:"A senha deve ter pelo menos 8 caracteres."}),o.jsx(sr,{})]})}),o.jsx(er,{control:oe.control,name:"confirmPassword",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Confirmar nova senha"}),o.jsx(tr,{children:o.jsx(mt,{type:"password",placeholder:"",...Ie})}),o.jsx(sr,{})]})})]})})})]})}),ie&&o.jsx(nr,{value:"business",children:o.jsxs(ot,{children:[o.jsxs(Ot,{className:"px-4 sm:px-6",children:[o.jsx(It,{children:"Dados do Estabelecimento"}),o.jsx(Nn,{children:"Atualize as informaes do seu estabelecimento."})]}),o.jsx(lt,{className:"px-4 sm:px-6",children:o.jsx(Wl,{...X,children:o.jsx("form",{id:"business-form",onSubmit:X.handleSubmit(ne),className:"space-y-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[o.jsxs("div",{className:"flex flex-col items-center space-y-4 mx-auto md:mx-0 w-full md:w-1/4",children:[o.jsx("div",{className:"w-32 h-32 border rounded-md flex items-center justify-center overflow-hidden bg-gray-100",children:b?o.jsx("img",{src:b,alt:"Logo do estabelecimento",className:"w-full h-full object-contain"}):o.jsx("span",{className:"text-gray-400",children:"Sem logo"})}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("label",{htmlFor:"logo-upload",className:"cursor-pointer text-sm text-primary hover:underline",children:"Alterar logo"}),o.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",className:"hidden",onChange:Fe})]})]}),o.jsxs("div",{className:"flex-1 space-y-4 md:w-3/4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(er,{control:X.control,name:"documentType",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Tipo de Documento"}),o.jsxs(un,{onValueChange:Ie.onChange,defaultValue:Ie.value,children:[o.jsx(tr,{children:o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione o tipo de documento"})})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"cpf",children:"CPF"}),o.jsx(Vt,{value:"cnpj",children:"CNPJ"})]})]}),o.jsx(sr,{})]})}),o.jsx(er,{control:X.control,name:"documentNumber",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Nmero do Documento"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"00000000000",...Ie})}),o.jsx(sr,{})]})})]}),o.jsx(er,{control:X.control,name:"tradingName",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Nome Fantasia"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Nome Fantasia",...Ie})}),o.jsx(sr,{})]})}),o.jsx(er,{control:X.control,name:"legalName",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Razo Social"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Razo Social",...Ie})}),o.jsx(sr,{})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(er,{control:X.control,name:"phone",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Telefone"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"(00) 00000-0000",...Ie})}),o.jsx(sr,{})]})}),o.jsx(er,{control:X.control,name:"email",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"E-mail"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"contato@empresa.com",...Ie})}),o.jsx(sr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(er,{control:X.control,name:"zipCode",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"CEP"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"00000000",...Ie})}),o.jsx(sr,{})]})}),o.jsx(er,{control:X.control,name:"address",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Endereo"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Rua, Avenida, etc.",...Ie})}),o.jsx(sr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(er,{control:X.control,name:"number",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Nmero"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"123",...Ie})}),o.jsx(sr,{})]})}),o.jsx(er,{control:X.control,name:"complement",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Complemento"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Sala, Andar, etc.",...Ie})}),o.jsx(sr,{})]})}),o.jsx(er,{control:X.control,name:"neighborhood",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Bairro"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Bairro",...Ie})}),o.jsx(sr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(er,{control:X.control,name:"city",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Cidade"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Cidade",...Ie})}),o.jsx(sr,{})]})}),o.jsx(er,{control:X.control,name:"state",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Estado"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"UF",maxLength:2,...Ie})}),o.jsx(sr,{})]})})]})]})]})})})})]})}),we&&o.jsx(nr,{value:"business-hours",children:o.jsxs(ot,{children:[o.jsxs(Ot,{className:"px-4 sm:px-6",children:[o.jsx(It,{children:"Horrios de Funcionamento"}),o.jsx(Nn,{children:"Configure os horrios de funcionamento do seu estabelecimento."})]}),o.jsx(lt,{className:"px-4 sm:px-6 overflow-x-auto",children:o.jsx(Wl,{...Ae,children:o.jsx("form",{id:"business-hours-form",onSubmit:Ae.handleSubmit(ue),className:"space-y-6",children:(Qr=Ae.watch("businessHours"))==null?void 0:Qr.map((Ie,Ye)=>o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-start border-b pb-4",children:[o.jsx(er,{control:Ae.control,name:`businessHours.${Ye}.dayOfWeek`,render:({field:_t})=>o.jsxs(Zt,{className:"sm:col-span-2 md:col-span-1",children:[o.jsx(Kt,{className:"font-medium text-base",children:_t.value}),o.jsx(tr,{children:o.jsx(mt,{type:"hidden",..._t})})]})}),o.jsx(er,{control:Ae.control,name:`businessHours.${Ye}.openTime`,render:({field:_t})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Abertura"}),o.jsx(tr,{children:o.jsx(mt,{type:"time",..._t,value:_t.value||"",disabled:Ae.watch(`businessHours.${Ye}.isClosed`)})}),o.jsx(sr,{})]})}),o.jsx(er,{control:Ae.control,name:`businessHours.${Ye}.closeTime`,render:({field:_t})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Fechamento"}),o.jsx(tr,{children:o.jsx(mt,{type:"time",..._t,value:_t.value||"",disabled:Ae.watch(`businessHours.${Ye}.isClosed`)})}),o.jsx(sr,{})]})}),o.jsx(er,{control:Ae.control,name:`businessHours.${Ye}.isClosed`,render:({field:_t})=>o.jsxs(Zt,{className:"flex flex-row items-center space-x-3 space-y-0 mt-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tr,{children:o.jsx(Fs,{checked:_t.value,onCheckedChange:_t.onChange,className:Ke("data-[state=checked]:bg-destructive","data-[state=unchecked]:bg-emerald-500")})}),o.jsx(Kt,{className:Ke(_t.value?"text-destructive":"text-emerald-500","font-medium"),children:_t.value?"Fechado":"Aberto"})]}),o.jsx(sr,{})]})})]},Ye))})})})]})}),pe&&o.jsxs(nr,{value:"system-settings",children:[o.jsxs(ot,{className:"mb-6",children:[o.jsxs(Ot,{className:"px-4 sm:px-6",children:[o.jsx(It,{children:"Configuraes do Sistema"}),o.jsx(Nn,{children:"Configure as opes globais do sistema."})]}),o.jsx(lt,{className:"px-4 sm:px-6",children:o.jsx(Wl,{...Be,children:o.jsx("form",{id:"system-settings-form",onSubmit:Be.handleSubmit(Ne),className:"space-y-6",children:o.jsx(er,{control:Be.control,name:"registrationEnabled",render:({field:Ie})=>o.jsxs(Zt,{className:"flex flex-col sm:flex-row items-start space-y-3 sm:space-y-0 sm:space-x-3 rounded-md border p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-between sm:justify-start",children:[o.jsx(tr,{children:o.jsx(Fs,{checked:Ie.value,onCheckedChange:Ie.onChange,className:Ke("data-[state=checked]:bg-emerald-500","data-[state=unchecked]:bg-destructive")})}),o.jsx(Kt,{className:Ke(Ie.value?"text-emerald-500":"text-destructive","font-medium sm:hidden"),children:Ie.value?"Ativado":"Desativado"})]}),o.jsxs("div",{className:"space-y-1 leading-none w-full sm:flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Kt,{className:"text-base",children:"Registro de novos usurios"}),o.jsx(Kt,{className:Ke(Ie.value?"text-emerald-500":"text-destructive","font-medium hidden sm:block"),children:Ie.value?"Ativado":"Desativado"})]}),o.jsx(yi,{children:"Quando ativado, novos usurios podem se registrar diretamente na tela de login. Quando desativado, apenas administradores podem criar novas contas de usurio."})]})]})})})})})]}),o.jsxs(ot,{children:[o.jsx(Ot,{className:"px-4 sm:px-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx(It,{children:"Gerenciamento de Usurios"}),o.jsx(Nn,{children:"Gerencie usurios e suas permisses de acesso."})]}),o.jsxs(je,{onClick:Fr,size:"sm",className:"w-full sm:w-auto",children:[o.jsx(bv,{className:"h-4 w-4 mr-2"}),"Adicionar Usurio"]})]})}),o.jsx(lt,{className:"px-4 sm:px-6 overflow-x-auto",children:D?o.jsx("div",{className:"text-center py-4",children:"Carregando..."}):o.jsx("div",{className:"min-w-full overflow-x-auto",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Nome"}),o.jsx(wt,{className:"hidden sm:table-cell",children:"Email"}),o.jsx(wt,{children:"Funo"}),o.jsx(wt,{className:"hidden sm:table-cell",children:"Permisses"}),o.jsx(wt,{className:"w-[80px]",children:"Aes"})]})}),o.jsx(di,{children:A.length===0?o.jsx(dr,{children:o.jsx(ct,{colSpan:5,className:"text-center py-4",children:"Nenhum usurio encontrado."})}):A.map(Ie=>o.jsxs(dr,{children:[o.jsx(ct,{className:"font-medium",children:o.jsxs("div",{children:[Ie.name,o.jsx("div",{className:"text-sm text-muted-foreground sm:hidden",children:Ie.email})]})}),o.jsx(ct,{className:"hidden sm:table-cell",children:Ie.email}),o.jsx(ct,{children:Ji(Ie.role)}),o.jsx(ct,{className:"hidden sm:table-cell",children:Ie.permissions&&Ie.permissions.length>0?Ie.permissions.map(Ye=>{const _t=V.find(Nt=>Nt.id===Ye);return _t?_t.name:Ye}).join(", "):"Todas"}),o.jsx(ct,{children:o.jsxs(vm,{children:[o.jsx(ym,{asChild:!0,children:o.jsx(je,{variant:"ghost",size:"sm",children:o.jsx(lj,{className:"h-4 w-4"})})}),o.jsxs(yf,{align:"end",children:[o.jsx(k2,{children:"Aes"}),o.jsx(ag,{}),o.jsxs(Aa,{onClick:()=>zr(Ie),children:[o.jsx(qde,{className:"h-4 w-4 mr-2"}),"Editar"]}),o.jsxs("div",{className:"relative flex items-center rounded-sm px-2 py-1.5 text-sm text-red-600 outline-none transition-colors hover:bg-accent hover:text-accent-foreground cursor-pointer",onClick:()=>{Ie.id!==(a==null?void 0:a.id)&&Gr(Ie.id)},style:{opacity:Ie.id===(a==null?void 0:a.id)?.5:1,cursor:Ie.id===(a==null?void 0:a.id)?"not-allowed":"pointer"},children:[o.jsx(Gde,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})]},Ie.id))})]})})})]}),o.jsx(wi,{open:I,onOpenChange:L,children:o.jsxs(ai,{className:"sm:max-w-[525px] max-w-[95vw] max-h-[90vh] overflow-y-auto",children:[o.jsxs(ii,{children:[o.jsx(si,{children:T?"Editar Usurio":"Adicionar Usurio"}),o.jsx(Bo,{children:T?"Edite as informaes e permisses do usurio.":"Preencha as informaes para criar um novo usurio."})]}),o.jsx("div",{className:"mt-4",children:o.jsx(Wl,{...qe,children:o.jsxs("form",{id:"user-management-form",onSubmit:qe.handleSubmit(ca),className:"space-y-4",children:[o.jsx(er,{control:qe.control,name:"name",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Nome"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Nome do usurio",...Ie})}),o.jsx(sr,{})]})}),o.jsx(er,{control:qe.control,name:"email",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Email"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"email@exemplo.com",type:"email",...Ie})}),o.jsx(sr,{})]})}),o.jsx(er,{control:qe.control,name:"role",render:({field:Ie})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Funo"}),o.jsxs(un,{onValueChange:Ie.onChange,defaultValue:Ie.value,children:[o.jsx(tr,{children:o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione a funo"})})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"admin",children:"Administrador"}),o.jsx(Vt,{value:"manager",children:"Gerente"}),o.jsx(Vt,{value:"user",children:"Usurio"})]})]}),o.jsx(yi,{children:"Administradores tm acesso completo ao sistema. Gerentes tm acesso limitado a algumas configuraes. Usurios tm acesso bsico."}),o.jsx(sr,{})]})}),o.jsx(er,{control:qe.control,name:"permissions",render:()=>o.jsxs(Zt,{children:[o.jsxs("div",{className:"mb-4",children:[o.jsx(Kt,{className:"text-base",children:"Permisses de Acesso"}),o.jsx(yi,{children:"Selecione as pginas que o usurio ter acesso. Se nenhuma for selecionada, o usurio ter acesso a todas as pginas conforme sua funo."})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:V.map(Ie=>o.jsx(er,{control:qe.control,name:"permissions",render:({field:Ye})=>{var Nt;const _t=(Nt=Ye.value)==null?void 0:Nt.includes(Ie.id);return o.jsx(Zt,{className:"flex flex-row items-start space-y-0",children:o.jsx(tr,{children:o.jsxs(je,{type:"button",variant:_t?"default":"outline",className:Ke("w-full justify-start gap-2 p-2 h-auto",_t?"bg-primary text-primary-foreground":"hover:bg-secondary"),onClick:()=>{var pr;_t?Ye.onChange((pr=Ye.value)==null?void 0:pr.filter(kr=>kr!==Ie.id)):Ye.onChange([...Ye.value,Ie.id])},children:[_t?o.jsx(Us,{className:"h-4 w-4"}):o.jsx("div",{className:"h-4 w-4 rounded-full border border-current"}),o.jsx("span",{children:Ie.name})]})})},Ie.id)}},Ie.id))}),o.jsx(sr,{})]})}),o.jsx(au,{className:"mt-6",children:o.jsx(je,{type:"submit",disabled:f,className:"w-full sm:w-auto",children:f?"Salvando...":T?"Atualizar":"Adicionar"})})]})})})]})}),o.jsx(xf,{open:q!==null,onOpenChange:Ie=>!Ie&&xs(),children:o.jsxs(cd,{className:"max-w-[95vw]",children:[o.jsxs(ud,{children:[o.jsx(fd,{children:"Confirmao de excluso"}),o.jsx(hd,{children:"Tem certeza que deseja excluir este usurio? Esta ao no pode ser desfeita."})]}),o.jsxs(dd,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[o.jsx(pd,{onClick:xs,className:"w-full sm:w-auto mt-2 sm:mt-0",children:"Cancelar"}),o.jsx(md,{onClick:Cn,className:"bg-red-600 hover:bg-red-700 w-full sm:w-auto",children:"Excluir"})]})]})})]}),Me&&o.jsx(nr,{value:"license",children:o.jsxs(ot,{className:"mb-6",children:[o.jsxs(Ot,{className:"px-4 sm:px-6",children:[o.jsx(It,{children:"Informaes da Licena"}),o.jsx(Nn,{children:"Visualize a licena do seu sistema."})]}),o.jsxs(lt,{className:"px-4 sm:px-6",children:[Z?o.jsxs("div",{className:"flex justify-center items-center py-10",children:[o.jsx("div",{className:"animate-spin mr-2",children:o.jsx(pn,{className:"h-5 w-5"})}),o.jsx("span",{children:"Carregando informaes da licena..."})]}):re&&re.isActive&&!ir()?o.jsx("div",{className:"space-y-6",children:o.jsxs(ot,{className:re.licenseType==="enterprise"?"border-purple-200":"border-green-200",children:[o.jsxs(Ot,{className:re.licenseType==="enterprise"?"bg-purple-50 border-b border-purple-100":"bg-green-50 border-b border-green-100",children:[o.jsxs(It,{className:`flex items-center gap-2 ${Zr()}`,children:[re.licenseType==="enterprise"?o.jsx(Io,{className:"h-5 w-5"}):o.jsx(Us,{className:"h-5 w-5"}),"Licena ",Ct()," Vlida"]}),o.jsxs(Nn,{children:["Sua licena est ativa e vlida at"," ",wr(new Date(re.expirationDate),"dd/MM/yyyy",{locale:Kn}),"."]})]}),o.jsx(lt,{className:"pt-6 pb-2",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Tipo"}),o.jsxs("p",{className:`flex items-center gap-1 ${Zr()}`,children:[re.licenseType==="enterprise"&&o.jsx(Io,{className:"h-4 w-4"}),Ct()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Validade"}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:"mr-2",children:[z," dias restantes"]}),o.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:o.jsx("div",{className:`${re.licenseType==="enterprise"?"bg-purple-500":"bg-green-500"} h-2 rounded-full`,style:{width:`${Math.min(100,z/gt()*100)}%`}})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Ativao"}),o.jsx("p",{children:re.activationDate?wr(new Date(re.activationDate),"dd/MM/yyyy",{locale:Kn}):"N/A"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Expirao"}),o.jsx("p",{children:re.expirationDate?wr(new Date(re.expirationDate),"dd/MM/yyyy",{locale:Kn}):"N/A"})]})]})}),o.jsxs(r3,{className:"border-t border-gray-100 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 pt-4",children:[o.jsx("div",{className:"text-sm text-gray-500",children:o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsx(Jc,{className:"h-4 w-4"}),o.jsxs("span",{children:["Durao: ",gt()," dias"]})]})}),o.jsx(je,{variant:"outline",size:"sm",onClick:vt,disabled:Z,children:"Verificar Licena"})]})]})}):o.jsxs(ot,{className:"border-red-200",children:[o.jsxs(Ot,{className:"bg-red-50 border-b border-red-100",children:[o.jsxs(It,{className:"flex items-center gap-2 text-red-700",children:[o.jsx(hs,{className:"h-5 w-5"}),"Nenhuma Licena Encontrada"]}),o.jsx(Nn,{children:"No foi encontrada nenhuma licena vlida. Por favor, ative uma licena para utilizar o sistema."})]}),o.jsx(lt,{className:"pt-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"licenseKey",className:"block text-sm font-medium mb-1",children:"Chave de Licena"}),o.jsx(mt,{id:"licenseKey",value:ee,onChange:Ie=>le(Ie.target.value),placeholder:"Digite sua chave de licena",className:"w-full"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(je,{onClick:it,disabled:ge||!ee.trim(),className:"flex-1",children:ge?"Ativando...":"Ativar Licena"}),o.jsx(je,{onClick:vt,variant:"outline",disabled:Z,children:"Verificar Novamente"})]})]})}),o.jsxs(r3,{className:"border-t border-gray-100 text-sm text-gray-500 flex flex-col items-start pt-4",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(Jc,{className:"h-4 w-4"}),o.jsx("span",{children:"Sobre o Licenciamento"})]}),o.jsx("p",{children:"O Agenda Pro requer uma licena vlida para funcionar. Existem dois tipos de licena:"}),o.jsxs("ul",{className:"list-disc pl-5 mt-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Standard:"})," Licena com durao de 30 dias"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Enterprise:"})," Licena com durao de 1 ano (365 dias)"]})]}),o.jsx("p",{className:"mt-2",children:"Para obter uma nova licena, entre na sua rea de membros e gere uma licena atravs do sistema de gerao disponibilizado."})]})]}),de&&o.jsx("div",{className:"mt-4",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md flex items-start gap-2",children:[o.jsx(hs,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Erro ao carregar informaes da licena"}),o.jsx("p",{className:"text-sm",children:de})]})]})})]})]})})]})})]})})};function tC(){return(tC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ple(t,e){if(t==null)return{};var r,n,a={},i=Object.keys(t);for(n=0;n<i.length;n++)e.indexOf(r=i[n])>=0||(a[r]=t[r]);return a}function n3(t){var e=N.useRef(t),r=N.useRef(function(n){e.current&&e.current(n)});return e.current=t,r.current}var Aw=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t<e?e:t},X1=function(t){return"touches"in t},a3=function(t){return t&&t.ownerDocument.defaultView||self},cW=function(t,e,r){var n=t.getBoundingClientRect(),a=X1(e)?function(i,s){for(var l=0;l<i.length;l++)if(i[l].identifier===s)return i[l];return i[0]}(e.touches,r):e;return{left:Aw((a.pageX-(n.left+a3(t).pageXOffset))/n.width),top:Aw((a.pageY-(n.top+a3(t).pageYOffset))/n.height)}},uW=function(t){!X1(t)&&t.preventDefault()},Dle=W.memo(function(t){var e=t.onMove,r=t.onKey,n=Ple(t,["onMove","onKey"]),a=N.useRef(null),i=n3(e),s=n3(r),l=N.useRef(null),c=N.useRef(!1),u=N.useMemo(function(){var h=function(p){uW(p),(X1(p)?p.touches.length>0:p.buttons>0)&&a.current?i(cW(a.current,p,l.current)):g(!1)},v=function(){return g(!1)};function g(p){var y=c.current,x=a3(a.current),b=p?x.addEventListener:x.removeEventListener;b(y?"touchmove":"mousemove",h),b(y?"touchend":"mouseup",v)}return[function(p){var y=p.nativeEvent,x=a.current;if(x&&(uW(y),!function(w,_){return _&&!X1(w)}(y,c.current)&&x)){if(X1(y)){c.current=!0;var b=y.changedTouches||[];b.length&&(l.current=b[0].identifier)}x.focus(),i(cW(x,y,l.current)),g(!0)}},function(p){var y=p.which||p.keyCode;y<37||y>40||(p.preventDefault(),s({left:y===39?.05:y===37?-.05:0,top:y===40?.05:y===38?-.05:0}))},g]},[s,i]),d=u[0],f=u[1],m=u[2];return N.useEffect(function(){return m},[m]),W.createElement("div",tC({},n,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:a,onKeyDown:f,tabIndex:0,role:"slider"}))}),H6=function(t){return t.filter(Boolean).join(" ")},Ole=function(t){var e=t.color,r=t.left,n=t.top,a=n===void 0?.5:n,i=H6(["react-colorful__pointer",t.className]);return W.createElement("div",{className:i,style:{top:100*a+"%",left:100*r+"%"}},W.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},fs=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r},Hvt=function(t){return Kvt(i3(t))},i3=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?fs(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?fs(parseInt(t.substring(6,8),16)/255,2):1}},Wvt=function(t){return Yvt(Gvt(t))},qvt=function(t){var e=t.s,r=t.v,n=t.a,a=(200-e)*r/100;return{h:fs(t.h),s:fs(a>0&&a<200?e*r/100/(a<=100?a:200-a)*100:0),l:fs(a/2),a:fs(n,2)}},s3=function(t){var e=qvt(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Gvt=function(t){var e=t.h,r=t.s,n=t.v,a=t.a;e=e/360*6,r/=100,n/=100;var i=Math.floor(e),s=n*(1-r),l=n*(1-(e-i)*r),c=n*(1-(1-e+i)*r),u=i%6;return{r:fs(255*[n,l,s,s,c,n][u]),g:fs(255*[c,n,n,l,s,s][u]),b:fs(255*[s,s,c,n,n,l][u]),a:fs(a,2)}},P_=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Yvt=function(t){var e=t.r,r=t.g,n=t.b,a=t.a,i=a<1?P_(fs(255*a)):"";return"#"+P_(e)+P_(r)+P_(n)+i},Kvt=function(t){var e=t.r,r=t.g,n=t.b,a=t.a,i=Math.max(e,r,n),s=i-Math.min(e,r,n),l=s?i===e?(r-n)/s:i===r?2+(n-e)/s:4+(e-r)/s:0;return{h:fs(60*(l<0?l+6:l)),s:fs(i?s/i*100:0),v:fs(i/255*100),a}},Xvt=W.memo(function(t){var e=t.hue,r=t.onChange,n=H6(["react-colorful__hue",t.className]);return W.createElement("div",{className:n},W.createElement(Dle,{onMove:function(a){r({h:360*a.left})},onKey:function(a){r({h:Aw(e+360*a.left,0,360)})},"aria-label":"Hue","aria-valuenow":fs(e),"aria-valuemax":"360","aria-valuemin":"0"},W.createElement(Ole,{className:"react-colorful__hue-pointer",left:e/360,color:s3({h:e,s:100,v:100,a:1})})))}),Zvt=W.memo(function(t){var e=t.hsva,r=t.onChange,n={backgroundColor:s3({h:e.h,s:100,v:100,a:1})};return W.createElement("div",{className:"react-colorful__saturation",style:n},W.createElement(Dle,{onMove:function(a){r({s:100*a.left,v:100-100*a.top})},onKey:function(a){r({s:Aw(e.s+100*a.left,0,100),v:Aw(e.v-100*a.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+fs(e.s)+"%, Brightness "+fs(e.v)+"%"},W.createElement(Ole,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:s3(e)})))}),Ile=function(t,e){if(t===e)return!0;for(var r in t)if(t[r]!==e[r])return!1;return!0},Qvt=function(t,e){return t.toLowerCase()===e.toLowerCase()||Ile(i3(t),i3(e))};function Jvt(t,e,r){var n=n3(r),a=N.useState(function(){return t.toHsva(e)}),i=a[0],s=a[1],l=N.useRef({color:e,hsva:i});N.useEffect(function(){if(!t.equal(e,l.current.color)){var u=t.toHsva(e);l.current={hsva:u,color:e},s(u)}},[e,t]),N.useEffect(function(){var u;Ile(i,l.current.hsva)||t.equal(u=t.fromHsva(i),l.current.color)||(l.current={hsva:i,color:u},n(u))},[i,t,n]);var c=N.useCallback(function(u){s(function(d){return Object.assign({},d,u)})},[]);return[i,c]}var eyt=typeof window<"u"?N.useLayoutEffect:N.useEffect,tyt=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},dW=new Map,ryt=function(t){eyt(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!dW.has(e)){var r=e.createElement("style");r.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,dW.set(e,r);var n=tyt();n&&r.setAttribute("nonce",n),e.head.appendChild(r)}},[])},nyt=function(t){var e=t.className,r=t.colorModel,n=t.color,a=n===void 0?r.defaultColor:n,i=t.onChange,s=Ple(t,["className","colorModel","color","onChange"]),l=N.useRef(null);ryt(l);var c=Jvt(r,a,i),u=c[0],d=c[1],f=H6(["react-colorful",e]);return W.createElement("div",tC({},s,{ref:l,className:f}),W.createElement(Zvt,{hsva:u,onChange:d}),W.createElement(Xvt,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},ayt={defaultColor:"000",toHsva:Hvt,fromHsva:function(t){return Wvt({h:t.h,s:t.s,v:t.v,a:1})},equal:Qvt},zf=function(t){return W.createElement(nyt,tC({},t,{colorModel:ayt}))};const iyt=Ow("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-white text-slate-950 dark:bg-slate-950 dark:text-slate-50",destructive:"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:text-red-500"}},defaultVariants:{variant:"default"}}),Sl=N.forwardRef(({className:t,variant:e,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:Ke(iyt({variant:e}),t),...r}));Sl.displayName="Alert";const nc=N.forwardRef(({className:t,...e},r)=>o.jsx("h5",{ref:r,className:Ke("mb-1 font-medium leading-none tracking-tight",t),...e}));nc.displayName="AlertTitle";const _l=N.forwardRef(({className:t,...e},r)=>o.jsx("div",{ref:r,className:Ke("text-sm [&_p]:leading-relaxed",t),...e}));_l.displayName="AlertDescription";const fW=[{value:"Inter, sans-serif",label:"Inter"},{value:"Roboto, sans-serif",label:"Roboto"},{value:"Poppins, sans-serif",label:"Poppins"},{value:"Montserrat, sans-serif",label:"Montserrat"},{value:"Open Sans, sans-serif",label:"Open Sans"},{value:"Lato, sans-serif",label:"Lato"},{value:"Raleway, sans-serif",label:"Raleway"},{value:"Nunito, sans-serif",label:"Nunito"},{value:"Playfair Display, serif",label:"Playfair Display"},{value:"Merriweather, serif",label:"Merriweather"}],syt=[{value:"14px",label:"Pequeno (14px)"},{value:"16px",label:"Mdio (16px)"},{value:"18px",label:"Grande (18px)"},{value:"20px",label:"Muito Grande (20px)"}],oyt={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},lk={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},lyt=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(""),[a,i]=N.useState(""),[s,l]=N.useState(""),[c,u]=N.useState("#1A252F"),[d,f]=N.useState("#2C3E50"),[m,h]=N.useState("#2563eb"),[v,g]=N.useState("#1e293b"),[p,y]=N.useState("#ffffff"),[x,b]=N.useState("#ffffff"),[w,_]=N.useState("#ef4444"),[j,A]=N.useState("#dc2626"),[E,T]=N.useState(""),[R,D]=N.useState(""),[P,I]=N.useState(""),[L,V]=N.useState("Inter, sans-serif"),[H,q]=N.useState("16px"),[G,re]=N.useState("Inter, sans-serif"),[Z,de]=N.useState(null),[k,F]=N.useState(!1),[B,z]=N.useState(!1),[ee,le]=N.useState(null),[ge,se]=N.useState(null),[ie,we]=N.useState(null),[pe,Me]=N.useState(""),[he,oe]=N.useState(!1),[X,Ae]=N.useState(!1),{settings:Be,applyCustomStyles:qe,updateSettings:st}=rd();N.useEffect(()=>{(async()=>{F(!0),se(null);try{const{data:Ne,error:Re}=await ye.from("customization").select("*").order("created_at",{ascending:!1}).limit(1);if(Re)throw console.error("Erro ao carregar configuraes:",Re),se(`Erro ao carregar configuraes: ${Re.message}`),Re;if(Ne&&Ne.length>0){const Fe=Ne[0];le(Fe.id),e(Fe.menu_logo||""),n(Fe.login_logo||""),i(Fe.dashboard_logo||""),l(Fe.favicon||""),u(Fe.primary_color||"#1A252F"),f(Fe.secondary_color||"#2C3E50"),h(Fe.hover_color||"#2563eb"),g(Fe.navbar_color||"#1e293b"),y(Fe.menu_text_color||"#ffffff"),b(Fe.button_text_color||"#ffffff"),_(Fe.action_button_color||"#ef4444"),A(Fe.action_button_hover_color||"#dc2626"),T(Fe.welcome_text||""),D(Fe.footer_text||""),I(Fe.site_title||""),V(Fe.font_family||"Inter, sans-serif"),q(Fe.font_size||"16px"),re(Fe.heading_font_family||"Inter, sans-serif")}}catch(Ne){console.error("Erro ao carregar configuraes:",Ne),Oe.error("Erro ao carregar configuraes de customizao")}finally{F(!1)}})()},[]);const Pe=async()=>{z(!0),se(null);try{const ue=new Date().toISOString(),Ne={menuLogo:t,loginLogo:r,dashboardLogo:a,favicon:s,primaryColor:c,secondaryColor:d,hoverColor:m,navbarColor:v,menuTextColor:p,buttonTextColor:x,actionButtonColor:w,actionButtonHoverColor:j,welcomeText:E,footerText:R,siteTitle:P,fontFamily:L,fontSize:H,headingFontFamily:G,loaded:!0};if(ee){const{error:Re}=await ye.from("customization").update({menu_logo:t,login_logo:r,dashboard_logo:a,favicon:s,primary_color:c,secondary_color:d,hover_color:m,navbar_color:v,menu_text_color:p,button_text_color:x,action_button_color:w,action_button_hover_color:j,welcome_text:E,footer_text:R,site_title:P,font_family:L,font_size:H,heading_font_family:G,updated_at:ue}).eq("id",ee);if(Re)throw console.error("Erro ao atualizar configuraes:",Re),se(`Erro ao atualizar configuraes: ${Re.message}`),Re}else{const Re=Mo(),{error:Fe}=await ye.from("customization").insert({id:Re,menu_logo:t,login_logo:r,dashboard_logo:a,favicon:s,primary_color:c,secondary_color:d,hover_color:m,navbar_color:v,menu_text_color:p,button_text_color:x,action_button_color:w,action_button_hover_color:j,welcome_text:E,footer_text:R,site_title:P,font_family:L,font_size:H,heading_font_family:G,created_at:ue,updated_at:ue});if(Fe)throw console.error("Erro ao criar configuraes:",Fe),se(`Erro ao criar configuraes: ${Fe.message}`),Fe;le(Re)}st(Ne),Oe.success("Configuraes de customizao salvas com sucesso!")}catch(ue){const Ne=ue instanceof Error?ue.message:"Erro desconhecido";console.error("Erro ao salvar configuraes:",ue),Oe.error(`Erro ao salvar configuraes: ${Ne}`)}finally{z(!1)}},ne=(ue,Ne)=>{oe(!0),Ae(!1);const Re=document.createElement("img");Re.onload=()=>{we(ue),Me(Ne),oe(!1)},Re.onerror=()=>{Ae(!0),oe(!1),Oe.error("Erro ao carregar a imagem. Verifique a URL.")},Re.src=ue};return k?o.jsx(gs,{children:o.jsxs("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:[o.jsx(_a,{className:"h-8 w-8 animate-spin text-primary"}),o.jsx("span",{className:"ml-2 text-lg",children:"Carregando configuraes..."})]})}):o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-4 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:oyt,children:[o.jsxs(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sticky top-0 z-10 bg-background pt-4 pb-2",variants:lk,children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Customizao"}),o.jsx(je,{onClick:Pe,disabled:B,className:"w-full sm:w-auto custom-button-primary",children:B?o.jsxs(o.Fragment,{children:[o.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar Alteraes"})]}),ge&&o.jsx(nt.div,{variants:lk,children:o.jsxs(Sl,{variant:"destructive",children:[o.jsx(hs,{className:"h-4 w-4"}),o.jsx(_l,{children:ge})]})}),o.jsx(nt.div,{variants:lk,children:o.jsxs(ot,{children:[o.jsx(Ot,{className:"px-4 sm:px-6",children:o.jsx(It,{children:"Personalize seu Sistema"})}),o.jsx(lt,{className:"px-4 sm:px-6",children:o.jsxs(ys,{defaultValue:"logos",className:"w-full",children:[o.jsxs(Di,{className:"flex overflow-x-auto w-full mb-4 pb-1 scrollbar-hide",children:[o.jsxs(qt,{value:"logos",className:"flex-1 min-w-[80px] flex items-center justify-center gap-2",children:[o.jsx(Ede,{size:16}),"Logos"]}),o.jsxs(qt,{value:"colors",className:"flex-1 min-w-[80px] flex items-center justify-center gap-2",children:[o.jsx(Ode,{size:16}),"Cores"]}),o.jsxs(qt,{value:"texts",className:"flex-1 min-w-[80px] flex items-center justify-center gap-2",children:[o.jsx(Wde,{size:16}),"Textos"]}),o.jsxs(qt,{value:"fonts",className:"flex-1 min-w-[80px] flex items-center justify-center gap-2",children:[o.jsx(zde,{size:16}),"Fontes"]})]}),o.jsx(nr,{value:"logos",className:"space-y-4 mt-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"dashboardLogo",children:"Logomarca"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mt,{id:"dashboardLogo",placeholder:"URL da logomarca - Tamanho: 200x40px",value:a,onChange:ue=>i(ue.target.value)}),a&&o.jsx(je,{variant:"outline",size:"icon",onClick:()=>{ne(a,"Logomarca")},children:o.jsx(xv,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"favicon",children:"URL do Favicon"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mt,{id:"favicon",placeholder:"URL do favicon",value:s,onChange:ue=>l(ue.target.value)}),s&&o.jsx(je,{variant:"outline",size:"icon",onClick:()=>{ne(s,"Favicon")},children:o.jsx(xv,{className:"h-4 w-4"})})]})]})]})}),o.jsx(nr,{value:"colors",className:"space-y-4 mt-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Cores Principais"}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"primaryColor",children:"Cor Primria"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-md cursor-pointer border",style:{backgroundColor:c},onClick:()=>de(Z==="primary"?null:"primary")}),o.jsx(mt,{id:"primaryColor",value:c,onChange:ue=>u(ue.target.value)})]}),Z==="primary"&&o.jsx("div",{className:"mt-2 overflow-hidden",children:o.jsx(zf,{color:c,onChange:u,className:"w-full max-w-[224px] mx-auto"})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"secondaryColor",children:"Cor Secundria"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-md cursor-pointer border",style:{backgroundColor:d},onClick:()=>de(Z==="secondary"?null:"secondary")}),o.jsx(mt,{id:"secondaryColor",value:d,onChange:ue=>f(ue.target.value)})]}),Z==="secondary"&&o.jsx("div",{className:"mt-2 overflow-hidden",children:o.jsx(zf,{color:d,onChange:f,className:"w-full max-w-[224px] mx-auto"})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"hoverColor",children:"Cor Hover"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-md cursor-pointer border",style:{backgroundColor:m},onClick:()=>de(Z==="hover"?null:"hover")}),o.jsx(mt,{id:"hoverColor",value:m,onChange:ue=>h(ue.target.value)})]}),Z==="hover"&&o.jsx("div",{className:"mt-2 overflow-hidden",children:o.jsx(zf,{color:m,onChange:h,className:"w-full max-w-[224px] mx-auto"})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"navbarColor",children:"Cor da Barra de Navegao"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-md cursor-pointer border",style:{backgroundColor:v},onClick:()=>de(Z==="navbar"?null:"navbar")}),o.jsx(mt,{id:"navbarColor",value:v,onChange:ue=>g(ue.target.value)})]}),Z==="navbar"&&o.jsx("div",{className:"mt-2 overflow-hidden",children:o.jsx(zf,{color:v,onChange:g,className:"w-full max-w-[224px] mx-auto"})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Cores de Texto e Botes"}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"menuTextColor",children:"Cor do Texto do Menu"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-md cursor-pointer border",style:{backgroundColor:p},onClick:()=>de(Z==="menuText"?null:"menuText")}),o.jsx(mt,{id:"menuTextColor",value:p,onChange:ue=>y(ue.target.value)})]}),Z==="menuText"&&o.jsx("div",{className:"mt-2 overflow-hidden",children:o.jsx(zf,{color:p,onChange:y,className:"w-full max-w-[224px] mx-auto"})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"buttonTextColor",children:"Cor do Texto dos Botes"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-md cursor-pointer border",style:{backgroundColor:x},onClick:()=>de(Z==="buttonText"?null:"buttonText")}),o.jsx(mt,{id:"buttonTextColor",value:x,onChange:ue=>b(ue.target.value)})]}),Z==="buttonText"&&o.jsx("div",{className:"mt-2 overflow-hidden",children:o.jsx(zf,{color:x,onChange:b,className:"w-full max-w-[224px] mx-auto"})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"actionButtonColor",children:"Cor dos Botes de Ao"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-md cursor-pointer border",style:{backgroundColor:w},onClick:()=>de(Z==="actionButton"?null:"actionButton")}),o.jsx(mt,{id:"actionButtonColor",value:w,onChange:ue=>_(ue.target.value)})]}),Z==="actionButton"&&o.jsx("div",{className:"mt-2 overflow-hidden",children:o.jsx(zf,{color:w,onChange:_,className:"w-full max-w-[224px] mx-auto"})})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"actionButtonHoverColor",children:"Cor Hover dos Botes de Ao"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-md cursor-pointer border",style:{backgroundColor:j},onClick:()=>de(Z==="actionButtonHover"?null:"actionButtonHover")}),o.jsx(mt,{id:"actionButtonHoverColor",value:j,onChange:ue=>A(ue.target.value)})]}),Z==="actionButtonHover"&&o.jsx("div",{className:"mt-2 overflow-hidden",children:o.jsx(zf,{color:j,onChange:A,className:"w-full max-w-[224px] mx-auto"})})]})]})]})}),o.jsx(nr,{value:"texts",className:"space-y-4 mt-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"welcomeText",children:"Texto de Boas-vindas"}),o.jsx(mt,{id:"welcomeText",placeholder:"Texto de boas-vindas",value:E,onChange:ue=>T(ue.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"footerText",children:"Texto do Rodap"}),o.jsx(mt,{id:"footerText",placeholder:"Texto do rodap",value:R,onChange:ue=>D(ue.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"siteTitle",children:"Ttulo do Site"}),o.jsx(mt,{id:"siteTitle",placeholder:"Ttulo do site",value:P,onChange:ue=>I(ue.target.value)})]})]})}),o.jsx(nr,{value:"fonts",className:"space-y-4 mt-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"fontFamily",children:"Fonte Principal"}),o.jsxs(un,{value:L,onValueChange:V,children:[o.jsx(sn,{id:"fontFamily",children:o.jsx(dn,{placeholder:"Selecione uma fonte"})}),o.jsx(on,{children:fW.map(ue=>o.jsx(Vt,{value:ue.value,style:{fontFamily:ue.value},children:ue.label},ue.value))})]}),o.jsxs("div",{className:"mt-2 p-3 border rounded-md",style:{fontFamily:L},children:["Exemplo de texto com a fonte ",L.split(",")[0]]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"headingFontFamily",children:"Fonte para Ttulos"}),o.jsxs(un,{value:G,onValueChange:re,children:[o.jsx(sn,{id:"headingFontFamily",children:o.jsx(dn,{placeholder:"Selecione uma fonte"})}),o.jsx(on,{children:fW.map(ue=>o.jsx(Vt,{value:ue.value,style:{fontFamily:ue.value},children:ue.label},ue.value))})]}),o.jsxs("div",{className:"mt-2 p-3 border rounded-md text-xl font-bold",style:{fontFamily:G},children:["Exemplo de ttulo com a fonte"," ",G.split(",")[0]]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"fontSize",children:"Tamanho da Fonte"}),o.jsxs(un,{value:H,onValueChange:q,children:[o.jsx(sn,{id:"fontSize",children:o.jsx(dn,{placeholder:"Selecione um tamanho"})}),o.jsx(on,{children:syt.map(ue=>o.jsx(Vt,{value:ue.value,children:ue.label},ue.value))})]}),o.jsxs("div",{className:"mt-2 p-3 border rounded-md",style:{fontSize:H},children:["Exemplo de texto com tamanho ",H]})]})]})})]})})]})}),o.jsx(wi,{open:!!ie,onOpenChange:()=>{we(null),Ae(!1),oe(!1)},children:o.jsxs(ai,{className:"w-full max-w-lg sm:max-w-3xl mx-auto",children:[o.jsx(ii,{children:o.jsxs(si,{children:["Visualizao - ",pe]})}),o.jsxs("div",{className:"relative w-full h-[250px] sm:h-[400px] flex items-center justify-center bg-gray-100 rounded-lg",children:[!X&&ie&&o.jsx("img",{src:ie,alt:pe,className:"max-w-full max-h-full object-contain"},ie),he&&!X&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded-lg",children:o.jsx(_a,{className:"h-8 w-8 animate-spin text-primary"})}),X&&o.jsxs("div",{className:"flex flex-col items-center justify-center text-destructive",children:[o.jsx(hs,{className:"h-8 w-8 mb-2"}),o.jsx("p",{className:"text-sm",children:"Erro ao carregar a imagem"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Verifique se a URL est correta"})]})]})]})})]})})};function Mle(){const[t,e]=N.useState(null),[r,n]=N.useState(!0),[a,i]=N.useState(!1);return N.useEffect(()=>{(async()=>{n(!0);try{const{data:c,error:u}=await ye.from("evolution_api_settings").select("*").order("created_at",{ascending:!1}).limit(1).single();u&&u.code!=="PGRST116"&&(console.error("Erro ao carregar configuraes da Evolution API:",u),Oe.error(`Erro ao carregar configuraes: ${u.message}`)),c&&e({id:c.id,baseUrl:c.base_url,apiKey:c.api_key,userId:c.user_id,createdAt:c.created_at,updatedAt:c.updated_at})}catch(c){console.error("Erro ao carregar configuraes da Evolution API:",c),Oe.error("Erro ao carregar configuraes da API")}finally{n(!1)}})()},[]),{settings:t,isLoading:r,isSaving:a,saveSettings:async l=>{i(!0);try{const c={base_url:l.baseUrl,api_key:l.apiKey};let u;if(t!=null&&t.id?u=await ye.from("evolution_api_settings").update(c).eq("id",t.id):u=await ye.from("evolution_api_settings").insert(c),u.error)return console.error("Erro ao salvar configuraes:",u.error),Oe.error(`Erro ao salvar configuraes: ${u.error.message}`),!1;Oe.success("Configuraes da Evolution API salvas com sucesso!");const{data:d}=await ye.from("evolution_api_settings").select("*").order("created_at",{ascending:!1}).limit(1).single();return d&&e({id:d.id,baseUrl:d.base_url,apiKey:d.api_key,userId:d.user_id,createdAt:d.created_at,updatedAt:d.updated_at}),!0}catch(c){return console.error("Erro ao salvar configuraes:",c),Oe.error("Erro ao salvar configuraes da API"),!1}finally{i(!1)}}}}const cyt=({onSaved:t})=>{const{settings:e,isLoading:r,isSaving:n,saveSettings:a}=Mle(),[i,s]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(!1);N.useEffect(()=>{e&&(s(e.baseUrl||""),c(e.apiKey||""))},[e]);const f=async m=>{if(m.preventDefault(),!i){Oe.error("A URL base  obrigatria");return}if(!l){Oe.error("A chave da API  obrigatria");return}try{new URL(i)}catch{Oe.error("URL base invlida. Insira uma URL completa (ex: https://api.example.com)");return}await a({baseUrl:i,apiKey:l})&&t&&t()};return r?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx(_a,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsxs(ot,{className:"border-2 border-primary/10 shadow-md",children:[o.jsx(Ot,{className:"pb-4",children:o.jsxs(It,{className:"text-xl flex items-center gap-2",children:[o.jsx(py,{className:"h-5 w-5 text-primary"}),"Configuraes da Evolution API"]})}),o.jsx(lt,{children:o.jsx("form",{onSubmit:f,children:o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:"grid gap-3",children:[o.jsxs(pt,{htmlFor:"baseUrl",className:"flex items-center gap-1 text-base font-medium",children:[o.jsx(A3,{className:"h-4 w-4 text-primary"}),"URL Base da Evolution API"]}),o.jsx(mt,{id:"baseUrl",placeholder:"https://sua-evolution-api.com",value:i,onChange:m=>s(m.target.value),required:!0,className:"focus-visible:ring-primary"}),o.jsx("p",{className:"text-sm text-muted-foreground ml-5",children:"Insira a URL completa da sua instncia da Evolution API, incluindo o protocolo (http:// ou https://)"})]}),o.jsxs("div",{className:"grid gap-3 mt-2",children:[o.jsxs(pt,{htmlFor:"apiKey",className:"flex items-center gap-1 text-base font-medium",children:[o.jsx(cj,{className:"h-4 w-4 text-primary"}),"Chave Global da API"]}),o.jsxs("div",{className:"relative",children:[o.jsx(mt,{id:"apiKey",type:u?"text":"password",placeholder:"Sua chave de API global",value:l,onChange:m=>c(m.target.value),required:!0,className:"font-mono focus-visible:ring-primary pr-10"}),o.jsx(je,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>d(!u),"aria-label":u?"Ocultar chave":"Mostrar chave",children:u?o.jsx(N3,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(xv,{className:"h-4 w-4 text-muted-foreground"})})]}),o.jsx("p",{className:"text-sm text-muted-foreground ml-5",children:"Esta  a chave de autenticao global para acessar a Evolution API"})]}),o.jsx(je,{type:"submit",disabled:n,className:"w-full mt-4 transition-all hover:bg-primary/90",children:n?o.jsxs(o.Fragment,{children:[o.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(C3,{className:"mr-2 h-4 w-4"}),"Salvar Configuraes"]})})]})})})]})},uyt=rc({instanceName:Dr().min(3,{message:"O nome da instncia deve ter pelo menos 3 caracteres"}),useCustomToken:Ch().default(!1),token:Dr().optional()});function dyt(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let n=0;n<32;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}function fyt(){const{toast:t}=ga(),e=ff(),r=Vl({resolver:Hl(uyt),defaultValues:{instanceName:"",useCustomToken:!1,token:""}}),n=r.watch("useCustomToken"),a=async i=>{try{const s=io.getInstance(),l=i.useCustomToken?i.token:dyt();if(!l)throw new Error("Token  obrigatrio");const c=await s.createInstance(i.instanceName,l),{error:u}=await ye.from("evolution_api_instances").insert({instance_id:c.instance.instanceId,instance_name:c.instance.instanceName,connection_status:c.instance.status,token:l,qr_code:c.qrcode,settings:c.settings});if(u)throw u;t({title:"Sucesso!",description:"Instncia criada com sucesso."}),e.invalidateQueries({queryKey:["evolution-api-instances"]}),r.reset()}catch(s){console.error("Erro ao criar instncia:",s),t({variant:"destructive",title:"Erro!",description:"Ocorreu um erro ao criar a instncia."})}};return o.jsxs(ot,{className:"border-2 border-primary/10 shadow-md",children:[o.jsx(Ot,{className:"pb-4",children:o.jsxs(It,{className:"text-xl flex items-center gap-2",children:[o.jsx(Lde,{className:"h-5 w-5 text-primary"}),"Nova Instncia"]})}),o.jsx(lt,{children:o.jsx(Wl,{...r,children:o.jsxs("form",{onSubmit:r.handleSubmit(a),className:"space-y-6",children:[o.jsx(er,{control:r.control,name:"instanceName",render:({field:i})=>o.jsxs(Zt,{children:[o.jsxs(Kt,{className:"flex items-center gap-1 text-base font-medium",children:[o.jsx(gy,{className:"h-4 w-4"}),"Nome da Instncia"]}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Digite o nome da instncia",...i,className:"focus-visible:ring-primary"})}),o.jsx(yi,{className:"text-xs text-muted-foreground ml-5",children:"Escolha um nome nico e descritivo para a instncia"}),o.jsx(sr,{})]})}),o.jsx(er,{control:r.control,name:"useCustomToken",render:({field:i})=>o.jsx(Zt,{className:"bg-muted/40 rounded-lg border-2 border-muted p-4 shadow-sm transition-all hover:border-primary/20",children:o.jsxs("div",{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Kt,{className:"text-base font-medium flex items-center gap-1.5",children:[o.jsx(cj,{className:"h-4 w-4 text-primary"}),"Token Personalizado"]}),o.jsx(yi,{className:"text-xs",children:"Escolha entre gerar um token aleatrio ou definir manualmente"})]}),o.jsx(tr,{children:o.jsx(Fs,{checked:i.value,onCheckedChange:i.onChange})})]})})}),n&&o.jsx(er,{control:r.control,name:"token",render:({field:i})=>o.jsxs(Zt,{className:"pt-2",children:[o.jsxs(Kt,{className:"flex items-center gap-1 text-base font-medium",children:[o.jsx(cj,{className:"h-4 w-4"}),"Token da Instncia"]}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Digite o token da instncia",...i,className:"font-mono"})}),o.jsx(yi,{className:"text-xs text-muted-foreground ml-5",children:"O token deve ser nico para cada instncia"}),o.jsx(sr,{})]})}),o.jsxs(je,{type:"submit",className:"w-full mt-6 flex items-center gap-2",children:[o.jsx(Jq,{className:"h-4 w-4"}),"Criar Instncia"]})]})})})]})}function Gn({className:t,...e}){return o.jsx("div",{className:Ke("animate-pulse rounded-md bg-muted",t),...e})}function hyt(t){if(!t||typeof t!="object")return!1;const e=t;return typeof e.base64=="string"&&typeof e.code=="string"&&typeof e.count=="number"&&(e.pairingCode===null||typeof e.pairingCode=="string")}function myt({instance:t}){const{toast:e}=ga(),r=ff(),[n,a]=W.useState(!1),[i,s]=W.useState(!1),[l,c]=W.useState(!1),[u,d]=W.useState(!1),[f,m]=W.useState(!1),[h,v]=W.useState(!1),[g,p]=W.useState(30),[y,x]=W.useState(!1),b=W.useCallback(async()=>{try{s(!0);const T=await io.getInstance().getInstanceQrCode(t.instance_name),{error:R}=await ye.from("evolution_api_instances").update({qr_code:T}).eq("id",t.id);if(R)throw R;await r.invalidateQueries({queryKey:["evolution-api-instances"]}),p(30)}catch(E){console.error("Erro ao gerar QR Code:",E),e({variant:"destructive",title:"Erro!",description:"Ocorreu um erro ao gerar o QR Code."})}finally{s(!1)}},[t.instance_name,t.id,r,e]);W.useEffect(()=>{if(!y||!t.qr_code)return;const E=setInterval(()=>{p(T=>T<=1?(b(),30):T-1)},1e3);return()=>{clearInterval(E),p(30)}},[y,t.qr_code,b]),W.useEffect(()=>{const T=setInterval(async()=>{try{const R=io.getInstance(),D=await R.getConnectionState(t.instance_name);D.state!==t.connection_status&&(await ye.from("evolution_api_instances").update({connection_status:D.state}).eq("id",t.id),D.state==="open"&&await R.syncInstanceData(t.instance_name,t.id),r.invalidateQueries({queryKey:["evolution-api-instances"]}))}catch(R){console.error("Erro ao atualizar status:",R)}},1e4);return()=>clearInterval(T)},[t.id,t.instance_name,t.connection_status,r]);const w=async()=>{try{c(!0),await io.getInstance().logoutInstance(t.instance_name),e({title:"Sucesso!",description:"Instncia desconectada com sucesso."}),r.invalidateQueries({queryKey:["evolution-api-instances"]})}catch(E){console.error("Erro ao desconectar instncia:",E),e({variant:"destructive",title:"Erro!",description:"Ocorreu um erro ao desconectar a instncia."})}finally{c(!1)}},_=async()=>{try{d(!0),await io.getInstance().restartInstance(t.instance_name),e({title:"Sucesso!",description:"Instncia reiniciada com sucesso."}),r.invalidateQueries({queryKey:["evolution-api-instances"]})}catch(E){console.error("Erro ao reiniciar instncia:",E),e({variant:"destructive",title:"Erro!",description:"Ocorreu um erro ao reiniciar a instncia."})}finally{d(!1)}},j=async()=>{try{a(!0);const E=io.getInstance();try{await E.deleteInstance(t.instance_name)}catch{console.log("Instncia no encontrada na API ou j foi excluda")}const{error:T}=await ye.from("evolution_api_instances").delete().eq("id",t.id);if(T)throw T;e({title:"Sucesso!",description:"Instncia excluda com sucesso."}),r.invalidateQueries({queryKey:["evolution-api-instances"]})}catch(E){console.error("Erro ao excluir instncia:",E),e({variant:"destructive",title:"Erro!",description:"Ocorreu um erro ao excluir a instncia."})}finally{a(!1)}},A=async()=>{try{m(!0);const E=io.getInstance(),T=await E.getConnectionState(t.instance_name);T.state!==t.connection_status?(await ye.from("evolution_api_instances").update({connection_status:T.state}).eq("id",t.id),T.state==="open"&&await E.syncInstanceData(t.instance_name,t.id),r.invalidateQueries({queryKey:["evolution-api-instances"]}),e({title:"Status atualizado!",description:`Status da instncia alterado para: ${T.state==="open"?"Conectado":T.state==="connecting"?"Conectando":T.state==="close"?"Desconectado":T.state}`})):e({title:"Status verificado",description:`O status da instncia continua sendo: ${T.state==="open"?"Conectado":T.state==="connecting"?"Conectando":T.state==="close"?"Desconectado":T.state}`})}catch(E){console.error("Erro ao atualizar status:",E),e({variant:"destructive",title:"Erro!",description:"Ocorreu um erro ao atualizar o status da instncia."})}finally{m(!1)}};return o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{children:o.jsx(It,{children:t.instance_name})}),o.jsx(Ur,{variant:t.connection_status==="open"?"success":t.connection_status==="connecting"?"warning":"destructive",title:t.connection_status==="open"?"Conectado":t.connection_status==="connecting"?"Conectando":t.connection_status==="close"?"Desconectado":"Status desconhecido",children:t.connection_status==="open"?"Conectado":t.connection_status==="connecting"?"Conectando":t.connection_status==="close"?"Desconectado":t.connection_status})]})}),o.jsx(lt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"relative",children:o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("span",{className:"text-sm font-medium",children:"Token da API:"}),o.jsxs("div",{className:"flex-1 bg-muted rounded px-3 py-1.5 flex items-center justify-between overflow-hidden",children:[o.jsx("span",{className:"text-sm font-mono truncate",children:h?t.token:""}),o.jsxs("div",{className:"flex items-center gap-1 ml-2 shrink-0",children:[o.jsx(je,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>v(!h),children:o.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",children:o.jsx("path",{d:"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62184 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}),o.jsx(je,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText(t.token),e({description:"Token copiado para a rea de transferncia"})},children:o.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",children:o.jsx("path",{d:"M5 2V1H10V2H5ZM4.75 0C4.33579 0 4 0.335786 4 0.75V1H3.5C2.67157 1 2 1.67157 2 2.5V12.5C2 13.3284 2.67157 14 3.5 14H11.5C12.3284 14 13 13.3284 13 12.5V2.5C13 1.67157 12.3284 1 11.5 1H11V0.75C11 0.335786 10.6642 0 10.25 0H4.75ZM11 2V2.25C11 2.66421 10.6642 3 10.25 3H4.75C4.33579 3 4 2.66421 4 2.25V2H3.5C3.22386 2 3 2.22386 3 2.5V12.5C3 12.7761 3.22386 13 3.5 13H11.5C11.7761 13 12 12.7761 12 12.5V2.5C12 2.22386 11.7761 2 11.5 2H11Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})})]})]})]})}),o.jsxs(je,{variant:"outline",size:"sm",onClick:A,disabled:f,className:"w-full flex items-center justify-center gap-2",children:[o.jsx(E3,{className:`h-4 w-4 ${f?"animate-spin":""}`}),f?"Atualizando...":"Atualizar dados"]})]})}),o.jsxs(Up,{className:"flex justify-between gap-2",children:[t.connection_status==="open"?o.jsxs(je,{variant:"destructive",className:"flex-1",onClick:w,disabled:l,children:[o.jsx(Ide,{className:"w-4 h-4 mr-2"}),l?"Desconectando...":"Desconectar"]}):o.jsxs(wi,{open:y,onOpenChange:x,children:[o.jsx(wh,{asChild:!0,children:o.jsxs(je,{variant:"default",className:"flex-1",disabled:i,children:[o.jsx(Mde,{className:"w-4 h-4 mr-2"}),i?"Conectando...":"Conectar"]})}),o.jsxs(ai,{className:"sm:max-w-[700px]",children:[o.jsxs(ii,{children:[o.jsx(si,{children:"Conectar WhatsApp"}),o.jsx(Bo,{children:"Escaneie o QR Code para conectar sua conta do WhatsApp  Evolution API"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Escaneie o QR Code"}),t.qr_code&&hyt(t.qr_code)?o.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[o.jsx("img",{src:t.qr_code.base64,alt:"QR Code",className:"w-full h-auto"}),o.jsxs("div",{className:"space-y-2 mt-4",children:[o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("div",{className:"h-2 w-2 rounded-full bg-yellow-500 animate-pulse"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Atualizando QR code em ",g," segundos"]})]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 overflow-hidden",children:o.jsx("div",{className:"h-full bg-yellow-500 transition-all duration-1000 ease-linear",style:{width:`${g/30*100}%`}})})]})]}):o.jsxs("div",{className:"flex flex-col items-center gap-2 py-8",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Aguardando QR Code..."}),o.jsx(je,{onClick:b,children:"Gerar QR Code"})]})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Como conectar"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full border bg-muted",children:o.jsx("span",{className:"text-sm",children:"1"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:"Abra o WhatsApp no seu celular"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Certifique-se de que voc est usando a verso mais recente do aplicativo."})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full border bg-muted",children:o.jsx("span",{className:"text-sm",children:"2"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:"Acesse as configuraes"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Toque em Configuraes ",">"," Dispositivos conectados"]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full border bg-muted",children:o.jsx("span",{className:"text-sm",children:"3"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:"Escolha um mtodo de conexo"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Toque em Conectar um dispositivo e escaneie o QR Code"})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full border bg-muted",children:o.jsx("span",{className:"text-sm",children:"4"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium leading-none",children:"Aguarde a conexo"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Aps escanear o QR Code, aguarde a confirmao da conexo."})]})]})]})]})]})]})]}),o.jsx(je,{variant:"outline",onClick:_,disabled:u,children:o.jsx(Oo,{className:"w-4 h-4"})}),o.jsxs(xf,{children:[o.jsx(Tle,{asChild:!0,children:o.jsx(je,{variant:"outline",disabled:n,children:o.jsx(yn,{className:"w-4 h-4 text-destructive"})})}),o.jsxs(cd,{children:[o.jsxs(ud,{children:[o.jsx(fd,{children:"Excluir Instncia"}),o.jsxs(hd,{children:["Tem certeza que deseja excluir a instncia"," ",t.instance_name,"? Esta ao no pode ser desfeita."]})]}),o.jsxs(dd,{children:[o.jsx(pd,{children:"Cancelar"}),o.jsx(md,{onClick:j,children:n?"Excluindo...":"Excluir"})]})]})]})]})]})}function pyt(){ff(),ga();const[t,e]=W.useState(!1),{data:r,isLoading:n,error:a}=Ih({queryKey:["evolution-api-instances"],queryFn:async()=>{const{data:i,error:s}=await ye.from("evolution_api_instances").select("*").order("created_at",{ascending:!1});if(s)throw s;return i}});return n?o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsx(Gn,{className:"h-[300px] rounded-lg"}),o.jsx(Gn,{className:"h-[300px] rounded-lg"}),o.jsx(Gn,{className:"h-[300px] rounded-lg"})]}):a?o.jsxs(Sl,{variant:"destructive",children:[o.jsx(hs,{className:"h-4 w-4"}),o.jsx(nc,{children:"Erro"}),o.jsx(_l,{children:"Ocorreu um erro ao carregar as instncias."})]}):r!=null&&r.length?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(i=>o.jsx(myt,{instance:i},i.id))}):o.jsxs(Sl,{children:[o.jsx(nc,{children:"Nenhuma instncia encontrada"}),o.jsx(_l,{children:"Crie uma nova instncia usando o formulrio acima."})]})}var rC="Checkbox",[gyt,Pbt]=Ju(rC),[vyt,yyt]=gyt(rC),Rle=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,h]=N.useState(null),v=Jn(e,w=>h(w)),g=N.useRef(!1),p=m?d||!!m.closest("form"):!0,[y,x]=kh({prop:a,defaultProp:i??!1,onChange:u,caller:rC}),b=N.useRef(y);return N.useEffect(()=>{const w=m==null?void 0:m.form;if(w){const _=()=>x(b.current);return w.addEventListener("reset",_),()=>w.removeEventListener("reset",_)}},[m,x]),o.jsxs(vyt,{scope:r,state:y,disabled:l,children:[o.jsx(Sr.button,{type:"button",role:"checkbox","aria-checked":Th(y)?"mixed":y,"aria-required":s,"data-state":Ble(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:Er(t.onKeyDown,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:Er(t.onClick,w=>{x(_=>Th(_)?!0:!_),p&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),p&&o.jsx($le,{control:m,bubbles:!g.current,name:n,value:c,checked:y,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Th(i)?!1:i})]})});Rle.displayName=rC;var Lle="CheckboxIndicator",Fle=N.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=yyt(Lle,r);return o.jsx(ed,{present:n||Th(i.state)||i.state===!0,children:o.jsx(Sr.span,{"data-state":Ble(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});Fle.displayName=Lle;var xyt="CheckboxBubbleInput",$le=N.forwardRef(({__scopeCheckbox:t,control:e,checked:r,bubbles:n=!0,defaultChecked:a,...i},s)=>{const l=N.useRef(null),c=Jn(l,s),u=iE(r),d=v3(e);N.useEffect(()=>{const m=l.current;if(!m)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==r&&g){const p=new Event("click",{bubbles:n});m.indeterminate=Th(r),g.call(m,Th(r)?!1:r),m.dispatchEvent(p)}},[u,r,n]);const f=N.useRef(Th(r)?!1:r);return o.jsx(Sr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??f.current,...i,tabIndex:-1,ref:c,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});$le.displayName=xyt;function Th(t){return t==="indeterminate"}function Ble(t){return Th(t)?"indeterminate":t?"checked":"unchecked"}var Ule=Rle,byt=Fle;const ij=N.forwardRef(({className:t,...e},r)=>o.jsx(Ule,{ref:r,className:Ke("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(byt,{className:Ke("flex items-center justify-center text-current"),children:o.jsx(Bs,{className:"h-4 w-4"})})}));ij.displayName=Ule.displayName;const hW=[{id:"APPLICATION_STARTUP",label:"Inicializao da aplicao"},{id:"QRCODE_UPDATED",label:"QR Code atualizado"},{id:"MESSAGES_SET",label:"Mensagens definidas"},{id:"MESSAGES_UPSERT",label:"Novas mensagens"},{id:"MESSAGES_UPDATE",label:"Atualizao de mensagens"},{id:"MESSAGES_DELETE",label:"Mensagens excludas"},{id:"SEND_MESSAGE",label:"Mensagem enviada"},{id:"CONTACTS_SET",label:"Contatos definidos"},{id:"CONTACTS_UPSERT",label:"Novos contatos"},{id:"CONTACTS_UPDATE",label:"Atualizao de contatos"},{id:"PRESENCE_UPDATE",label:"Atualizao de presena"},{id:"CHATS_SET",label:"Chats definidos"},{id:"CHATS_UPSERT",label:"Novos chats"},{id:"CHATS_UPDATE",label:"Atualizao de chats"},{id:"CHATS_DELETE",label:"Chats excludos"},{id:"GROUPS_UPSERT",label:"Novos grupos"},{id:"GROUP_UPDATE",label:"Atualizao de grupo"},{id:"GROUP_PARTICIPANTS_UPDATE",label:"Atualizao de participantes do grupo"},{id:"CONNECTION_UPDATE",label:"Atualizao de conexo"},{id:"LABELS_EDIT",label:"Edio de etiquetas"},{id:"LABELS_ASSOCIATION",label:"Associao de etiquetas"},{id:"CALL",label:"Chamada"},{id:"TYPEBOT_START",label:"Incio de typebot"},{id:"TYPEBOT_CHANGE_STATUS",label:"Mudana de status do typebot"}];function wyt({instance:t}){const[e,r]=N.useState(!0),[n,a]=N.useState(!1),[i,s]=N.useState(!1),[l,c]=N.useState(""),[u,d]=N.useState([{key:"Content-Type",value:"application/json"}]),[f,m]=N.useState(!1),[h,v]=N.useState(!1),[g,p]=N.useState([]),[y,x]=N.useState(null);ff(),N.useEffect(()=>{b()},[t.instance_name]);const b=async()=>{try{r(!0),x(null);const R=await io.getInstance().getWebhook(t.instance_name);if(R&&R.webhook){const{webhook:D}=R;if(s(D.enabled),c(D.url||""),m(D.byEvents),v(D.base64),p(D.events||[]),D.headers){const P=Object.entries(D.headers).map(([I,L])=>({key:I,value:L}));d(P.length?P:[{key:"Content-Type",value:"application/json"}])}else d([{key:"Content-Type",value:"application/json"}])}}catch(T){console.error("Erro ao carregar configurao de webhook:",T),x("No foi possvel carregar a configurao de webhook. Verifique se a instncia est ativa.")}finally{r(!1)}},w=()=>{d([...u,{key:"",value:""}])},_=T=>{d(u.filter((R,D)=>D!==T))},j=(T,R,D)=>{const P=[...u];P[T][R]=D,d(P)},A=(T,R)=>{p(T?[...g,R]:g.filter(D=>D!==R))},E=async T=>{if(T.preventDefault(),i&&!l){Oe.error("A URL do webhook  obrigatria quando ativado");return}try{a(!0);const R={};u.forEach(P=>{P.key&&P.value&&(R[P.key]=P.value)}),await io.getInstance().setWebhook(t.instance_name,{enabled:i,url:l,headers:R,byEvents:f,base64:h,events:g.length>0?g:hW.map(P=>P.id)}),Oe.success("Configurao de webhook salva com sucesso")}catch(R){console.error("Erro ao salvar configurao de webhook:",R),Oe.error("Erro ao salvar configurao de webhook")}finally{a(!1)}};return e?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx(_a,{className:"h-8 w-8 animate-spin text-primary"})}):y?o.jsxs(Sl,{className:"mb-4",children:[o.jsx(Jc,{className:"h-4 w-4"}),o.jsx(nc,{children:"Erro ao carregar webhook"}),o.jsx(_l,{children:y})]}):o.jsxs(ot,{className:"border-2 border-primary/10 shadow-md",children:[o.jsx(Ot,{className:"pb-4",children:o.jsxs(It,{className:"text-xl flex items-center gap-2",children:[o.jsx(hj,{className:"h-5 w-5 text-primary"}),"Configurao de Webhook para ",t.instance_name]})}),o.jsxs(lt,{children:[o.jsx("form",{onSubmit:E,children:o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mde,{className:"h-4 w-4 text-primary"}),o.jsx(pt,{htmlFor:"webhook-enabled",className:"text-base font-medium",children:"Ativar Webhook"})]}),o.jsx(Fs,{id:"webhook-enabled",checked:i,onCheckedChange:s,"aria-label":"Ativar webhook"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilita ou desabilita o webhook para esta instncia. Uma URL vlida  sempre necessria, mesmo quando o webhook est desativado."}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs(pt,{htmlFor:"webhook-url",className:"flex items-center gap-1 text-base font-medium",children:[o.jsx(A3,{className:"h-4 w-4 text-primary"}),"URL do Webhook"]}),o.jsx(mt,{id:"webhook-url",placeholder:"https://seu-webhook.com/callback",value:l,onChange:T=>c(T.target.value),className:"focus-visible:ring-primary",disabled:n}),o.jsx("p",{className:"text-sm text-muted-foreground ml-5",children:"URL para onde sero enviados os eventos de webhook."})]}),o.jsxs("div",{className:"grid gap-4",children:[o.jsx(pt,{className:"text-base font-medium",children:"Cabealhos HTTP"}),u.map((T,R)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mt,{placeholder:"Chave",value:T.key,onChange:D=>j(R,"key",D.target.value),className:"flex-1 focus-visible:ring-primary",disabled:n}),o.jsx(mt,{placeholder:"Valor",value:T.value,onChange:D=>j(R,"value",D.target.value),className:"flex-1 focus-visible:ring-primary",disabled:n}),o.jsx(je,{type:"button",variant:"outline",size:"icon",onClick:()=>_(R),disabled:n||u.length===1,"aria-label":"Remover cabealho",children:o.jsx(yn,{className:"h-4 w-4 text-destructive"})})]},R)),o.jsxs(je,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:n,className:"w-full",children:[o.jsx(ms,{className:"h-4 w-4 mr-2"})," Adicionar Cabealho"]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ij,{id:"byEvents",checked:f,onCheckedChange:T=>m(T),disabled:n}),o.jsx(pt,{htmlFor:"byEvents",className:"font-medium",children:"Agrupar por Eventos"})]}),o.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Envia eventos agrupados por tipo ao invs de individualmente."}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(ij,{id:"base64",checked:h,onCheckedChange:T=>v(T),disabled:n}),o.jsx(pt,{htmlFor:"base64",className:"font-medium",children:"Codificar em Base64"})]}),o.jsx("p",{className:"text-sm text-muted-foreground ml-6",children:"Converte mdias em formato base64 antes de enviar."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(pt,{className:"text-base font-medium",children:"Eventos para Monitorar"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 border rounded-lg p-4",children:hW.map(T=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ij,{id:`event-${T.id}`,checked:g.includes(T.id),onCheckedChange:R=>A(R,T.id),disabled:n}),o.jsx(pt,{htmlFor:`event-${T.id}`,className:"text-sm",children:T.label})]},T.id))})]}),o.jsx(je,{type:"submit",disabled:n,className:"w-full mt-4 transition-all hover:bg-primary/90",children:n?o.jsxs(o.Fragment,{children:[o.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(C3,{className:"mr-2 h-4 w-4"}),"Salvar Configurao"]})})]})}),o.jsx("div",{className:"mt-6"}),o.jsxs(Sl,{className:"bg-primary/5 border-primary/20",children:[o.jsx(Jc,{className:"h-4 w-4"}),o.jsx(nc,{children:"Webhook do Sistema"}),o.jsx(_l,{className:"mt-2",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx("p",{children:"Configure seu webhook para receber mensagens em tempo real. Use o endpoint abaixo para receber as mensagens diretamente no sistema:"}),o.jsxs("div",{className:"relative",children:[o.jsx(mt,{readOnly:!0,value:`${window.location.origin}/webhook/WhatsAppWebhook.php`,className:"pr-10 bg-primary/5 font-mono text-sm"}),o.jsx(je,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/webhook/WhatsAppWebhook.php`),Oe.success("URL copiada para a rea de transferncia")},"aria-label":"Copiar URL",children:o.jsx(UA,{className:"h-4 w-4"})})]})]})})]})]})]})}function Syt(){const[t,e]=N.useState(null),[r,n]=N.useState(""),{data:a=[],isLoading:i}=Ih({queryKey:["evolution-api-instances"],queryFn:async()=>{try{const{data:c,error:u}=await ye.from("evolution_api_instances").select("id, instance_name, connection_status").order("created_at",{ascending:!1});if(u)throw u;return c}catch(c){return console.error("Erro ao buscar instncias:",c),[]}}}),s=a.filter(c=>c.instance_name.toLowerCase().includes(r.toLowerCase())),l=c=>{e(c)};return i?o.jsx("div",{className:"text-center py-8",children:"Carregando instncias..."}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"md:col-span-1",children:o.jsx(ot,{className:"h-full",children:o.jsxs(lt,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(hj,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-medium",children:"Instncias"})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(td,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(mt,{type:"text",placeholder:"Buscar instncia...",className:"pl-9",value:r,onChange:c=>n(c.target.value)})]}),s.length===0?o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:r?"Nenhuma instncia encontrada":"Nenhuma instncia disponvel"}):o.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto pr-2",children:s.map(c=>o.jsxs("div",{className:`p-3 rounded-md cursor-pointer hover:bg-muted transition-colors ${(t==null?void 0:t.id)===c.id?"bg-primary/10 border-l-4 border-primary":"border-l-4 border-transparent"}`,onClick:()=>l(c),children:[o.jsx("div",{className:"font-medium",children:c.instance_name}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Status:"," ",o.jsx("span",{className:c.connection_status==="open"?"text-green-500":"text-amber-500",children:c.connection_status==="open"?"Conectado":"Desconectado"})]})]},c.id))})]})})}),o.jsx("div",{className:"md:col-span-2",children:t?o.jsx(wyt,{instance:t}):o.jsx(ot,{children:o.jsxs(lt,{className:"p-8 flex flex-col items-center justify-center h-full text-center",children:[o.jsx(hj,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-xl font-medium mb-2",children:"Selecione uma instncia"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"Escolha uma instncia na lista  esquerda para configurar o webhook para aquela instncia."})]})})})]})}const rp=class rp{constructor(){Rt(this,"evolutionApiService");Rt(this,"baseUrl",null);Rt(this,"apiKey",null);this.evolutionApiService=io.getInstance()}static getInstance(){return rp.instance||(rp.instance=new rp),rp.instance}async init(){try{const{data:e,error:r}=await ye.from("evolution_api_settings").select("*").single();if(r)throw new Error("Configuraes da Evolution API no encontradas");this.baseUrl=e.base_url,this.apiKey=e.api_key}catch(e){throw console.error("Erro ao inicializar configuraes:",e),e}}async createTypebot(e,r){if((!this.baseUrl||!this.apiKey)&&await this.init(),!this.baseUrl||!this.apiKey)throw new Error("URL base ou chave da API no configuradas");const n=await fetch(`${this.baseUrl}/typebot/create/${e}`,{method:"POST",headers:{"Content-Type":"application/json",apikey:this.apiKey},body:JSON.stringify({enabled:r.enabled,url:r.url,typebot:r.typebot,triggerType:r.triggerType,triggerOperator:r.triggerOperator,triggerValue:r.triggerValue,expire:r.expire||20,keywordFinish:r.keywordFinish||"#SAIR",delayMessage:r.delayMessage||1e3,unknownMessage:r.unknownMessage||"Mensagem no reconhecida",listeningFromMe:r.listeningFromMe||!1,stopBotFromMe:r.stopBotFromMe||!1,keepOpen:r.keepOpen||!1,debounceTime:r.debounceTime||10})});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Error(`Erro ao criar typebot: ${n.status} - ${JSON.stringify(a)}`)}return await n.json()}async findTypebots(e){if((!this.baseUrl||!this.apiKey)&&await this.init(),!this.baseUrl||!this.apiKey)throw new Error("URL base ou chave da API no configuradas");const r=await fetch(`${this.baseUrl}/typebot/find/${e}`,{method:"GET",headers:{"Content-Type":"application/json",apikey:this.apiKey}});if(!r.ok){const n=await r.json().catch(()=>({}));throw new Error(`Erro ao buscar typebots: ${r.status} - ${JSON.stringify(n)}`)}return await r.json()}async fetchTypebot(e,r){if((!this.baseUrl||!this.apiKey)&&await this.init(),!this.baseUrl||!this.apiKey)throw new Error("URL base ou chave da API no configuradas");const n=await fetch(`${this.baseUrl}/typebot/fetch/${r}/${e}`,{method:"GET",headers:{"Content-Type":"application/json",apikey:this.apiKey}});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Error(`Erro ao buscar typebot: ${n.status} - ${JSON.stringify(a)}`)}return await n.json()}async updateTypebot(e,r,n){if((!this.baseUrl||!this.apiKey)&&await this.init(),!this.baseUrl||!this.apiKey)throw new Error("URL base ou chave da API no configuradas");const a=await fetch(`${this.baseUrl}/typebot/update/${r}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",apikey:this.apiKey},body:JSON.stringify(n)});if(!a.ok){const i=await a.json().catch(()=>({}));throw new Error(`Erro ao atualizar typebot: ${a.status} - ${JSON.stringify(i)}`)}return await a.json()}async deleteTypebot(e,r){if((!this.baseUrl||!this.apiKey)&&await this.init(),!this.baseUrl||!this.apiKey)throw new Error("URL base ou chave da API no configuradas");const n=await fetch(`${this.baseUrl}/typebot/delete/${r}/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",apikey:this.apiKey}});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Error(`Erro ao excluir typebot: ${n.status} - ${JSON.stringify(a)}`)}return await n.json()}};Rt(rp,"instance");let o3=rp;function zle(t,e){const r=ff(),[n,a]=N.useState(!1),i=o3.getInstance(),{data:s,isLoading:l,error:c}=Ih({queryKey:["evolution-api-typebots",t],queryFn:async()=>{const h=t?ye.from("evolution_api_typebots").select("*").eq("instance_id",t):ye.from("evolution_api_typebots").select("*"),{data:v,error:g}=await h.order("created_at",{ascending:!1});return g?(console.error("Erro ao buscar typebots:",g),[]):v||[]},enabled:!0}),u=async h=>{if(!h)return Oe.error("Nome da instncia no fornecido"),{success:!1};try{a(!0);const v=await i.findTypebots(h);console.log("Resposta da API:",v);let g=[];if(v){if(Array.isArray(v))g=v;else if(v.typebots&&Array.isArray(v.typebots))g=v.typebots;else if(v.data&&Array.isArray(v.data))g=v.data;else if(typeof v=="object"){const y=Object.values(v).find(x=>Array.isArray(x));y&&(g=y)}}if(g.length===0)return console.log("Nenhum typebot encontrado na API"),{success:!0,typebots:[]};const{data:p}=await ye.from("evolution_api_instances").select("id").eq("instance_name",h).single();if(!p)return Oe.error(`Instncia ${h} no encontrada no banco de dados`),{success:!1};for(const y of g){const x=y.typebotId||y.id||y.typebot_id;if(!x){console.warn("Typebot sem ID encontrado, ignorando:",y);continue}const{data:b}=await ye.from("evolution_api_typebots").select("id").eq("typebot_id",x).eq("instance_id",p.id).single();if(b){const w={enabled:y.enabled!==void 0?y.enabled:!0,url:y.url||"",typebot:y.typebot||y.name||"",trigger_type:y.triggerType||y.trigger_type||"keyword",trigger_operator:y.triggerOperator||y.trigger_operator||"contains",trigger_value:y.triggerValue||y.trigger_value||"",expire:y.expire||20,keyword_finish:y.keywordFinish||y.keyword_finish||"#SAIR",delay_message:y.delayMessage||y.delay_message||1e3,unknown_message:y.unknownMessage||y.unknown_message||"Mensagem no reconhecida",listening_from_me:y.listeningFromMe!==void 0?y.listeningFromMe:y.listening_from_me!==void 0?y.listening_from_me:!1,stop_bot_from_me:y.stopBotFromMe!==void 0?y.stopBotFromMe:y.stop_bot_from_me!==void 0?y.stop_bot_from_me:!1,keep_open:y.keepOpen!==void 0?y.keepOpen:y.keep_open!==void 0?y.keep_open:!1,debounce_time:y.debounceTime||y.debounce_time||10,updated_at:new Date().toISOString()};await ye.from("evolution_api_typebots").update(w).eq("id",b.id)}else{const w={typebot_id:x,instance_id:p.id,instance_name:h,enabled:y.enabled!==void 0?y.enabled:!0,url:y.url||"",typebot:y.typebot||y.name||"",trigger_type:y.triggerType||y.trigger_type||"keyword",trigger_operator:y.triggerOperator||y.trigger_operator||"contains",trigger_value:y.triggerValue||y.trigger_value||"",expire:y.expire||20,keyword_finish:y.keywordFinish||y.keyword_finish||"#SAIR",delay_message:y.delayMessage||y.delay_message||1e3,unknown_message:y.unknownMessage||y.unknown_message||"Mensagem no reconhecida",listening_from_me:y.listeningFromMe!==void 0?y.listeningFromMe:y.listening_from_me!==void 0?y.listening_from_me:!1,stop_bot_from_me:y.stopBotFromMe!==void 0?y.stopBotFromMe:y.stop_bot_from_me!==void 0?y.stop_bot_from_me:!1,keep_open:y.keepOpen!==void 0?y.keepOpen:y.keep_open!==void 0?y.keep_open:!1,debounce_time:y.debounceTime||y.debounce_time||10};await ye.from("evolution_api_typebots").insert(w)}}return r.invalidateQueries({queryKey:["evolution-api-typebots"]}),Oe.success("Typebots sincronizados com sucesso"),{success:!0,typebots:g}}catch(v){return console.error("Erro ao sincronizar typebots:",v),Oe.error("Erro ao sincronizar typebots"),{success:!1,error:v}}finally{a(!1)}},d=$0({mutationFn:async h=>{var v;try{const g=await i.createTypebot(h.instanceName,{enabled:!0,url:h.url,typebot:h.typebot,triggerType:h.triggerType,triggerOperator:h.triggerOperator,triggerValue:h.triggerValue,expire:h.expire,keywordFinish:h.keywordFinish,delayMessage:h.delayMessage,unknownMessage:h.unknownMessage,listeningFromMe:h.listeningFromMe,stopBotFromMe:h.stopBotFromMe,keepOpen:h.keepOpen,debounceTime:h.debounceTime});if(console.log("Resposta da API de criao:",g),!g)throw new Error("Resposta invlida da API");let p;g.typebot&&g.typebot.typebotId?p=g.typebot.typebotId:g.id?p=g.id:g.typebot&&g.typebot.id?p=g.typebot.id:(p=crypto.randomUUID(),console.warn("ID do typebot no encontrado na resposta, gerando ID:",p)),console.log("ID do typebot que ser salvo:",p);const{error:y}=await ye.from("evolution_api_typebots").insert({typebot_id:p,instance_id:h.instanceId,instance_name:h.instanceName,enabled:!0,url:h.url,typebot:h.typebot,trigger_type:h.triggerType,trigger_operator:h.triggerOperator,trigger_value:h.triggerValue,expire:h.expire||20,keyword_finish:h.keywordFinish||"#SAIR",delay_message:h.delayMessage||1e3,unknown_message:h.unknownMessage||"Mensagem no reconhecida",listening_from_me:h.listeningFromMe||!1,stop_bot_from_me:h.stopBotFromMe||!1,keep_open:h.keepOpen||!1,debounce_time:h.debounceTime||10,description:h.description});if(y)throw y;return g.typebot}catch(g){throw console.error("Erro ao criar typebot:",g),(v=g==null?void 0:g.message)!=null&&v.includes("Typebot already exists")?new Error("J existe um typebot com esse nome. Por favor, escolha outro nome."):g}},onSuccess:()=>{Oe.success("Typebot criado com sucesso"),r.invalidateQueries({queryKey:["evolution-api-typebots"]})},onError:h=>{const v=h instanceof Error?h.message:"Erro desconhecido";Oe.error(`Erro ao criar typebot: ${v}`)}}),f=$0({mutationFn:async h=>{try{if(!h.id)throw console.error("ID do typebot no fornecido para atualizao"),new Error("ID do typebot no fornecido");console.log("Buscando dados completos do typebot no banco de dados para atualizao...");const{data:v,error:g}=await ye.from("evolution_api_typebots").select("*").eq("id",h.id).single();if(g||!v)throw console.error("Erro ao buscar dados do typebot:",g),new Error("Typebot no encontrado no banco de dados");const p=v.instance_name,y=v.typebot_id;if(console.log("Dados completos recuperados do banco para atualizao:",v),!p||!y)throw console.error("Parmetros invlidos para atualizao mesmo aps busca no banco:",{instanceName:p,typebotId:y,id:h.id}),new Error("Parmetros invlidos para atualizao do typebot");const x={url:v.url,typebot:v.typebot,triggerType:v.trigger_type,triggerOperator:v.trigger_operator,triggerValue:v.trigger_value,expire:v.expire,keywordFinish:v.keyword_finish,delayMessage:v.delay_message,unknownMessage:v.unknown_message,listeningFromMe:v.listening_from_me,stopBotFromMe:v.stop_bot_from_me,keepOpen:v.keep_open,debounceTime:v.debounce_time,enabled:v.enabled};h.enabled!==void 0&&(console.log("Atualizando status do typebot de",v.enabled,"para",h.enabled),x.enabled=h.enabled),h.url&&(x.url=h.url),h.typebot&&(x.typebot=h.typebot),h.triggerType&&(x.triggerType=h.triggerType),h.triggerOperator&&(x.triggerOperator=h.triggerOperator),h.triggerValue&&(x.triggerValue=h.triggerValue),h.expire!==void 0&&(x.expire=h.expire),h.keywordFinish&&(x.keywordFinish=h.keywordFinish),h.delayMessage!==void 0&&(x.delayMessage=h.delayMessage),h.unknownMessage&&(x.unknownMessage=h.unknownMessage),h.listeningFromMe!==void 0&&(x.listeningFromMe=h.listeningFromMe),h.stopBotFromMe!==void 0&&(x.stopBotFromMe=h.stopBotFromMe),h.keepOpen!==void 0&&(x.keepOpen=h.keepOpen),h.debounceTime!==void 0&&(x.debounceTime=h.debounceTime),console.log("Dados enviados para a API:",x);const b=await i.updateTypebot(p,y,x),w={updated_at:new Date().toISOString()};h.enabled!==void 0&&(console.log("Atualizando status no banco de dados para:",h.enabled),w.enabled=h.enabled),h.url&&(w.url=h.url),h.typebot&&(w.typebot=h.typebot),h.triggerType&&(w.trigger_type=h.triggerType),h.triggerOperator&&(w.trigger_operator=h.triggerOperator),h.triggerValue&&(w.trigger_value=h.triggerValue),h.description!==void 0&&(w.description=h.description),h.expire!==void 0&&(w.expire=h.expire),h.keywordFinish&&(w.keyword_finish=h.keywordFinish),h.delayMessage!==void 0&&(w.delay_message=h.delayMessage),h.unknownMessage&&(w.unknown_message=h.unknownMessage),h.listeningFromMe!==void 0&&(w.listening_from_me=h.listeningFromMe),h.stopBotFromMe!==void 0&&(w.stop_bot_from_me=h.stopBotFromMe),h.keepOpen!==void 0&&(w.keep_open=h.keepOpen),h.debounceTime!==void 0&&(w.debounce_time=h.debounceTime),console.log("Dados para atualizar no banco:",w);const{error:_}=await ye.from("evolution_api_typebots").update(w).eq("id",h.id);if(_)throw _;return b}catch(v){throw console.error("Erro ao atualizar typebot:",v),v}},onSuccess:()=>{Oe.success("Typebot atualizado com sucesso"),r.invalidateQueries({queryKey:["evolution-api-typebots"]})},onError:h=>{Oe.error(`Erro ao atualizar typebot: ${h instanceof Error?h.message:"Erro desconhecido"}`)}}),m=$0({mutationFn:async h=>{try{if(!h.id)throw console.error("ID do typebot no fornecido para excluso"),new Error("ID do typebot no fornecido");let v=h.instanceName,g=h.typebotId;if(!v||!g){console.log("Buscando dados do typebot no banco de dados...");const{data:y,error:x}=await ye.from("evolution_api_typebots").select("typebot_id, instance_name").eq("id",h.id).single();if(x||!y)throw console.error("Erro ao buscar dados do typebot:",x),new Error("Typebot no encontrado no banco de dados");v=y.instance_name,g=y.typebot_id,console.log("Dados recuperados do banco:",{instanceName:v,typebotId:g})}if(!v||!g)throw console.error("Parmetros invlidos para excluso mesmo aps busca no banco:",{instanceName:v,typebotId:g,id:h.id}),new Error("Parmetros invlidos para excluso do typebot");await i.deleteTypebot(v,g);const{error:p}=await ye.from("evolution_api_typebots").delete().eq("id",h.id);if(p)throw p;return{success:!0}}catch(v){throw console.error("Erro ao excluir typebot:",v),v}},onSuccess:()=>{Oe.success("Typebot excludo com sucesso"),r.invalidateQueries({queryKey:["evolution-api-typebots"]})},onError:h=>{Oe.error(`Erro ao excluir typebot: ${h instanceof Error?h.message:"Erro desconhecido"}`)}});return{typebots:s,isLoading:l||n,error:c,syncTypebots:u,createTypebot:d,updateTypebot:f,deleteTypebot:m}}function _yt({typebot:t,onEdit:e}){const{toast:r}=ga(),[n,a]=N.useState(!1),[i,s]=N.useState(!1),{updateTypebot:l,deleteTypebot:c}=zle(),u=new Date(t.createdAt).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),d=async()=>{try{s(!0),await l.mutateAsync({id:t.id,typebotId:t.typebotId,instanceName:t.instanceName,enabled:!t.enabled})}catch(m){console.error("Erro ao alternar status do typebot:",m),r({variant:"destructive",title:"Erro!",description:"Ocorreu um erro ao alternar o status do typebot."})}finally{s(!1)}},f=async()=>{try{a(!0),await c.mutateAsync({id:t.id,typebotId:t.typebotId,instanceName:t.instanceName})}catch(m){console.error("Erro ao excluir typebot:",m),r({variant:"destructive",title:"Erro!",description:"Ocorreu um erro ao excluir o typebot."})}finally{a(!1)}};return o.jsx("div",{className:"border-b border-gray-200 py-3 hover:bg-gray-50",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-start",children:[o.jsxs("div",{className:"flex-1 w-full",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[o.jsx(qc,{className:"h-5 w-5 text-primary"}),o.jsx("span",{className:"text-base font-medium truncate max-w-[200px] sm:max-w-none",children:t.typebot}),o.jsx(Ur,{variant:t.enabled?"default":"secondary",className:t.enabled?"bg-green-100 text-green-800":"bg-gray-200 text-gray-800",children:t.enabled?"Ativo":"Inativo"})]}),o.jsxs("div",{className:"text-sm text-gray-500 mb-1",children:["Criado em: ",u]}),t.description&&o.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Descrio: ",t.description]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 sm:gap-x-8 gap-y-1 mt-2 text-sm",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline sm:gap-1",children:[o.jsx("span",{className:"font-medium",children:"Tipo de Acionamento:"}),o.jsx("span",{className:"text-gray-600",children:t.triggerType==="all"?"Todas as mensagens":`Palavra-chave (${t.triggerOperator==="contains"?"contm":t.triggerOperator}: ${t.triggerValue})`})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline sm:gap-1",children:[o.jsx("span",{className:"font-medium",children:"Palavra para finalizar:"}),o.jsx("span",{className:"text-gray-600",children:t.keywordFinish||"#SAIR"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline sm:gap-1",children:[o.jsx("span",{className:"font-medium",children:"URL:"}),o.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1 truncate max-w-[250px]",children:[t.url.replace(/^https?:\/\//,""),o.jsx(rG,{className:"h-3 w-3 flex-shrink-0"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline sm:gap-1",children:[o.jsx("span",{className:"font-medium",children:"Expirao:"}),o.jsxs("span",{className:"text-gray-600",children:[t.expire||"20"," min"]})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 sm:mt-0 sm:ml-4 w-full sm:w-auto",children:[o.jsx(je,{variant:"ghost",size:"sm",className:`${t.enabled?"text-red-600":"text-green-600"} flex-1 sm:flex-auto justify-center`,onClick:d,disabled:i,children:t.enabled?o.jsxs(o.Fragment,{children:[o.jsx(N3,{className:"h-4 w-4 mr-2"}),"Desativar"]}):o.jsxs(o.Fragment,{children:[o.jsx(xv,{className:"h-4 w-4 mr-2"}),"Ativar"]})}),o.jsxs(je,{variant:"ghost",size:"sm",className:"flex-1 sm:flex-auto justify-center",onClick:()=>e(t),children:[o.jsx(go,{className:"h-4 w-4 mr-2"}),"Editar"]}),o.jsxs(xf,{children:[o.jsx(Tle,{asChild:!0,children:o.jsxs(je,{variant:"ghost",size:"sm",className:"text-red-600 flex-1 sm:flex-auto justify-center",children:[o.jsx(yn,{className:"h-4 w-4 mr-2"}),"Excluir"]})}),o.jsxs(cd,{className:"max-w-[95vw] sm:max-w-md",children:[o.jsxs(ud,{children:[o.jsx(fd,{children:"Excluir Typebot"}),o.jsxs(hd,{children:['Tem certeza que deseja excluir o typebot "',t.typebot,'"? Esta ao no pode ser desfeita.']})]}),o.jsxs(dd,{className:"flex-col sm:flex-row gap-2 sm:gap-0",children:[o.jsx(pd,{className:"mt-0",children:"Cancelar"}),o.jsx(md,{onClick:f,className:"bg-red-600 hover:bg-red-700",children:n?"Excluindo...":"Excluir"})]})]})]})]})]})})}const jyt=rc({url:Dr().url({message:"URL invlida"}),typebot:Dr().min(3,{message:"ID do typebot deve ter pelo menos 3 caracteres"}),description:Dr().optional(),triggerType:Nw(["all","keyword"]),triggerOperator:Nw(["contains","equals","startsWith","endsWith","regex"]),triggerValue:Dr(),expire:K1().int().min(1).max(1440),keywordFinish:Dr(),delayMessage:K1().int().min(0).max(1e4),unknownMessage:Dr(),listeningFromMe:Ch().default(!1),stopBotFromMe:Ch().default(!1),keepOpen:Ch().default(!1),debounceTime:K1().int().min(0).max(60)});function Nyt({typebot:t,instanceId:e,instanceName:r,onSubmit:n,onCancel:a,isSubmitting:i}){const[s,l]=N.useState(!1),c=Vl({resolver:Hl(jyt),defaultValues:{url:(t==null?void 0:t.url)||"https://bot.packtypebot.com.br",typebot:(t==null?void 0:t.typebot)||"",description:(t==null?void 0:t.description)||"",triggerType:(t==null?void 0:t.triggerType)||"keyword",triggerOperator:(t==null?void 0:t.triggerOperator)||"contains",triggerValue:(t==null?void 0:t.triggerValue)||"",expire:(t==null?void 0:t.expire)||20,keywordFinish:(t==null?void 0:t.keywordFinish)||"#SAIR",delayMessage:(t==null?void 0:t.delayMessage)||1e3,unknownMessage:(t==null?void 0:t.unknownMessage)||"Mensagem no reconhecida",listeningFromMe:(t==null?void 0:t.listeningFromMe)||!1,stopBotFromMe:(t==null?void 0:t.stopBotFromMe)||!1,keepOpen:(t==null?void 0:t.keepOpen)||!1,debounceTime:(t==null?void 0:t.debounceTime)||1}}),u=c.watch("triggerType"),d=f=>{f.triggerType==="all"&&(f.triggerValue="*",f.triggerOperator="contains"),console.log("Dados do formulrio:",f),n(f)};return o.jsxs(ot,{className:"border-2 border-primary/10 shadow-md",children:[o.jsx(Ot,{className:"pb-4",children:o.jsxs(It,{className:"text-xl flex items-center gap-2",children:[o.jsx(qc,{className:"h-5 w-5 text-primary"}),t?"Editar":"Novo"," Typebot"]})}),o.jsx(lt,{children:o.jsx(Wl,{...c,children:o.jsx("form",{onSubmit:c.handleSubmit(d),className:"space-y-6",children:o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:"grid gap-3",children:[o.jsx(er,{control:c.control,name:"url",render:({field:f})=>o.jsxs(Zt,{children:[o.jsxs(Kt,{className:"flex items-center gap-1 text-base font-medium",children:[o.jsx(A3,{className:"h-4 w-4 text-primary"}),"URL do Typebot"]}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"https://bot.packtypebot.com.br",...f,className:"focus-visible:ring-primary"})}),o.jsx(yi,{className:"text-xs text-muted-foreground ml-5",children:"URL base do seu Typebot"}),o.jsx(sr,{})]})}),o.jsx(er,{control:c.control,name:"typebot",render:({field:f})=>o.jsxs(Zt,{children:[o.jsxs(Kt,{className:"flex items-center gap-1 text-base font-medium",children:[o.jsx(qc,{className:"h-4 w-4 text-primary"}),"ID do Typebot"]}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"meu-typebot",...f,className:"focus-visible:ring-primary"})}),o.jsx(yi,{className:"text-xs text-muted-foreground ml-5",children:"Identificador nico do seu Typebot"}),o.jsx(sr,{})]})}),o.jsx(er,{control:c.control,name:"description",render:({field:f})=>o.jsxs(Zt,{children:[o.jsxs(Kt,{className:"flex items-center gap-1 text-base font-medium",children:[o.jsx($o,{className:"h-4 w-4 text-primary"}),"Descrio"]}),o.jsx(tr,{children:o.jsx(li,{placeholder:"Descrio do typebot (opcional)",className:"resize-none focus-visible:ring-primary",...f})}),o.jsx(sr,{})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[o.jsx(er,{control:c.control,name:"triggerType",render:({field:f})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Tipo de Acionamento"}),o.jsxs(un,{onValueChange:f.onChange,defaultValue:f.value,children:[o.jsx(tr,{children:o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione o tipo"})})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"all",children:"Todas as mensagens"}),o.jsx(Vt,{value:"keyword",children:"Palavra-chave"})]})]}),o.jsx(yi,{children:"Como o typebot ser acionado"}),o.jsx(sr,{})]})}),u==="keyword"&&o.jsx(er,{control:c.control,name:"triggerOperator",render:({field:f})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Operador"}),o.jsxs(un,{onValueChange:f.onChange,defaultValue:f.value,children:[o.jsx(tr,{children:o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione o operador"})})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"contains",children:"Contm"}),o.jsx(Vt,{value:"equals",children:"Igual a"}),o.jsx(Vt,{value:"startsWith",children:"Comea com"}),o.jsx(Vt,{value:"endsWith",children:"Termina com"}),o.jsx(Vt,{value:"regex",children:"Regex"})]})]}),o.jsx(yi,{children:"Como a palavra-chave ser comparada"}),o.jsx(sr,{})]})})]}),u==="keyword"&&o.jsx(er,{control:c.control,name:"triggerValue",render:({field:f})=>o.jsxs(Zt,{children:[o.jsxs(Kt,{className:"flex items-center gap-1 text-base font-medium",children:[o.jsx(kL,{className:"h-4 w-4 text-primary"}),"Palavra-chave"]}),o.jsx(tr,{children:o.jsx(mt,{placeholder:u==="keyword"?"atendimento":"No necessrio",className:"focus-visible:ring-primary",...f,disabled:u!=="keyword",required:u==="keyword"})}),o.jsx(yi,{children:"Palavra-chave que acionar o typebot"}),o.jsx(sr,{})]})}),o.jsxs("div",{className:"flex items-center space-x-2 mt-6",children:[o.jsx(Fs,{id:"advanced-options",checked:s,onCheckedChange:l}),o.jsx("label",{htmlFor:"advanced-options",className:"text-sm font-medium leading-none cursor-pointer",children:"Mostrar opes avanadas"})]}),s&&o.jsxs("div",{className:"mt-6 space-y-6 border-t pt-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(er,{control:c.control,name:"expire",render:({field:f})=>o.jsxs(Zt,{children:[o.jsxs(Kt,{className:"flex items-center gap-1",children:[o.jsx(pn,{className:"h-4 w-4"}),"Tempo de Expirao (min)"]}),o.jsx(tr,{children:o.jsx(mt,{type:"number",...f,onChange:m=>f.onChange(parseInt(m.target.value))})}),o.jsx(yi,{children:"Tempo para expirar a sesso (em minutos)"}),o.jsx(sr,{})]})}),o.jsx(er,{control:c.control,name:"keywordFinish",render:({field:f})=>o.jsxs(Zt,{children:[o.jsxs(Kt,{className:"flex items-center gap-1",children:[o.jsx(kL,{className:"h-4 w-4"}),"Palavra para Finalizar"]}),o.jsx(tr,{children:o.jsx(mt,{...f})}),o.jsx(yi,{children:"Palavra para encerrar o typebot"}),o.jsx(sr,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(er,{control:c.control,name:"delayMessage",render:({field:f})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Delay de Mensagem (ms)"}),o.jsx(tr,{children:o.jsx(mt,{type:"number",...f,onChange:m=>f.onChange(parseInt(m.target.value))})}),o.jsx(yi,{children:"Atraso entre mensagens (em milissegundos)"}),o.jsx(sr,{})]})}),o.jsx(er,{control:c.control,name:"debounceTime",render:({field:f})=>{const m=typeof f.value=="number"?f.value:0;return o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Tempo de Debounce (seg)"}),o.jsx(tr,{children:o.jsx(mt,{type:"number",min:0,max:60,value:m,onChange:h=>{if(h.target.value===""){f.onChange(0);return}const v=parseInt(h.target.value,10);f.onChange(isNaN(v)?0:v)}})}),o.jsx(yi,{children:"Tempo de espera entre acionamentos (em segundos)"}),o.jsx(sr,{})]})}})]}),o.jsx(er,{control:c.control,name:"unknownMessage",render:({field:f})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Mensagem Desconhecida"}),o.jsx(tr,{children:o.jsx(mt,{...f})}),o.jsx(yi,{children:"Mensagem enviada quando o typebot no reconhece a entrada"}),o.jsx(sr,{})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(er,{control:c.control,name:"listeningFromMe",render:({field:f})=>o.jsxs(Zt,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Kt,{children:"Ouvir minhas mensagens"}),o.jsx(yi,{children:"Typebot responder s suas prprias mensagens"})]}),o.jsx(tr,{children:o.jsx(Fs,{checked:f.value,onCheckedChange:f.onChange})})]})}),o.jsx(er,{control:c.control,name:"stopBotFromMe",render:({field:f})=>o.jsxs(Zt,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Kt,{children:"Parar bot com minhas mensagens"}),o.jsx(yi,{children:"Suas mensagens interrompero o fluxo do typebot"})]}),o.jsx(tr,{children:o.jsx(Fs,{checked:f.value,onCheckedChange:f.onChange})})]})}),o.jsx(er,{control:c.control,name:"keepOpen",render:({field:f})=>o.jsxs(Zt,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Kt,{children:"Manter conversa aberta"}),o.jsx(yi,{children:"Manter a conversa ativa mesmo aps o trmino do fluxo"})]}),o.jsx(tr,{children:o.jsx(Fs,{checked:f.value,onCheckedChange:f.onChange})})]})})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[o.jsx(je,{type:"button",variant:"outline",onClick:a,children:"Cancelar"}),o.jsx(je,{type:"submit",disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(C3,{className:"mr-2 h-4 w-4"}),t?"Atualizar":"Criar"," Typebot"]})})]})]})})})})]})}function Ayt({instanceId:t,instanceName:e}){const{typebots:r,isLoading:n,error:a,syncTypebots:i,createTypebot:s,updateTypebot:l}=zle(t),[c,u]=N.useState(""),[d,f]=N.useState(!1),[m,h]=N.useState(null),[v,g]=N.useState(!1),p=r==null?void 0:r.filter(j=>{var A;return j.typebot.toLowerCase().includes(c.toLowerCase())||((A=j.description)==null?void 0:A.toLowerCase().includes(c.toLowerCase()))||j.trigger_value.toLowerCase().includes(c.toLowerCase())}),y=async()=>{if(e)try{g(!0),await i(e)}finally{g(!1)}},x=()=>{h(null),f(!0)},b=j=>{h(j),f(!0)},w=()=>{f(!1),h(null)},_=async j=>{m?await l.mutateAsync({id:m.id,typebotId:m.typebotId,instanceName:e,...j}):await s.mutateAsync({instanceId:t,instanceName:e,...j}),f(!1),h(null)};return N.useEffect(()=>{e&&!(r!=null&&r.length)&&y()},[e]),n?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Gn,{className:"h-24 w-full rounded-lg"}),o.jsx(Gn,{className:"h-24 w-full rounded-lg"}),o.jsx(Gn,{className:"h-24 w-full rounded-lg"})]}):a?o.jsxs(Sl,{variant:"destructive",children:[o.jsx(hs,{className:"h-4 w-4"}),o.jsx(nc,{children:"Erro"}),o.jsx(_l,{children:"Ocorreu um erro ao carregar os typebots."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center justify-between",children:[o.jsxs("div",{className:"relative w-full sm:w-auto flex-1 max-w-full sm:max-w-md",children:[o.jsx(td,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(mt,{type:"text",placeholder:"Buscar typebot...",className:"pl-9",value:c,onChange:j=>u(j.target.value)})]}),o.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[o.jsx(je,{variant:"outline",size:"icon",onClick:y,disabled:v,title:"Sincronizar typebots",className:"flex-shrink-0",children:o.jsx(E3,{className:`h-4 w-4 ${v?"animate-spin":""}`})}),o.jsxs(je,{onClick:x,className:"w-full sm:w-auto flex-1 sm:flex-initial",children:[o.jsx(ms,{className:"h-4 w-4 mr-2"}),"Novo Typebot"]})]})]}),p!=null&&p.length?o.jsx("div",{className:"space-y-1",children:p.map(j=>{const A={id:j.id,typebotId:j.typebot_id,instanceId:j.instance_id,instanceName:j.instance_name,enabled:j.enabled,url:j.url,typebot:j.typebot,triggerType:j.trigger_type,triggerOperator:j.trigger_operator,triggerValue:j.trigger_value,expire:j.expire,keywordFinish:j.keyword_finish,delayMessage:j.delay_message,unknownMessage:j.unknown_message,listeningFromMe:j.listening_from_me,stopBotFromMe:j.stop_bot_from_me,keepOpen:j.keep_open,debounceTime:j.debounce_time,description:j.description,userId:j.user_id,createdAt:j.created_at,updatedAt:j.updated_at};return o.jsx(_yt,{typebot:A,onEdit:b},j.id)})}):o.jsxs(Sl,{children:[o.jsx(qc,{className:"h-4 w-4"}),o.jsx(nc,{children:"Nenhum typebot encontrado"}),o.jsx(_l,{children:c?"Nenhum typebot corresponde  sua pesquisa. Tente outros termos.":"Crie um novo typebot usando o boto acima."})]}),o.jsx(wi,{open:d,onOpenChange:f,children:o.jsxs(ai,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto max-w-[95vw] p-4 sm:p-6",children:[o.jsxs(ii,{children:[o.jsxs(si,{children:[m?"Editar":"Novo"," Typebot"]}),o.jsx(Bo,{children:m?"Edite as configuraes do typebot existente":"Configure um novo typebot para esta instncia"})]}),o.jsx(Nyt,{typebot:m||void 0,instanceId:t,instanceName:e,onSubmit:_,onCancel:w,isSubmitting:s.isPending||l.isPending})]})})]})}function Eyt(){const[t,e]=N.useState(null),[r,n]=N.useState(""),{data:a=[],isLoading:i}=Ih({queryKey:["evolution-api-instances"],queryFn:async()=>{try{const{data:c,error:u}=await ye.from("evolution_api_instances").select("id, instance_name, connection_status").order("created_at",{ascending:!1});if(u)throw u;return c}catch(c){return console.error("Erro ao buscar instncias:",c),[]}}}),s=a.filter(c=>c.instance_name.toLowerCase().includes(r.toLowerCase())),l=c=>{e(c)};return i?o.jsx("div",{className:"text-center py-8",children:"Carregando instncias..."}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"md:col-span-1",children:o.jsx(ot,{className:"h-full",children:o.jsxs(lt,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(qc,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-medium",children:"Instncias"})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(td,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(mt,{type:"text",placeholder:"Buscar instncia...",className:"pl-9",value:r,onChange:c=>n(c.target.value)})]}),s.length===0?o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:r?"Nenhuma instncia encontrada":"Nenhuma instncia disponvel"}):o.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto pr-2",children:s.map(c=>o.jsxs("div",{className:`p-3 rounded-md cursor-pointer hover:bg-muted transition-colors ${(t==null?void 0:t.id)===c.id?"bg-primary/10 border-l-4 border-primary":"border-l-4 border-transparent"}`,onClick:()=>l(c),children:[o.jsx("div",{className:"font-medium",children:c.instance_name}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Status:"," ",o.jsx("span",{className:c.connection_status==="open"?"text-green-500":"text-amber-500",children:c.connection_status==="open"?"Conectado":"Desconectado"})]})]},c.id))})]})})}),o.jsx("div",{className:"md:col-span-2",children:t?o.jsx(Ayt,{instanceId:t.id,instanceName:t.instance_name}):o.jsx(ot,{children:o.jsxs(lt,{className:"p-8 flex flex-col items-center justify-center h-full text-center",children:[o.jsx(qc,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-xl font-medium mb-2",children:"Selecione uma instncia"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"Escolha uma instncia na lista  esquerda para gerenciar os typebots para aquela instncia."})]})})})]})}const Vle=()=>{const{toast:t}=ga(),e=ff(),{data:r,isLoading:n}=Ih({queryKey:["custom-messages"],queryFn:async()=>{const{data:c,error:u}=await ye.from("custom_messages").select("*").order("created_at",{ascending:!1});if(u)throw u;return c.map(gT)}}),a=$0({mutationFn:async c=>{const u={message_name:c.messageName,template:c.template,category:c.category},{data:d,error:f}=await ye.from("custom_messages").insert(u).select().single();if(f)throw f;return gT(d)},onSuccess:()=>{e.invalidateQueries({queryKey:["custom-messages"]}),t({title:"Sucesso!",description:"Mensagem personalizada criada com sucesso."})},onError:c=>{console.error("Erro ao criar mensagem:",c),t({variant:"destructive",title:"Erro!",description:"No foi possvel criar a mensagem personalizada."})}}),i=$0({mutationFn:async c=>{const u={message_name:c.messageName,template:c.template,category:c.category},{data:d,error:f}=await ye.from("custom_messages").update(u).eq("id",c.id).select().single();if(f)throw f;return gT(d)},onSuccess:()=>{e.invalidateQueries({queryKey:["custom-messages"]}),t({title:"Sucesso!",description:"Mensagem personalizada atualizada com sucesso."})},onError:c=>{console.error("Erro ao atualizar mensagem:",c),t({variant:"destructive",title:"Erro!",description:"No foi possvel atualizar a mensagem personalizada."})}}),s=$0({mutationFn:async c=>{const{error:u}=await ye.from("custom_messages").delete().eq("id",c);if(u)throw u},onSuccess:()=>{e.invalidateQueries({queryKey:["custom-messages"]}),t({title:"Sucesso!",description:"Mensagem personalizada excluda com sucesso."})},onError:c=>{console.error("Erro ao excluir mensagem:",c),t({variant:"destructive",title:"Erro!",description:"No foi possvel excluir a mensagem personalizada."})}});return{messages:r,isLoading:n,createMessage:a,updateMessage:i,deleteMessage:s,replaceTemplateVariables:(c,u)=>c.replace(/\$(\w+)/g,(d,f)=>u[f]||d)}},Cyt=()=>{const[t,e]=N.useState(null),[r,n]=N.useState(!0),{toast:a}=ga();return N.useEffect(()=>{(async()=>{try{const{data:s,error:l}=await ye.from("business_data").select("*").limit(1).single();if(l&&l.code!=="PGRST116")throw l;s&&e(yP(s))}catch(s){console.error("Erro ao buscar dados do negcio:",s),a({variant:"destructive",title:"Erro",description:"No foi possvel carregar os dados do negcio."})}finally{n(!1)}})()},[]),{businessData:t,isLoading:r}},Tyt=0*60*60*1e3,kyt=t=>{try{const e=new URL(t);return e.protocol==="http:"||e.protocol==="https:"}catch{return!1}},Pyt=({instance:t,clientPhone:e,clientName:r,onSuccess:n})=>{const[a,i]=N.useState(e||""),[s,l]=N.useState(""),[c,u]=N.useState("text"),[d,f]=N.useState(""),[m,h]=N.useState(""),[v,g]=N.useState("image"),[p,y]=N.useState(""),[x,b]=N.useState(!1),{toast:w}=ga(),_=N.useRef(null),[j,A]=N.useState([]),[E,T]=N.useState(null),[R,D]=N.useState(""),[P,I]=N.useState(!1),{messages:L,isLoading:V,replaceTemplateVariables:H}=Vle(),{businessData:q}=Cyt(),[G,re]=N.useState(!1),[Z,de]=N.useState(new Date),[k,F]=N.useState("12:00"),{user:B}=lu();N.useEffect(()=>{if(r){const he=ie();l(`${he}, ${r}! `)}},[r]),N.useEffect(()=>{(async()=>{I(!0);try{const{data:oe,error:X}=await ye.from("appointments").select("*").order("appointment_datetime",{ascending:!0}).gte("appointment_datetime",new Date().toISOString()).limit(50);if(X)throw X;A(oe||[])}catch(oe){console.error("Erro ao carregar agendamentos:",oe),w({variant:"destructive",title:"Erro",description:"No foi possvel carregar os agendamentos."})}finally{I(!1)}})()},[]);const z=[{id:"nome",label:"Nome",value:"$nome"},{id:"telefone",label:"Telefone",value:"$telefone"},{id:"data",label:"Data",value:"$data"},{id:"empresa",label:"Empresa",value:"$empresa"},{id:"saudacao",label:"Saudao",value:"$saudacao"},{id:"servico",label:"Servio",value:"$servico"},{id:"valor",label:"Valor",value:"$valor"},{id:"atendente",label:"Atendente",value:"$atendente"},{id:"horario",label:"Horrio",value:"$horario"},{id:"observacoes",label:"Observaes",value:"$observacoes"}],ee=he=>{if(_.current){const oe=_.current,X=oe.selectionStart,Ae=oe.selectionEnd,Be=s.substring(0,X)+he+s.substring(Ae);l(Be),setTimeout(()=>{oe.focus(),oe.setSelectionRange(X+he.length,X+he.length)},0)}else l(s+he)},le=he=>{try{const oe=new Date(he),X=new Date(oe.getTime()+Tyt),Ae=X.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});return Fc("DisparadorUnico:formatAppointmentDateTime",he,{scheduledDate:oe,adjustedDate:X,formattedDate:Ae}),Ae}catch(oe){return console.error("Erro ao formatar data:",oe),he}},ge=he=>{D(he);const oe=j.find(X=>X.id===he);oe&&(T(oe),i(oe.client_phone))},se=he=>{const oe={nome:(E==null?void 0:E.client_name)||"Cliente",telefone:a,data:E?wr(X8(E.appointment_datetime),"dd/MM/yyyy",{locale:Kn}):new Date().toLocaleDateString("pt-BR"),empresa:(q==null?void 0:q.tradingName)||t,saudacao:ie(),servico:(E==null?void 0:E.service_name)||"",valor:E!=null&&E.service_price?`R$ ${E.service_price.toFixed(2)}`:"",atendente:(E==null?void 0:E.attendant_name)||"",horario:E?wr(new Date(X8(E.appointment_datetime).getTime()-108e5),"HH:mm",{locale:Kn}):"",observacoes:(E==null?void 0:E.notes)||""};return H(he,oe)},ie=()=>{const he=new Date().getHours();return he<12?"Bom dia":he<18?"Boa tarde":"Boa noite"},we=he=>{const oe=L==null?void 0:L.find(X=>X.id===he);oe&&(l(oe.template),u("text"))},pe=async()=>{if(c==="text"&&s.trim()===""){w({variant:"destructive",title:"Mensagem vazia",description:"Por favor, digite uma mensagem para enviar."});return}if(a.trim()===""){w({variant:"destructive",title:"Nmero no informado",description:"Por favor, informe o nmero do destinatrio."});return}if(c==="media"){if(d.trim()===""){w({variant:"destructive",title:"URL da mdia vazia",description:"Por favor, informe a URL da mdia para enviar."});return}if(!kyt(d)){w({variant:"destructive",title:"URL invlida",description:"A URL da mdia informada no  vlida."});return}}b(!0);try{const he=io.getInstance();try{if(!(await he.checkNumber(t,a.trim())).exists){w({variant:"destructive",title:"Nmero invlido",description:"O nmero informado no  um nmero vlido do WhatsApp."}),b(!1);return}}catch(oe){console.error("Erro ao verificar nmero:",oe)}if(G&&Z)try{const oe=aZ(Z,k),X=Gw(oe);Fc("DisparadorUnico:scheduleMessage",oe,X);const{data:Ae,error:Be}=await ye.from("evolution_api_instances").select("id").eq("instance_name",t).single();if(Be||!Ae)throw new Error("No foi possvel encontrar a instncia selecionada.");const qe=c==="text"?{number:a.trim(),text:se(s)}:{number:a.trim(),mediaUrl:d,mediaType:v,caption:se(m),fileName:p||void 0};if(!await ef.getInstance().scheduleMessage({instanceId:Ae.id,instanceName:t,type:c,payload:qe,scheduledAt:X,status:"pending",userId:B==null?void 0:B.id}))throw new Error("No foi possvel agendar a mensagem.");const ne=K_e(X);w({title:"Mensagem agendada com sucesso",description:`A mensagem ser enviada para ${a.trim()} em ${ne}.`}),Me(),n&&n(!0)}catch(oe){console.error("Erro ao agendar mensagem:",oe),w({variant:"destructive",title:"Erro ao agendar mensagem",description:oe instanceof Error?oe.message:"Ocorreu um erro desconhecido"}),b(!1);return}else{if(c==="text"){const oe=se(s),X=await he.sendText(t,{number:a.trim(),text:oe,options:{delay:1e3,presence:"composing"}});w({title:"Mensagem enviada",description:"A mensagem de texto foi enviada com sucesso."})}else{const oe=se(m),X=await he.sendMedia(t,{number:a.trim(),mediatype:v,media:d,caption:oe,fileName:p||void 0,options:{delay:1e3,presence:"composing"}});w({title:"Mensagem enviada",description:"A mensagem com mdia foi enviada com sucesso."})}Me(),n&&n(!1)}}catch(he){console.error("Erro ao enviar mensagem:",he);let oe="Ocorreu um erro ao enviar a mensagem.";he instanceof Error&&(oe=he.message),w({variant:"destructive",title:"Erro ao enviar",description:oe})}finally{b(!1)}},Me=()=>{i(""),l(""),u("text"),f(""),h(""),y(""),g("image"),re(!1),de(new Date),F("12:00"),T(null),D("")};return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{children:"Selecionar Agendamento (opcional)"}),o.jsxs(un,{value:R,onValueChange:ge,children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione um agendamento"})}),o.jsx(on,{children:P?o.jsx(Vt,{value:"loading",disabled:!0,children:"Carregando agendamentos..."}):j.length>0?j.map(he=>o.jsx(Vt,{value:he.id,children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:he.client_name}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[le(he.appointment_datetime)," -"," ",he.service_name]})]})},he.id)):o.jsx(Vt,{value:"empty",disabled:!0,children:"Nenhum agendamento encontrado"})})]}),E&&o.jsxs("div",{className:"mt-2 p-4 bg-slate-50 dark:bg-slate-900 rounded-md",children:[o.jsx("h4",{className:"text-sm font-medium mb-2",children:"Detalhes do Agendamento"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Cliente:"}),o.jsx("p",{children:E.client_name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Telefone:"}),o.jsx("p",{children:E.client_phone})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Servio:"}),o.jsx("p",{children:E.service_name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Valor:"}),o.jsxs("p",{children:["R$ ",E.service_price.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Atendente:"}),o.jsx("p",{children:E.attendant_name})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Data/Hora:"}),o.jsx("p",{children:le(E.appointment_datetime)})]}),E.notes&&o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Observaes:"}),o.jsx("p",{children:E.notes})]})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"number",children:"Nmero do Destinatrio"}),o.jsx(mt,{id:"number",placeholder:"Ex: 5511999999999",value:a,onChange:he=>i(he.target.value)}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Digite o nmero com cdigo do pas, sem espaos ou caracteres especiais."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{children:"Tipo de Mensagem"}),o.jsxs(un,{value:c,onValueChange:he=>u(he),children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione o tipo de mensagem"})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"text",children:"Texto"}),o.jsx(Vt,{value:"media",children:"Mdia (Imagem, Vdeo, Documento)"})]})]})]}),c==="text"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{children:"Mensagem Personalizada"}),o.jsxs(un,{onValueChange:we,children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione uma mensagem personalizada"})}),o.jsx(on,{children:V?o.jsx(Vt,{value:"loading",disabled:!0,children:"Carregando mensagens..."}):L&&L.length>0?L.map(he=>o.jsx(Vt,{value:he.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx($o,{className:"h-4 w-4"}),o.jsx("span",{children:he.messageName}),o.jsx("span",{className:Ke("px-2 py-0.5 text-xs rounded-full",{"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":he.category==="Reagendamento","bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":he.category==="Lembrete","bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":he.category==="Confirmao","bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100":he.category==="Cancelamento","bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-100":!["Reagendamento","Lembrete","Confirmao","Cancelamento"].includes(he.category)}),children:he.category})]})},he.id)):o.jsx(Vt,{value:"empty",disabled:!0,children:"Nenhuma mensagem personalizada encontrada"})})]})]}),c==="text"?o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"message",children:"Mensagem de Texto"}),o.jsx(li,{id:"message",placeholder:"Digite sua mensagem aqui...",className:"min-h-[120px]",value:s,onChange:he=>l(he.target.value),ref:_}),o.jsxs("div",{className:"mt-2",children:[o.jsxs(pt,{className:"flex items-center gap-2 mb-2 text-sm",children:[o.jsx(gy,{className:"h-3.5 w-3.5 text-primary"}),"Variveis Disponveis (clique para adicionar)"]}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:z.map(he=>o.jsx("button",{type:"button",onClick:()=>ee(he.value),className:"px-2 py-1 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-md text-xs text-slate-700 dark:text-slate-200 transition-colors",children:he.label},he.id))})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"mediaType",children:"Tipo de Mdia"}),o.jsxs(un,{value:v,onValueChange:he=>g(he),children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione o tipo de mdia"})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"image",children:"Imagem"}),o.jsx(Vt,{value:"video",children:"Vdeo"}),o.jsx(Vt,{value:"document",children:"Documento"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"mediaUrl",children:"URL da Mdia"}),o.jsx(mt,{id:"mediaUrl",placeholder:"https://exemplo.com/imagem.jpg",value:d,onChange:he=>f(he.target.value)}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["Insira a URL da"," ",v==="image"?"imagem":v==="video"?"vdeo":"documento"," ","que deseja enviar"]})]}),v==="document"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"fileName",children:"Nome do Arquivo"}),o.jsx(mt,{id:"fileName",placeholder:"documento.pdf",value:p,onChange:he=>y(he.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"mediaCaption",children:"Legenda (opcional)"}),o.jsx(li,{id:"mediaCaption",placeholder:"Digite uma legenda para a mdia...",value:m,onChange:he=>h(he.target.value)}),E&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Voc pode usar as mesmas variveis disponveis na mensagem de texto."})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fs,{id:"scheduled",checked:G,onCheckedChange:re}),o.jsxs(pt,{htmlFor:"scheduled",className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4"}),"Agendar Envio"]})]}),G&&o.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"date",children:"Data"}),o.jsx(mt,{id:"date",type:"date",value:(Z==null?void 0:Z.toISOString().split("T")[0])||"",onChange:he=>{const oe=he.target.value;if(oe)try{const[X,Ae,Be]=oe.split("-").map(Number),qe=new Date(X,Ae-1,Be,12,0,0);de(qe)}catch(X){console.error("Erro ao processar data:",X)}else de(null)},className:"border-input"})]}),o.jsxs("div",{children:[o.jsx(pt,{htmlFor:"scheduledTime",children:"Horrio"}),o.jsx(mt,{type:"time",id:"scheduledTime",value:k,onChange:he=>F(he.target.value)})]})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(je,{variant:"outline",onClick:Me,className:"w-full",type:"button",children:"Limpar"}),o.jsxs(je,{onClick:pe,disabled:x,className:"w-full",children:[o.jsx(uh,{className:"h-4 w-4 mr-2"}),x?"Enviando...":G?"Agendar Mensagem":"Enviar Mensagem"]})]})]})})},Dyt=0*60*60*1e3,Oyt=({message:t,open:e,onOpenChange:r,onSuccess:n})=>{const[a,i]=N.useState(!1),[s,l]=N.useState(""),[c,u]=N.useState(""),[d,f]=N.useState(""),[m,h]=N.useState(""),{toast:v}=ga();N.useEffect(()=>{if(t&&e){l(t.payload.number||""),t.type==="text"?u(t.payload.text||""):u(t.payload.caption||"");try{const p=new Date(t.scheduledAt),y=new Date(p.getTime()+Dyt);f(y.toISOString().split("T")[0]),h(y.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",hour12:!1})),Fc("EditScheduledMessageDialog:init",t.scheduledAt,{adjustedDate:y,date:p,time:m})}catch(p){console.error("Erro ao formatar data/hora:",p);const y=new Date(t.scheduledAt);f(y.toISOString().split("T")[0]),h(y.toTimeString().slice(0,5))}}},[t,e]);const g=async()=>{if(t){if(!s.trim()){v({variant:"destructive",title:"Erro de validao",description:"O nmero de telefone  obrigatrio."});return}if(!d||!m){v({variant:"destructive",title:"Erro de validao",description:"Data e hora de agendamento so obrigatrios."});return}try{const[p,y,x]=d.split("-").map(Number),b=new Date(p,y-1,x,12,0,0),w=aZ(b,m);i(!0);try{const _=Gw(w);Fc("EditScheduledMessageDialog:save",w,_);const j={...t,payload:{...t.payload,number:s,...t.type==="text"?{text:c}:{caption:c}},scheduledAt:_},A=ef.getInstance();if(await A.deleteScheduledMessage(t.id),!await A.scheduleMessage({instanceId:j.instanceId,instanceName:j.instanceName,type:j.type,payload:j.payload,scheduledAt:j.scheduledAt,status:"pending",userId:j.userId}))throw new Error("No foi possvel atualizar a mensagem agendada.");v({title:"Mensagem atualizada",description:"A mensagem agendada foi atualizada com sucesso."}),n(),r(!1)}catch(_){console.error("Erro ao atualizar mensagem agendada:",_),v({variant:"destructive",title:"Erro",description:"No foi possvel atualizar a mensagem agendada."})}finally{i(!1)}}catch(p){console.error("Erro ao processar data e hora:",p),v({variant:"destructive",title:"Formato de data invlido",description:"Verifique se a data e hora esto no formato correto."})}}};return o.jsx(wi,{open:e,onOpenChange:r,children:o.jsxs(ai,{className:"sm:max-w-md",children:[o.jsxs(ii,{children:[o.jsx(si,{children:"Editar Mensagem Agendada"}),o.jsx(Bo,{children:"Edite os detalhes da mensagem agendada abaixo."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"phone",children:"Nmero do Destinatrio"}),o.jsx(mt,{id:"phone",value:s,onChange:p=>l(p.target.value),placeholder:"Ex: 5511999999999"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"message",children:(t==null?void 0:t.type)==="text"?"Mensagem":"Legenda"}),o.jsx(li,{id:"message",value:c,onChange:p=>u(p.target.value),placeholder:"Digite sua mensagem...",rows:4})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsxs(pt,{htmlFor:"date",className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4"}),"Data"]}),o.jsx(mt,{id:"date",type:"date",value:d,onChange:p=>{try{f(p.target.value)}catch(y){console.error("Erro ao processar data:",y)}}})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsxs(pt,{htmlFor:"time",className:"flex items-center gap-2",children:[o.jsx(pn,{className:"h-4 w-4"}),"Hora"]}),o.jsx(mt,{id:"time",type:"time",value:m,onChange:p=>h(p.target.value)})]})]})]}),o.jsxs(au,{className:"flex space-x-2 justify-end",children:[o.jsx(je,{variant:"outline",onClick:()=>r(!1),disabled:a,children:"Cancelar"}),o.jsx(je,{onClick:g,disabled:a,children:a?"Salvando...":"Salvar alteraes"})]})]})})},Iyt=0*60*60*1e3,Myt=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(null),[a,i]=N.useState(null),[s,l]=N.useState(null),{toast:c}=ga(),u=ac(),[d,f]=N.useState([]),[m,h]=N.useState(!1),[v,g]=N.useState(null),[p,y]=N.useState(!1),[x,b]=N.useState("informacoes"),[w,_]=N.useState(null),[j,A]=N.useState(!1);N.useEffect(()=>{const de=u.state;de&&(de.clientPhone&&i(de.clientPhone),de.clientName&&l(de.clientName))},[u.state]);const{data:E=[],isLoading:T}=Ih({queryKey:["instances"],queryFn:async()=>{try{const{data:de,error:k}=await ye.from("evolution_api_instances").select("id, instance_name, connection_status");if(k)throw k;return(de||[]).map(F=>({id:F.id,name:F.instance_name,connectionStatus:F.connection_status}))}catch(de){return console.error("Erro ao buscar instncias:",de),c({variant:"destructive",title:"Erro!",description:"No foi possvel carregar as instncias."}),[]}}});N.useEffect(()=>{if(!T&&E.length>0&&a&&!r){const de=E.find(k=>k.connectionStatus==="open");n(de?de.name:E[0].name)}},[T,E,a,r]);const R=E.filter(de=>de.name.toLowerCase().includes(t.toLowerCase())),D=de=>{n(de)};N.useEffect(()=>{r&&x==="agendamentos"&&P()},[r,x]);const P=async()=>{if(r){h(!0);try{const F=(await ef.getInstance().getScheduledMessages()).filter(B=>B.instanceName===r);f(F)}catch(de){console.error("Erro ao carregar mensagens agendadas:",de),c({variant:"destructive",title:"Erro",description:"No foi possvel carregar as mensagens agendadas."})}finally{h(!1)}}},I=async de=>{try{if(await ef.getInstance().deleteScheduledMessage(de))f(B=>B.filter(z=>z.id!==de)),c({title:"Mensagem removida",description:"A mensagem agendada foi removida com sucesso."});else throw new Error("No foi possvel excluir a mensagem")}catch(k){console.error("Erro ao excluir mensagem agendada:",k),c({variant:"destructive",title:"Erro",description:"No foi possvel excluir a mensagem agendada."})}finally{g(null)}},L=de=>{try{const k=new Date(de),F=new Date(k.getTime()+Iyt),B=F.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});return Fc("DisparadorWrapper:formatDateTime",de,{scheduledDate:k,adjustedDate:F,formattedDate:B}),B}catch(k){return console.error("Erro ao formatar data:",k),de}},V=(de,k)=>{if(de==="text")return"Texto";switch(k){case"image":return"Imagem";case"video":return"Vdeo";case"document":return"Documento";default:return"Mdia"}},H=de=>{switch(de){case"pending":return"bg-blue-100 text-blue-800 dark:bg-blue-500 dark:text-white hover:bg-blue-200 dark:hover:bg-blue-400";case"sent":return"bg-green-100 text-green-800 dark:bg-green-500 dark:text-white hover:bg-green-200 dark:hover:bg-green-400";case"failed":return"bg-red-100 text-red-800 dark:bg-red-500 dark:text-white hover:bg-red-200 dark:hover:bg-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-500 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-400"}},q=de=>{switch(de){case"pending":return"Pendente";case"sent":return"Enviada";case"failed":return"Cancelado";default:return de}},G=(de=!1)=>{de&&(b("agendamentos"),setTimeout(()=>{P()},500)),c({title:de?"Mensagem agendada":"Mensagem enviada",description:de?"Sua mensagem foi agendada com sucesso.":"Sua mensagem foi enviada com sucesso."})},re=de=>{_(de),A(!0)},Z=()=>{P()};return T?o.jsx("div",{className:"text-center py-8",children:"Carregando instncias..."}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx("div",{className:"md:col-span-1",children:o.jsx(ot,{className:"h-full",children:o.jsxs(lt,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(uh,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-medium",children:"Instncias"})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(td,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(mt,{type:"text",placeholder:"Buscar instncia...",className:"pl-9",value:t,onChange:de=>e(de.target.value)})]}),R.length===0?o.jsx("div",{className:"text-center py-4 text-muted-foreground",children:t?"Nenhuma instncia encontrada":"Nenhuma instncia disponvel"}):o.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto pr-2",children:R.map(de=>o.jsxs("div",{className:`p-3 rounded-md cursor-pointer hover:bg-muted transition-colors ${r===de.name?"bg-primary/10 border-l-4 border-primary":"border-l-4 border-transparent"}`,onClick:()=>D(de.name),children:[o.jsx("div",{className:"font-medium",children:de.name}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Status:"," ",o.jsx("span",{className:de.connectionStatus==="open"?"text-green-500":"text-amber-500",children:de.connectionStatus==="open"?"Conectado":"Desconectado"})]})]},de.id))})]})})}),o.jsx("div",{className:"md:col-span-2",children:r?o.jsx("div",{className:"space-y-4",children:o.jsxs(ys,{defaultValue:a?"envio-unico":"informacoes",onValueChange:b,children:[o.jsxs(Di,{children:[o.jsxs(qt,{value:"informacoes",className:"flex items-center gap-2",children:[o.jsx(Jc,{className:"h-4 w-4"}),o.jsx("span",{children:"Informaes"})]}),o.jsxs(qt,{value:"envio-unico",className:"flex items-center gap-2",children:[o.jsx(uh,{className:"h-4 w-4"}),o.jsx("span",{children:"Disparador"})]}),o.jsxs(qt,{value:"agendamentos",className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4"}),o.jsx("span",{children:"Agendamentos"}),d.length>0&&o.jsx(Ur,{variant:"secondary",className:"ml-1",children:d.length})]})]}),o.jsx(nr,{value:"informacoes",className:"mt-4",children:o.jsx(ot,{children:o.jsx(lt,{className:"p-6",children:o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"text-sm text-muted-foreground",children:o.jsxs(Sl,{children:[o.jsx(hs,{className:"h-4 w-4"}),o.jsx(nc,{children:"Disparador"}),o.jsx(_l,{children:"Esta funo permite enviar uma nica mensagem para um nmero especfico. Voc pode selecionar um agendamento para preencher automaticamente as informaes do cliente."})]})})})})})}),o.jsx(nr,{value:"envio-unico",className:"mt-4",children:o.jsx(ot,{children:o.jsxs(lt,{className:"p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(uh,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-medium",children:"Disparador"})]})}),o.jsx(Pyt,{instance:r,clientPhone:a,clientName:s,onSuccess:de=>G(de)})]})})}),o.jsx(nr,{value:"agendamentos",className:"mt-4",children:o.jsx(ot,{children:o.jsxs(lt,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-medium",children:"Mensagens Agendadas"})]}),o.jsxs(je,{variant:"outline",size:"sm",onClick:P,disabled:m,className:"flex items-center gap-1",children:[o.jsx(Oo,{className:`h-3.5 w-3.5 ${m?"animate-spin":""}`}),o.jsx("span",{className:"hidden sm:inline",children:"Atualizar"})]})]}),m?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Oo,{className:"h-8 w-8 text-primary mx-auto mb-2 animate-spin"}),o.jsx("p",{children:"Carregando mensagens agendadas..."})]}):d.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(nn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h4",{className:"text-lg font-medium mb-2",children:"Nenhuma mensagem agendada"}),o.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:'As mensagens agendadas aparecero aqui. Voc pode agendar mensagens na opo de disparador, ativando a opo "Agendar Envio".'})]}):o.jsx("div",{className:"space-y-4",children:d.map(de=>{const F=de.type==="text"?de.payload.text:de.payload.caption||"Mensagem com mdia",B=de.payload.number,z=de.payload.mediaType;return o.jsxs("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ur,{className:H(de.status),children:q(de.status)}),o.jsx(Ur,{variant:"outline",children:V(de.type,z)}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Agendada:"," ",L(de.scheduledAt)]})]}),o.jsxs("div",{className:"mt-1",children:[o.jsxs("div",{className:"font-medium",children:["Para: ",B]}),o.jsx("div",{className:"text-sm mt-1",children:o.jsx("span",{className:"text-muted-foreground line-clamp-2",children:F&&F.length>100?F.substring(0,100)+"...":F})})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[de.status==="pending"&&o.jsx(o.Fragment,{children:o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>re(de),className:"text-primary hover:text-primary",children:o.jsx(fj,{className:"h-4 w-4"})})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>g(de.id),className:"text-destructive hover:text-destructive",children:o.jsx(Hde,{className:"h-4 w-4"})})]})]}),de.error&&o.jsxs("div",{className:"mt-2 text-sm text-destructive",children:[o.jsx("span",{className:"font-medium",children:"Erro:"})," ",de.error]})]},de.id)})})]})})})]})}):o.jsx(ot,{children:o.jsxs(lt,{className:"p-8 flex flex-col items-center justify-center h-full text-center",children:[o.jsx(uh,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-xl font-medium mb-2",children:"Selecione uma instncia"}),o.jsx("p",{className:"text-muted-foreground max-w-md",children:"Escolha uma instncia na lista  esquerda para enviar mensagens pelo WhatsApp."})]})})}),o.jsx(wi,{open:v!==null,onOpenChange:de=>!de&&g(null),children:o.jsxs(ai,{children:[o.jsxs(ii,{children:[o.jsx(si,{children:"Confirmar excluso"}),o.jsx(Bo,{children:"Tem certeza que deseja excluir esta mensagem agendada? Esta ao no pode ser desfeita."})]}),o.jsxs(au,{className:"mt-4 flex space-x-2 justify-end",children:[o.jsx(je,{variant:"outline",onClick:()=>g(null),children:"Cancelar"}),o.jsx(je,{variant:"destructive",onClick:()=>v&&I(v),children:"Excluir"})]})]})}),o.jsx(Oyt,{message:w,open:j,onOpenChange:A,onSuccess:Z})]})},Ryt=rc({messageName:Dr().min(3,"Nome deve ter no mnimo 3 caracteres"),template:Dr().min(10,"Template deve ter no mnimo 10 caracteres"),category:Dr().min(1,"Categoria  obrigatria")}),Lyt=["Confirmao","Lembrete","Reagendamento","Cancelamento","Outros"],Fyt=[{id:"nome",label:"Nome",value:"$nome",description:"Nome do cliente"},{id:"telefone",label:"Telefone",value:"$telefone",description:"Nmero do telefone"},{id:"data",label:"Data",value:"$data",description:"Data do agendamento"},{id:"empresa",label:"Empresa",value:"$empresa",description:"Nome da empresa"},{id:"saudacao",label:"Saudao",value:"$saudacao",description:"Saudao automtica (Bom dia/Boa tarde/Boa noite)"},{id:"servico",label:"Servio",value:"$servico",description:"Nome do servio"},{id:"valor",label:"Valor",value:"$valor",description:"Valor do servio"},{id:"atendente",label:"Atendente",value:"$atendente",description:"Nome do atendente"},{id:"horario",label:"Horrio",value:"$horario",description:"Horrio do agendamento"},{id:"observacoes",label:"Observaes",value:"$observacoes",description:"Observaes do agendamento"}];function $yt({message:t,onSubmit:e,onCancel:r}){const n=Vl({resolver:Hl(Ryt),defaultValues:{messageName:(t==null?void 0:t.messageName)||"",template:(t==null?void 0:t.template)||"",category:(t==null?void 0:t.category)||""}}),a=N.useRef(null),i=s=>{if(a.current){const l=a.current,c=l.selectionStart,u=l.selectionEnd,d=n.getValues("template"),f=d.substring(0,c)+s+d.substring(u);n.setValue("template",f),setTimeout(()=>{l.focus(),l.setSelectionRange(c+s.length,c+s.length)},0)}};return o.jsx(Wl,{...n,children:o.jsxs("form",{onSubmit:n.handleSubmit(e),className:"space-y-6",children:[o.jsx(er,{control:n.control,name:"messageName",render:({field:s})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Nome da Mensagem"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Ex: Confirmao de Agendamento",...s})}),o.jsx(sr,{})]})}),o.jsx(er,{control:n.control,name:"category",render:({field:s})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Categoria"}),o.jsxs(un,{onValueChange:s.onChange,defaultValue:s.value,children:[o.jsx(tr,{children:o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione uma categoria"})})}),o.jsx(on,{children:Lyt.map(l=>o.jsx(Vt,{value:l,children:l},l))})]}),o.jsx(sr,{})]})}),o.jsx(er,{control:n.control,name:"template",render:({field:s})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Template da Mensagem"}),o.jsx(tr,{children:o.jsx(li,{placeholder:"Digite o template da mensagem usando as variveis disponveis",className:"h-32",...s,ref:l=>{s.ref(l),a.current=l}})}),o.jsxs("div",{className:"mt-2",children:[o.jsxs(pt,{className:"flex items-center gap-2 mb-2 text-sm",children:[o.jsx(gy,{className:"h-3.5 w-3.5 text-primary"}),"Variveis Disponveis (clique para adicionar)"]}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:Fyt.map(l=>o.jsx("button",{type:"button",onClick:()=>i(l.value),className:"px-2 py-1 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-md text-xs text-slate-700 dark:text-slate-200 transition-colors",title:l.description,children:l.label},l.id))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"* Passe o mouse sobre as variveis para ver suas descries"})]}),o.jsx(sr,{})]})}),o.jsxs("div",{className:"flex justify-end gap-4",children:[o.jsx(je,{type:"button",variant:"outline",onClick:r,children:"Cancelar"}),o.jsxs(je,{type:"submit",children:[t?"Atualizar":"Criar"," Mensagem"]})]})]})})}function Byt(){const{messages:t,isLoading:e,createMessage:r,updateMessage:n,deleteMessage:a}=Vle(),[i,s]=N.useState(!1),[l,c]=N.useState(null),u=p=>{r.mutate(p,{onSuccess:()=>{s(!1),c(null)}})},d=p=>{l&&n.mutate({...p,id:l.id},{onSuccess:()=>{s(!1),c(null)}})},f=async p=>{window.confirm(`Tem certeza que deseja excluir a mensagem "${p.messageName}"?`)&&a.mutate(p.id)},m=p=>{c(p),s(!0)},h=()=>{c(null),s(!0)},v=()=>{c(null),s(!1)},g=p=>{const y={Confirmao:"bg-green-100 text-green-800",Lembrete:"bg-blue-100 text-blue-800",Reagendamento:"bg-yellow-100 text-yellow-800",Cancelamento:"bg-red-100 text-red-800",Outros:"bg-gray-100 text-gray-800"};return y[p]||y.Outros};return o.jsxs(ot,{children:[o.jsxs(Ot,{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(It,{children:"Mensagens Personalizadas"}),o.jsx(Nn,{children:"Gerencie suas mensagens personalizadas para diferentes situaes"})]}),o.jsxs(je,{onClick:h,children:[o.jsx(ms,{className:"h-4 w-4 mr-2"}),"Nova Mensagem"]})]}),o.jsx(lt,{children:e?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx(_a,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):t!=null&&t.length?o.jsx("div",{className:"overflow-hidden rounded-lg border",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{className:"w-[200px] min-w-[120px]",children:"Nome"}),o.jsx(wt,{className:"w-[150px] min-w-[100px]",children:"Categoria"}),o.jsx(wt,{className:"hidden sm:table-cell",children:"Template"}),o.jsx(wt,{className:"w-[60px]"})]})}),o.jsx(di,{children:t.map(p=>o.jsxs(dr,{children:[o.jsxs(ct,{className:"font-medium",children:[p.messageName,o.jsxs("div",{className:"sm:hidden mt-1 space-y-1",children:[o.jsx(Ur,{variant:"secondary",className:g(p.category),children:p.category}),o.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:p.template})]})]}),o.jsx(ct,{className:"hidden sm:table-cell",children:o.jsx(Ur,{variant:"secondary",className:g(p.category),children:p.category})}),o.jsx(ct,{className:"hidden sm:table-cell max-w-md",children:o.jsx("div",{className:"truncate text-muted-foreground",children:p.template})}),o.jsx(ct,{children:o.jsxs(vm,{children:[o.jsx(ym,{asChild:!0,children:o.jsx(je,{variant:"ghost",className:"h-8 w-8 p-0",children:o.jsx(zA,{className:"h-4 w-4"})})}),o.jsxs(yf,{align:"end",children:[o.jsxs(Aa,{onClick:()=>m(p),children:[o.jsx(go,{className:"h-4 w-4 mr-2"}),"Editar"]}),o.jsxs(Aa,{className:"text-red-600",onClick:()=>f(p),children:[o.jsx(yn,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})})]},p.id))})]})}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma mensagem personalizada encontrada."})}),o.jsx(wi,{open:i,onOpenChange:s,children:o.jsxs(ai,{className:"sm:max-w-[600px]",children:[o.jsxs(ii,{children:[o.jsxs(si,{children:[l?"Editar":"Nova"," Mensagem Personalizada"]}),o.jsx(Bo,{children:l?"Edite os detalhes da mensagem personalizada":"Crie uma nova mensagem personalizada para usar em suas comunicaes"})]}),o.jsx($yt,{message:l||void 0,onSubmit:l?d:u,onCancel:v})]})})]})}const Uyt={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},mW={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},zyt=()=>{Mle();const{user:t}=lu(),{toast:e}=ga(),r=ff(),[n,a]=W.useState(!1),i=(t==null?void 0:t.role)==="admin",s=ac(),[l,c]=W.useState(i?"settings":"instances");N.useEffect(()=>{var d;(d=s.state)!=null&&d.activeTab&&c(s.state.activeTab)},[s.state]);const u=async()=>{try{a(!0);const{data:d,error:f}=await ye.from("evolution_api_instances").select("id, instance_name, connection_status");if(f)throw f;if(!(d!=null&&d.length)){e({description:"Nenhuma instncia encontrada para atualizar."});return}const m=io.getInstance();let h=0;for(const v of d)try{const g=await m.getConnectionState(v.instance_name);g.state!==v.connection_status&&(await ye.from("evolution_api_instances").update({connection_status:g.state}).eq("id",v.id),g.state==="open"&&await m.syncInstanceData(v.instance_name,v.id),h++)}catch(g){console.error(`Erro ao atualizar instncia ${v.instance_name}:`,g)}r.invalidateQueries({queryKey:["evolution-api-instances"]}),e({title:"Instncias atualizadas!",description:h>0?`${h} instncia(s) tiveram seu status atualizado.`:"Nenhuma instncia precisava ser atualizada."})}catch(d){console.error("Erro ao atualizar instncias:",d),e({variant:"destructive",title:"Erro!",description:"Ocorreu um erro ao atualizar as instncias."})}finally{a(!1)}};return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-4 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:Uyt,children:[o.jsxs(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",variants:mW,children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Evolution API"}),l==="instances"&&o.jsxs(je,{onClick:u,disabled:n,variant:"outline",className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[o.jsx(E3,{size:16,className:n?"animate-spin":""}),o.jsx("span",{children:"Atualizar Instncias"})]})]}),o.jsx(nt.div,{variants:mW,children:o.jsxs(ot,{className:"w-full",children:[o.jsx(Ot,{children:o.jsx(It,{children:"Evolution API"})}),o.jsx(lt,{className:"p-2 sm:p-4 md:p-6",children:o.jsxs(ys,{defaultValue:l,value:l,onValueChange:c,className:"w-full",children:[o.jsxs(Di,{className:"flex flex-wrap w-full overflow-x-auto mb-6 gap-1 sm:gap-0 sm:grid sm:grid-cols-3 md:grid-cols-6",children:[i&&o.jsxs(qt,{value:"settings",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[o.jsx(py,{className:"h-5 w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Configuraes"})]}),o.jsxs(qt,{value:"instances",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[o.jsx(Ude,{className:"h-5 w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Instncias"})]}),o.jsxs(qt,{value:"webhooks",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[o.jsx(hj,{className:"h-5 w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Webhooks"})]}),o.jsxs(qt,{value:"typebots",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[o.jsx(qc,{className:"h-5 w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Typebot"})]}),o.jsxs(qt,{value:"messages",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[o.jsx($o,{className:"h-5 w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Mensagens"})]}),o.jsxs(qt,{value:"disparador",className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",children:[o.jsx(uh,{className:"h-5 w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Disparador"})]})]}),i?o.jsx(nr,{value:"settings",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Configure os parmetros globais para integrao com a Evolution API. Estas configuraes sero usadas para todas as instncias do WhatsApp."}),o.jsx(cyt,{})]})}):o.jsx(nr,{value:"settings",children:o.jsxs(Sl,{variant:"destructive",children:[o.jsx(hs,{className:"h-4 w-4"}),o.jsx(nc,{children:"Acesso restrito"}),o.jsx(_l,{children:"Apenas administradores tm acesso s configuraes da Evolution API."})]})}),o.jsx(nr,{value:"instances",children:o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"border rounded-lg p-3 sm:p-4",children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium mb-2 sm:mb-4",children:"Nova Instncia"}),o.jsx(fyt,{})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium mb-2 sm:mb-4",children:"Instncias Existentes"}),o.jsx(pyt,{})]})]})}),o.jsx(nr,{value:"webhooks",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Configure webhooks para receber notificaes de eventos de suas instncias do WhatsApp. Selecione uma instncia na lista para configurar seu webhook."}),o.jsx(Syt,{})]})}),o.jsx(nr,{value:"typebots",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Configure typebots para automatizar conversas em suas instncias do WhatsApp. Selecione uma instncia na lista para gerenciar seus typebots."}),o.jsx(Eyt,{})]})}),o.jsx(nr,{value:"messages",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-lg font-medium",children:"Mensagens Personalizadas"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure mensagens personalizadas para diferentes situaes como confirmaes, lembretes e cancelamentos. Estas mensagens podem ser usadas no envio automtico ou manual de mensagens."})]}),o.jsx("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-4 sm:p-6",children:o.jsx(Byt,{})})]})}),o.jsx(nr,{value:"disparador",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Envie mensagens individuais para seus contatos do WhatsApp. Selecione uma instncia e configure seu envio."}),o.jsx(Myt,{})]})})]})})]})})]})})},Vyt=({message:t})=>{const e=t.role==="user",r=n=>n?new Intl.DateTimeFormat("pt-BR",{hour:"2-digit",minute:"2-digit"}).format(n):"";return o.jsx("div",{className:`flex ${e?"justify-end":"justify-start"} py-1.5 sm:py-2`,children:o.jsxs("div",{className:`flex max-w-[90%] sm:max-w-[85%] ${e?"flex-row-reverse":"flex-row"} items-start gap-2 sm:gap-3`,children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:e?o.jsx(eu,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}):o.jsx(qc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("div",{className:Ke("px-3 py-2 sm:px-4 sm:py-3 rounded-lg shadow-sm text-sm sm:text-base",e?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted rounded-tl-none border border-border/30"),children:o.jsx("p",{className:"whitespace-pre-wrap break-words leading-relaxed",children:t.content})}),o.jsx("div",{className:`text-[10px] sm:text-xs text-muted-foreground mt-1 sm:mt-1.5 ${e?"text-right pr-1":"text-left pl-1"}`,children:r(t.timestamp)})]})]})})};class ao{static async sendMessage(e,r,n){var f;const a=e.find(m=>m.role==="system"),i=e.filter(m=>m.role!=="system").map(({role:m,content:h})=>({role:m,content:h})),s=await ao.searchKnowledgeBase(n,r.id),l=await this.getRelevantDatabaseInfo(n);let c=(a==null?void 0:a.content)||"";s.length>0&&(c+=`

### Informaes da Base de Conhecimento:
`,s.forEach((m,h)=>{c+=`
[Documento ${h+1}]: ${m.title}
${m.content}
`}),c+=`

Use as informaes acima para responder  pergunta do usurio quando relevante.`),l&&(c+=`

### Informaes do Banco de Dados:
`,c+=l,c+=`

Use essas informaes do banco de dados para responder questes sobre servios, atendentes, agendamentos e outros dados da aplicao.`);const u=[{role:"system",content:c},...i,{role:"user",content:n}],d=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.openaiApiKey}`},body:JSON.stringify({model:r.model||"gpt-4o-mini",messages:u,temperature:r.temperature||.7,max_tokens:r.maxTokens||1e3})});if(!d.ok){const m=await d.json();throw new Error(((f=m.error)==null?void 0:f.message)||"Erro ao comunicar com a API da OpenAI")}return await d.json()}static async searchKnowledgeBase(e,r=null,n=5){try{const a=e.toLowerCase().split(" ").filter(c=>c.length>3).join(" | ");let i=ye.from("ai_knowledge_base").select("*").textSearch("content",a,{type:"websearch",config:"english"}).limit(n);r&&(i=i.eq("ai_settings_id",r));const{data:s,error:l}=await i;return l?(console.error("Erro ao buscar na base de conhecimento:",l),[]):s.map(c=>({id:c.id,title:c.title,content:c.content,metadata:c.metadata,createdAt:c.created_at,updatedAt:c.updated_at,userId:c.user_id,aiSettingsId:c.ai_settings_id}))}catch(a){return console.error("Erro ao buscar na base de conhecimento:",a),[]}}static async addKnowledgeDocument(e,r,n={},a=null,i=null){try{const{data:s,error:l}=await ye.from("ai_knowledge_base").insert({title:e,content:r,metadata:n,user_id:a,ai_settings_id:i}).select("id").single();return l?(console.error("Erro ao adicionar documento:",l),null):s.id}catch(s){return console.error("Erro ao adicionar documento:",s),null}}static async listKnowledgeDocuments(e=null,r=null){try{let n=ye.from("ai_knowledge_base").select("*").order("created_at",{ascending:!1});e&&(n=n.eq("ai_settings_id",e)),r&&(n=n.eq("user_id",r));const{data:a,error:i}=await n;return i?(console.error("Erro ao listar documentos:",i),[]):a.map(s=>({id:s.id,title:s.title,content:s.content,metadata:s.metadata,createdAt:s.created_at,updatedAt:s.updated_at,userId:s.user_id,aiSettingsId:s.ai_settings_id}))}catch(n){return console.error("Erro ao listar documentos:",n),[]}}static async updateKnowledgeDocument(e,r){try{const{error:n}=await ye.from("ai_knowledge_base").update({title:r.title,content:r.content,metadata:r.metadata,user_id:r.userId,ai_settings_id:r.aiSettingsId}).eq("id",e);return n?(console.error("Erro ao atualizar documento:",n),!1):!0}catch(n){return console.error("Erro ao atualizar documento:",n),!1}}static async deleteKnowledgeDocument(e){try{const{error:r}=await ye.from("ai_knowledge_base").delete().eq("id",e);return r?(console.error("Erro ao excluir documento:",r),!1):!0}catch(r){return console.error("Erro ao excluir documento:",r),!1}}static async createConversation(e,r,n){try{const{data:a,error:i}=await ye.from("ai_conversations").insert({title:e||"Nova conversa",user_id:r,ai_settings_id:n,is_active:!0}).select("id").single();return i?(console.error("Erro ao criar conversa:",i),null):a.id}catch(a){return console.error("Erro ao criar conversa:",a),null}}static async saveMessage(e,r,n=null,a=null,i={}){var s;try{const{error:l}=await ye.from("ai_chat_history").insert({conversation_id:e,role:r.role,content:r.content,timestamp:((s=r.timestamp)==null?void 0:s.toISOString())||new Date().toISOString(),user_id:n,ai_settings_id:a,metadata:i});return l?(console.error("Erro ao salvar mensagem:",l),!1):!0}catch(l){return console.error("Erro ao salvar mensagem:",l),!1}}static async loadConversationMessages(e){try{const{data:r,error:n}=await ye.from("ai_chat_history").select("*").eq("conversation_id",e).order("timestamp",{ascending:!0});return n?(console.error("Erro ao carregar mensagens:",n),[]):r.map(a=>({role:a.role,content:a.content,timestamp:new Date(a.timestamp)}))}catch(r){return console.error("Erro ao carregar mensagens:",r),[]}}static async listConversations(e){try{let r=ye.from("ai_conversations").select("*").order("last_message_at",{ascending:!1});e&&(r=r.eq("user_id",e));const{data:n,error:a}=await r;return a?(console.error("Erro ao listar conversas:",a),[]):n}catch(r){return console.error("Erro ao listar conversas:",r),[]}}static async clearAllConversations(e=null){try{let r=ye.from("ai_conversations").delete();e&&(r=r.eq("user_id",e));const{error:n}=await r;if(n){console.error("Erro ao excluir conversas:",n);const{data:a,error:i}=await ye.from("ai_conversations").select("id");if(i||!a||a.length===0)return console.error("Erro ao buscar conversas ou nenhuma conversa encontrada:",i),!1;const s=a.map(u=>u.id),{error:l}=await ye.from("ai_chat_history").delete().in("conversation_id",s);if(l)return console.error("Erro ao excluir mensagens:",l),!1;const{error:c}=await ye.from("ai_conversations").delete().in("id",s);if(c)return console.error("Erro ao excluir conversas:",c),!1}return!0}catch(r){return console.error("Erro ao limpar histrico de conversas:",r),!1}}static async getRelevantDatabaseInfo(e){try{const r=e.toLowerCase();let n="";if(r.includes("servio")||r.includes("servico")||r.includes("preo")||r.includes("preco")||r.includes("valor")||r.includes("corte")||r.includes("barba")||r.includes("oferta")||r.includes("tratamento")){const{data:a,error:i}=await ye.from("services").select("*").eq("available",!0);!i&&a&&a.length>0&&(n+=`
 Servios disponveis:
`,a.forEach(s=>{n+=`- ${s.name}: R$ ${s.price.toFixed(2)} - Durao: ${s.duration} minutos
`}))}if(r.includes("atendente")||r.includes("profissional")||r.includes("barbeiro")||r.includes("cabeleireiro")||r.includes("disponvel")||r.includes("disponivel")||r.includes("agenda")||r.includes("quem")||r.includes("especialista")){const{data:a,error:i}=await ye.from("attendants").select("*").eq("available",!0);!i&&a&&a.length>0&&(n+=`
 Profissionais disponveis:
`,a.forEach(s=>{n+=`- ${s.name} (${s.position}) - Dias de trabalho: ${s.work_days.join(", ")}
`}))}if(r.includes("horrio")||r.includes("horario")||r.includes("funcionamento")||r.includes("aberto")||r.includes("fecha")||r.includes("abre")||r.includes("expediente")||r.includes("dia")){const{data:a,error:i}=await ye.from("business_hours").select("*");!i&&a&&a.length>0&&(n+=`
 Horrios de funcionamento:
`,a.forEach(s=>{s.is_closed?n+=`- ${s.day_of_week}: Fechado
`:n+=`- ${s.day_of_week}: ${s.open_time||"08:00"} s ${s.close_time||"18:00"}
`}))}if(r.includes("empresa")||r.includes("negcio")||r.includes("negocio")||r.includes("contato")||r.includes("localizao")||r.includes("localizacao")||r.includes("endereo")||r.includes("endereco")||r.includes("nome")||r.includes("telefone")){const{data:a,error:i}=await ye.from("business_data").select("*").limit(1).single();!i&&a&&(n+=`
 Informaes do estabelecimento:
`,n+=`- Nome: ${a.trading_name}
`,n+=`- Telefone: ${a.phone}
`,n+=`- Email: ${a.email}
`,n+=`- Endereo: ${a.address}, ${a.number}, ${a.neighborhood}, ${a.city}/${a.state}
`)}if(r.includes("agendamento")||r.includes("marcar")||r.includes("reservar")||r.includes("consulta")||r.includes("disponibilidade")||r.includes("horrio")||r.includes("horario")||r.includes("agendar")||r.includes("reserva")){const a=new Date().toISOString().split("T")[0],{data:i,error:s}=await ye.from("appointments").select("*").gte("appointment_date",a).order("appointment_date",{ascending:!0}).order("appointment_time",{ascending:!0}).limit(10);if(!s&&i&&i.length>0){n+=`
 Informaes sobre agendamentos:
`,n+=`Os seguintes horrios j esto reservados:
`;const l={};i.forEach(c=>{l[c.appointment_date]||(l[c.appointment_date]=[]),l[c.appointment_date].push(c)}),Object.entries(l).forEach(([c,u])=>{const d=new Date(c).toLocaleDateString("pt-BR");n+=`
${d}:
`,u.forEach(f=>{n+=`- ${f.appointment_time}: ${f.service_name} com ${f.attendant_name}
`})}),n+=`
Recomende ao usurio fazer um agendamento em horrios diferentes desses.
`}else n+=`
 No h agendamentos prximos registrados. O cliente tem vrias opes de horrios disponveis.
`}return n.length>0?n:null}catch(r){return console.error("Erro ao buscar informaes do banco de dados:",r),null}}}const Hyt=({aiSettings:t})=>{const[e,r]=N.useState([]),[n,a]=N.useState(""),[i,s]=N.useState(!1),[l,c]=N.useState(null),[u,d]=N.useState(!1),[f,m]=N.useState(!1),[h,v]=N.useState(!1),g=N.useRef(null),p=N.useRef(null);N.useEffect(()=>{t!=null&&t.systemPrompt&&e.length===0&&y(),p.current&&setTimeout(()=>{var A;(A=p.current)==null||A.focus()},100)},[t,e.length]),N.useEffect(()=>{x()},[e]);const y=async()=>{try{const A=await ao.createConversation("Nova conversa",null,(t==null?void 0:t.id)||null);if(A){c(A);const E={role:"system",content:(t==null?void 0:t.systemPrompt)||"",timestamp:new Date};r([E]),await ao.saveMessage(A,E,null,(t==null?void 0:t.id)||null)}}catch(A){console.error("Erro ao inicializar conversa:",A)}},x=()=>{var A;(A=g.current)==null||A.scrollIntoView({behavior:"smooth"})},b=async()=>{if(!n.trim()||!(t!=null&&t.openaiApiKey)||!l)return;const A={role:"user",content:n,timestamp:new Date};r(E=>[...E,A]),a(""),s(!0);try{const E=await ao.listKnowledgeDocuments(t.id);v(E.length>0),await ao.saveMessage(l,A,null,t.id);const T=await ao.sendMessage(e,t,n),R={role:"assistant",content:T.choices[0].message.content,timestamp:new Date};r(D=>[...D,R]),await ao.saveMessage(l,R,null,t.id,{model:T.model,usage:T.usage,knowledgeBaseUsed:E.length>0})}catch(E){console.error("Erro ao enviar mensagem para a API:",E),Oe.error("Erro ao obter resposta da IA. Verifique suas configuraes.");const T={role:"assistant",content:"Desculpe, ocorreu um erro ao processar sua mensagem. Por favor, verifique as configuraes de IA ou tente novamente mais tarde.",timestamp:new Date};r(R=>[...R,T]),l&&await ao.saveMessage(l,T,null,t.id,{error:!0})}finally{s(!1)}},w=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),b())},_=async()=>{const A=e.find(E=>E.role==="system");r(A?[A]:[]),t&&await y()},j=async()=>{m(!0);try{await ao.clearAllConversations()?(Oe.success("Todo o histrico de conversas foi excludo"),await y()):Oe.error("Erro ao excluir histrico de conversas")}catch(A){console.error("Erro ao excluir histrico:",A),Oe.error("Erro ao excluir histrico de conversas")}finally{m(!1),d(!1)}};return o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(qc,{className:"h-5 w-5 text-primary"}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-sm font-medium",children:["Modelo: ",(t==null?void 0:t.model)||"No configurado"]}),h&&o.jsxs("span",{className:"text-xs bg-emerald-100 dark:bg-emerald-950 text-emerald-700 dark:text-emerald-400 px-1 py-0.5 rounded inline-flex items-center",children:[o.jsx(Ip,{className:"h-3 w-3 mr-1"}),"Base de conhecimento"]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(je,{variant:"destructive",size:"sm",onClick:()=>d(!0),title:"Apagar todo o histrico",className:"h-7 text-xs font-medium shadow-sm px-2 relative overflow-visible",disabled:f,children:[f?o.jsx(Oo,{className:"h-3.5 w-3.5 mr-1 animate-spin"}):o.jsx(yn,{className:"h-3.5 w-3.5 mr-1"}),o.jsx("span",{className:"text-xs",children:"Histrico"}),o.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2.5 w-2.5",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-white"})]})]}),o.jsxs(je,{variant:"outline",size:"sm",onClick:_,title:"Limpar conversa atual",className:"h-7 text-xs",children:[o.jsx(Oo,{className:"h-3.5 w-3.5 mr-1"}),o.jsx("span",{className:"text-xs",children:"Limpar"})]})]})]}),o.jsx("div",{className:"flex-1 overflow-hidden bg-muted/10",children:o.jsx(mE,{className:"h-full px-2 sm:px-3 py-2",children:o.jsxs("div",{className:"space-y-1 pb-2 pt-2",children:[e.length===1&&e[0].role==="system"&&o.jsxs("div",{className:"text-center p-4 sm:p-8",children:[o.jsx(qc,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto mb-3 text-muted-foreground opacity-50"}),o.jsx("h3",{className:"text-base sm:text-lg font-medium mb-1",children:"Ol! Como posso ajudar?"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Este assistente foi configurado para te auxiliar com suas dvidas."}),h&&o.jsxs("div",{className:"mt-2 pt-2 flex items-center justify-center gap-2 text-xs text-emerald-700 dark:text-emerald-400",children:[o.jsx(Ip,{className:"h-3.5 w-3.5"}),o.jsx("span",{children:"Utilizando base de conhecimento personalizada"})]}),o.jsx("div",{className:"mt-4 pt-4 border-t border-muted/50 text-xs text-muted-foreground",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 p-2 bg-destructive/10 rounded-md",children:[o.jsx(yn,{className:"h-3.5 w-3.5 text-destructive"}),o.jsxs("span",{className:"text-destructive font-medium",children:["Use o boto ",o.jsx("strong",{children:"Histrico"})," no topo para apagar todas as conversas salvas"]})]})})]}),e.filter(A=>A.role!=="system").map((A,E)=>o.jsx(Vyt,{message:A},E)),i&&o.jsx("div",{className:"flex justify-start py-2",children:o.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:o.jsx(qc,{className:"h-4 w-4 sm:h-5 sm:w-5 text-muted-foreground"})}),o.jsxs("div",{className:"px-3 sm:px-4 py-2 sm:py-3 bg-muted rounded-lg rounded-tl-none border border-border/30 flex items-center",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full bg-muted-foreground/30 animate-bounce [animation-delay:-0.3s]"}),o.jsx("div",{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full bg-muted-foreground/30 animate-bounce [animation-delay:-0.15s]"}),o.jsx("div",{className:"h-1.5 w-1.5 sm:h-2 sm:w-2 rounded-full bg-muted-foreground/30 animate-bounce"})]}),h&&o.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"Consultando base de conhecimento..."})]})]})}),o.jsx("div",{ref:g})]})})}),o.jsxs("div",{className:"p-3 sm:p-4 border-t",children:[o.jsxs("div",{className:"flex gap-2 items-end",children:[o.jsx(li,{ref:p,placeholder:"Digite sua mensagem...",value:n,onChange:A=>a(A.target.value),onKeyDown:w,className:"min-h-[50px] sm:min-h-[60px] max-h-[100px] sm:max-h-[120px] resize-none border-muted/50 focus-visible:ring-1 focus-visible:ring-primary/50 py-2 sm:py-3 text-sm",disabled:i||!l}),o.jsx(je,{onClick:b,disabled:i||!n.trim()||!l,size:"icon",className:"h-[50px] w-[50px] sm:h-[60px] sm:w-[60px] rounded-full flex-shrink-0",children:o.jsx(uh,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),o.jsx("div",{className:"mt-1 sm:mt-2 text-[10px] sm:text-xs text-center text-muted-foreground",children:"Pressione Enter para enviar, Shift+Enter para nova linha"})]}),o.jsx(xf,{open:u,onOpenChange:d,children:o.jsxs(cd,{className:"max-w-[90vw] sm:max-w-md border-destructive",children:[o.jsxs(ud,{className:"gap-1",children:[o.jsxs(fd,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(el,{className:"h-5 w-5 text-destructive"}),"Apagar todo o histrico?"]}),o.jsxs(hd,{className:"text-sm leading-normal",children:[o.jsx("span",{className:"font-medium text-destructive",children:"Ateno:"})," ","Esta ao no pode ser desfeita. Isso excluir permanentemente todas as suas conversas e mensagens armazenadas no banco de dados."]}),o.jsx("div",{className:"mt-2 p-2 bg-destructive/10 rounded-md text-xs text-destructive border border-destructive/20",children:"Todas as mensagens e conversas sero excludas do banco de dados."})]}),o.jsxs(dd,{className:"gap-2 sm:gap-0",children:[o.jsx(pd,{disabled:f,className:"font-medium",children:"Cancelar"}),o.jsx(md,{onClick:j,disabled:f,className:"bg-destructive hover:bg-destructive/90 text-white font-medium",children:f?o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"h-4 w-4 mr-2 animate-spin"}),"Excluindo..."]}):"Sim, apagar tudo"})]})]})})]})},Wyt=({aiSettings:t})=>{const[e,r]=N.useState([]),[n,a]=N.useState(!1),[i,s]=N.useState(!1),[l,c]=N.useState(!1),[u,d]=N.useState(""),[f,m]=N.useState(""),[h,v]=N.useState(null);N.useEffect(()=>{t&&g()},[t]);const g=async()=>{if(t){a(!0);try{const w=await ao.listKnowledgeDocuments(t.id);r(w)}catch(w){console.error("Erro ao carregar documentos:",w),Oe.error("Erro ao carregar base de conhecimento")}finally{a(!1)}}},p=async()=>{if(!u.trim()||!f.trim()||!t){Oe.error("Ttulo e contedo so obrigatrios");return}a(!0);try{await ao.addKnowledgeDocument(u,f,{},null,t.id),Oe.success("Documento adicionado com sucesso"),s(!1),d(""),m(""),g()}catch(w){console.error("Erro ao adicionar documento:",w),Oe.error("Erro ao adicionar documento")}finally{a(!1)}},y=async()=>{if(!u.trim()||!f.trim()||!h||!t){Oe.error("Ttulo e contedo so obrigatrios");return}a(!0);try{await ao.updateKnowledgeDocument(h,{title:u,content:f,aiSettingsId:t.id}),Oe.success("Documento atualizado com sucesso"),c(!1),d(""),m(""),v(null),g()}catch(w){console.error("Erro ao atualizar documento:",w),Oe.error("Erro ao atualizar documento")}finally{a(!1)}},x=async w=>{if(confirm("Tem certeza que deseja excluir este documento?")){a(!0);try{await ao.deleteKnowledgeDocument(w),Oe.success("Documento excludo com sucesso"),g()}catch(_){console.error("Erro ao excluir documento:",_),Oe.error("Erro ao excluir documento")}finally{a(!1)}}},b=w=>{v(w.id),d(w.title),m(w.content),c(!0)};return t?o.jsxs(ot,{className:"w-full",children:[o.jsxs(Ot,{children:[o.jsxs(It,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ip,{className:"h-5 w-5"}),"Base de Conhecimento"]}),o.jsx(Nn,{children:"Adicione documentos para melhorar as respostas do seu assistente"})]}),o.jsx(lt,{children:n&&e.length===0?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx(Oo,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.length>0?o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Ttulo"}),o.jsx(wt,{children:"Contedo"}),o.jsx(wt,{className:"w-[100px]",children:"Aes"})]})}),o.jsx(di,{children:e.map(w=>o.jsxs(dr,{children:[o.jsx(ct,{className:"font-medium",children:w.title}),o.jsx(ct,{className:"max-w-md truncate",children:w.content}),o.jsx(ct,{className:"text-right",children:o.jsxs("div",{className:"flex gap-2 justify-end",children:[o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>b(w),children:o.jsx(fj,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>x(w.id),children:o.jsx(yn,{className:"h-4 w-4"})})]})})]},w.id))})]}):o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Nenhum documento adicionado  base de conhecimento."})}),o.jsxs(Up,{className:"flex justify-between",children:[o.jsx("div",{}),o.jsxs(wi,{open:i,onOpenChange:s,children:[o.jsx(wh,{asChild:!0,children:o.jsxs(je,{className:"flex items-center gap-2",children:[o.jsx(ms,{className:"h-4 w-4"}),"Adicionar Documento"]})}),o.jsxs(ai,{className:"sm:max-w-[500px]",children:[o.jsxs(ii,{children:[o.jsx(si,{children:"Adicionar Documento"}),o.jsx(Bo,{children:"Adicione um novo documento  base de conhecimento"})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Ttulo"}),o.jsx(mt,{id:"title",value:u,onChange:w=>d(w.target.value),placeholder:"Ttulo do documento"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Contedo"}),o.jsx(li,{id:"content",value:f,onChange:w=>m(w.target.value),placeholder:"Contedo do documento",rows:10})]})]}),o.jsx(au,{children:o.jsx(je,{onClick:p,disabled:n,className:"w-full sm:w-auto",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"mr-2 h-4 w-4 animate-spin"}),"Adicionando..."]}):"Adicionar"})})]})]}),o.jsx(wi,{open:l,onOpenChange:c,children:o.jsxs(ai,{className:"sm:max-w-[500px]",children:[o.jsxs(ii,{children:[o.jsx(si,{children:"Editar Documento"}),o.jsx(Bo,{children:"Atualize as informaes do documento"})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"edit-title",className:"text-sm font-medium",children:"Ttulo"}),o.jsx(mt,{id:"edit-title",value:u,onChange:w=>d(w.target.value),placeholder:"Ttulo do documento"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx("label",{htmlFor:"edit-content",className:"text-sm font-medium",children:"Contedo"}),o.jsx(li,{id:"edit-content",value:f,onChange:w=>m(w.target.value),placeholder:"Contedo do documento",rows:10})]})]}),o.jsx(au,{children:o.jsx(je,{onClick:y,disabled:n,className:"w-full sm:w-auto",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"mr-2 h-4 w-4 animate-spin"}),"Atualizando..."]}):"Salvar Alteraes"})})]})})]})]}):o.jsxs(ot,{className:"w-full",children:[o.jsxs(Ot,{children:[o.jsxs(It,{className:"text-lg flex items-center gap-2",children:[o.jsx(Ip,{className:"h-5 w-5"}),"Base de Conhecimento"]}),o.jsx(Nn,{children:"Adicione documentos para treinar seu assistente"})]}),o.jsx(lt,{children:o.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Configure as configuraes de IA primeiro para usar a base de conhecimento."})})]})},qyt={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},pW={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},Gyt=()=>{const[t,e]=N.useState({openaiApiKey:"",model:"gpt-3.5-turbo",systemPrompt:"Voc  um assistente de agendamento inteligente. Seja til, educado e conciso.",temperature:.7,maxTokens:1e3}),[r,n]=N.useState(!1),[a,i]=N.useState(!1),[s,l]=N.useState(!1),[c,u]=N.useState("settings"),[d,f]=N.useState(!1),[m,h]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const{data:j,error:A}=await ye.from("ai_settings").select("*").limit(1).single();if(A){console.error("Erro ao buscar configuraes:",A);return}j&&e(s2e(j))}catch(j){console.error("Erro ao buscar configuraes:",j)}})()},[]);const v=_=>{const{name:j,value:A}=_.target;e(E=>({...E,[j]:A}))},g=(_,j)=>{e(A=>({...A,[_]:j}))},p=(_,j)=>{const A=parseFloat(j);isNaN(A)||e(E=>({...E,[_]:A}))},y=async _=>{_.preventDefault(),n(!0);try{const j=o2e(t);let A;t.id?A=await ye.from("ai_settings").update({...j,updated_at:new Date().toISOString()}).eq("id",t.id):A=await ye.from("ai_settings").insert({openai_api_key:j.openai_api_key??"",system_prompt:j.system_prompt??"",model:j.model??"gpt-4o-mini",temperature:j.temperature??.7,max_tokens:j.max_tokens??1e3,user_id:j.user_id}),A.error?(Oe.error("Erro ao salvar configuraes"),console.error("Erro ao salvar configuraes:",A.error)):Oe.success("Configuraes salvas com sucesso",{description:"Suas configuraes de IA foram atualizadas"})}catch(j){Oe.error("Erro ao salvar configuraes"),console.error("Erro ao salvar configuraes:",j)}finally{n(!1)}},x=async()=>{h(!0);try{const{count:_}=await ye.from("ai_chat_history").select("*",{count:"exact",head:!0});if(_===0){Oe.info("No h histrico de conversas para apagar"),f(!1);return}await ao.clearAllConversations()?Oe.success("Histrico de conversas apagado com sucesso"):Oe.error("Erro ao apagar histrico de conversas")}catch(_){console.error("Erro ao excluir histrico:",_),Oe.error("Erro ao apagar histrico de conversas")}finally{h(!1),f(!1)}},b=()=>o.jsx(ot,{children:o.jsxs("form",{onSubmit:y,children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Configuraes da IA"}),o.jsx(Nn,{children:"Configure os parmetros de integrao com a OpenAI para utilizar recursos de inteligncia artificial no sistema."})]}),o.jsxs(lt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"openaiApiKey",children:"Chave da API OpenAI"}),o.jsxs("div",{className:"relative",children:[o.jsx(mt,{id:"openaiApiKey",name:"openaiApiKey",type:a?"text":"password",placeholder:"sk-...",value:t.openaiApiKey||"",onChange:v,className:"pr-10"}),o.jsxs(je,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>i(!a),children:[a?o.jsx(N3,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(xv,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"sr-only",children:a?"Ocultar chave":"Mostrar chave"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Obtenha sua chave em"," ",o.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noreferrer noopener",className:"text-primary hover:underline",children:"platform.openai.com"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"model",children:"Modelo"}),o.jsxs(un,{value:t.model||"gpt-4.1-nano",onValueChange:_=>g("model",_),children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione um modelo"})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),o.jsx(Vt,{value:"gpt-4",children:"GPT-4"}),o.jsx(Vt,{value:"gpt-4-turbo",children:"GPT-4 Turbo"}),o.jsx(Vt,{value:"gpt-4o",children:"GPT-4o"}),o.jsx(Vt,{value:"gpt-4o-mini",children:"GPT-4o Mini"}),o.jsx(Vt,{value:"gpt-4.1",children:"GPT-4.1"}),o.jsx(Vt,{value:"gpt-4.1-mini",children:"GPT-4.1 Mini"}),o.jsx(Vt,{value:"gpt-4.1-nano",children:"GPT-4.1 Nano"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"temperature",children:"Temperatura"}),o.jsx(mt,{id:"temperature",name:"temperature",type:"number",step:"0.1",min:"0",max:"2",value:t.temperature||.7,onChange:_=>p("temperature",_.target.value)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Valores mais baixos so mais determinsticos (0-2)"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"maxTokens",children:"Mximo de Tokens"}),o.jsx(mt,{id:"maxTokens",name:"maxTokens",type:"number",min:"100",max:"4000",value:t.maxTokens||1e3,onChange:_=>p("maxTokens",_.target.value)}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Limite de tokens na resposta"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"systemPrompt",children:"Prompt do Sistema"}),o.jsx(li,{id:"systemPrompt",name:"systemPrompt",rows:5,placeholder:"Instruo inicial para a IA",value:t.systemPrompt||"",onChange:v}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Define o comportamento e personalidade do assistente de IA"})]})]}),o.jsxs(Up,{className:"flex justify-between items-center",children:[o.jsx(je,{type:"submit",disabled:r,children:r?"Salvando...":"Salvar Configuraes"}),o.jsxs(je,{type:"button",variant:"destructive",size:"sm",onClick:()=>f(!0),title:"Apagar todo o histrico",className:"h-9 text-xs font-medium shadow-sm px-3 relative overflow-visible",disabled:m,children:[m?o.jsx(Oo,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(yn,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:"Limpar Histrico"}),o.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2.5 w-2.5",children:[o.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-75"}),o.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-white"})]})]})]})]})}),w=()=>o.jsxs(ot,{className:"h-[600px]",children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Conversar com Assistente"}),o.jsx(Nn,{children:"Inicie uma conversa com o assistente virtual"})]}),o.jsx(lt,{className:"h-full",children:o.jsx(Hyt,{aiSettings:t})})]});return o.jsxs(gs,{children:[o.jsxs(nt.div,{className:"space-y-4",initial:"hidden",animate:"visible",exit:"exit",variants:qyt,children:[o.jsx(nt.div,{className:"flex justify-between items-center",variants:pW,children:o.jsx("h1",{className:"text-2xl font-bold",children:"Inteligncia Artificial"})}),o.jsx(nt.div,{variants:pW,children:o.jsxs(ys,{value:c,onValueChange:u,className:"w-full",children:[o.jsxs(Di,{className:"grid w-full grid-cols-2",children:[o.jsxs(qt,{value:"settings",className:"flex items-center gap-2",children:[o.jsx(py,{className:"h-4 w-4"}),"Configuraes"]}),o.jsx(qt,{value:"chat",className:"flex items-center gap-2"}),o.jsxs(qt,{value:"knowledge",className:"flex items-center gap-2",children:[o.jsx(Ip,{className:"h-4 w-4"}),"Base de Conhecimento"]})]}),o.jsx(nr,{value:"settings",className:"mt-4",children:b()}),o.jsx(nr,{value:"chat",className:"mt-4",children:t.openaiApiKey?w():o.jsxs(ot,{children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Configurao Necessria"}),o.jsx(Nn,{children:"Configure sua chave da API OpenAI para comear a conversar"})]}),o.jsx(lt,{children:o.jsx(je,{variant:"outline",onClick:()=>u("settings"),children:"Ir para Configuraes"})})]})}),o.jsx(nr,{value:"knowledge",className:"mt-4",children:o.jsx(Wyt,{aiSettings:t.id?t:null})})]})})]}),o.jsx(xf,{open:d,onOpenChange:f,children:o.jsxs(cd,{className:"max-w-[90vw] sm:max-w-md border-destructive",children:[o.jsxs(ud,{className:"gap-1",children:[o.jsxs(fd,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(el,{className:"h-5 w-5 text-destructive"}),"Apagar todo o histrico?"]}),o.jsxs(hd,{className:"text-sm leading-normal",children:[o.jsx("span",{className:"font-medium text-destructive",children:"Ateno:"})," ","Esta ao no pode ser desfeita. Isso excluir permanentemente todas as suas conversas e mensagens armazenadas no banco de dados."]}),o.jsx("div",{className:"mt-2 p-2 bg-destructive/10 rounded-md text-xs text-destructive border border-destructive/20",children:"Todas as mensagens e conversas sero excludas do banco de dados."})]}),o.jsxs(dd,{className:"gap-2 sm:gap-0",children:[o.jsx(pd,{disabled:m,className:"font-medium",children:"Cancelar"}),o.jsx(md,{onClick:x,disabled:m,className:"bg-destructive hover:bg-destructive/90 text-white font-medium",children:m?o.jsxs(o.Fragment,{children:[o.jsx(Oo,{className:"h-4 w-4 mr-2 animate-spin"}),"Excluindo..."]}):"Sim, apagar tudo"})]})]})})]})},Yyt={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},gW={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},Kyt=()=>o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4",initial:"hidden",animate:"visible",exit:"exit",variants:Yyt,children:[o.jsx(nt.div,{className:"flex justify-between items-center",variants:gW,children:o.jsx("h1",{className:"text-2xl font-bold",children:"Chatflow"})}),o.jsx(nt.div,{variants:gW,children:o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Em Desenvolvimento"})}),o.jsxs(lt,{children:[o.jsx("p",{className:"text-muted-foreground",children:"Esta pgina est em desenvolvimento. Em breve voc poder:"}),o.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-2 text-muted-foreground",children:[o.jsx("li",{children:"Criar fluxos de conversao"}),o.jsx("li",{children:"Personalizar respostas automticas"}),o.jsx("li",{children:"Configurar gatilhos e condies"}),o.jsx("li",{children:"Integrar com WhatsApp e outros canais"}),o.jsx("li",{children:"Visualizar mtricas de conversas"}),o.jsx("li",{children:"Gerenciar templates de mensagens"}),o.jsx("li",{children:"E muito mais..."})]})]})]})})]})});function Xyt({clients:t,isLoading:e,onEditClient:r,onDeleteClient:n,onAddClient:a,onViewHistory:i}){const[s,l]=N.useState(null),[c,u]=N.useState(""),[d,f]=N.useState(""),m=Ki(),h=y=>{l(y.id),u(y.name)},v=()=>{s&&(n(s),l(null))},g=W.useMemo(()=>{if(!d.trim())return t;const y=d.toLowerCase();return t.filter(x=>x.name.toLowerCase().includes(y)||x.phone.includes(y))},[t,d]),p=y=>{m("/evolution-api",{state:{activeTab:"disparador",clientPhone:y.phone,clientName:y.name}})};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-2",children:o.jsxs("div",{className:"relative w-full",children:[o.jsx(mt,{placeholder:"Buscar por nome ou telefone",value:d,onChange:y=>f(y.target.value),className:"pl-9 w-full"}),o.jsx(td,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground","aria-hidden":"true"}),d&&o.jsx(je,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>f(""),"aria-label":"Limpar busca",children:o.jsx(Dh,{className:"h-4 w-4"})})]})}),d&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Resultados da busca por:"," ",o.jsx("span",{className:"font-medium",children:d})," (",g.length," encontrados)"]}),o.jsx("div",{className:"block sm:hidden space-y-3",children:e?Array.from({length:3}).map((y,x)=>o.jsxs("div",{className:"border rounded-md p-4 space-y-2",children:[o.jsx(Gn,{className:"h-6 w-40"}),o.jsx(Gn,{className:"h-5 w-28"}),o.jsx(Gn,{className:"h-5 w-64"}),o.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[o.jsx(Gn,{className:"h-9 w-9 rounded-full"}),o.jsx(Gn,{className:"h-9 w-9 rounded-full"}),o.jsx(Gn,{className:"h-9 w-9 rounded-full"})]})]},`mobile-skeleton-${x}`)):g.length===0?o.jsx("div",{className:"border rounded-md p-8 text-center",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx(bv,{className:"h-12 w-12 mb-2 opacity-20"}),d?o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:['Nenhum cliente encontrado para "',d,'"']}),o.jsx(je,{variant:"ghost",className:"mt-2",onClick:()=>f(""),children:"Limpar busca"})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{children:"Nenhum cliente cadastrado"}),o.jsx(je,{variant:"outline",className:"mt-4",onClick:a,children:"Adicionar Cliente"})]})]})}):g.map(y=>o.jsxs("div",{className:"border rounded-md p-4 space-y-2 bg-card",children:[o.jsx("h3",{className:"font-medium text-base",children:y.name}),o.jsxs("a",{href:`https://wa.me/${y.phone}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-muted-foreground hover:text-primary",children:[o.jsx(Ru,{className:"h-3.5 w-3.5 mr-1.5"}),Ak(y.phone)]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:y.street&&y.neighborhood?`${y.street}, ${y.neighborhood}`:y.street||y.neighborhood||"-"}),o.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>p(y),title:"Enviar mensagem",className:"text-green-600",children:o.jsx($o,{className:"h-4 w-4"})}),i&&o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>i(y),title:"Ver histrico de agendamentos",className:"text-purple-600",children:o.jsx(PL,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>r(y),title:"Editar cliente",className:"text-blue-600",children:o.jsx(fj,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>h(y),title:"Excluir cliente",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})]})]},`mobile-${y.id}`))}),o.jsx("div",{className:"hidden sm:block border rounded-md",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Nome"}),o.jsx(wt,{children:"Telefone"}),o.jsx(wt,{children:"Endereo"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsx(di,{children:e?Array.from({length:5}).map((y,x)=>o.jsxs(dr,{children:[o.jsx(ct,{children:o.jsx(Gn,{className:"h-6 w-40"})}),o.jsx(ct,{children:o.jsx(Gn,{className:"h-6 w-28"})}),o.jsx(ct,{children:o.jsx(Gn,{className:"h-6 w-64"})}),o.jsx(ct,{className:"text-right",children:o.jsx(Gn,{className:"h-9 w-20 ml-auto"})})]},`skeleton-${x}`)):g.length===0?o.jsx(dr,{children:o.jsx(ct,{colSpan:4,className:"text-center py-8",children:o.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx(bv,{className:"h-12 w-12 mb-2 opacity-20"}),d?o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:['Nenhum cliente encontrado para "',d,'"']}),o.jsx(je,{variant:"ghost",className:"mt-2",onClick:()=>f(""),children:"Limpar busca"})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{children:"Nenhum cliente cadastrado"}),o.jsx(je,{variant:"outline",className:"mt-4",onClick:a,children:"Adicionar Cliente"})]})]})})}):g.map(y=>o.jsxs(dr,{children:[o.jsx(ct,{className:"font-medium",children:y.name}),o.jsx(ct,{children:o.jsxs("a",{href:`https://wa.me/${y.phone}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-primary",children:[o.jsx(Ru,{className:"h-3.5 w-3.5 mr-1.5"}),Ak(y.phone)]})}),o.jsx(ct,{children:y.street&&y.neighborhood?`${y.street}, ${y.neighborhood}`:y.street||y.neighborhood||"-"}),o.jsx(ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>p(y),title:"Enviar mensagem",className:"text-green-600",children:o.jsx($o,{className:"h-4 w-4"})}),i&&o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>i(y),title:"Ver histrico de agendamentos",className:"text-purple-600",children:o.jsx(PL,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>r(y),title:"Editar cliente",className:"text-blue-600",children:o.jsx(fj,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>h(y),title:"Excluir cliente",className:"text-destructive",children:o.jsx(yn,{className:"h-4 w-4"})})]})})]},y.id))})]})}),o.jsx(xf,{open:!!s,onOpenChange:()=>l(null),children:o.jsxs(cd,{children:[o.jsxs(ud,{children:[o.jsx(fd,{children:"Excluir Cliente"}),o.jsxs(hd,{children:['Voc tem certeza que deseja excluir o cliente "',c,'"? Esta ao no pode ser desfeita.']})]}),o.jsxs(dd,{children:[o.jsx(pd,{children:"Cancelar"}),o.jsx(md,{onClick:v,children:"Excluir"})]})]})})]})}const Zyt=rc({name:Dr().min(2,{message:"Nome deve ter pelo menos 2 caracteres"}),phone:Dr().min(10,{message:"Telefone deve ter pelo menos 10 dgitos"}).regex(/^[0-9]+$/,{message:"Apenas nmeros so permitidos"}),zipCode:Dr().optional(),street:Dr().optional(),neighborhood:Dr().optional(),complement:Dr().optional()});function Qyt({client:t,onSubmit:e,onCancel:r}){const[n,a]=N.useState(!1),[i,s]=N.useState(!1),l=Vl({resolver:Hl(Zyt),defaultValues:{name:(t==null?void 0:t.name)||"",phone:(t==null?void 0:t.phone)||"",zipCode:(t==null?void 0:t.zipCode)||"",street:(t==null?void 0:t.street)||"",neighborhood:(t==null?void 0:t.neighborhood)||"",complement:(t==null?void 0:t.complement)||""}});N.useEffect(()=>{t&&(l.reset({name:t.name,phone:t.phone,zipCode:t.zipCode||"",street:t.street||"",neighborhood:t.neighborhood||"",complement:t.complement||""}),(t.zipCode||t.street||t.neighborhood||t.complement)&&s(!0))},[t,l]);const c=async d=>{try{a(!0),await e(d)}catch(f){console.error("Erro ao salvar cliente:",f),Oe.error("Erro ao salvar cliente")}finally{a(!1)}},u=async d=>{if(!(!d||d.length<8)){a(!0);try{const f=d.replace(/\D/g,""),h=await(await fetch(`https://viacep.com.br/ws/${f}/json/`)).json();if(h.erro){Oe.error("CEP no encontrado");return}l.setValue("street",h.logradouro),l.setValue("neighborhood",h.bairro),s(!0)}catch(f){console.error("Erro ao buscar CEP:",f),Oe.error("Erro ao buscar CEP")}finally{a(!1)}}};return o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:t?"Editar Cliente":"Novo Cliente"})}),o.jsx(lt,{children:o.jsx(Wl,{...l,children:o.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[o.jsx(er,{control:l.control,name:"name",render:({field:d})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Nome"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Nome completo",...d})}),o.jsx(sr,{})]})}),o.jsx(er,{control:l.control,name:"phone",render:({field:d})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Telefone"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Apenas nmeros (DDD + nmero)",...d,onChange:f=>{const m=f.target.value.replace(/\D/g,"");d.onChange(m)}})}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'O prefixo "+55" ser adicionado automaticamente para uso interno do sistema.'}),o.jsx(sr,{})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx(er,{control:l.control,name:"zipCode",render:({field:d})=>o.jsxs(Zt,{className:"flex-1",children:[o.jsx(Kt,{children:"CEP"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(tr,{children:o.jsx(mt,{placeholder:"CEP",...d,onChange:f=>{const m=f.target.value.replace(/\D/g,"");d.onChange(m)},onBlur:()=>u(d.value)})}),o.jsxs(je,{type:"button",variant:"outline",onClick:()=>s(!i),children:[i?"Ocultar":"Expandir"," Endereo"]})]}),o.jsx(sr,{})]})})}),i&&o.jsxs(nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(er,{control:l.control,name:"street",render:({field:d})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Rua"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Rua, Av., etc.",...d})}),o.jsx(sr,{})]})}),o.jsx(er,{control:l.control,name:"neighborhood",render:({field:d})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Bairro"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Bairro",...d})}),o.jsx(sr,{})]})})]}),o.jsx(er,{control:l.control,name:"complement",render:({field:d})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Complemento"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Apartamento, bloco, etc.",...d})}),o.jsx(sr,{})]})})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-end gap-2 pt-4",children:[o.jsx(je,{type:"button",variant:"outline",onClick:r,className:"w-full sm:w-auto order-2 sm:order-1",disabled:n,children:"Cancelar"}),o.jsx(je,{type:"submit",className:"w-full sm:w-auto order-1 sm:order-2",disabled:n,children:n?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Salvando..."})]}):t?"Atualizar Cliente":"Cadastrar Cliente"})]})]})})})]})}var W6="Progress",q6=100,[Jyt,Dbt]=Ju(W6),[ext,txt]=Jyt(W6),Hle=N.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=rxt,...s}=t;(a||a===0)&&!vW(a)&&console.error(nxt(`${a}`,"Progress"));const l=vW(a)?a:q6;n!==null&&!yW(n,l)&&console.error(axt(`${n}`,"Progress"));const c=yW(n,l)?n:null,u=OA(c)?i(c,l):void 0;return o.jsx(ext,{scope:r,value:c,max:l,children:o.jsx(Sr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":OA(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Gle(c,l),"data-value":c??void 0,"data-max":l,...s,ref:e})})});Hle.displayName=W6;var Wle="ProgressIndicator",qle=N.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,a=txt(Wle,r);return o.jsx(Sr.div,{"data-state":Gle(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});qle.displayName=Wle;function rxt(t,e){return`${Math.round(t/e*100)}%`}function Gle(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function OA(t){return typeof t=="number"}function vW(t){return OA(t)&&!isNaN(t)&&t>0}function yW(t,e){return OA(t)&&!isNaN(t)&&t<=e&&t>=0}function nxt(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${q6}\`.`}function axt(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${q6} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Yle=Hle,ixt=qle;const Kle=N.forwardRef(({className:t,value:e,...r},n)=>o.jsx(Yle,{ref:n,className:Ke("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:o.jsx(ixt,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Kle.displayName=Yle.displayName;const sxt=({client:t})=>{const{getStatusDisplayText:e}=sm(),[r,n]=N.useState([]),[a,i]=N.useState(!1),[s,l]=N.useState(null),[c,u]=N.useState(null),d=N.useCallback(async()=>{if(t!=null&&t.phone){i(!0);try{const{data:y,error:x}=await ye.from("appointments").select("*").eq("client_phone",t.phone).order("appointment_datetime",{ascending:!1});if(x){console.error("Erro ao buscar histrico:",x);return}const b=y.map(vP);n(b)}catch(y){console.error("Erro ao processar dados:",y)}finally{i(!1)}}},[t==null?void 0:t.phone]),f=N.useCallback(async()=>{if(t!=null&&t.id)try{const{data:y,error:x}=await ye.from("loyalty_progress").select("*").eq("client_id",t.id).single();if(x&&x.code!=="PGRST116"){console.error("Erro ao buscar progresso de fidelidade:",x);return}if(!y)l({appointmentsCount:0,rewardsEarned:0,rewardsUsed:0,lastAppointmentDate:null});else{const b=V_(y);l({appointmentsCount:b.appointmentsCount,rewardsEarned:b.rewardsEarned,rewardsUsed:b.rewardsUsed,lastAppointmentDate:b.lastAppointmentDate})}await m(t.id)}catch(y){console.error("Erro ao processar dados de fidelidade:",y)}},[t==null?void 0:t.id]),m=async y=>{try{const{data:x}=await ye.from("loyalty_progress").select("appointments_count").eq("client_id",y).single(),b=(x==null?void 0:x.appointments_count)||0,{data:w}=await ye.from("loyalty_rules").select("*").gt("appointments_required",b).eq("is_active",!0).order("appointments_required",{ascending:!0}).limit(1);w&&w.length>0?u({name:w[0].name,appointmentsRequired:w[0].appointments_required,rewardType:w[0].reward_type,rewardValue:w[0].reward_value}):u(null)}catch(x){console.error("Erro ao buscar prxima recompensa:",x)}};N.useEffect(()=>{t!=null&&t.phone&&d(),t!=null&&t.id&&f()},[t==null?void 0:t.phone,t==null?void 0:t.id,d,f]);const h=y=>{switch(y){case"aguardando_atendimento":case"scheduled":return"primary";case"atendimento_iniciado":return"warning";case"atendimento_finalizado":case"completed":return"success";case"agendamento_cancelado":case"canceled":return"destructive";case"archived":return"secondary";default:return"default"}},v=y=>y?new Date(y).toLocaleDateString("pt-BR"):"",g=y=>y?y.substring(0,5):"",p=()=>!s||!c?0:Math.min(100,Math.round(s.appointmentsCount/c.appointmentsRequired*100));return t?o.jsxs("div",{className:"space-y-4",children:[o.jsx(ot,{className:"bg-muted/40",children:o.jsxs(lt,{className:"pt-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(eu,{className:"w-5 h-5 text-primary"}),o.jsx("h3",{className:"text-lg font-medium",children:t.name})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Telefone: ",Ak(t.phone)]})]})}),o.jsxs(ot,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:[o.jsxs(Ot,{className:"pb-2",children:[o.jsxs(It,{className:"flex items-center gap-2 text-purple-700",children:[o.jsx(Q1,{className:"w-5 h-5"}),"Programa de Fidelidade"]}),o.jsx(Nn,{className:"text-purple-600",children:"Acompanhe o progresso e recompensas do cliente"})]}),o.jsx(lt,{children:a?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Gn,{className:"h-4 w-full"}),o.jsx(Gn,{className:"h-6 w-full"}),o.jsx(Gn,{className:"h-4 w-3/4"})]}):s?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[o.jsxs("div",{className:"bg-white/50 rounded-lg p-3",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-700",children:s.appointmentsCount}),o.jsx("div",{className:"text-xs text-purple-600",children:"Agendamentos"})]}),o.jsxs("div",{className:"bg-white/50 rounded-lg p-3",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-700",children:s.rewardsEarned}),o.jsx("div",{className:"text-xs text-purple-600",children:"Recompensas Ganhas"})]}),o.jsxs("div",{className:"bg-white/50 rounded-lg p-3",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-700",children:s.rewardsUsed}),o.jsx("div",{className:"text-xs text-purple-600",children:"Recompensas Usadas"})]})]}),c&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-1",children:[o.jsxs("span",{className:"text-sm font-medium text-purple-700",children:["Prxima recompensa: ",c.name]}),o.jsxs("span",{className:"text-sm",children:[s.appointmentsCount,"/",c.appointmentsRequired]})]}),o.jsx(Kle,{value:p(),className:"h-2"}),o.jsxs("div",{className:"mt-2 text-xs text-purple-600 flex items-center gap-1",children:[o.jsx(nG,{className:"w-3 h-3"}),c.rewardType==="discount"?`Desconto de ${c.rewardValue}%`:c.rewardType==="free_service"?"Servio gratuito":c.rewardType==="product"?"Produto grtis":"Recompensa"]})]}),!c&&s.appointmentsCount>0&&o.jsx("div",{className:"bg-white/50 rounded-lg p-3 text-center",children:o.jsx("div",{className:"text-sm text-purple-600",children:"Cliente j alcanou todas as recompensas disponveis!"})}),s.appointmentsCount===0&&o.jsx("div",{className:"bg-white/50 rounded-lg p-3 text-center",children:o.jsx("div",{className:"text-sm text-purple-600",children:"Este cliente ainda no participou do programa de fidelidade."})})]}):o.jsx("div",{className:"bg-white/50 rounded-lg p-3 text-center",children:o.jsx("div",{className:"text-sm text-purple-600",children:"Este cliente ainda no participou do programa de fidelidade."})})})]}),a?o.jsx("div",{className:"space-y-2",children:Array.from({length:3}).map((y,x)=>o.jsx(ot,{children:o.jsx(lt,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Gn,{className:"h-5 w-1/4"}),o.jsx(Gn,{className:"h-4 w-1/3"}),o.jsx(Gn,{className:"h-4 w-1/2"})]})})},x))}):r.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx(J1,{className:"w-12 h-12 mb-4 text-muted-foreground/30"}),o.jsx("p",{className:"text-muted-foreground",children:"Este cliente no possui agendamentos."})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:[r.length," agendamento",r.length!==1?"s":""," encontrado",r.length!==1?"s":""]}),o.jsx("div",{className:"block sm:hidden space-y-3",children:r.map(y=>o.jsx(ot,{children:o.jsxs(lt,{className:"p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx(Ur,{variant:h(y.status),children:e(y.status)}),o.jsxs("div",{className:"text-sm font-medium",children:["R$ ",Number(y.servicePrice).toFixed(2)]})]}),o.jsxs("div",{className:"space-y-1 mt-2",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx(nn,{className:"h-3.5 w-3.5 text-muted-foreground"}),v(y.appointmentDate)]}),o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx(pn,{className:"h-3.5 w-3.5 text-muted-foreground"}),g(y.appointmentTime)]}),o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx(Gc,{className:"h-3.5 w-3.5 text-muted-foreground"}),y.serviceName]}),o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx(eu,{className:"h-3.5 w-3.5 text-muted-foreground"}),y.attendantName]})]})]})},y.id))}),o.jsx("div",{className:"hidden sm:block border rounded-md",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Data"}),o.jsx(wt,{children:"Servio"}),o.jsx(wt,{children:"Atendente"}),o.jsx(wt,{children:"Valor"}),o.jsx(wt,{children:"Status"})]})}),o.jsx(di,{children:r.map(y=>o.jsxs(dr,{children:[o.jsx(ct,{children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nn,{className:"h-3.5 w-3.5 text-muted-foreground"}),v(y.appointmentDate)]}),o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(pn,{className:"h-3.5 w-3.5"}),g(y.appointmentTime)]})]})}),o.jsx(ct,{children:y.serviceName}),o.jsx(ct,{children:y.attendantName}),o.jsxs(ct,{children:["R$ ",Number(y.servicePrice).toFixed(2)]}),o.jsx(ct,{children:o.jsx(Ur,{variant:h(y.status),children:e(y.status)})})]},y.id))})]})})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[o.jsx(J1,{className:"w-12 h-12 mb-4 text-muted-foreground/30"}),o.jsx("p",{className:"text-muted-foreground",children:"Selecione um cliente para ver seu histrico de agendamentos."})]})},oxt={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},lxt={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},cxt=()=>{const{clients:t,isLoading:e,selectedClient:r,setSelectedClient:n,fetchClients:a,createClient:i,updateClient:s,deleteClient:l,updateExistingClientsPhones:c}=rZ(),[u,d]=N.useState(!1),[f,m]=N.useState(!1),[h,v]=N.useState(null);N.useEffect(()=>{a().then(()=>{c()})},[a,c]);const g=()=>{n(null),d(!0),m(!1)},p=j=>{n(j),d(!0),m(!1)},y=async j=>{await l(j)},x=async j=>{r?await s(r.id,j):await i(j),d(!1),a()},b=()=>{d(!1),n(null)},w=j=>{v(j),m(!0),d(!1)},_=()=>{m(!1),v(null)};return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-2 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:oxt,children:[o.jsxs(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",variants:lxt,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[(u||f)&&o.jsx(je,{variant:"outline",size:"icon",onClick:u?b:_,className:"mr-2",children:o.jsx(yl,{size:16})}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:u?r?"Editar Cliente":"Novo Cliente":f?"Histrico de Agendamentos":"Gerenciamento de Clientes"})]}),!u&&!f&&o.jsxs(je,{onClick:g,className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[o.jsx(ms,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Novo Cliente"}),o.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),o.jsx(Gi,{mode:"wait",children:u?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsx(Qyt,{client:r,onSubmit:x,onCancel:b})},"form"):f?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsxs(ot,{children:[o.jsxs(Ot,{className:"pb-3 flex flex-row items-center justify-between",children:[o.jsx(It,{children:"Histrico de Agendamentos"}),o.jsx(je,{variant:"ghost",size:"icon",onClick:_,children:o.jsx(Dh,{size:16})})]}),o.jsx(lt,{children:o.jsx(sxt,{client:h})})]})},"history"):o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsxs(ot,{className:"border-0 sm:border",children:[o.jsx(Ot,{className:"pb-0 pt-2 sm:pt-6 px-2 sm:px-6",children:o.jsx(It,{children:"Clientes"})}),o.jsx(lt,{className:"pt-4 px-0 sm:px-6",children:o.jsx(Xyt,{clients:t,isLoading:e,onEditClient:p,onDeleteClient:y,onAddClient:g,onViewHistory:w})})]})},"list")})]})})},uxt=zl.object({name:zl.string().min(1,"Nome da regra  obrigatrio"),description:zl.string().optional(),appointmentsRequired:zl.coerce.number().min(1,"Deve ser pelo menos 1").max(100,"Deve ser no mximo 100"),rewardType:zl.string().min(1,"Tipo de recompensa  obrigatrio"),rewardValue:zl.coerce.number().optional(),serviceId:zl.string().optional(),isActive:zl.boolean().default(!0)}),dxt=[{value:"free_service",label:"Servio Gratuito"},{value:"bonus",label:"Bnus Especial"}];function fxt({rule:t,onSubmit:e,onCancel:r}){const[n,a]=N.useState(!1),[i,s]=N.useState((t==null?void 0:t.rewardType)||"free_service"),[l,c]=N.useState([]),[u,d]=N.useState(!1),f=Vl({resolver:Hl(uxt),defaultValues:{name:(t==null?void 0:t.name)||"",description:(t==null?void 0:t.description)||"",appointmentsRequired:(t==null?void 0:t.appointmentsRequired)||5,rewardType:(t==null?void 0:t.rewardType)||"free_service",rewardValue:(t==null?void 0:t.rewardValue)||0,serviceId:"",isActive:(t==null?void 0:t.isActive)!==!1}}),m=async()=>{d(!0);try{const{data:p,error:y}=await ye.from("services").select("id, name, price, duration, available, created_at, updated_at").eq("available",!0);if(y){console.error("Erro ao buscar servios:",y);return}c((p||[]).filter(w=>w.available))}catch(p){console.error("Erro ao buscar servios:",p)}finally{d(!1)}};N.useEffect(()=>{m()},[]),N.useEffect(()=>{if((t==null?void 0:t.rewardType)==="free_service"&&l.length>0){for(const p of l)if(p.id===t.serviceId){f.setValue("serviceId",p.id);break}!f.getValues("serviceId")&&l.length>0&&f.setValue("serviceId",l[0].id)}},[l,t,f]);const h=async p=>{var y;a(!0);try{const x={...p};if(x.rewardType==="free_service"&&x.serviceId){const b=x.serviceId;x.rewardValue=0;const w={serviceId:b,serviceName:((y=l.find(_=>_.id===b))==null?void 0:y.name)||""};console.log("Servio gratuito selecionado:",w)}else x.serviceId=void 0;await e(x)}finally{a(!1)}};N.useEffect(()=>{const p=f.watch((y,{name:x})=>{x==="rewardType"&&s(y.rewardType||"free_service")});return()=>p.unsubscribe()},[f]);const v=()=>{switch(i){case"free_service":return"Servio Gratuito";case"bonus":return"Valor do Bnus";default:return"Valor da Recompensa"}},g=()=>{switch(i){case"free_service":return"Selecione o servio que ser gratuito";case"bonus":return"Descreva o valor do bnus";default:return"Valor associado  recompensa"}};return o.jsx(ot,{children:o.jsx(lt,{className:"pt-6",children:o.jsx(Wl,{...f,children:o.jsxs("form",{onSubmit:f.handleSubmit(h),className:"space-y-6",children:[o.jsx(er,{control:f.control,name:"name",render:({field:p})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Nome da Regra"}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Ex: Cliente Fiel - Bronze",...p})}),o.jsx(sr,{})]})}),o.jsx(er,{control:f.control,name:"description",render:({field:p})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Descrio (opcional)"}),o.jsx(tr,{children:o.jsx(li,{placeholder:"Descreva os detalhes desta regra de fidelidade",...p,value:p.value||""})}),o.jsx(sr,{})]})}),o.jsx(er,{control:f.control,name:"appointmentsRequired",render:({field:p})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Quantidade de Agendamentos"}),o.jsx(tr,{children:o.jsx(mt,{type:"number",min:1,max:100,placeholder:"5",...p})}),o.jsx(sr,{})]})}),o.jsx(er,{control:f.control,name:"rewardType",render:({field:p})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:"Tipo de Recompensa"}),o.jsxs(un,{onValueChange:p.onChange,defaultValue:p.value,children:[o.jsx(tr,{children:o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione o tipo"})})}),o.jsx(on,{children:dxt.map(y=>o.jsx(Vt,{value:y.value,children:y.label},y.value))})]}),o.jsx(sr,{})]})}),i==="free_service"?o.jsx(er,{control:f.control,name:"serviceId",render:({field:p})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:v()}),o.jsxs(un,{onValueChange:p.onChange,value:p.value,disabled:u,children:[o.jsx(tr,{children:o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione um servio"})})}),o.jsx(on,{children:l.map(y=>o.jsxs(Vt,{value:y.id,children:[y.name," - R$"," ",parseFloat(y.price).toFixed(2)," (",y.duration," min)"]},y.id))})]}),o.jsx("p",{className:"text-sm text-gray-500",children:g()}),o.jsx(sr,{})]})}):o.jsx(er,{control:f.control,name:"rewardValue",render:({field:p})=>o.jsxs(Zt,{children:[o.jsx(Kt,{children:v()}),o.jsx(tr,{children:o.jsx(mt,{type:"number",min:0,placeholder:"10",...p,value:p.value===void 0?"":p.value})}),o.jsx("p",{className:"text-sm text-gray-500",children:g()}),o.jsx(sr,{})]})}),o.jsx(er,{control:f.control,name:"isActive",render:({field:p})=>o.jsxs(Zt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Kt,{className:"text-base",children:"Ativo"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Indica se esta regra est ativa e em uso"})]}),o.jsx(tr,{children:o.jsx(Fs,{checked:p.value,onCheckedChange:p.onChange,className:`${p.value?"bg-green-500 data-[state=checked]:bg-green-500":"bg-red-500 data-[state=unchecked]:bg-red-500"}`})})]})}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(je,{type:"button",variant:"outline",onClick:r,disabled:n,children:"Cancelar"}),o.jsx(je,{type:"submit",disabled:n,children:n?"Salvando...":t?"Atualizar Regra":"Criar Regra"})]})]})})})})}function hxt({rules:t,onEdit:e,onDelete:r,onToggleActive:n}){const a=i=>{switch(i){case"discount":return"Desconto";case"free_service":return"Servio Gratuito";case"bonus":return"Bnus Especial";default:return i}};return o.jsx("div",{className:"rounded-md border",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{className:"w-[250px]",children:"Nome"}),o.jsx(wt,{className:"w-[130px] text-center hidden md:table-cell",children:"Agendamentos"}),o.jsx(wt,{className:"w-[180px] hidden md:table-cell",children:"Recompensa"}),o.jsx(wt,{className:"w-[100px] text-center",children:"Status"}),o.jsx(wt,{className:"w-[80px] text-right",children:"Aes"})]})}),o.jsx(di,{children:t.length===0?o.jsx(dr,{children:o.jsx(ct,{colSpan:5,className:"h-24 text-center",children:"Nenhuma regra de fidelidade encontrada."})}):t.map(i=>o.jsxs(dr,{children:[o.jsx(ct,{className:"font-medium",children:o.jsxs("div",{children:[o.jsx("div",{children:i.name}),i.description&&o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:i.description}),o.jsxs("div",{className:"md:hidden mt-2 space-y-1",children:[o.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[o.jsx("span",{className:"font-medium mr-1",children:"Agendamentos:"}),o.jsx(Ur,{variant:"outline",children:i.appointmentsRequired})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsx("span",{className:"font-medium mr-1",children:"Recompensa:"}),a(i.rewardType)]})]})]})}),o.jsx(ct,{className:"text-center hidden md:table-cell",children:o.jsx(Ur,{variant:"outline",children:i.appointmentsRequired})}),o.jsx(ct,{className:"hidden md:table-cell",children:a(i.rewardType)}),o.jsx(ct,{className:"text-center",children:o.jsx(Fs,{checked:i.isActive,onCheckedChange:s=>n(i.id,s),className:`${i.isActive?"bg-green-500 data-[state=checked]:bg-green-500":"bg-red-500 data-[state=unchecked]:bg-red-500"}`,"aria-label":"Toggle rule status"})}),o.jsx(ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(i),className:"h-8 w-8 p-0 text-blue-600",children:o.jsx(go,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",onClick:()=>r(i.id),className:"h-8 w-8 p-0 text-red-600",children:o.jsx(yn,{className:"h-4 w-4"})})]})})]},i.id))})]})})})}function mxt({progressData:t,onViewDetails:e,onDelete:r}){const[n,a]=W.useState(!1),[i,s]=W.useState(null),l=f=>{if(!f)return"";const m=f.replace(/\D/g,""),h=m.startsWith("55")?m.substring(2):m;return h.length===11?`(${h.substring(0,2)}) ${h.substring(2,7)}-${h.substring(7)}`:h.length===10?`(${h.substring(0,2)}) ${h.substring(2,6)}-${h.substring(6)}`:f},c=f=>{if(!f)return"-";try{return wr(new Date(f),"dd/MM/yyyy",{locale:Kn})}catch{return f}},u=f=>{s(f),a(!0)},d=async()=>{if(i){try{typeof r=="function"?(await r(i),Oe.success("Progresso de fidelidade excludo com sucesso")):(console.warn("A funo onDelete no foi fornecida"),Oe.error("No foi possvel excluir o progresso: funo no implementada"))}catch(f){console.error("Erro ao excluir progresso de fidelidade:",f),Oe.error("Erro ao excluir progresso de fidelidade")}a(!1),s(null)}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"rounded-md border",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{className:"w-[200px]",children:"Cliente"}),o.jsx(wt,{className:"w-[150px] hidden md:table-cell",children:"Telefone"}),o.jsx(wt,{className:"w-[120px] text-center hidden md:table-cell",children:"Agendamentos"}),o.jsx(wt,{className:"w-[120px] text-center hidden md:table-cell",children:"Bnus Ganhos"}),o.jsx(wt,{className:"w-[120px] text-center hidden md:table-cell",children:"Bnus Usados"}),o.jsx(wt,{className:"w-[150px] hidden md:table-cell",children:"ltimo Agendamento"}),o.jsx(wt,{className:"w-[100px] text-right",children:"Aes"})]})}),o.jsx(di,{children:t.length===0?o.jsx(dr,{children:o.jsx(ct,{colSpan:7,className:"h-24 text-center",children:"Nenhum progresso de fidelidade encontrado."})}):t.map(f=>o.jsxs(dr,{children:[o.jsxs(ct,{className:"font-medium",children:[f.clientName,o.jsxs("div",{className:"md:hidden mt-2 space-y-1",children:[o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsx("span",{className:"font-medium mr-1",children:"Telefone:"})," ",l(f.clientPhone)]}),o.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[o.jsx("span",{className:"font-medium",children:"Agendamentos:"}),o.jsx(Ur,{variant:"outline",children:f.appointmentsCount})]}),o.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[o.jsx("span",{className:"font-medium",children:"Bnus Ganhos:"}),o.jsx(Ur,{variant:"secondary",children:f.rewardsEarned})]}),o.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[o.jsx("span",{className:"font-medium",children:"Bnus Usados:"}),o.jsx(Ur,{variant:"outline",className:f.rewardsUsed>0?"bg-green-50":"",children:f.rewardsUsed})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsx("span",{className:"font-medium mr-1",children:"ltimo Agendamento:"})," ",c(f.lastAppointmentDate)]})]})]}),o.jsx(ct,{className:"hidden md:table-cell",children:l(f.clientPhone)}),o.jsx(ct,{className:"text-center hidden md:table-cell",children:o.jsx(Ur,{variant:"outline",children:f.appointmentsCount})}),o.jsx(ct,{className:"text-center hidden md:table-cell",children:o.jsx(Ur,{variant:"secondary",children:f.rewardsEarned})}),o.jsx(ct,{className:"text-center hidden md:table-cell",children:o.jsx(Ur,{variant:"outline",className:f.rewardsUsed>0?"bg-green-50":"",children:f.rewardsUsed})}),o.jsx(ct,{className:"hidden md:table-cell",children:c(f.lastAppointmentDate)}),o.jsx(ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end items-center gap-2",children:[o.jsx(je,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 text-blue-600",onClick:()=>e(f.clientId,f.clientName),title:"Ver detalhes",children:o.jsx(xv,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 text-red-600",onClick:()=>u(f.clientId),title:"Excluir progresso",children:o.jsx(yn,{className:"h-4 w-4"})})]})})]},f.id))})]})})}),o.jsx(xf,{open:n,onOpenChange:a,children:o.jsxs(cd,{children:[o.jsxs(ud,{children:[o.jsx(fd,{children:"Confirmar excluso"}),o.jsx(hd,{children:"Tem certeza que deseja excluir este progresso de fidelidade? Esta ao no pode ser desfeita e todas as recompensas associadas tambm sero excludas."})]}),o.jsxs(dd,{children:[o.jsx(pd,{onClick:()=>s(null),children:"Cancelar"}),o.jsx(md,{onClick:d,children:"Confirmar"})]})]})})]})}function pxt({rewards:t,onUseReward:e,onDeleteReward:r=async()=>{},clientPhone:n,clientName:a}){const i=Ki(),[s,l]=W.useState(!1),[c,u]=W.useState(null),d=()=>{!n||!a||i("/evolution-api",{state:{activeTab:"disparador",clientPhone:n,clientName:a}})},f=w=>{if(!w)return"-";try{return wr(new Date(w),"dd/MM/yyyy",{locale:Kn})}catch{return w}},m=w=>{switch(w){case"available":return"Disponvel";case"used":return"Utilizado";case"expired":return"Expirado";default:return w}},h=w=>{switch(w){case"available":return o.jsx(pn,{className:"h-4 w-4 text-blue-500"});case"used":return o.jsx(Us,{className:"h-4 w-4 text-green-200"});case"expired":return o.jsx(yv,{className:"h-4 w-4 text-red-500"});default:return null}},v=w=>{switch(w){case"available":return"outline";case"used":return"success";case"expired":return"destructive";default:return"default"}},g=w=>{switch(w){case"discount":return"Desconto";case"free_service":return"Servio Gratuito";case"bonus":return"Bnus Especial";default:return w}},p=w=>w?new Date(w)<new Date:!1,y=w=>{if(!a)return;const _=window.open("","_blank");if(!_){alert("Por favor, permita popups para imprimir o voucher");return}const j=g(w.rewardType),A=w.expiresAt?f(w.expiresAt):"Sem data de expirao",E=w.id.substring(0,8).toUpperCase(),T=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Voucher de Fidelidade - ${a}</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"><\/script>
        <style>
          body {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 40px;
            background-color: #f5f5f5;
            color: #333;
          }
          .voucher-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-radius: 12px;
            overflow: hidden;
          }
          .voucher-header {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
          }
          .voucher-header::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 20px;
            background-image: 
              radial-gradient(circle at 10px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 30px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 50px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 70px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 90px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 110px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 130px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 150px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 170px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 190px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 210px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 230px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 250px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 270px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 290px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 310px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 330px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 350px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 370px -5px, transparent 12px, white 13px),
              radial-gradient(circle at 390px -5px, transparent 12px, white 13px);
            background-size: 20px 20px;
            background-position: center bottom;
          }
          .voucher-title {
            font-family: 'Playfair Display', serif;
            font-size: 32px;
            margin: 0;
            letter-spacing: 1px;
            text-transform: uppercase;
          }
          .voucher-subtitle {
            font-size: 16px;
            font-weight: 500;
            letter-spacing: 1.5px;
            margin: 5px 0 0;
            opacity: 0.9;
            text-transform: uppercase;
          }
          .voucher-code {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 15px;
            border-radius: 50px;
            font-size: 16px;
            letter-spacing: 2px;
            margin-top: 15px;
            font-weight: 600;
          }
          .voucher-body {
            padding: 30px;
            position: relative;
          }
          .two-columns {
            display: flex;
            gap: 30px;
            margin-bottom: 20px;
          }
          .column {
            flex: 1;
          }
          .info-group {
            margin-bottom: 20px;
          }
          .info-label {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #888;
            margin-bottom: 5px;
            font-weight: 500;
          }
          .info-value {
            font-size: 16px;
            font-weight: 600;
            color: #333;
          }
          .reward-name {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 5px;
            color: #6366f1;
          }
          .reward-type {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
          }
          .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 600;
            margin-top: 5px;
          }
          .status-available {
            background-color: #ecfdf5;
            color: #10b981;
          }
          .status-used {
            background-color: #eff6ff;
            color: #3b82f6;
          }
          .status-expired {
            background-color: #fef2f2;
            color: #ef4444;
          }
          .voucher-footer {
            border-top: 1px dashed #e5e7eb;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #888;
            background-color: #f9fafb;
          }
          .qr-code {
            text-align: center;
            margin-top: 20px;
          }
          .qr-code img {
            display: block;
            margin: 0 auto 10px;
            padding: 10px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
          }
          .qr-caption {
            font-size: 12px;
            color: #888;
          }
          .valid-until {
            display: inline-block;
            margin-top: 15px;
            padding: 5px 15px;
            background-color: #f9fafb;
            border-radius: 50px;
            font-size: 14px;
            color: #666;
          }
          .reward-description {
            font-size: 14px;
            color: #666;
            margin: 15px 0;
            line-height: 1.5;
          }
          @media print {
            body {
              background-color: white;
              padding: 0;
            }
            .voucher-container {
              box-shadow: none;
            }
            .print-button, .instructions {
              display: none;
            }
          }
          .print-button {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: block;
            margin: 30px auto 15px;
            transition: all 0.2s ease;
            font-family: 'Montserrat', sans-serif;
            letter-spacing: 1px;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
          }
          .print-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
          }
          .instructions {
            text-align: center;
            font-size: 14px;
            color: #888;
            margin-top: 10px;
          }
          .scissors {
            position: absolute;
            top: -12px;
            left: 20px;
            font-size: 20px;
            color: #888;
          }
        </style>
      </head>
      <body>
        <div class="voucher-container">
          <div class="voucher-header">
            <h1 class="voucher-title">Voucher Fidelidade</h1>
            <p class="voucher-subtitle">Recompensa Exclusiva</p>
            <div class="voucher-code">${E}</div>
          </div>
          
          <div class="voucher-body">
            <div class="reward-name">${w.ruleName}</div>
            <div class="reward-type">${j}</div>
            
            ${w.ruleDescription?`<div class="reward-description">${w.ruleDescription}</div>`:""}
            
            <div class="two-columns">
              <div class="column">
                <div class="info-group">
                  <div class="info-label">Cliente</div>
                  <div class="info-value">${a}</div>
                </div>
                
                <div class="info-group">
                  <div class="info-label">Telefone</div>
                  <div class="info-value">${n||"No informado"}</div>
                </div>
                
                <div class="info-group">
                  <div class="info-label">Status</div>
                  <div>
                    <span class="status-badge status-${w.status.toLowerCase()}">
                      ${m(w.status)}
                    </span>
                  </div>
                </div>
              </div>
              
              <div class="column">
                <div class="qr-code">
                  <div id="qrcode"></div>
                  <div class="qr-caption">Escaneie para validar</div>
                </div>
              </div>
            </div>
            
            <div class="valid-until">
              <strong>Vlido at:</strong> ${A}
            </div>
          </div>
          
          <div class="voucher-footer">
            <div>ID: ${w.id}</div>
            <div>Emitido em: ${f(new Date().toISOString())}</div>
          </div>
        </div>
        
        <button class="print-button" onclick="window.print(); return false;">Imprimir Voucher</button>
        <p class="instructions">A recompensa s ser vlida mediante a apresentao deste voucher.</p>
        
        <script>
          // Gerar QR Code dinamicamente usando a biblioteca qrcode-generator
          window.onload = function() {
            try {
              // Criar o QR code
              var typeNumber = 4;
              var errorCorrectionLevel = 'L';
              var qr = qrcode(typeNumber, errorCorrectionLevel);
              qr.addData('VOUCHER:${w.id}');
              qr.make();
              
              // Inserir o QR code no HTML
              document.getElementById('qrcode').innerHTML = qr.createImgTag(5);
              
              // Ajustar o estilo da imagem
              var img = document.querySelector('#qrcode img');
              if (img) {
                img.style.width = '150px';
                img.style.height = '150px';
              }
            } catch (e) {
              console.error('Erro ao gerar QR code:', e);
              document.getElementById('qrcode').innerHTML = '<p style="color: red;">QR Code no disponvel</p>';
            }
          };
        <\/script>
      </body>
      </html>
    `;_.document.write(T),_.document.close()},x=w=>{u(w),l(!0)},b=async()=>{if(c){try{typeof r=="function"?(await r(c),Oe.success("Recompensa excluda com sucesso")):(console.warn("A funo onDeleteReward no foi fornecida"),Oe.error("No foi possvel excluir a recompensa: funo no implementada"))}catch(w){console.error("Erro ao excluir recompensa:",w),Oe.error("Erro ao excluir recompensa")}l(!1),u(null)}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"rounded-md border",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{className:"w-[250px]",children:"Recompensa"}),o.jsx(wt,{className:"w-[150px] hidden md:table-cell",children:"Tipo"}),o.jsx(wt,{className:"w-[130px] text-center",children:"Status"}),o.jsx(wt,{className:"w-[130px] hidden md:table-cell",children:"Data Criao"}),o.jsx(wt,{className:"w-[130px] hidden md:table-cell",children:"Validade"}),o.jsx(wt,{className:"w-[120px] text-right",children:"Aes"})]})}),o.jsx(di,{children:t.length===0?o.jsx(dr,{children:o.jsx(ct,{colSpan:7,className:"h-24 text-center",children:"Este cliente ainda no possui recompensas."})}):t.map(w=>o.jsxs(dr,{children:[o.jsxs(ct,{children:[o.jsx("div",{className:"font-medium",children:w.ruleName}),w.ruleDescription&&o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:w.ruleDescription}),o.jsxs("div",{className:"md:hidden",children:[o.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[o.jsx("span",{className:"font-medium",children:"Tipo:"})," ",g(w.rewardType)]}),o.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[o.jsx("span",{className:"font-medium",children:"Criado em:"})," ",f(w.createdAt)]}),o.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[o.jsx("span",{className:"font-medium",children:"Validade:"})," ",w.expiresAt?p(w.expiresAt)&&w.status==="available"?o.jsx("span",{className:"text-red-500",children:f(w.expiresAt)}):f(w.expiresAt):"Sem validade"]})]})]}),o.jsx(ct,{className:"hidden md:table-cell",children:g(w.rewardType)}),o.jsx(ct,{className:"text-center",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(Ur,{variant:v(w.status),className:"flex gap-1",children:[h(w.status),m(w.status)]})})}),o.jsx(ct,{className:"hidden md:table-cell",children:f(w.createdAt)}),o.jsx(ct,{className:"hidden md:table-cell",children:w.expiresAt?p(w.expiresAt)&&w.status==="available"?o.jsx("span",{className:"text-red-500",children:f(w.expiresAt)}):f(w.expiresAt):"Sem validade"}),o.jsx(ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end items-center gap-2",children:[n&&a&&o.jsx(je,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 text-green-600",onClick:d,title:"Enviar mensagem via WhatsApp",children:o.jsx($o,{className:"h-4 w-4"})}),a&&o.jsx(je,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 text-blue-600",onClick:()=>y(w),title:"Imprimir voucher",children:o.jsx(tb,{className:"h-4 w-4"})}),w.status==="available"&&o.jsx(je,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 text-purple-600",onClick:()=>e(w.id),disabled:p(w.expiresAt),title:"Utilizar recompensa",children:o.jsx(Bs,{className:"h-4 w-4"})}),o.jsx(je,{variant:"ghost",size:"icon",className:"h-8 w-8 p-0 text-red-600",onClick:()=>x(w.id),title:"Excluir recompensa",children:o.jsx(yn,{className:"h-4 w-4"})})]})})]},w.id))})]})})}),o.jsx(xf,{open:s,onOpenChange:l,children:o.jsxs(cd,{children:[o.jsxs(ud,{children:[o.jsx(fd,{children:"Confirmar excluso"}),o.jsx(hd,{children:"Tem certeza que deseja excluir esta recompensa? Esta ao no pode ser desfeita."})]}),o.jsxs(dd,{children:[o.jsx(pd,{onClick:()=>u(null),children:"Cancelar"}),o.jsx(md,{onClick:b,children:"Confirmar"})]})]})})]})}const gxt=()=>{const[t,e]=N.useState([]),[r,n]=N.useState([]),[a,i]=N.useState([]),[s,l]=N.useState(!1),c=N.useCallback(async()=>{try{l(!0);const{data:x,error:b}=await ye.from("loyalty_rules").select("*").order("appointments_required",{ascending:!0});if(b)throw b;const w=x.map(l2e);return e(w),w}catch(x){return console.error("Error fetching loyalty rules:",x),Oe.error("Erro ao carregar regras de fidelidade"),[]}finally{l(!1)}},[]),u=N.useCallback(async x=>{try{l(!0);const b={...x,id:Mo(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},w={id:b.id,name:b.name,description:b.description,appointments_required:b.appointmentsRequired,reward_type:b.rewardType,reward_value:b.rewardType==="free_service"?0:b.rewardValue,service_id:b.rewardType==="free_service"?String(b.rewardValue):null,is_active:b.isActive,created_at:b.createdAt,updated_at:b.updatedAt},{error:_}=await ye.from("loyalty_rules").insert(w);if(_)throw _;return e(j=>[...j,b]),Oe.success("Regra de fidelidade criada com sucesso"),b}catch(b){return console.error("Error creating loyalty rule:",b),Oe.error("Erro ao criar regra de fidelidade"),null}finally{l(!1)}},[]),d=N.useCallback(async(x,b)=>{try{l(!0);const w={...b,updatedAt:new Date().toISOString()},_={...c2e(w),service_id:w.rewardType==="free_service"?String(w.rewardValue):null,reward_value:w.rewardType==="free_service"?0:w.rewardValue},{error:j}=await ye.from("loyalty_rules").update(_).eq("id",x);if(j)throw j;return e(A=>A.map(E=>E.id===x?{...E,...w}:E)),Oe.success("Regra de fidelidade atualizada com sucesso"),!0}catch(w){return console.error("Error updating loyalty rule:",w),Oe.error("Erro ao atualizar regra de fidelidade"),!1}finally{l(!1)}},[]),f=N.useCallback(async x=>{try{l(!0);const{error:b}=await ye.from("loyalty_rules").delete().eq("id",x);if(b)throw b;return e(w=>w.filter(_=>_.id!==x)),Oe.success("Regra de fidelidade excluda com sucesso"),!0}catch(b){return console.error("Error deleting loyalty rule:",b),Oe.error("Erro ao excluir regra de fidelidade"),!1}finally{l(!1)}},[]),m=N.useCallback(async x=>{try{l(!0);const{data:b,error:w}=await ye.from("loyalty_progress").select("*").eq("client_id",x).single();if(w&&w.code!=="PGRST116")throw w;return b?V_(b):null}catch(b){return console.error("Error fetching client loyalty progress:",b),Oe.error("Erro ao carregar progresso de fidelidade do cliente"),null}finally{l(!1)}},[]),h=N.useCallback(async()=>{try{l(!0);const{data:x,error:b}=await ye.from("loyalty_progress").select("*, clients(name, phone)").order("appointments_count",{ascending:!1});if(b)throw b;const w=x.map(_=>{var j,A;return{...V_(_),clientName:((j=_.clients)==null?void 0:j.name)||"",clientPhone:((A=_.clients)==null?void 0:A.phone)||""}});return n(w),w}catch(x){return console.error("Error fetching all loyalty progress:",x),Oe.error("Erro ao carregar progresso de fidelidade dos clientes"),[]}finally{l(!1)}},[]),v=N.useCallback(async x=>{try{l(!0);const{data:b,error:w}=await ye.from("loyalty_rewards").select("*, loyalty_rules(name, description, reward_type, reward_value)").eq("client_id",x).order("created_at",{ascending:!1});if(w)throw w;const _=b.map(j=>{var A,E,T,R;return{...u2e(j),ruleName:((A=j.loyalty_rules)==null?void 0:A.name)||"",ruleDescription:((E=j.loyalty_rules)==null?void 0:E.description)||"",rewardType:((T=j.loyalty_rules)==null?void 0:T.reward_type)||"",rewardValue:((R=j.loyalty_rules)==null?void 0:R.reward_value)||0}});return i(_),_}catch(b){return console.error("Error fetching client loyalty rewards:",b),Oe.error("Erro ao carregar recompensas de fidelidade do cliente"),[]}finally{l(!1)}},[]),g=N.useCallback(async(x,b,w)=>{try{const{data:_,error:j}=await ye.from("loyalty_progress").select("*").eq("client_id",x);if(j)throw j;const A=new Date().toISOString();if(_.length===0){const E={id:Mo(),clientId:x,appointmentsCount:1,rewardsEarned:0,rewardsUsed:0,lastAppointmentDate:A,createdAt:A,updatedAt:A},{error:T}=await ye.from("loyalty_progress").insert({id:E.id,client_id:E.clientId,appointments_count:E.appointmentsCount,rewards_earned:E.rewardsEarned,rewards_used:E.rewardsUsed,last_appointment_date:E.lastAppointmentDate,created_at:E.createdAt,updated_at:E.updatedAt});if(T)throw T;return E}else{const E=V_(_[0]),T=E.appointmentsCount+1,{error:R}=await ye.from("loyalty_progress").update({appointments_count:T,last_appointment_date:A,updated_at:A}).eq("id",E.id);if(R)throw R;return await p(x,T),{...E,appointmentsCount:T,lastAppointmentDate:A,updatedAt:A}}}catch(_){return console.error("Error updating client loyalty progress:",_),Oe.error("Erro ao atualizar progresso de fidelidade do cliente"),null}},[]),p=N.useCallback(async(x,b)=>{try{const{data:w,error:_}=await ye.from("loyalty_rules").select("*").lte("appointments_required",b).eq("is_active",!0);if(_)throw _;const{data:j,error:A}=await ye.from("loyalty_rewards").select("rule_id").eq("client_id",x);if(A)throw A;const E=new Set(j.map(R=>R.rule_id)),T=w.filter(R=>!E.has(R.id));for(const R of T){const D={id:Mo(),clientId:x,ruleId:R.id,status:"available",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};if(R.reward_type==="discount"||R.reward_type==="free_service"){const H=new Date;H.setDate(H.getDate()+30),D.expiresAt=H.toISOString()}const{error:P}=await ye.from("loyalty_rewards").insert({id:D.id,client_id:D.clientId,rule_id:D.ruleId,status:D.status,used_at:D.usedAt,expires_at:D.expiresAt,created_at:D.createdAt,updated_at:D.updatedAt});if(P)throw P;const{data:I,error:L}=await ye.from("loyalty_progress").select("rewards_earned").eq("client_id",x).single();if(L)throw L;const{error:V}=await ye.from("loyalty_progress").update({rewards_earned:((I==null?void 0:I.rewards_earned)||0)+1,updated_at:new Date().toISOString()}).eq("client_id",x);if(V)throw V}return T.length>0&&Oe.success(`${T.length} nova(s) recompensa(s) disponvel(is)!`),!0}catch(w){return console.error("Error checking for rewards:",w),!1}},[]),y=N.useCallback(async(x,b)=>{try{l(!0);const w=new Date().toISOString(),_={status:"used",used_at:w,updated_at:w};b&&(_.appointment_id=b);const{error:j}=await ye.from("loyalty_rewards").update(_).eq("id",x);if(j)throw j;const{data:A,error:E}=await ye.from("loyalty_rewards").select("client_id").eq("id",x).single();if(E)throw E;const{data:T,error:R}=await ye.from("loyalty_progress").select("rewards_used").eq("client_id",A.client_id).single();if(R)throw R;const{error:D}=await ye.from("loyalty_progress").update({rewards_used:((T==null?void 0:T.rewards_used)||0)+1,updated_at:w}).eq("client_id",A.client_id);if(D)throw D;return i(P=>P.map(I=>I.id===x?{...I,status:"used",usedAt:w,appointmentId:b||I.appointmentId,updatedAt:w}:I)),Oe.success("Recompensa utilizada com sucesso"),!0}catch(w){return console.error("Error using reward:",w),Oe.error("Erro ao utilizar recompensa"),!1}finally{l(!1)}},[]);return{loyaltyRules:t,loyaltyProgress:r,loyaltyRewards:a,isLoading:s,fetchLoyaltyRules:c,createLoyaltyRule:u,updateLoyaltyRule:d,deleteLoyaltyRule:f,fetchClientLoyaltyProgress:m,fetchAllLoyaltyProgress:h,fetchClientLoyaltyRewards:v,updateClientLoyaltyProgress:g,useReward:y}},vxt={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},yxt={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}};function xxt(){const{loyaltyRules:t,loyaltyProgress:e,loyaltyRewards:r,isLoading:n,fetchLoyaltyRules:a,createLoyaltyRule:i,updateLoyaltyRule:s,deleteLoyaltyRule:l,fetchAllLoyaltyProgress:c,fetchClientLoyaltyRewards:u,useReward:d}=gxt(),[f,m]=N.useState("rules"),[h,v]=N.useState(!1),[g,p]=N.useState(null),[y,x]=N.useState(!1),[b,w]=N.useState(null),[_,j]=N.useState(!1),[A,E]=N.useState(null);N.useEffect(()=>{T()},[]),N.useEffect(()=>{A&&_&&u(A.id)},[A,_]);const T=async()=>{await a(),await c()},R=async F=>{m(F),F==="rules"?await a():F==="progress"&&await c()},D=()=>{p(null),v(!0)},P=F=>{if(F.rewardType==="free_service"){const B={...F,serviceId:F.id};p(B)}else p(F);v(!0)},I=()=>{v(!1),p(null)},L=async F=>{try{const{serviceId:B,...z}=F;F.rewardType==="free_service"&&(z.rewardValue=0),g?await s(g.id,z):await i(z),v(!1),p(null),a()}catch(B){console.error("Erro ao salvar regra de fidelidade:",B)}},V=F=>{w(F),x(!0)},H=async()=>{b&&(await l(b),x(!1),w(null))},q=async(F,B)=>{await s(F,{isActive:B})},G=(F,B)=>{E({id:F,name:B}),j(!0)},re=async F=>{await d(F),A&&await u(A.id)},Z=async F=>{try{(await d2e(F)).success?(Oe.success("Recompensa excluda com sucesso"),A&&await u(A.id)):Oe.error("Erro ao excluir recompensa")}catch(B){console.error("Erro ao excluir recompensa:",B),Oe.error("Erro ao excluir recompensa")}},de=async F=>{try{(await f2e(F)).success?(Oe.success("Progresso de fidelidade excludo com sucesso"),await c()):Oe.error("Erro ao excluir progresso de fidelidade")}catch(B){console.error("Erro ao excluir progresso de fidelidade:",B),Oe.error("Erro ao excluir progresso de fidelidade")}},k=()=>{const F=A?e.find(z=>z.clientId===A.id):null,B=F?F.clientPhone:void 0;return o.jsx(wi,{open:_,onOpenChange:j,children:o.jsxs(ai,{className:"max-w-full md:max-w-4xl p-4 md:p-6 overflow-hidden",children:[o.jsx(ii,{children:o.jsxs(si,{className:"text-center md:text-left text-lg md:text-xl",children:["Recompensas do Cliente - ",A==null?void 0:A.name]})}),o.jsx(pxt,{rewards:r,onUseReward:re,onDeleteReward:Z,clientName:A==null?void 0:A.name,clientPhone:B})]})})};return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-2 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:vxt,children:[o.jsxs(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",variants:yxt,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[h&&o.jsx(je,{variant:"outline",size:"icon",onClick:I,className:"mr-2",children:o.jsx(yl,{size:16})}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:h?g?"Editar Regra de Fidelidade":"Nova Regra de Fidelidade":"Programa de Fidelidade"})]}),!h&&f==="rules"&&o.jsxs(je,{onClick:D,className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[o.jsx(ms,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Nova Regra"}),o.jsx("span",{className:"sm:hidden",children:"Nova"})]})]}),o.jsx(Gi,{mode:"wait",children:h?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsx(fxt,{rule:g,onSubmit:L,onCancel:I})},"form"):o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsx(ot,{className:"border-0 sm:border",children:o.jsx(Ot,{className:"pb-4 pt-2 sm:pt-6 px-2 sm:px-6",children:o.jsxs(ys,{defaultValue:f,value:f,onValueChange:R,className:"w-full",children:[o.jsxs(Di,{className:"mb-4 w-full grid grid-cols-2 gap-2",children:[o.jsxs(qt,{value:"rules",className:"flex items-center justify-center gap-1 py-2",children:[o.jsx(OL,{size:14}),o.jsx("span",{children:"Regras de Fidelidade"})]}),o.jsxs(qt,{value:"progress",className:"flex items-center justify-center gap-1 py-2",children:[o.jsx(xl,{size:14}),o.jsx("span",{children:"Progresso dos Clientes"})]})]}),o.jsx(nr,{value:"rules",className:"m-0",children:o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(ot,{className:"bg-gradient-to-r from-green-50 to-green-100 border-green-200",children:o.jsxs(lt,{className:"p-4 flex items-center gap-4",children:[o.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:o.jsx(OL,{size:24,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total de Regras"}),o.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})}),o.jsx(ot,{className:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",children:o.jsxs(lt,{className:"p-4 flex items-center gap-4",children:[o.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:o.jsx(xl,{size:24,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Clientes com Fidelidade"}),o.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})}),o.jsx(ot,{className:"bg-gradient-to-r from-purple-50 to-purple-100 border-purple-200",children:o.jsxs(lt,{className:"p-4 flex items-center gap-4",children:[o.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:o.jsx(nG,{size:24,className:"text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Recompensas Ativas"}),o.jsx("p",{className:"text-2xl font-bold",children:t.filter(F=>F.isActive).length})]})]})})]}),o.jsxs("div",{className:"border rounded-md pt-4",children:[o.jsx(It,{className:"px-6 pb-4",children:"Regras de Fidelidade"}),o.jsx("div",{className:"px-0",children:n?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):o.jsx(hxt,{rules:t,onEdit:P,onDelete:V,onToggleActive:q})})]})]})}),o.jsx(nr,{value:"progress",className:"m-0",children:o.jsx("div",{className:"flex flex-col gap-6",children:n?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):o.jsxs("div",{className:"border rounded-md pt-4",children:[o.jsx(It,{className:"px-6 pb-4",children:"Progresso de Fidelidade dos Clientes"}),o.jsx(mxt,{progressData:e,onViewDetails:G,onDelete:de})]})})})]})})})},"content")}),o.jsx(xf,{open:y,onOpenChange:x,children:o.jsxs(cd,{children:[o.jsxs(ud,{children:[o.jsx(fd,{children:"Confirmar excluso"}),o.jsx(hd,{children:"Tem certeza que deseja excluir esta regra de fidelidade? Esta ao no pode ser desfeita."})]}),o.jsxs(dd,{children:[o.jsx(pd,{onClick:()=>x(!1),children:"Cancelar"}),o.jsx(md,{onClick:H,className:"bg-red-500 hover:bg-red-600",children:"Excluir"})]})]})}),k()]})})}const bxt=({title:t,description:e,icon:r,className:n})=>o.jsxs("div",{className:Ke("flex flex-col items-center justify-center text-center p-4 sm:p-10 rounded-md border border-dashed bg-background",n),children:[r&&o.jsx("div",{className:"rounded-full bg-muted p-2 sm:p-3 mb-3 sm:mb-4",children:o.jsx(r,{className:"h-5 w-5 sm:h-6 sm:w-6 text-muted-foreground"})}),o.jsx("h3",{className:"font-medium text-base sm:text-lg mb-1",children:t}),e&&o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground max-w-md",children:e})]}),ck={async getAllRatings(){const{data:t,error:e}=await ye.from("attendant_ratings").select("*").order("created_at",{ascending:!1});if(e)throw console.error("Erro ao buscar avaliaes:",e),new Error(`Erro ao buscar avaliaes: ${e.message}`);return t.map(r=>({id:r.id,attendantId:r.attendant_id,clientName:r.client_name,clientPhone:r.client_phone,rating:r.rating,comment:r.comment,appointmentId:r.appointment_id,approved:r.approved??!1,createdAt:r.created_at,updatedAt:r.updated_at}))},async deleteRating(t){console.log("[deleteRating] Tentando excluir avaliao com ID:",t);const{error:e,data:r}=await ye.from("attendant_ratings").delete().eq("id",t);if(console.log("[deleteRating] Resultado:",{data:r,error:e}),e)throw console.error(`Erro ao excluir avaliao ${t}:`,e),new Error(`Erro ao excluir avaliao: ${e.message}`)},async approveRating(t,e){console.log(`[approveRating] ${e?"Aprovando":"Rejeitando"} avaliao com ID:`,t);const{error:r}=await ye.from("attendant_ratings").update({approved:e}).eq("id",t);if(r)throw console.error(`Erro ao ${e?"aprovar":"rejeitar"} avaliao ${t}:`,r),new Error(`Erro ao ${e?"aprovar":"rejeitar"} avaliao: ${r.message}`)}},wxt={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},xW={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},bW=({rating:t,getAttendantName:e,formatDate:r,renderStars:n,handleApproveRating:a,handleDeleteRating:i})=>o.jsxs(wi,{children:[o.jsxs(vm,{children:[o.jsx(ym,{asChild:!0,children:o.jsxs(je,{variant:"ghost",className:"h-8 w-8 p-0",children:[o.jsx("span",{className:"sr-only",children:"Abrir menu"}),o.jsx(lj,{className:"h-4 w-4"})]})}),o.jsxs(yf,{align:"end",children:[o.jsx(wh,{asChild:!0,children:o.jsx(Aa,{children:"Ver detalhes"})}),!t.approved&&o.jsxs(Aa,{className:"text-green-600",onClick:()=>a(t.id,!0),children:[o.jsx(Us,{className:"mr-2 h-4 w-4"}),"Aprovar avaliao"]}),t.approved&&o.jsxs(Aa,{className:"text-amber-600",onClick:()=>a(t.id,!1),children:[o.jsx(yv,{className:"mr-2 h-4 w-4"}),"Rejeitar avaliao"]}),o.jsx(Aa,{className:"text-red-600",onClick:()=>i(t.id),children:"Excluir avaliao"})]})]}),o.jsxs(ai,{className:"sm:max-w-[425px]",children:[o.jsx(ii,{children:o.jsx(si,{children:"Detalhes da Avaliao"})}),o.jsxs("div",{className:"py-4",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Cliente"}),o.jsxs("p",{children:[t.clientName," (",t.clientPhone,")"]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Atendente"}),o.jsx("p",{children:e(t.attendantId)})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Avaliao"}),o.jsx("div",{className:"flex",children:n(t.rating)})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Data"}),o.jsx("p",{children:r(t.createdAt)})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Status"}),o.jsx("p",{children:t.approved?o.jsxs(Ur,{variant:"outline",className:"bg-green-50 text-green-600 border-green-200",children:[o.jsx(Us,{className:"mr-1 h-3 w-3"})," Aprovada"]}):o.jsx(Ur,{variant:"outline",className:"bg-amber-50 text-amber-600 border-amber-200",children:"Pendente"})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Comentrio"}),o.jsx("p",{className:"text-gray-700",children:t.comment||"Nenhum comentrio fornecido."})]}),o.jsx("div",{className:"mt-6 flex gap-3 justify-end",children:t.approved?o.jsxs(je,{variant:"outline",onClick:()=>{a(t.id,!1)},className:"text-amber-600 border-amber-300 hover:bg-amber-50",children:[o.jsx(yv,{className:"mr-2 h-4 w-4"}),"Rejeitar"]}):o.jsxs(je,{onClick:()=>{a(t.id,!0)},className:"bg-green-600 hover:bg-green-700",children:[o.jsx(Us,{className:"mr-2 h-4 w-4"}),"Aprovar"]})})]})]})]}),Sxt=()=>{const{toast:t}=ga(),[e,r]=N.useState("all"),[n,a]=N.useState(""),[i,s]=N.useState(null),[l,c]=N.useState("all"),[u,d]=N.useState({total:0,average:0,fiveStarCount:0,recentCount:0,pendingCount:0}),{data:f=[],isLoading:m,refetch:h}=Ih({queryKey:["ratings"],queryFn:ck.getAllRatings}),{data:v=[]}=Ih({queryKey:["attendants"],queryFn:async()=>{const{data:_,error:j}=await ye.from("attendants").select("*");if(j)throw j;return _.map(A=>({id:A.id,name:A.name,position:A.position,available:A.available,workDays:A.work_days,phone:A.phone||void 0,email:A.email||void 0,photoUrl:A.photo_url,shareUrl:A.share_url}))}});N.useEffect(()=>{if(f.length>0){const _=f.length,j=f.reduce((P,I)=>P+I.rating,0),A=_>0?j/_:0,E=f.filter(P=>P.rating===5).length,T=f.filter(P=>!P.approved).length,R=new Date;R.setDate(R.getDate()-30);const D=f.filter(P=>new Date(P.createdAt)>=R).length;d({total:_,average:A,fiveStarCount:E,recentCount:D,pendingCount:T})}else d({total:0,average:0,fiveStarCount:0,recentCount:0,pendingCount:0})},[f]);const g=f.filter(_=>{var T;const j=!i||_.attendantId===i,A=!n||_.clientName.toLowerCase().includes(n.toLowerCase())||((T=_.comment)==null?void 0:T.toLowerCase().includes(n.toLowerCase())),E=l==="all"||l==="approved"&&_.approved||l==="pending"&&!_.approved;if(e==="all")return j&&A&&E;if(e==="5stars")return _.rating===5&&j&&A&&E;if(e==="recent"){const R=new Date;return R.setDate(R.getDate()-30),new Date(_.createdAt)>=R&&j&&A&&E}return j&&A&&E}),p=_=>{const j=v.find(A=>A.id===_);return j?j.name:"Atendente no encontrado"},y=_=>wr(new Date(_),"dd 'de' MMMM 'de' yyyy",{locale:Kn}),x=_=>Array(5).fill(0).map((j,A)=>o.jsx(Io,{size:16,className:A<_?"text-yellow-400 fill-yellow-400":"text-gray-300"},A)),b=async _=>{console.log("[handleDeleteRating] ID recebido para excluso:",_);try{await ck.deleteRating(_),h(),t({title:"Avaliao excluda",description:"A avaliao foi excluda com sucesso.",variant:"default"})}catch(j){console.error("[handleDeleteRating] Erro ao excluir:",j),t({title:"Erro ao excluir",description:"No foi possvel excluir a avaliao. Tente novamente.",variant:"destructive"})}},w=async(_,j)=>{try{await ck.approveRating(_,j),h(),t({title:j?"Avaliao aprovada":"Avaliao rejeitada",description:j?"A avaliao foi aprovada e agora est visvel publicamente.":"A avaliao foi rejeitada e no ser exibida publicamente.",variant:"default"})}catch(A){console.error(`[handleApproveRating] Erro ao ${j?"aprovar":"rejeitar"}:`,A),t({title:`Erro ao ${j?"aprovar":"rejeitar"}`,description:`No foi possvel ${j?"aprovar":"rejeitar"} a avaliao. Tente novamente.`,variant:"destructive"})}};return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-4 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:wxt,children:[o.jsx(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",variants:xW,children:o.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:o.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:"Gerenciamento de Avaliaes"})})}),o.jsx(nt.div,{variants:xW,children:o.jsx("div",{className:"mt-2 p-3 bg-blue-50 text-blue-700 rounded-md border border-blue-200 text-sm",children:o.jsxs("p",{className:"flex items-center",children:[o.jsx(Us,{className:"h-4 w-4 mr-2 text-blue-500"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Sistema de Aprovao:"})," Avaliaes enviadas por clientes precisam ser aprovadas antes de aparecerem publicamente. Utilize os filtros para ver as avaliaes pendentes."]})]})})}),o.jsx(Gi,{mode:"wait",children:o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"w-full",children:o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsx(It,{children:"Avaliaes"})}),o.jsxs(lt,{children:[o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-3 mb-6",children:[o.jsxs(ot,{className:"overflow-hidden",children:[o.jsx(Ot,{className:"pb-2 px-3 py-3",children:o.jsx(It,{className:"text-xs sm:text-sm font-medium",children:"Total"})}),o.jsx(lt,{className:"px-3 py-2",children:o.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:u.total})})]}),o.jsxs(ot,{className:"overflow-hidden",children:[o.jsx(Ot,{className:"pb-2 px-3 py-3",children:o.jsx(It,{className:"text-xs sm:text-sm font-medium",children:"Mdia"})}),o.jsx(lt,{className:"px-3 py-2",children:o.jsxs("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold flex items-center",children:[u.average.toFixed(1),o.jsx("div",{className:"flex ml-2",children:x(Math.round(u.average))})]})})]}),o.jsxs(ot,{className:"overflow-hidden",children:[o.jsx(Ot,{className:"pb-2 px-3 py-3",children:o.jsx(It,{className:"text-xs sm:text-sm font-medium",children:"ltimos 30 dias"})}),o.jsx(lt,{className:"px-3 py-2",children:o.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:u.recentCount})})]}),o.jsxs(ot,{className:"overflow-hidden",children:[o.jsx(Ot,{className:"pb-2 px-3 py-3",children:o.jsx(It,{className:"text-xs sm:text-sm font-medium",children:"5 Estrelas"})}),o.jsx(lt,{className:"px-3 py-2",children:o.jsxs("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:[u.fiveStarCount,o.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 ml-1",children:["(",u.total>0?Math.round(u.fiveStarCount/u.total*100):0,"%)"]})]})})]}),o.jsxs(ot,{className:"overflow-hidden col-span-2 sm:col-span-1",children:[o.jsx(Ot,{className:"pb-2 px-3 py-3",children:o.jsx(It,{className:"text-xs sm:text-sm font-medium",children:"Pendentes"})}),o.jsx(lt,{className:"px-3 py-2",children:o.jsx("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold",children:u.pendingCount})})]})]}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"relative w-full",children:[o.jsx(td,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(mt,{placeholder:"Buscar por cliente ou comentrio...",value:n,onChange:_=>a(_.target.value),className:"w-full pl-9 pr-9"}),n&&o.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground","aria-label":"Limpar busca",title:"Limpar busca",children:o.jsx(Dh,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:[o.jsxs(un,{value:i||"all",onValueChange:_=>s(_==="all"?null:_),children:[o.jsx(sn,{className:"w-full",children:o.jsx(dn,{placeholder:"Todos os atendentes"})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"all",children:"Todos os atendentes"}),v.map(_=>o.jsx(Vt,{value:_.id,children:_.name},_.id))]})]}),o.jsxs(un,{value:l,onValueChange:_=>c(_),children:[o.jsx(sn,{className:"w-full",children:o.jsx(dn,{placeholder:"Status de aprovao"})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"all",children:"Todas"}),o.jsx(Vt,{value:"approved",children:"Aprovadas"}),o.jsx(Vt,{value:"pending",children:"Pendentes"})]})]}),o.jsxs(vm,{children:[o.jsx(ym,{asChild:!0,children:o.jsxs(je,{variant:"outline",className:"w-full",children:[o.jsx(Nde,{className:"h-4 w-4 mr-2"}),"Filtrar"]})}),o.jsxs(yf,{align:"end",children:[o.jsx(Aa,{onClick:()=>r("all"),children:"Todas as avaliaes"}),o.jsx(Aa,{onClick:()=>r("5stars"),children:"Apenas 5 estrelas"}),o.jsx(Aa,{onClick:()=>r("recent"),children:"ltimos 30 dias"})]})]}),o.jsxs(je,{variant:"outline",onClick:()=>{a(""),s(null),r("all"),c("all")},className:"w-full",children:[o.jsx(Dh,{className:"h-4 w-4 mr-2"}),"Limpar filtros"]})]})]}),m?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(nt.div,{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})}):g.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden md:block bg-white rounded-md overflow-hidden",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Cliente"}),o.jsx(wt,{children:"Atendente"}),o.jsx(wt,{children:"Avaliao"}),o.jsx(wt,{children:"Data"}),o.jsx(wt,{children:"Status"}),o.jsx(wt,{children:"Comentrio"}),o.jsx(wt,{className:"w-[100px]",children:"Aes"})]})}),o.jsx(di,{children:g.map(_=>o.jsxs(dr,{children:[o.jsxs(ct,{className:"font-medium",children:[_.clientName,o.jsx("div",{className:"text-sm text-gray-500",children:_.clientPhone})]}),o.jsx(ct,{children:p(_.attendantId)}),o.jsx(ct,{children:o.jsx("div",{className:"flex",children:x(_.rating)})}),o.jsx(ct,{children:y(_.createdAt)}),o.jsx(ct,{children:_.approved?o.jsxs(Ur,{variant:"outline",className:"bg-green-50 text-green-600 border-green-200",children:[o.jsx(Us,{className:"mr-1 h-3 w-3"})," ","Aprovada"]}):o.jsx(Ur,{variant:"outline",className:"bg-amber-50 text-amber-600 border-amber-200",children:"Pendente"})}),o.jsx(ct,{className:"max-w-[250px] truncate",children:_.comment||"-"}),o.jsx(ct,{children:o.jsx(bW,{rating:_,getAttendantName:p,formatDate:y,renderStars:x,handleApproveRating:w,handleDeleteRating:b})})]},_.id))})]})}),o.jsx("div",{className:"grid grid-cols-1 gap-4 md:hidden",children:g.map(_=>o.jsx(ot,{className:"overflow-hidden",children:o.jsxs(lt,{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",children:_.clientName}),o.jsx("p",{className:"text-sm text-gray-500",children:_.clientPhone})]}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("div",{className:"flex mb-1",children:x(_.rating)}),_.approved?o.jsxs(Ur,{variant:"outline",className:"bg-green-50 text-green-600 border-green-200 text-xs",children:[o.jsx(Us,{className:"mr-1 h-3 w-3"})," ","Aprovada"]}):o.jsx(Ur,{variant:"outline",className:"bg-amber-50 text-amber-600 border-amber-200 text-xs",children:"Pendente"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Atendente"}),o.jsx("p",{children:p(_.attendantId)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:"Data"}),o.jsx("p",{children:y(_.createdAt)})]})]}),_.comment&&o.jsxs("div",{className:"mb-3 text-sm",children:[o.jsx("p",{className:"text-gray-500",children:"Comentrio"}),o.jsx("p",{className:"line-clamp-2",children:_.comment})]}),o.jsx("div",{className:"flex justify-between mt-3 pt-3 border-t border-gray-100",children:o.jsx(bW,{rating:_,getAttendantName:p,formatDate:y,renderStars:x,handleApproveRating:w,handleDeleteRating:b})})]})},_.id))})]}):o.jsx(bxt,{title:"Nenhuma avaliao encontrada",description:"No encontramos nenhuma avaliao com os filtros selecionados.",icon:Io})]})]})},"list")})]})})},uk=[{name:"Indigo",value:"#6366F1"},{name:"Verde",value:"#10B981"},{name:"Vermelho",value:"#EF4444"},{name:"Amarelo",value:"#F59E0B"},{name:"Azul",value:"#3B82F6"},{name:"Rosa",value:"#EC4899"},{name:"Roxo",value:"#8B5CF6"},{name:"Laranja",value:"#F97316"}],_xt=({showAddButton:t=!0,externalOpenTrigger:e=!1,onOpenAddDialog:r})=>{const{toast:n}=ga(),[a,i]=N.useState([]),[s,l]=N.useState(!1),[c,u]=N.useState(!1),[d,f]=N.useState(null),[m,h]=N.useState({name:"",type:"expense",description:"",color:uk[0].value,icon:"tag"});N.useEffect(()=>{v()},[]),N.useEffect(()=>{e&&(b(),u(!0),r&&r())},[e]);const v=async()=>{try{l(!0);const{data:j,error:A}=await ye.from("finance_categories").select("*").order("name");if(A)throw A;j&&i(j.map(MS))}catch(j){n({title:"Erro ao carregar categorias",description:j.message||"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},g=async()=>{try{if(l(!0),!m.name.trim()){n({title:"Erro ao salvar categoria",description:"O nome da categoria  obrigatrio",variant:"destructive"});return}const j={name:m.name.trim(),type:m.type,description:m.description.trim()||null,color:m.color,icon:m.icon,isActive:!0},A=yT(j);if(!A.name)throw new Error("Nome da categoria  obrigatrio");if(!A.type||A.type!=="income"&&A.type!=="expense")throw new Error("Tipo de categoria invlido");const{data:E,error:T}=await ye.from("finance_categories").insert({name:A.name,type:A.type,description:A.description,color:A.color,icon:A.icon,is_active:A.is_active}).select("*").single();if(T)throw T;E&&(i([...a,MS(E)]),b(),u(!1),n({title:"Categoria adicionada",description:"A categoria foi adicionada com sucesso"}))}catch(j){n({title:"Erro ao adicionar categoria",description:j.message||"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},p=async()=>{try{if(l(!0),!d||!m.name.trim()){n({title:"Erro ao atualizar categoria",description:"O nome da categoria  obrigatrio",variant:"destructive"});return}const j={id:d.id,name:m.name.trim(),type:m.type,description:m.description.trim()||null,color:m.color,icon:m.icon},A=yT(j),{data:E,error:T}=await ye.from("finance_categories").update({name:A.name,type:A.type,description:A.description,color:A.color,icon:A.icon}).eq("id",d.id).select("*").single();if(T)throw T;if(E){const R=MS(E);i(a.map(D=>D.id===R.id?R:D)),b(),u(!1),n({title:"Categoria atualizada",description:"A categoria foi atualizada com sucesso"})}}catch(j){n({title:"Erro ao atualizar categoria",description:j.message||"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},y=async j=>{try{l(!0);const{count:A,error:E}=await ye.from("financial_transactions").select("*",{count:"exact",head:!0}).eq("category_id",j);if(E)throw E;if(A&&A>0){n({title:"No  possvel excluir a categoria",description:"Esta categoria est sendo usada em transaes. Desative-a em vez de exclu-la.",variant:"destructive"});return}const{error:T}=await ye.from("finance_categories").delete().eq("id",j);if(T)throw T;i(a.filter(R=>R.id!==j)),n({title:"Categoria excluda",description:"A categoria foi excluda com sucesso"})}catch(A){n({title:"Erro ao excluir categoria",description:A.message||"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},x=async j=>{try{l(!0);const A={id:j.id,isActive:!j.isActive},E=yT(A),{data:T,error:R}=await ye.from("finance_categories").update({is_active:E.is_active}).eq("id",j.id).select("*").single();if(R)throw R;if(T){const D=MS(T);i(a.map(P=>P.id===D.id?D:P)),n({title:D.isActive?"Categoria ativada":"Categoria desativada",description:`A categoria foi ${D.isActive?"ativada":"desativada"} com sucesso`})}}catch(A){n({title:"Erro ao alterar status da categoria",description:A.message||"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},b=()=>{h({name:"",type:"expense",description:"",color:uk[0].value,icon:"tag"}),f(null)},w=j=>{f(j),h({name:j.name,type:j.type,description:j.description||"",color:j.color||"#6366F1",icon:j.icon||"tag"}),u(!0)},_=()=>{b(),u(!0)};return o.jsxs(ot,{className:"w-full",children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(It,{children:"Categorias Financeiras"}),o.jsx(Nn,{children:"Gerencie as categorias de receitas e despesas"})]}),t&&o.jsxs(je,{onClick:_,className:"flex items-center gap-1",children:[o.jsx(ms,{className:"h-4 w-4"})," Nova Categoria"]})]})}),o.jsx(lt,{children:o.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Nome"}),o.jsx(wt,{className:"hidden md:table-cell",children:"Tipo"}),o.jsx(wt,{className:"hidden lg:table-cell",children:"Descrio"}),o.jsx(wt,{className:"hidden md:table-cell",children:"Status"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsxs(di,{children:[s&&o.jsx(dr,{children:o.jsx(ct,{colSpan:5,className:"text-center",children:"Carregando categorias..."})}),!s&&a.length===0&&o.jsx(dr,{children:o.jsx(ct,{colSpan:5,className:"text-center",children:"Nenhuma categoria encontrada. Adicione uma nova categoria."})}),!s&&a.map(j=>o.jsxs(dr,{className:j.isActive?"":"opacity-60",children:[o.jsx(ct,{className:"font-medium",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{style:{backgroundColor:j.color||"#6366F1"},className:"w-3 h-3 rounded-full"}),j.name]}),o.jsxs("div",{className:"md:hidden flex flex-col mt-1 text-xs text-muted-foreground",children:[o.jsx("span",{className:j.type==="income"?"text-green-600":"text-red-600",children:j.type==="income"?"Receita":"Despesa"}),o.jsx("span",{className:`inline-flex items-center ${j.isActive?"text-green-600":"text-gray-600"}`,children:j.isActive?"Ativo":"Inativo"})]})]})}),o.jsx(ct,{className:"hidden md:table-cell",children:o.jsx("span",{className:j.type==="income"?"text-green-600":"text-red-600",children:j.type==="income"?"Receita":"Despesa"})}),o.jsx(ct,{className:"hidden lg:table-cell",children:j.description||"-"}),o.jsx(ct,{className:"hidden md:table-cell",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${j.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:j.isActive?"Ativo":"Inativo"})}),o.jsx(ct,{className:"text-right",children:o.jsxs(vm,{children:[o.jsx(ym,{asChild:!0,children:o.jsx(je,{variant:"ghost",className:"h-8 w-8 p-0",children:o.jsx(zA,{className:"h-4 w-4"})})}),o.jsxs(yf,{align:"end",children:[o.jsx(k2,{children:"Aes"}),o.jsx(ag,{}),o.jsxs(Aa,{onClick:()=>w(j),children:[o.jsx(go,{className:"h-4 w-4 mr-2"})," Editar"]}),o.jsx(Aa,{onClick:()=>x(j),children:j.isActive?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"h-4 w-4 mr-2"})," Desativar"]}):o.jsxs(o.Fragment,{children:[o.jsx(gy,{className:"h-4 w-4 mr-2"})," Ativar"]})}),o.jsx(ag,{}),o.jsxs(Aa,{className:"text-red-600",onClick:()=>y(j.id),children:[o.jsx(yn,{className:"h-4 w-4 mr-2"})," Excluir"]})]})]})})]},j.id))]})]})})}),o.jsx(wi,{open:c,onOpenChange:u,children:o.jsxs(ai,{children:[o.jsxs(ii,{children:[o.jsx(si,{children:d?"Editar Categoria":"Nova Categoria"}),o.jsx(Bo,{children:d?"Atualize os detalhes da categoria":"Adicione uma nova categoria para organizar suas finanas"})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(pt,{htmlFor:"name",className:"text-right",children:"Nome"}),o.jsx(mt,{id:"name",className:"col-span-3",value:m.name,onChange:j=>h({...m,name:j.target.value}),placeholder:"Ex: Salrio, Aluguel, Alimentao"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(pt,{htmlFor:"type",className:"text-right",children:"Tipo"}),o.jsxs(un,{value:m.type,onValueChange:j=>h({...m,type:j}),children:[o.jsx(sn,{className:"col-span-3",children:o.jsx(dn,{placeholder:"Selecione o tipo"})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"income",children:"Receita"}),o.jsx(Vt,{value:"expense",children:"Despesa"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(pt,{htmlFor:"description",className:"text-right",children:"Descrio"}),o.jsx(mt,{id:"description",className:"col-span-3",value:m.description,onChange:j=>h({...m,description:j.target.value}),placeholder:"Descrio opcional"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(pt,{htmlFor:"color",className:"text-right",children:"Cor"}),o.jsx("div",{className:"col-span-3",children:o.jsx("div",{className:"flex flex-wrap gap-2",children:uk.map(j=>o.jsx("button",{type:"button",className:`w-8 h-8 rounded-full transition-all ${m.color===j.value?"ring-2 ring-offset-2 ring-primary":"hover:scale-110"}`,style:{backgroundColor:j.value},onClick:()=>h({...m,color:j.value}),title:j.name},j.value))})})]})]}),o.jsxs(au,{children:[o.jsx(je,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),o.jsx(je,{onClick:d?p:g,disabled:s,children:s?"Salvando...":d?"Atualizar":"Adicionar"})]})]})})]})},jxt=({showAddButton:t=!0,externalOpenTrigger:e=!1,onOpenAddDialog:r})=>{const{toast:n}=ga(),[a,i]=N.useState([]),[s,l]=N.useState(!1),[c,u]=N.useState(!1),[d,f]=N.useState(null),[m,h]=N.useState({name:"",description:""});N.useEffect(()=>{v()},[]),N.useEffect(()=>{e&&(b(),u(!0),r&&r())},[e]);const v=async()=>{try{l(!0);const{data:j,error:A}=await ye.from("payment_methods").select("*").order("name");if(A)throw A;j&&i(j.map(RS))}catch(j){n({title:"Erro ao carregar mtodos de pagamento",description:j.message||"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},g=async()=>{try{if(l(!0),!m.name.trim()){n({title:"Erro ao salvar mtodo de pagamento",description:"O nome do mtodo de pagamento  obrigatrio",variant:"destructive"});return}const{data:j,error:A}=await ye.from("payment_methods").insert({name:m.name.trim(),description:m.description.trim()||null,is_active:!0}).select("*").single();if(A)throw A;j&&(i([...a,RS(j)]),b(),u(!1),n({title:"Mtodo de pagamento adicionado",description:"O mtodo de pagamento foi adicionado com sucesso"}))}catch(j){n({title:"Erro ao adicionar mtodo de pagamento",description:j.message||"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},p=async()=>{try{if(l(!0),!d||!m.name.trim()){n({title:"Erro ao atualizar mtodo de pagamento",description:"O nome do mtodo de pagamento  obrigatrio",variant:"destructive"});return}const{data:j,error:A}=await ye.from("payment_methods").update({name:m.name.trim(),description:m.description.trim()||null}).eq("id",d.id).select("*").single();if(A)throw A;if(j){const E=RS(j);i(a.map(T=>T.id===E.id?E:T)),b(),u(!1),n({title:"Mtodo de pagamento atualizado",description:"O mtodo de pagamento foi atualizado com sucesso"})}}catch(j){n({title:"Erro ao atualizar mtodo de pagamento",description:j.message||"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},y=async j=>{try{l(!0);const{count:A,error:E}=await ye.from("financial_transactions").select("*",{count:"exact",head:!0}).eq("payment_method_id",j);if(E)throw E;if(A&&A>0){n({title:"No  possvel excluir o mtodo de pagamento",description:"Este mtodo de pagamento est sendo usado em transaes. Desative-o em vez de exclu-lo.",variant:"destructive"});return}const{count:T,error:R}=await ye.from("invoices").select("*",{count:"exact",head:!0}).eq("payment_method_id",j);if(R)throw R;if(T&&T>0){n({title:"No  possvel excluir o mtodo de pagamento",description:"Este mtodo de pagamento est sendo usado em faturas. Desative-o em vez de exclu-lo.",variant:"destructive"});return}const{error:D}=await ye.from("payment_methods").delete().eq("id",j);if(D)throw D;i(a.filter(P=>P.id!==j)),n({title:"Mtodo de pagamento excludo",description:"O mtodo de pagamento foi excludo com sucesso"})}catch(A){n({title:"Erro ao excluir mtodo de pagamento",description:A.message||"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},x=async j=>{try{l(!0);const{data:A,error:E}=await ye.from("payment_methods").update({is_active:!j.isActive}).eq("id",j.id).select("*").single();if(E)throw E;if(A){const T=RS(A);i(a.map(R=>R.id===T.id?T:R)),n({title:T.isActive?"Mtodo ativado":"Mtodo desativado",description:`O mtodo de pagamento foi ${T.isActive?"ativado":"desativado"} com sucesso`})}}catch(A){n({title:"Erro ao alterar status do mtodo de pagamento",description:A.message||"Erro desconhecido",variant:"destructive"})}finally{l(!1)}},b=()=>{h({name:"",description:""}),f(null)},w=j=>{f(j),h({name:j.name,description:j.description||""}),u(!0)},_=()=>{b(),u(!0)};return o.jsxs(ot,{className:"w-full",children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(It,{children:"Mtodos de Pagamento"}),o.jsx(Nn,{children:"Gerencie os mtodos de pagamento do seu negcio"})]}),t&&o.jsxs(je,{onClick:_,className:"flex items-center gap-1",children:[o.jsx(ms,{className:"h-4 w-4"})," Novo Mtodo"]})]})}),o.jsx(lt,{children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Nome"}),o.jsx(wt,{children:"Descrio"}),o.jsx(wt,{children:"Status"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsxs(di,{children:[s&&o.jsx(dr,{children:o.jsx(ct,{colSpan:4,className:"text-center",children:"Carregando mtodos de pagamento..."})}),!s&&a.length===0&&o.jsx(dr,{children:o.jsx(ct,{colSpan:4,className:"text-center",children:"Nenhum mtodo de pagamento encontrado. Adicione um novo mtodo."})}),!s&&a.map(j=>o.jsxs(dr,{className:j.isActive?"":"opacity-60",children:[o.jsx(ct,{className:"font-medium",children:j.name}),o.jsx(ct,{children:j.description||"-"}),o.jsx(ct,{children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${j.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:j.isActive?"Ativo":"Inativo"})}),o.jsx(ct,{className:"text-right",children:o.jsxs(vm,{children:[o.jsx(ym,{asChild:!0,children:o.jsx(je,{variant:"ghost",className:"h-8 w-8 p-0",children:o.jsx(zA,{className:"h-4 w-4"})})}),o.jsxs(yf,{align:"end",children:[o.jsx(k2,{children:"Aes"}),o.jsx(ag,{}),o.jsxs(Aa,{onClick:()=>w(j),children:[o.jsx(go,{className:"h-4 w-4 mr-2"})," Editar"]}),o.jsx(Aa,{onClick:()=>x(j),children:j.isActive?o.jsxs(o.Fragment,{children:[o.jsx(yn,{className:"h-4 w-4 mr-2"})," Desativar"]}):o.jsxs(o.Fragment,{children:[o.jsx(gy,{className:"h-4 w-4 mr-2"})," Ativar"]})}),o.jsx(ag,{}),o.jsxs(Aa,{className:"text-red-600",onClick:()=>y(j.id),children:[o.jsx(yn,{className:"h-4 w-4 mr-2"})," Excluir"]})]})]})})]},j.id))]})]})}),o.jsx(wi,{open:c,onOpenChange:u,children:o.jsxs(ai,{children:[o.jsxs(ii,{children:[o.jsx(si,{children:d?"Editar Mtodo de Pagamento":"Novo Mtodo de Pagamento"}),o.jsx(Bo,{children:d?"Atualize os detalhes do mtodo de pagamento":"Adicione um novo mtodo de pagamento para transaes financeiras"})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(pt,{htmlFor:"paymentName",className:"text-right",children:"Nome"}),o.jsx(mt,{id:"paymentName",className:"col-span-3",value:m.name,onChange:j=>h({...m,name:j.target.value}),placeholder:"Ex: Dinheiro, Carto de Crdito, Pix"})]}),o.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[o.jsx(pt,{htmlFor:"paymentDescription",className:"text-right",children:"Descrio"}),o.jsx(li,{id:"paymentDescription",className:"col-span-3",value:m.description,onChange:j=>h({...m,description:j.target.value}),placeholder:"Descrio opcional para o mtodo de pagamento"})]})]}),o.jsxs(au,{children:[o.jsx(je,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),o.jsx(je,{onClick:d?p:g,disabled:s,children:s?"Salvando...":d?"Atualizar":"Adicionar"})]})]})})]})},Nxt=t=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t),Axt=({showAddButton:t=!0,onOpenAddDialog:e,externalOpenTrigger:r=!1})=>{const{toast:n}=ga(),[a,i]=N.useState([]),[s,l]=N.useState([]),[c,u]=N.useState([]),[d,f]=N.useState(!1),[m,h]=N.useState(!1),[v,g]=N.useState(null),[p,y]=N.useState({transactionType:"expense",amount:"",description:"",transactionDate:wr(new Date,"yyyy-MM-dd"),dueDate:null,paymentDate:null,categoryId:"",paymentMethodId:"",status:"pending",notes:""});N.useEffect(()=>{x(),w(),_()},[]),N.useEffect(()=>{r&&(T(),h(!0),e&&e())},[r]);const x=async()=>{try{f(!0);const{data:I,error:L}=await ye.from("financial_transactions").select(`
          *,
          finance_categories (id, name, type, color),
          payment_methods (id, name),
          appointments (
            id,
            service_name,
            attendant_name,
            client_name,
            appointment_date,
            appointment_time
          ),
          services (id, name, price),
          attendants (id, name)
        `).order("transaction_date",{ascending:!1});if(L)throw L;I&&i(I.map(b))}catch(I){n({title:"Erro ao carregar transaes",description:I.message||"Erro desconhecido",variant:"destructive"})}finally{f(!1)}},b=I=>({id:I.id,transactionType:I.transaction_type,amount:typeof I.amount=="string"?parseFloat(I.amount):I.amount,description:I.description||"",transactionDate:I.transaction_date,dueDate:I.due_date||null,paymentDate:I.payment_date||null,categoryId:I.category_id||null,paymentMethodId:I.payment_method_id||null,serviceId:I.service_id||null,attendantId:I.attendant_id||null,appointmentId:I.appointment_id||null,clientId:I.client_id||null,status:I.status,recurring:I.recurring||!1,recurrenceInterval:I.recurrence_interval||null,recurrenceEndDate:I.recurrence_end_date||null,attachmentUrl:I.attachment_url||null,notes:I.notes||null,category:I.finance_categories?{id:I.finance_categories.id,name:I.finance_categories.name,type:I.finance_categories.type,color:I.finance_categories.color}:void 0,paymentMethod:I.payment_methods?{id:I.payment_methods.id,name:I.payment_methods.name}:void 0,appointment:I.appointments?{id:I.appointments.id,serviceName:I.appointments.service_name,attendantName:I.appointments.attendant_name,clientName:I.appointments.client_name,appointmentDate:I.appointments.appointment_date,appointmentTime:I.appointments.appointment_time}:void 0,service:I.services?{id:I.services.id,name:I.services.name,price:I.services.price}:void 0,attendant:I.attendants?{id:I.attendants.id,name:I.attendants.name}:void 0}),w=async()=>{try{const{data:I,error:L}=await ye.from("finance_categories").select("*").eq("is_active",!0).order("name");if(L)throw L;I&&l(I.map(V=>({id:V.id,name:V.name,type:V.type,description:V.description||void 0,color:V.color||void 0,icon:V.icon||void 0,isActive:V.is_active,createdAt:"",updatedAt:""})))}catch(I){n({title:"Erro ao carregar categorias",description:I.message||"Erro desconhecido",variant:"destructive"})}},_=async()=>{try{const{data:I,error:L}=await ye.from("payment_methods").select("*").eq("is_active",!0).order("name");if(L)throw L;I&&u(I.map(V=>({id:V.id,name:V.name,description:V.description||void 0,isActive:V.is_active,createdAt:"",updatedAt:""})))}catch(I){n({title:"Erro ao carregar mtodos de pagamento",description:I.message||"Erro desconhecido",variant:"destructive"})}},j=async()=>{try{if(f(!0),!p.description.trim()||!p.amount){n({title:"Erro ao salvar transao",description:"Preencha todos os campos obrigatrios",variant:"destructive"});return}const I=parseFloat(p.amount.replace(",","."));if(isNaN(I)||I<=0){n({title:"Erro ao salvar transao",description:"O valor deve ser maior que zero",variant:"destructive"});return}const L={transaction_type:p.transactionType,amount:I,description:p.description.trim(),transaction_date:p.transactionDate,due_date:p.dueDate,payment_date:p.paymentDate,category_id:p.categoryId||null,payment_method_id:p.paymentMethodId||null,status:p.status,notes:p.notes.trim()||null},{data:V,error:H}=await ye.from("financial_transactions").insert(L).select(`
          *,
          finance_categories (id, name, type, color),
          payment_methods (id, name)
        `).single();if(H)throw H;V&&(i([b(V),...a]),T(),h(!1),n({title:"Transao adicionada",description:"A transao foi adicionada com sucesso"}))}catch(I){n({title:"Erro ao adicionar transao",description:I.message||"Erro desconhecido",variant:"destructive"})}finally{f(!1)}},A=async()=>{try{if(f(!0),!v||!p.description.trim()||!p.amount){n({title:"Erro ao atualizar transao",description:"Preencha todos os campos obrigatrios",variant:"destructive"});return}const I=parseFloat(p.amount.replace(",","."));if(isNaN(I)||I<=0){n({title:"Erro ao atualizar transao",description:"O valor deve ser maior que zero",variant:"destructive"});return}const L={transaction_type:p.transactionType,amount:I,description:p.description.trim(),transaction_date:p.transactionDate,due_date:p.dueDate,payment_date:p.paymentDate,category_id:p.categoryId||null,payment_method_id:p.paymentMethodId||null,status:p.status,notes:p.notes.trim()||null},{data:V,error:H}=await ye.from("financial_transactions").update(L).eq("id",v.id).select(`
          *,
          finance_categories (id, name, type, color),
          payment_methods (id, name)
        `).single();if(H)throw H;if(V){const q=b(V);i(a.map(G=>G.id===q.id?q:G)),T(),h(!1),n({title:"Transao atualizada",description:"A transao foi atualizada com sucesso"})}}catch(I){n({title:"Erro ao atualizar transao",description:I.message||"Erro desconhecido",variant:"destructive"})}finally{f(!1)}},E=async I=>{try{f(!0);const{error:L}=await ye.from("financial_transactions").delete().eq("id",I);if(L)throw L;i(a.filter(V=>V.id!==I)),n({title:"Transao excluda",description:"A transao foi excluda com sucesso"})}catch(L){n({title:"Erro ao excluir transao",description:L.message||"Erro desconhecido",variant:"destructive"})}finally{f(!1)}},T=()=>{y({transactionType:"expense",amount:"",description:"",transactionDate:wr(new Date,"yyyy-MM-dd"),dueDate:null,paymentDate:null,categoryId:"",paymentMethodId:"",status:"pending",notes:""}),g(null)},R=I=>{g(I),y({transactionType:I.transactionType,amount:I.amount.toString(),description:I.description||"",transactionDate:I.transactionDate,dueDate:I.dueDate?I.dueDate:null,paymentDate:I.paymentDate?I.paymentDate:null,categoryId:I.categoryId||"",paymentMethodId:I.paymentMethodId||"",status:I.status,notes:I.notes||""}),h(!0)},D=()=>{T(),h(!0)},P=I=>{switch(I){case"paid":return"Pago";case"pending":return"Pendente";case"overdue":return"Atrasado";case"canceled":return"Cancelado";case"partial":return"Parcial";default:return I}};return o.jsxs(ot,{className:"w-full",children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(It,{children:"Transaes Financeiras"}),o.jsx(Nn,{children:"Gerencie suas receitas, despesas e transferncias"})]}),t&&o.jsxs(je,{onClick:D,className:"flex items-center gap-1",children:[o.jsx(ms,{className:"h-4 w-4"})," Nova Transao"]})]})}),o.jsx(lt,{children:o.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{children:"Data"}),o.jsx(wt,{className:"hidden md:table-cell",children:"Tipo"}),o.jsx(wt,{children:"Descrio"}),o.jsx(wt,{className:"hidden lg:table-cell",children:"Categoria"}),o.jsx(wt,{children:"Valor"}),o.jsx(wt,{className:"hidden md:table-cell",children:"Status"}),o.jsx(wt,{className:"hidden lg:table-cell",children:"Origem"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsxs(di,{children:[d&&o.jsx(dr,{children:o.jsx(ct,{colSpan:8,className:"text-center",children:"Carregando transaes..."})}),!d&&a.length===0&&o.jsx(dr,{children:o.jsx(ct,{colSpan:8,className:"text-center",children:"Nenhuma transao encontrada. Adicione uma nova transao."})}),!d&&a.map(I=>o.jsxs(dr,{children:[o.jsx(ct,{className:"whitespace-nowrap",children:wr(new Date(I.transactionDate),"dd/MM/yyyy")}),o.jsx(ct,{className:"hidden md:table-cell",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${I.transactionType==="income"?"bg-green-100 text-green-800":I.transactionType==="expense"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:I.transactionType==="income"?"Receita":I.transactionType==="expense"?"Despesa":"Transferncia"})}),o.jsx(ct,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:"font-medium",children:[I.description,o.jsxs("span",{className:"md:hidden",children:[" ","(",I.transactionType==="income"?"Receita":I.transactionType==="expense"?"Despesa":"Transferncia",")"]})]}),I.appointment&&o.jsxs("span",{className:"text-xs text-muted-foreground",children:["Cliente: ",I.appointment.clientName]}),o.jsx("span",{className:"md:hidden text-xs text-muted-foreground",children:P(I.status)})]})}),o.jsx(ct,{className:"hidden lg:table-cell",children:I.category&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:I.category.color}}),I.category.name]})}),o.jsx(ct,{className:"font-medium whitespace-nowrap",children:o.jsx("span",{className:I.transactionType==="income"?"text-green-600":I.transactionType==="expense"?"text-red-600":"",children:Nxt(I.amount)})}),o.jsx(ct,{className:"hidden md:table-cell",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${I.status==="paid"?"bg-green-100 text-green-800":I.status==="pending"?"bg-yellow-100 text-yellow-800":I.status==="overdue"?"bg-red-100 text-red-800":I.status==="partial"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:P(I.status)})}),o.jsx(ct,{className:"hidden lg:table-cell",children:I.appointment?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gc,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-xs",children:"Agendamento"})]}):o.jsx("span",{className:"text-xs",children:"Manual"})}),o.jsx(ct,{className:"text-right",children:o.jsxs(vm,{children:[o.jsx(ym,{asChild:!0,children:o.jsx(je,{variant:"ghost",className:"h-8 w-8 p-0",children:o.jsx(zA,{className:"h-4 w-4"})})}),o.jsxs(yf,{align:"end",children:[o.jsx(k2,{children:"Aes"}),o.jsx(ag,{}),!I.appointment&&o.jsxs(Aa,{onClick:()=>R(I),children:[o.jsx(go,{className:"h-4 w-4 mr-2"})," Editar"]}),o.jsxs(Aa,{className:"text-red-600",onClick:()=>E(I.id),children:[o.jsx(yn,{className:"h-4 w-4 mr-2"})," Excluir"]})]})]})})]},I.id))]})]})})}),o.jsx(wi,{open:m,onOpenChange:h,children:o.jsxs(ai,{className:"w-[95vw] max-w-[500px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(ii,{children:[o.jsx(si,{children:v?"Editar Transao":"Nova Transao"}),o.jsx(Bo,{children:v?"Atualize os detalhes da transao":"Adicione uma nova transao financeira"})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"transactionType",children:"Tipo de Transao"}),o.jsxs(un,{value:p.transactionType,onValueChange:I=>y({...p,transactionType:I}),children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione o tipo"})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"income",children:"Receita"}),o.jsx(Vt,{value:"expense",children:"Despesa"}),o.jsx(Vt,{value:"transfer",children:"Transferncia"})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"amount",children:"Valor (R$)"}),o.jsx(mt,{id:"amount",value:p.amount,onChange:I=>y({...p,amount:I.target.value}),placeholder:"0,00"})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"description",children:"Descrio"}),o.jsx(mt,{id:"description",value:p.description,onChange:I=>y({...p,description:I.target.value}),placeholder:"Ex: Pagamento de servio, Compra de material"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"categoryId",children:"Categoria"}),o.jsxs(un,{value:p.categoryId,onValueChange:I=>y({...p,categoryId:I}),children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione a categoria"})}),o.jsx(on,{children:s.filter(I=>I.type===p.transactionType||p.transactionType==="transfer").map(I=>o.jsx(Vt,{value:I.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{style:{backgroundColor:I.color||"#6366F1"},className:"w-2 h-2 rounded-full"}),I.name]})},I.id))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"transactionDate",children:"Data da Transao"}),o.jsx(mt,{id:"transactionDate",type:"date",value:p.transactionDate,onChange:I=>y({...p,transactionDate:I.target.value})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"status",children:"Status"}),o.jsxs(un,{value:p.status,onValueChange:I=>y({...p,status:I}),children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione o status"})}),o.jsxs(on,{children:[o.jsx(Vt,{value:"pending",children:"Pendente"}),o.jsx(Vt,{value:"paid",children:"Pago"}),o.jsx(Vt,{value:"overdue",children:"Atrasado"}),o.jsx(Vt,{value:"canceled",children:"Cancelado"}),o.jsx(Vt,{value:"partial",children:"Parcial"})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"paymentMethodId",children:"Mtodo de Pagamento"}),o.jsxs(un,{value:p.paymentMethodId,onValueChange:I=>y({...p,paymentMethodId:I}),children:[o.jsx(sn,{children:o.jsx(dn,{placeholder:"Selecione o mtodo de pagamento"})}),o.jsx(on,{children:c.map(I=>o.jsx(Vt,{value:I.id,children:I.name},I.id))})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(pt,{htmlFor:"notes",children:"Observaes"}),o.jsx(li,{id:"notes",value:p.notes,onChange:I=>y({...p,notes:I.target.value}),placeholder:"Observaes adicionais"})]})]}),o.jsxs(au,{className:"flex-col sm:flex-row gap-2",children:[o.jsx(je,{variant:"outline",onClick:()=>h(!1),className:"w-full sm:w-auto",children:"Cancelar"}),o.jsx(je,{onClick:v?A:j,disabled:d,className:"w-full sm:w-auto",children:d?"Salvando...":v?"Atualizar":"Adicionar"})]})]})})]})},Ext=()=>{const{toast:t}=ga(),[e,r]=N.useState(!1),[n,a]=N.useState([]),[i,s]=N.useState([]),[l,c]=N.useState(wS(new Date).toString()),[u,d]=N.useState("monthly"),f=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(y);N.useEffect(()=>{u==="monthly"?m(parseInt(l)):v()},[u,l]);const m=async y=>{try{r(!0);const{data:x,error:b}=await ye.from("financial_transactions").select("amount, transaction_date").eq("transaction_type","income").gte("transaction_date",`${y}-01-01`).lte("transaction_date",`${y}-12-31`);if(b)throw b;const{data:w,error:_}=await ye.from("financial_transactions").select("amount, transaction_date").eq("transaction_type","expense").gte("transaction_date",`${y}-01-01`).lte("transaction_date",`${y}-12-31`);if(_)throw _;const j=h(x||[],"income"),A=h(w||[],"expense"),T=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"].map((R,D)=>{const P=j[D]||0,I=A[D]||0;return{name:R,month:D.toString(),income:P,expense:I,balance:P-I}});a(T)}catch(x){t({title:"Erro ao carregar dados do fluxo de caixa",description:x.message||"Erro desconhecido",variant:"destructive"})}finally{r(!1)}},h=(y,x)=>{const b=Array(12).fill(0);for(const w of y){const _=Lu(w.transaction_date),j=$he(_),A=typeof w.amount=="string"?parseFloat(w.amount):w.amount||0;b[j]+=A}return b},v=async()=>{try{r(!0);const y=wS(new Date),x=y-4,{data:b,error:w}=await ye.from("financial_transactions").select("amount, transaction_date").eq("transaction_type","income").gte("transaction_date",`${x}-01-01`);if(w)throw w;const{data:_,error:j}=await ye.from("financial_transactions").select("amount, transaction_date").eq("transaction_type","expense").gte("transaction_date",`${x}-01-01`);if(j)throw j;const A=g(b||[],x,y),E=g(_||[],x,y),R=Array.from({length:y-x+1},(D,P)=>x+P).map(D=>{const P=A[D-x]||0,I=E[D-x]||0;return{name:D.toString(),year:D,income:P,expense:I,balance:P-I}});s(R)}catch(y){t({title:"Erro ao carregar dados anuais do fluxo de caixa",description:y.message||"Erro desconhecido",variant:"destructive"})}finally{r(!1)}},g=(y,x,b)=>{const w=Array(b-x+1).fill(0);for(const _ of y){const j=Lu(_.transaction_date),A=wS(j);if(A>=x&&A<=b){const E=A-x,T=typeof _.amount=="string"?parseFloat(_.amount):_.amount||0;w[E]+=T}}return w},p=()=>{const y=wS(new Date),x=[];for(let b=0;b<5;b++){const w=y-b;x.push(o.jsx(Vt,{value:w.toString(),children:w},w))}return x};return o.jsxs(ot,{children:[o.jsx(Ot,{children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx(It,{children:"Fluxo de Caixa"}),o.jsx(Nn,{children:"Visualize o fluxo de caixa mensal e anual"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ys,{value:u,onValueChange:d,className:"w-[260px]",children:o.jsxs(Di,{className:"grid w-full grid-cols-2",children:[o.jsx(qt,{value:"monthly",children:"Mensal"}),o.jsx(qt,{value:"yearly",children:"Anual"})]})}),u==="monthly"&&o.jsxs(un,{value:l,onValueChange:y=>c(y),children:[o.jsx(sn,{className:"w-[100px]",children:o.jsx(dn,{placeholder:"Ano"})}),o.jsx(on,{children:p()})]})]})]})}),o.jsx(lt,{children:o.jsx("div",{className:"h-[500px] w-full",children:e?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("p",{children:"Carregando dados..."})}):o.jsxs(o.Fragment,{children:[u==="monthly"&&o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(Ep,{data:n,margin:{top:20,right:30,left:20,bottom:50},children:[o.jsx(Hu,{strokeDasharray:"3 3"}),o.jsx(Ro,{dataKey:"name"}),o.jsx(Lo,{tickFormatter:y=>f(y)}),o.jsx(bi,{formatter:y=>[f(y),""]}),o.jsx(Xc,{verticalAlign:"top",height:36}),o.jsx($s,{name:"Receitas",dataKey:"income",fill:"#10b981",radius:[4,4,0,0]}),o.jsx($s,{name:"Despesas",dataKey:"expense",fill:"#ef4444",radius:[4,4,0,0]}),o.jsx(Zp,{name:"Saldo",type:"monotone",dataKey:"balance",stroke:"#6366f1",strokeWidth:2})]})}),u==="yearly"&&o.jsx(Uc,{width:"100%",height:"100%",children:o.jsxs(Ep,{data:i,margin:{top:20,right:30,left:20,bottom:50},children:[o.jsx(Hu,{strokeDasharray:"3 3"}),o.jsx(Ro,{dataKey:"name"}),o.jsx(Lo,{tickFormatter:y=>f(y)}),o.jsx(bi,{formatter:y=>[f(y),""]}),o.jsx(Xc,{verticalAlign:"top",height:36}),o.jsx($s,{name:"Receitas",dataKey:"income",fill:"#10b981",radius:[4,4,0,0]}),o.jsx($s,{name:"Despesas",dataKey:"expense",fill:"#ef4444",radius:[4,4,0,0]}),o.jsx(Zp,{name:"Saldo",type:"monotone",dataKey:"balance",stroke:"#6366f1",strokeWidth:2})]})})]})})})]})},Cxt={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},Pd={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},Txt=()=>{const{toast:t}=ga(),[e,r]=N.useState(!1),[n,a]=N.useState([]),[i,s]=N.useState([]),[l,c]=N.useState([]),[u,d]=N.useState([]),[f,m]=N.useState("dashboard"),[h,v]=N.useState({totalRevenue:0,netProfit:0,pendingPayments:0,growthRate:0}),[g,p]=N.useState(!1),[y,x]=N.useState(!1),[b,w]=N.useState(!1),_=async()=>{try{r(!0);const{data:R,error:D}=await ye.from("financial_transactions").select("amount").eq("transaction_type","income");if(D)throw D;const{data:P,error:I}=await ye.from("financial_transactions").select("amount").eq("transaction_type","expense");if(I)throw I;const{data:L,error:V}=await ye.from("financial_transactions").select("amount").eq("status","pending").eq("transaction_type","expense");if(V)throw V;const H=(R==null?void 0:R.reduce((de,k)=>{const F=typeof k.amount=="string"?parseFloat(k.amount):k.amount;return de+(F||0)},0))||0,q=(P==null?void 0:P.reduce((de,k)=>{const F=typeof k.amount=="string"?parseFloat(k.amount):k.amount;return de+(F||0)},0))||0,G=(L==null?void 0:L.reduce((de,k)=>{const F=typeof k.amount=="string"?parseFloat(k.amount):k.amount;return de+(F||0)},0))||0,re=H-q,Z=H>0?re/H*100:0;v({totalRevenue:H,netProfit:re,pendingPayments:G,growthRate:Z})}catch(R){t({title:"Erro ao carregar estatsticas",description:R.message||"Erro desconhecido",variant:"destructive"})}finally{r(!1)}};N.useEffect(()=>{_()},[]);const j=R=>{m(R)},A=()=>{p(!0)},E=()=>{x(!0)},T=()=>{w(!0)};return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4",initial:"hidden",animate:"visible",exit:"exit",variants:Cxt,children:[o.jsxs(nt.div,{className:"flex justify-between items-center",variants:Pd,children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Financeiro"}),f==="dashboard"&&o.jsxs(je,{onClick:_,disabled:e,variant:"outline",size:"sm",className:"gap-2",children:[o.jsx(Oo,{className:`h-4 w-4 ${e?"animate-spin":""}`}),"Atualizar dados"]}),f==="transactions"&&o.jsxs(je,{onClick:A,variant:"default",size:"sm",className:"gap-2",children:[o.jsx(ms,{className:"h-4 w-4"}),"Nova transao"]}),f==="categories"&&o.jsxs(je,{onClick:E,variant:"default",size:"sm",className:"gap-2",children:[o.jsx(ms,{className:"h-4 w-4"}),"Nova categoria"]}),f==="payment-methods"&&o.jsxs(je,{onClick:T,variant:"default",size:"sm",className:"gap-2",children:[o.jsx(ms,{className:"h-4 w-4"}),"Novo mtodo"]})]}),o.jsxs(ys,{value:f,onValueChange:j,className:"w-full",children:[o.jsxs(Di,{className:"grid grid-cols-4 w-full mb-4 overflow-auto",children:[o.jsxs(qt,{value:"dashboard",className:"flex gap-1 items-center",children:[o.jsx(TL,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:"Dashboard"})]}),o.jsxs(qt,{value:"transactions",className:"flex gap-1 items-center",children:[o.jsx(Ql,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:"Transaes"})]}),o.jsxs(qt,{value:"categories",className:"flex gap-1 items-center",children:[o.jsx(gy,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:"Categorias"})]}),o.jsxs(qt,{value:"payment-methods",className:"flex gap-1 items-center",children:[o.jsx(Sde,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden md:inline",children:"Pagamentos"})]})]}),o.jsxs(nr,{value:"dashboard",className:"mt-0",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 mb-6",children:[o.jsx(nt.div,{variants:Pd,children:o.jsxs(ot,{className:"bg-primary/5 border-primary/20",children:[o.jsx(Ot,{className:"pb-2",children:o.jsxs(It,{className:"text-sm font-medium flex items-center",children:[o.jsx(Ql,{className:"h-4 w-4 mr-2 text-primary"}),"Receita Total"]})}),o.jsx(lt,{children:o.jsx("div",{className:"text-xl md:text-2xl font-bold tabular-nums",children:e?"Carregando...":`R$ ${h.totalRevenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})})]})}),o.jsx(nt.div,{variants:Pd,children:o.jsxs(ot,{className:"bg-green-500/5 border-green-500/20",children:[o.jsx(Ot,{className:"pb-2",children:o.jsxs(It,{className:"text-sm font-medium flex items-center",children:[o.jsx(wde,{className:"h-4 w-4 mr-2 text-green-500"}),"Lucro Lquido"]})}),o.jsx(lt,{children:o.jsx("div",{className:"text-xl md:text-2xl font-bold tabular-nums",children:e?"Carregando...":`R$ ${h.netProfit.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})})]})}),o.jsx(nt.div,{variants:Pd,children:o.jsxs(ot,{className:"bg-amber-500/5 border-amber-500/20",children:[o.jsx(Ot,{className:"pb-2",children:o.jsxs(It,{className:"text-sm font-medium flex items-center",children:[o.jsx(_de,{className:"h-4 w-4 mr-2 text-amber-500"}),"Pagamentos Pendentes"]})}),o.jsx(lt,{children:o.jsx("div",{className:"text-xl md:text-2xl font-bold tabular-nums",children:e?"Carregando...":`R$ ${h.pendingPayments.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})})]})}),o.jsx(nt.div,{variants:Pd,children:o.jsxs(ot,{className:"bg-blue-500/5 border-blue-500/20",children:[o.jsx(Ot,{className:"pb-2",children:o.jsxs(It,{className:"text-sm font-medium flex items-center",children:[o.jsx(TL,{className:"h-4 w-4 mr-2 text-blue-500"}),"Taxa de Crescimento"]})}),o.jsx(lt,{children:o.jsx("div",{className:"text-xl md:text-2xl font-bold tabular-nums",children:e?"Carregando...":`${h.growthRate.toFixed(1)}%`})})]})})]}),o.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.jsx(nt.div,{variants:Pd,className:"min-h-[400px]",children:o.jsx(Ext,{})})})]}),o.jsx(nr,{value:"transactions",className:"mt-0",children:o.jsx(nt.div,{variants:Pd,children:o.jsx(Axt,{showAddButton:!1,externalOpenTrigger:g,onOpenAddDialog:()=>p(!1)})})}),o.jsx(nr,{value:"categories",className:"mt-0",children:o.jsx(nt.div,{variants:Pd,children:o.jsx(_xt,{showAddButton:!1,externalOpenTrigger:y,onOpenAddDialog:()=>x(!1)})})}),o.jsx(nr,{value:"payment-methods",className:"mt-0",children:o.jsx(nt.div,{variants:Pd,children:o.jsx(jxt,{showAddButton:!1,externalOpenTrigger:b,onOpenAddDialog:()=>w(!1)})})})]})]})})};var G6="Radio",[kxt,Xle]=Ju(G6),[Pxt,Dxt]=kxt(G6),Zle=N.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:s,value:l="on",onCheck:c,form:u,...d}=t,[f,m]=N.useState(null),h=Jn(e,p=>m(p)),v=N.useRef(!1),g=f?u||!!f.closest("form"):!0;return o.jsxs(Pxt,{scope:r,checked:a,disabled:s,children:[o.jsx(Sr.button,{type:"button",role:"radio","aria-checked":a,"data-state":tce(a),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:h,onClick:Er(t.onClick,p=>{a||c==null||c(),g&&(v.current=p.isPropagationStopped(),v.current||p.stopPropagation())})}),g&&o.jsx(ece,{control:f,bubbles:!v.current,name:n,value:l,checked:a,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});Zle.displayName=G6;var Qle="RadioIndicator",Jle=N.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=Dxt(Qle,r);return o.jsx(ed,{present:n||i.checked,children:o.jsx(Sr.span,{"data-state":tce(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});Jle.displayName=Qle;var Oxt="RadioBubbleInput",ece=N.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const s=N.useRef(null),l=Jn(s,i),c=iE(r),u=v3(e);return N.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const v=new Event("click",{bubbles:n});h.call(d,r),d.dispatchEvent(v)}},[c,r,n]),o.jsx(Sr.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ece.displayName=Oxt;function tce(t){return t?"checked":"unchecked"}var Ixt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nC="RadioGroup",[Mxt,Obt]=Ju(nC,[FA,Xle]),rce=FA(),nce=Xle(),[Rxt,Lxt]=Mxt(nC),ace=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:s=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=t,h=rce(r),v=LA(u),[g,p]=kh({prop:i,defaultProp:a??"",onChange:f,caller:nC});return o.jsx(Rxt,{scope:r,name:n,required:s,disabled:l,value:g,onValueChange:p,children:o.jsx(cq,{asChild:!0,...h,orientation:c,dir:v,loop:d,children:o.jsx(Sr.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...m,ref:e})})})});ace.displayName=nC;var ice="RadioGroupItem",sce=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=Lxt(ice,r),s=i.disabled||n,l=rce(r),c=nce(r),u=N.useRef(null),d=Jn(e,u),f=i.value===a.value,m=N.useRef(!1);return N.useEffect(()=>{const h=g=>{Ixt.includes(g.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",v)}},[]),o.jsx(uq,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(Zle,{disabled:s,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:Er(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Er(a.onFocus,()=>{var h;m.current&&((h=u.current)==null||h.click())})})})});sce.displayName=ice;var Fxt="RadioGroupIndicator",oce=N.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=nce(r);return o.jsx(Jle,{...a,...n,ref:e})});oce.displayName=Fxt;var lce=ace,cce=sce,$xt=oce;const uce=N.forwardRef(({className:t,...e},r)=>o.jsx(lce,{className:Ke("grid gap-2",t),...e,ref:r}));uce.displayName=lce.displayName;const l3=N.forwardRef(({className:t,...e},r)=>o.jsx(cce,{ref:r,className:Ke("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:o.jsx($xt,{className:"flex items-center justify-center",children:o.jsx(eG,{className:"h-2.5 w-2.5 fill-current text-current"})})}));l3.displayName=cce.displayName;const Pp=({maxStars:t=5,size:e="md",onRate:r,readonly:n=!1,initialRating:a=0})=>{const[i,s]=N.useState(a),[l,c]=N.useState(0),u={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-14 h-14"},d=f=>{n||(s(f),r&&r(f))};return o.jsx("div",{className:"flex flex-col items-center space-y-4",children:o.jsx("div",{className:"flex justify-center items-center gap-2 sm:gap-4",children:Array.from({length:t}).map((f,m)=>o.jsx("div",{className:Ke("cursor-pointer transition-transform flex items-center justify-center",n?"cursor-default":"hover:scale-110",i>=m+1||l>=m+1?"text-yellow-400":"text-gray-300",u[e]),onClick:()=>d(m+1),onMouseEnter:()=>!n&&c(m+1),onMouseLeave:()=>!n&&c(0),children:o.jsx(Io,{className:"w-full h-full fill-current stroke-[1.5]",strokeLinecap:"round",strokeLinejoin:"round"})},m))})})},Dp=({onRate:t,readonly:e=!1,initialRating:r=0,size:n="md",showOnlySelected:a=!1})=>{const[i,s]=N.useState(r),[l,c]=N.useState(0),u={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"},d=m=>{e||(s(m),t&&t(m))},f=[{svg:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#D10808"}),o.jsx("path",{d:"M8.5 15C8.5 15 10 13.5 12 13.5C14 13.5 15.5 15 15.5 15",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"}),o.jsx("path",{d:"M7.5 9.5L9.5 8.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"}),o.jsx("path",{d:"M7.5 8.5L9.5 9.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"}),o.jsx("path",{d:"M16.5 9.5L14.5 8.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"}),o.jsx("path",{d:"M16.5 8.5L14.5 9.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"})]}),label:"Pssimo"},{svg:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#EF4444"}),o.jsx("path",{d:"M8.5 16C8.5 16 10 14.5 12 14.5C14 14.5 15.5 16 15.5 16",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"}),o.jsx("circle",{cx:"9",cy:"9",r:"1.25",fill:"black"}),o.jsx("circle",{cx:"15",cy:"9",r:"1.25",fill:"black"})]}),label:"Ruim"},{svg:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#F59E0B"}),o.jsx("path",{d:"M8.5 15H15.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"}),o.jsx("circle",{cx:"9",cy:"9",r:"1.25",fill:"black"}),o.jsx("circle",{cx:"15",cy:"9",r:"1.25",fill:"black"})]}),label:"Regular"},{svg:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#FACC15"}),o.jsx("path",{d:"M8.5 14C8.5 14 10 16 12 16C14 16 15.5 14 15.5 14",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"}),o.jsx("circle",{cx:"9",cy:"9",r:"1.25",fill:"black"}),o.jsx("circle",{cx:"15",cy:"9",r:"1.25",fill:"black"})]}),label:"Bom"},{svg:o.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"#FACC15"}),o.jsx("path",{d:"M7.5 10C7.5 10 9 7.5 12 7.5C15 7.5 16.5 10 16.5 10",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round",transform:"rotate(180 12 12)"}),o.jsx("circle",{cx:"9",cy:"10",r:"1.25",fill:"black",transform:"rotate(180 9 10)"}),o.jsx("circle",{cx:"15",cy:"10",r:"1.25",fill:"black",transform:"rotate(180 15 10)"})]}),label:"Excelente"}];return o.jsx("div",{className:"flex flex-col items-center space-y-4",children:o.jsx("div",{className:"flex justify-center gap-2 sm:gap-4",children:f.filter((m,h)=>!a||h+1===i).map((m,h)=>{const v=a?i-1:h;return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:Ke("cursor-pointer transition-transform",e?"cursor-default":"hover:scale-110",i===v+1||l===v+1?"scale-105":"",u[n]),onClick:()=>d(v+1),onMouseEnter:()=>!e&&c(v+1),onMouseLeave:()=>!e&&c(0),children:m.svg}),!a&&o.jsx("span",{className:"text-xs mt-1 text-center font-medium"})]},v)})})})},Bxt=zl.object({title:zl.string().min(3,{message:"O ttulo deve ter pelo menos 3 caracteres"}),question:zl.string().min(5,{message:"A pergunta deve ter pelo menos 5 caracteres"}),ratingType:zl.enum(["stars","emojis"])}),Uxt=({onSubmit:t,isSubmitting:e=!1})=>{const[r,n]=N.useState("stars"),a=Vl({resolver:Hl(Bxt),defaultValues:{title:"",question:"Em uma escala de 1 a 5 estrelas, como voc avaliaria o nosso servio de atendimento?",ratingType:"stars"}}),i=s=>{t(s)};return o.jsx(ot,{children:o.jsx(lt,{className:"pt-6",children:o.jsx(Wl,{...a,children:o.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-6",children:[o.jsx(er,{control:a.control,name:"title",render:({field:s})=>o.jsxs(Zt,{children:[o.jsxs(Kt,{className:"flex items-center gap-1.5",children:["Nome da Pesquisa",o.jsx(pj,{children:o.jsxs(Ck,{children:[o.jsx(Tk,{asChild:!0,children:o.jsx(vk,{className:"h-3.5 w-3.5 text-muted-foreground"})}),o.jsx(gj,{children:o.jsx("p",{className:"w-[220px] text-xs",children:"Este nome ser usado internamente para identificar a pesquisa"})})]})})]}),o.jsx(tr,{children:o.jsx(mt,{placeholder:"Ex: Pesquisa de Satisfao de Atendimento",...s})}),o.jsx(sr,{})]})}),o.jsx(er,{control:a.control,name:"question",render:({field:s})=>o.jsxs(Zt,{children:[o.jsxs(Kt,{className:"flex items-center gap-1.5",children:["Pergunta da Pesquisa",o.jsx(pj,{children:o.jsxs(Ck,{children:[o.jsx(Tk,{asChild:!0,children:o.jsx(vk,{className:"h-3.5 w-3.5 text-muted-foreground"})}),o.jsx(gj,{children:o.jsx("p",{className:"w-[220px] text-xs",children:"Esta  a pergunta que ser exibida para os clientes responderem"})})]})})]}),o.jsx(tr,{children:o.jsx(li,{placeholder:"Digite a pergunta que deseja fazer aos seus clientes",className:"min-h-[80px]",...s})}),o.jsx(sr,{})]})}),o.jsx(er,{control:a.control,name:"ratingType",render:({field:s})=>o.jsxs(Zt,{className:"space-y-3",children:[o.jsx(Kt,{children:"Tipo de Avaliao"}),o.jsx(tr,{children:o.jsxs(uce,{onValueChange:l=>{s.onChange(l),n(l)},defaultValue:s.value,className:"flex flex-col gap-6",children:[o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(l3,{value:"stars",id:"stars"}),o.jsx(pt,{htmlFor:"stars",className:"font-normal cursor-pointer",children:"Estrelas"})]}),r==="stars"&&o.jsx("div",{className:"ml-6 p-2 border rounded-md bg-slate-50 dark:bg-slate-900",children:o.jsx(Pp,{size:"sm",readonly:!0})})]}),o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(l3,{value:"emojis",id:"emojis"}),o.jsx(pt,{htmlFor:"emojis",className:"font-normal cursor-pointer",children:"Emojis"})]}),r==="emojis"&&o.jsx("div",{className:"ml-6 p-2 border rounded-md bg-slate-50 dark:bg-slate-900",children:o.jsx(Dp,{size:"sm",readonly:!0})})]})]})}),o.jsx(sr,{})]})}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsxs(je,{type:"submit",disabled:e,children:[o.jsx(Tde,{className:"mr-2 h-4 w-4"}),e?"Criando...":"Gerar Pesquisa e Link"]})})]})})})})};var zxt=Object.defineProperty,IA=Object.getOwnPropertySymbols,dce=Object.prototype.hasOwnProperty,fce=Object.prototype.propertyIsEnumerable,wW=(t,e,r)=>e in t?zxt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c3=(t,e)=>{for(var r in e||(e={}))dce.call(e,r)&&wW(t,r,e[r]);if(IA)for(var r of IA(e))fce.call(e,r)&&wW(t,r,e[r]);return t},u3=(t,e)=>{var r={};for(var n in t)dce.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&IA)for(var n of IA(t))e.indexOf(n)<0&&fce.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ig;(t=>{const e=class Jr{constructor(c,u,d,f){if(this.version=c,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],c<Jr.MIN_VERSION||c>Jr.MAX_VERSION)throw new RangeError("Version value out of range");if(f<-1||f>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let m=[];for(let v=0;v<this.size;v++)m.push(!1);for(let v=0;v<this.size;v++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const h=this.addEccAndInterleave(d);if(this.drawCodewords(h),f==-1){let v=1e9;for(let g=0;g<8;g++){this.applyMask(g),this.drawFormatBits(g);const p=this.getPenaltyScore();p<v&&(f=g,v=p),this.applyMask(g)}}a(0<=f&&f<=7),this.mask=f,this.applyMask(f),this.drawFormatBits(f),this.isFunction=[]}static encodeText(c,u){const d=t.QrSegment.makeSegments(c);return Jr.encodeSegments(d,u)}static encodeBinary(c,u){const d=t.QrSegment.makeBytes(c);return Jr.encodeSegments([d],u)}static encodeSegments(c,u,d=1,f=40,m=-1,h=!0){if(!(Jr.MIN_VERSION<=d&&d<=f&&f<=Jr.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let v,g;for(v=d;;v++){const b=Jr.getNumDataCodewords(v,u)*8,w=s.getTotalBits(c,v);if(w<=b){g=w;break}if(v>=f)throw new RangeError("Data too long")}for(const b of[Jr.Ecc.MEDIUM,Jr.Ecc.QUARTILE,Jr.Ecc.HIGH])h&&g<=Jr.getNumDataCodewords(v,b)*8&&(u=b);let p=[];for(const b of c){r(b.mode.modeBits,4,p),r(b.numChars,b.mode.numCharCountBits(v),p);for(const w of b.getData())p.push(w)}a(p.length==g);const y=Jr.getNumDataCodewords(v,u)*8;a(p.length<=y),r(0,Math.min(4,y-p.length),p),r(0,(8-p.length%8)%8,p),a(p.length%8==0);for(let b=236;p.length<y;b^=253)r(b,8,p);let x=[];for(;x.length*8<p.length;)x.push(0);return p.forEach((b,w)=>x[w>>>3]|=b<<7-(w&7)),new Jr(v,u,x,m)}getModule(c,u){return 0<=c&&c<this.size&&0<=u&&u<this.size&&this.modules[u][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),u=c.length;for(let d=0;d<u;d++)for(let f=0;f<u;f++)d==0&&f==0||d==0&&f==u-1||d==u-1&&f==0||this.drawAlignmentPattern(c[d],c[f]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const u=this.errorCorrectionLevel.formatBits<<3|c;let d=u;for(let m=0;m<10;m++)d=d<<1^(d>>>9)*1335;const f=(u<<10|d)^21522;a(f>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,n(f,m));this.setFunctionModule(8,7,n(f,6)),this.setFunctionModule(8,8,n(f,7)),this.setFunctionModule(7,8,n(f,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,n(f,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,n(f,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,n(f,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let d=0;d<12;d++)c=c<<1^(c>>>11)*7973;const u=this.version<<12|c;a(u>>>18==0);for(let d=0;d<18;d++){const f=n(u,d),m=this.size-11+d%3,h=Math.floor(d/3);this.setFunctionModule(m,h,f),this.setFunctionModule(h,m,f)}}drawFinderPattern(c,u){for(let d=-4;d<=4;d++)for(let f=-4;f<=4;f++){const m=Math.max(Math.abs(f),Math.abs(d)),h=c+f,v=u+d;0<=h&&h<this.size&&0<=v&&v<this.size&&this.setFunctionModule(h,v,m!=2&&m!=4)}}drawAlignmentPattern(c,u){for(let d=-2;d<=2;d++)for(let f=-2;f<=2;f++)this.setFunctionModule(c+f,u+d,Math.max(Math.abs(f),Math.abs(d))!=1)}setFunctionModule(c,u,d){this.modules[u][c]=d,this.isFunction[u][c]=!0}addEccAndInterleave(c){const u=this.version,d=this.errorCorrectionLevel;if(c.length!=Jr.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const f=Jr.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],m=Jr.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],h=Math.floor(Jr.getNumRawDataModules(u)/8),v=f-h%f,g=Math.floor(h/f);let p=[];const y=Jr.reedSolomonComputeDivisor(m);for(let b=0,w=0;b<f;b++){let _=c.slice(w,w+g-m+(b<v?0:1));w+=_.length;const j=Jr.reedSolomonComputeRemainder(_,y);b<v&&_.push(0),p.push(_.concat(j))}let x=[];for(let b=0;b<p[0].length;b++)p.forEach((w,_)=>{(b!=g-m||_>=v)&&x.push(w[b])});return a(x.length==h),x}drawCodewords(c){if(c.length!=Math.floor(Jr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let f=0;f<this.size;f++)for(let m=0;m<2;m++){const h=d-m,g=(d+1&2)==0?this.size-1-f:f;!this.isFunction[g][h]&&u<c.length*8&&(this.modules[g][h]=n(c[u>>>3],7-(u&7)),u++)}}a(u==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let f;switch(c){case 0:f=(d+u)%2==0;break;case 1:f=u%2==0;break;case 2:f=d%3==0;break;case 3:f=(d+u)%3==0;break;case 4:f=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:f=d*u%2+d*u%3==0;break;case 6:f=(d*u%2+d*u%3)%2==0;break;case 7:f=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&f&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let c=0;for(let m=0;m<this.size;m++){let h=!1,v=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[m][p]==h?(v++,v==5?c+=Jr.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,g),h||(c+=this.finderPenaltyCountPatterns(g)*Jr.PENALTY_N3),h=this.modules[m][p],v=1);c+=this.finderPenaltyTerminateAndCount(h,v,g)*Jr.PENALTY_N3}for(let m=0;m<this.size;m++){let h=!1,v=0,g=[0,0,0,0,0,0,0];for(let p=0;p<this.size;p++)this.modules[p][m]==h?(v++,v==5?c+=Jr.PENALTY_N1:v>5&&c++):(this.finderPenaltyAddHistory(v,g),h||(c+=this.finderPenaltyCountPatterns(g)*Jr.PENALTY_N3),h=this.modules[p][m],v=1);c+=this.finderPenaltyTerminateAndCount(h,v,g)*Jr.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let h=0;h<this.size-1;h++){const v=this.modules[m][h];v==this.modules[m][h+1]&&v==this.modules[m+1][h]&&v==this.modules[m+1][h+1]&&(c+=Jr.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((h,v)=>h+(v?1:0),u);const d=this.size*this.size,f=Math.ceil(Math.abs(u*20-d*10)/d)-1;return a(0<=f&&f<=9),c+=f*Jr.PENALTY_N4,a(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let d=[6];for(let f=this.size-7;d.length<c;f-=u)d.splice(1,0,f);return d}}static getNumRawDataModules(c){if(c<Jr.MIN_VERSION||c>Jr.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*c+128)*c+64;if(c>=2){const d=Math.floor(c/7)+2;u-=(25*d-10)*d-55,c>=7&&(u-=36)}return a(208<=u&&u<=29648),u}static getNumDataCodewords(c,u){return Math.floor(Jr.getNumRawDataModules(c)/8)-Jr.ECC_CODEWORDS_PER_BLOCK[u.ordinal][c]*Jr.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let u=[];for(let f=0;f<c-1;f++)u.push(0);u.push(1);let d=1;for(let f=0;f<c;f++){for(let m=0;m<u.length;m++)u[m]=Jr.reedSolomonMultiply(u[m],d),m+1<u.length&&(u[m]^=u[m+1]);d=Jr.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(c,u){let d=u.map(f=>0);for(const f of c){const m=f^d.shift();d.push(0),u.forEach((h,v)=>d[v]^=Jr.reedSolomonMultiply(h,m))}return d}static reedSolomonMultiply(c,u){if(c>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let f=7;f>=0;f--)d=d<<1^(d>>>7)*285,d^=(u>>>f&1)*c;return a(d>>>8==0),d}finderPenaltyCountPatterns(c){const u=c[1];a(u<=this.size*3);const d=u>0&&c[2]==u&&c[3]==u*3&&c[4]==u&&c[5]==u;return(d&&c[0]>=u*4&&c[6]>=u?1:0)+(d&&c[6]>=u*4&&c[0]>=u?1:0)}finderPenaltyTerminateAndCount(c,u,d){return c&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(c,u){u[0]==0&&(c+=this.size),u.pop(),u.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(l,c,u){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let d=c-1;d>=0;d--)u.push(l>>>d&1)}function n(l,c){return(l>>>c&1)!=0}function a(l){if(!l)throw new Error("Assertion error")}const i=class Ia{constructor(c,u,d){if(this.mode=c,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(c){let u=[];for(const d of c)r(d,8,u);return new Ia(Ia.Mode.BYTE,c.length,u)}static makeNumeric(c){if(!Ia.isNumeric(c))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<c.length;){const f=Math.min(c.length-d,3);r(parseInt(c.substring(d,d+f),10),f*3+1,u),d+=f}return new Ia(Ia.Mode.NUMERIC,c.length,u)}static makeAlphanumeric(c){if(!Ia.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=c.length;d+=2){let f=Ia.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d))*45;f+=Ia.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d+1)),r(f,11,u)}return d<c.length&&r(Ia.ALPHANUMERIC_CHARSET.indexOf(c.charAt(d)),6,u),new Ia(Ia.Mode.ALPHANUMERIC,c.length,u)}static makeSegments(c){return c==""?[]:Ia.isNumeric(c)?[Ia.makeNumeric(c)]:Ia.isAlphanumeric(c)?[Ia.makeAlphanumeric(c)]:[Ia.makeBytes(Ia.toUtf8ByteArray(c))]}static makeEci(c){let u=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)r(c,8,u);else if(c<16384)r(2,2,u),r(c,14,u);else if(c<1e6)r(6,3,u),r(c,21,u);else throw new RangeError("ECI assignment value out of range");return new Ia(Ia.Mode.ECI,0,u)}static isNumeric(c){return Ia.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Ia.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,u){let d=0;for(const f of c){const m=f.mode.numCharCountBits(u);if(f.numChars>=1<<m)return 1/0;d+=4+m+f.bitData.length}return d}static toUtf8ByteArray(c){c=encodeURI(c);let u=[];for(let d=0;d<c.length;d++)c.charAt(d)!="%"?u.push(c.charCodeAt(d)):(u.push(parseInt(c.substring(d+1,d+3),16)),d+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=i;t.QrSegment=i})(ig||(ig={}));(t=>{(e=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(ig||(ig={}));(t=>{(e=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(ig||(ig={}));var M0=ig;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Vxt={L:M0.QrCode.Ecc.LOW,M:M0.QrCode.Ecc.MEDIUM,Q:M0.QrCode.Ecc.QUARTILE,H:M0.QrCode.Ecc.HIGH},hce=128,mce="L",pce="#FFFFFF",gce="#000000",vce=!1,yce=1,Hxt=4,Wxt=0,qxt=.1;function xce(t,e=0){const r=[];return t.forEach(function(n,a){let i=null;n.forEach(function(s,l){if(!s&&i!==null){r.push(`M${i+e} ${a+e}h${l-i}v1H${i+e}z`),i=null;return}if(l===n.length-1){if(!s)return;i===null?r.push(`M${l+e},${a+e} h1v1H${l+e}z`):r.push(`M${i+e},${a+e} h${l+1-i}v1H${i+e}z`);return}s&&i===null&&(i=l)})}),r.join("")}function bce(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((a,i)=>i<e.x||i>=e.x+e.w?a:!1))}function Gxt(t,e,r,n){if(n==null)return null;const a=t.length+r*2,i=Math.floor(e*qxt),s=a/e,l=(n.width||i)*s,c=(n.height||i)*s,u=n.x==null?t.length/2-l/2:n.x*s,d=n.y==null?t.length/2-c/2:n.y*s,f=n.opacity==null?1:n.opacity;let m=null;if(n.excavate){let v=Math.floor(u),g=Math.floor(d),p=Math.ceil(l+u-v),y=Math.ceil(c+d-g);m={x:v,y:g,w:p,h:y}}const h=n.crossOrigin;return{x:u,y:d,h:c,w:l,excavation:m,opacity:f,crossOrigin:h}}function Yxt(t,e){return e!=null?Math.max(Math.floor(e),0):t?Hxt:Wxt}function wce({value:t,level:e,minVersion:r,includeMargin:n,marginSize:a,imageSettings:i,size:s,boostLevel:l}){let c=W.useMemo(()=>{const v=(Array.isArray(t)?t:[t]).reduce((g,p)=>(g.push(...M0.QrSegment.makeSegments(p)),g),[]);return M0.QrCode.encodeSegments(v,Vxt[e],r,void 0,void 0,l)},[t,e,r,l]);const{cells:u,margin:d,numCells:f,calculatedImageSettings:m}=W.useMemo(()=>{let h=c.getModules();const v=Yxt(n,a),g=h.length+v*2,p=Gxt(h,s,v,i);return{cells:h,margin:v,numCells:g,calculatedImageSettings:p}},[c,s,i,n,a]);return{qrcode:c,margin:d,cells:u,numCells:f,calculatedImageSettings:m}}var Kxt=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Xxt=W.forwardRef(function(e,r){const n=e,{value:a,size:i=hce,level:s=mce,bgColor:l=pce,fgColor:c=gce,includeMargin:u=vce,minVersion:d=yce,boostLevel:f,marginSize:m,imageSettings:h}=n,g=u3(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=g,y=u3(g,["style"]),x=h==null?void 0:h.src,b=W.useRef(null),w=W.useRef(null),_=W.useCallback(L=>{b.current=L,typeof r=="function"?r(L):r&&(r.current=L)},[r]),[j,A]=W.useState(!1),{margin:E,cells:T,numCells:R,calculatedImageSettings:D}=wce({value:a,level:s,minVersion:d,boostLevel:f,includeMargin:u,marginSize:m,imageSettings:h,size:i});W.useEffect(()=>{if(b.current!=null){const L=b.current,V=L.getContext("2d");if(!V)return;let H=T;const q=w.current,G=D!=null&&q!==null&&q.complete&&q.naturalHeight!==0&&q.naturalWidth!==0;G&&D.excavation!=null&&(H=bce(T,D.excavation));const re=window.devicePixelRatio||1;L.height=L.width=i*re;const Z=i/R*re;V.scale(Z,Z),V.fillStyle=l,V.fillRect(0,0,R,R),V.fillStyle=c,Kxt?V.fill(new Path2D(xce(H,E))):T.forEach(function(de,k){de.forEach(function(F,B){F&&V.fillRect(B+E,k+E,1,1)})}),D&&(V.globalAlpha=D.opacity),G&&V.drawImage(q,D.x+E,D.y+E,D.w,D.h)}}),W.useEffect(()=>{A(!1)},[x]);const P=c3({height:i,width:i},p);let I=null;return x!=null&&(I=W.createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{A(!0)},ref:w,crossOrigin:D==null?void 0:D.crossOrigin})),W.createElement(W.Fragment,null,W.createElement("canvas",c3({style:P,height:i,width:i,ref:_,role:"img"},y)),I)});Xxt.displayName="QRCodeCanvas";var Sce=W.forwardRef(function(e,r){const n=e,{value:a,size:i=hce,level:s=mce,bgColor:l=pce,fgColor:c=gce,includeMargin:u=vce,minVersion:d=yce,boostLevel:f,title:m,marginSize:h,imageSettings:v}=n,g=u3(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:p,cells:y,numCells:x,calculatedImageSettings:b}=wce({value:a,level:s,minVersion:d,boostLevel:f,includeMargin:u,marginSize:h,imageSettings:v,size:i});let w=y,_=null;v!=null&&b!=null&&(b.excavation!=null&&(w=bce(y,b.excavation)),_=W.createElement("image",{href:v.src,height:b.h,width:b.w,x:b.x+p,y:b.y+p,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const j=xce(w,p);return W.createElement("svg",c3({height:i,width:i,viewBox:`0 0 ${x} ${x}`,ref:r,role:"img"},g),!!m&&W.createElement("title",null,m),W.createElement("path",{fill:l,d:`M0,0 h${x}v${x}H0z`,shapeRendering:"crispEdges"}),W.createElement("path",{fill:c,d:j,shapeRendering:"crispEdges"}),_)});Sce.displayName="QRCodeSVG";const SW=({surveyId:t,surveyTitle:e})=>{const[r,n]=N.useState(!1),[a,i]=N.useState(!1),l=`${window.location.origin}/s/${t}`,c=async()=>{try{await navigator.clipboard.writeText(l),n(!0),setTimeout(()=>n(!1),2e3)}catch(d){console.error("Falha ao copiar: ",d)}},u=async()=>{if(navigator.share)try{await navigator.share({title:`Pesquisa: ${e}`,text:"Por favor, participe da nossa pesquisa de satisfao",url:l})}catch(d){console.error("Erro ao compartilhar:",d)}else c()};return o.jsxs(ot,{className:"w-full",children:[o.jsxs(Ot,{children:[o.jsx(It,{className:"text-lg",children:"Link da Pesquisa"}),o.jsx(Nn,{children:"Compartilhe este link com seus clientes para coletar feedback"})]}),o.jsxs(lt,{className:"space-y-4",children:[o.jsxs(Sl,{className:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800",children:[o.jsx(Bs,{className:"h-4 w-4 text-green-500"}),o.jsx(nc,{className:"text-green-600 dark:text-green-400",children:"Pesquisa criada com sucesso!"}),o.jsxs(_l,{className:"text-green-600/80 dark:text-green-400/80",children:['Sua pesquisa "',e,'" foi criada e est pronta para ser compartilhada.']})]}),o.jsxs("div",{className:"flex flex-col space-y-3",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx(mt,{readOnly:!0,value:l,className:"flex-1 font-mono text-sm"}),o.jsxs(je,{size:"icon",variant:"outline",onClick:c,className:"flex-shrink-0 group",children:[r?o.jsx(Bs,{className:"h-4 w-4 text-green-500"}):o.jsx(UA,{className:"h-4 w-4 group-hover:hidden"}),o.jsx("span",{className:"hidden group-hover:inline text-xs",children:"Copiar"})]})]}),a&&o.jsx("div",{className:"flex justify-center p-4 bg-white rounded-md",children:o.jsx(Sce,{value:l,size:180,level:"M",includeMargin:!0})})]})]}),o.jsxs(Up,{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[o.jsxs(je,{variant:"outline",className:"w-full sm:w-auto",onClick:()=>i(!a),children:[o.jsx(Rde,{className:"mr-2 h-4 w-4"}),a?"Ocultar QR Code":"Mostrar QR Code"]}),o.jsxs(je,{className:"w-full sm:w-auto",onClick:u,children:[o.jsx(Fde,{className:"mr-2 h-4 w-4"}),"Compartilhar Link"]})]})]})},Zxt=({surveyId:t,surveyTitle:e,ratingType:r,onBack:n})=>{const[a,i]=N.useState([]),[s,l]=N.useState(!0),[c,u]=N.useState({averageScore:0,totalResponses:0,distribution:[0,0,0,0,0]}),{toast:d}=ga(),f=async()=>{try{l(!0);const p=await i1(),{data:y,error:x}=await p.from("survey_responses").select("*").eq("survey_id",t).order("created_at",{ascending:!1});if(x){console.error("Erro ao buscar respostas:",x),d({variant:"destructive",title:"Erro",description:"No foi possvel carregar as respostas."});return}if(i(y),y&&y.length>0){const b=y.length,_=y.reduce((A,E)=>A+E.score,0)/b,j=[0,0,0,0,0];y.forEach(A=>{A.score>=1&&A.score<=5&&j[A.score-1]++}),u({averageScore:parseFloat(_.toFixed(1)),totalResponses:b,distribution:j})}}catch(p){console.error("Erro:",p),d({variant:"destructive",title:"Erro",description:"Ocorreu um erro ao carregar as respostas."})}finally{l(!1)}};N.useEffect(()=>{f()},[t]);const m=p=>{try{return wr(new Date(p),"dd/MM/yyyy 's' HH:mm",{locale:Kn})}catch{return p}},h=()=>{try{if(a.length===0)return;const p=["ID","Data","Avaliao","Comentrio"],y=a.map(j=>[j.id,m(j.created_at),j.score,`"${(j.feedback||"").replace(/"/g,'""')}"`]),x=[p.join(","),...y.map(j=>j.join(","))].join(`
`),b=new Blob([x],{type:"text/csv;charset=utf-8;"}),w=URL.createObjectURL(b),_=document.createElement("a");_.setAttribute("href",w),_.setAttribute("download",`respostas-${e.toLowerCase().replace(/\s+/g,"-")}.csv`),_.click()}catch(p){console.error("Erro ao exportar CSV:",p),d({variant:"destructive",title:"Erro",description:"No foi possvel exportar as respostas."})}},v=p=>r==="stars"?o.jsx(Pp,{size:"sm",readonly:!0,initialRating:p,maxStars:p}):o.jsx(Dp,{size:"sm",readonly:!0,initialRating:p,showOnlySelected:!0}),g=(p,y)=>{const x=y>0?p/y*100:0;return o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:o.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${x}%`}})})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:n,className:"mb-2",children:[o.jsx(BA,{className:"h-4 w-4 mr-1"}),"Voltar"]}),o.jsxs("h3",{className:"text-xl font-medium",children:["Respostas: ",e]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:f,disabled:s,children:[o.jsx(Oo,{className:`h-4 w-4 mr-1 ${s?"animate-spin":""}`}),"Atualizar"]}),o.jsxs(je,{variant:"outline",size:"sm",onClick:h,disabled:a.length===0||s,children:[o.jsx(tG,{className:"h-4 w-4 mr-1"}),"Exportar CSV"]})]})]}),s?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(p=>o.jsxs(ot,{children:[o.jsx(Ot,{className:"pb-2",children:o.jsx(Gn,{className:"h-4 w-32"})}),o.jsxs(lt,{children:[o.jsx(Gn,{className:"h-8 w-20 mb-2"}),o.jsx(Gn,{className:"h-3 w-full"})]})]},p))}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs(ot,{children:[o.jsx(Ot,{className:"pb-2",children:o.jsx(It,{children:"Avaliao Mdia"})}),o.jsxs(lt,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-3xl font-bold",children:c.averageScore}),o.jsx("div",{className:"mt-1",children:v(Math.round(c.averageScore))})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Baseado em ",c.totalResponses," resposta(s)"]})]})]}),o.jsxs(ot,{children:[o.jsx(Ot,{className:"pb-2",children:o.jsx(It,{children:"Distribuio"})}),o.jsx(lt,{className:"space-y-2",children:[5,4,3,2,1].map(p=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 text-sm",children:p}),o.jsx("div",{className:"flex-1",children:g(c.distribution[p-1],c.totalResponses)}),o.jsx("div",{className:"w-8 text-sm text-right",children:c.distribution[p-1]})]},p))})]}),o.jsxs(ot,{children:[o.jsx(Ot,{className:"pb-2",children:o.jsx(It,{children:"Total de Respostas"})}),o.jsxs(lt,{children:[o.jsx("p",{className:"text-3xl font-bold",children:c.totalResponses}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:c.totalResponses===0?"Nenhuma resposta ainda":c.totalResponses===1?"1 resposta recebida":`${c.totalResponses} respostas recebidas`})]})]})]}),o.jsxs(ot,{children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Todas as Respostas"}),o.jsx(Nn,{children:"Lista completa de todas as respostas recebidas para esta pesquisa"})]}),o.jsx(lt,{children:s?o.jsxs("div",{className:"space-y-2",children:[o.jsx(Gn,{className:"h-8 w-full"}),o.jsx(Gn,{className:"h-8 w-full"}),o.jsx(Gn,{className:"h-8 w-full"})]}):a.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma resposta encontrada para esta pesquisa."}):o.jsxs("div",{className:"rounded-md border",children:[o.jsx("div",{className:"hidden sm:block",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{className:"w-[200px]",children:"Data"}),o.jsx(wt,{className:"w-[200px] text-center",children:"Avaliao"}),o.jsx(wt,{className:"min-w-[300px]",children:"Comentrio"})]})}),o.jsx(di,{children:a.map(p=>o.jsxs(dr,{children:[o.jsx(ct,{className:"whitespace-nowrap font-medium",children:m(p.created_at)}),o.jsx(ct,{children:o.jsx("div",{className:"flex justify-center items-center min-h-[40px]",children:r==="stars"?o.jsx("div",{className:"-ml-1",children:o.jsx(Pp,{size:"sm",readonly:!0,initialRating:p.score,maxStars:p.score})}):o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Dp,{size:"sm",readonly:!0,initialRating:p.score,showOnlySelected:!0})})})}),o.jsx(ct,{children:o.jsx("div",{className:"text-sm text-muted-foreground min-h-[40px] py-2",children:p.feedback||"Sem comentrios"})})]},p.id))})]})}),o.jsxs("div",{className:"sm:hidden divide-y",children:[a.map(p=>o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("div",{className:"flex flex-col",children:o.jsx("span",{className:"text-sm font-medium",children:m(p.created_at)})}),o.jsx("div",{children:r==="stars"?o.jsx("div",{className:"-ml-1",children:o.jsx(Pp,{size:"sm",readonly:!0,initialRating:p.score,maxStars:p.score})}):o.jsx("div",{className:"flex flex-col items-center",children:o.jsx(Dp,{size:"sm",readonly:!0,initialRating:p.score,showOnlySelected:!0})})})]}),p.feedback&&o.jsx("div",{className:"text-sm text-muted-foreground",children:p.feedback})]},p.id)),a.length===0&&o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma resposta encontrada para esta pesquisa."})]})]})})]})]})},Qxt={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.3,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,transition:{duration:.2}}},_W={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}}},Jxt=()=>{const[t,e]=N.useState("surveys"),[r,n]=N.useState(!1),[a,i]=N.useState([]),[s,l]=N.useState(!1),[c,u]=N.useState(null),[d,f]=N.useState(!1),[m,h]=N.useState(null),[v,g]=N.useState(!1),{toast:p}=ga(),y=async()=>{try{l(!0);const P=await i1(),{data:I,error:L}=await P.from("satisfaction_surveys").select("*").order("created_at",{ascending:!1});if(L){console.error("Erro ao buscar pesquisas:",L);const{data:H,error:q}=await ye.from("satisfaction_surveys").select("*").order("created_at",{ascending:!1});if(q){console.error("Erro no fallback:",q),p({variant:"destructive",title:"Erro",description:"No foi possvel carregar as pesquisas. Verifique se voc tem permisses adequadas."});return}const G=await Promise.all(H.map(async re=>{const{count:Z,error:de}=await ye.from("survey_responses").select("*",{count:"exact"}).eq("survey_id",re.id);return{...re,response_count:de?0:Z||0}}));i(G),l(!1);return}const V=await Promise.all(I.map(async H=>{const{count:q,error:G}=await P.from("survey_responses").select("*",{count:"exact"}).eq("survey_id",H.id);return{...H,response_count:G?0:q||0}}));i(V)}catch(P){console.error("Erro:",P),p({variant:"destructive",title:"Erro",description:"Ocorreu um erro ao carregar as pesquisas."})}finally{l(!1)}};N.useEffect(()=>{y()},[]);const x=()=>{n(!0),e("surveys")},b=()=>{n(!1),u(null)},w=async P=>{try{f(!0);const I=await i1(),{data:L,error:V}=await I.from("satisfaction_surveys").insert({title:P.title,question:P.question,rating_type:P.ratingType,active:!0}).select().single();if(V){console.error("Erro ao criar pesquisa:",V),p({variant:"destructive",title:"Erro",description:"No foi possvel criar a pesquisa. Tente novamente."});return}p({title:"Sucesso!",description:"Pesquisa criada com sucesso."}),u(L),y()}catch(I){console.error("Erro:",I),p({variant:"destructive",title:"Erro",description:"Ocorreu um erro ao criar a pesquisa."})}finally{f(!1)}},_=async P=>{try{const I=await i1();await I.from("survey_responses").delete().eq("survey_id",P);const{error:L}=await I.from("satisfaction_surveys").delete().eq("id",P);if(L){console.error("Erro ao excluir pesquisa:",L),p({variant:"destructive",title:"Erro",description:"No foi possvel excluir a pesquisa."});return}p({title:"Pesquisa excluda",description:"A pesquisa foi excluda com sucesso."}),y()}catch(I){console.error("Erro:",I),p({variant:"destructive",title:"Erro",description:"Ocorreu um erro ao excluir a pesquisa."})}},j=async(P,I)=>{try{const L=await i1(),{error:V}=await L.from("satisfaction_surveys").update({active:!I}).eq("id",P);if(V){console.error("Erro ao atualizar status da pesquisa:",V),p({variant:"destructive",title:"Erro",description:"No foi possvel atualizar o status da pesquisa."});return}p({title:"Status atualizado",description:`Pesquisa ${I?"desativada":"ativada"} com sucesso.`}),y()}catch(L){console.error("Erro:",L),p({variant:"destructive",title:"Erro",description:"Ocorreu um erro ao atualizar o status da pesquisa."})}},A=async P=>{try{const I=`${window.location.origin}/s/${P}`;await navigator.clipboard.writeText(I),p({title:"Link copiado!",description:"O link da pesquisa foi copiado para a rea de transferncia."})}catch(I){console.error("Erro ao copiar:",I),p({variant:"destructive",title:"Erro",description:"No foi possvel copiar o link."})}},E=P=>{try{return wr(new Date(P),"dd/MM/yyyy 's' HH:mm",{locale:Kn})}catch{return P}},T=P=>{h(P),g(!0),e("reports")},R=()=>{g(!1),h(null)},D=()=>s?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):a.length===0?o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-4 sm:p-6 text-center",children:[o.jsx(dj,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhuma pesquisa criada"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Crie sua primeira pesquisa de satisfao para coletar feedback dos seus clientes."}),o.jsxs(je,{variant:"outline",onClick:x,children:[o.jsx(ms,{className:"mr-2 h-4 w-4"}),"Criar Pesquisa"]})]}):o.jsx("div",{className:"rounded-md border",children:o.jsxs(ci,{children:[o.jsx(ui,{children:o.jsxs(dr,{children:[o.jsx(wt,{className:"w-[200px] lg:w-[300px]",children:"Nome"}),o.jsx(wt,{className:"hidden sm:table-cell",children:"Tipo"}),o.jsx(wt,{children:"Respostas"}),o.jsx(wt,{className:"hidden md:table-cell",children:"Status"}),o.jsx(wt,{className:"hidden lg:table-cell",children:"Criado em"}),o.jsx(wt,{className:"text-right",children:"Aes"})]})}),o.jsx(di,{children:a.map(P=>o.jsxs(dr,{children:[o.jsx(ct,{className:"font-medium",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[o.jsx("div",{className:"truncate w-[180px] lg:w-[280px]",title:P.title,children:P.title}),o.jsx("div",{className:"sm:hidden",children:P.rating_type==="stars"?o.jsx(Pp,{size:"sm",readonly:!0,initialRating:1,maxStars:1}):o.jsx(Dp,{size:"sm",readonly:!0,initialRating:5,showOnlySelected:!0})})]})}),o.jsx(ct,{className:"hidden sm:table-cell",children:o.jsx("div",{className:"flex items-center justify-center",children:P.rating_type==="stars"?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pp,{size:"sm",readonly:!0,initialRating:1,maxStars:1}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Estrelas"})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dp,{size:"sm",readonly:!0,initialRating:5,showOnlySelected:!0}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Emojis"})]})})}),o.jsx(ct,{children:o.jsxs(je,{variant:"ghost",size:"sm",className:"h-8 pl-0",onClick:()=>T(P),disabled:!P.response_count,children:[o.jsx("span",{className:"mr-1",children:P.response_count||0}),P.response_count?o.jsx(Gc,{className:"h-3.5 w-3.5"}):null]})}),o.jsx(ct,{className:"hidden md:table-cell",children:o.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P.active?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}`,children:P.active?"Ativa":"Inativa"})}),o.jsx(ct,{className:"hidden lg:table-cell",children:E(P.created_at)}),o.jsx(ct,{className:"text-right",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsxs(wi,{children:[o.jsx(wh,{asChild:!0,children:o.jsx(je,{variant:"outline",size:"icon",className:"h-8 w-8",children:o.jsx(kde,{className:"h-4 w-4"})})}),o.jsxs(ai,{children:[o.jsx(ii,{children:o.jsx(si,{children:"Link da Pesquisa"})}),o.jsx(SW,{surveyId:P.id,surveyTitle:P.title})]})]}),o.jsxs(vm,{children:[o.jsx(ym,{asChild:!0,children:o.jsxs(je,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[o.jsx("span",{className:"sr-only",children:"Abrir menu"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[o.jsx("circle",{cx:"12",cy:"12",r:"1"}),o.jsx("circle",{cx:"12",cy:"5",r:"1"}),o.jsx("circle",{cx:"12",cy:"19",r:"1"})]})]})}),o.jsxs(yf,{align:"end",className:"w-[200px]",children:[o.jsxs(Aa,{onClick:()=>A(P.id),children:[o.jsx(UA,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Copiar link"})]}),o.jsxs(Aa,{onClick:()=>T(P),disabled:!P.response_count,children:[o.jsx(Gc,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Ver respostas"})]}),o.jsxs(Aa,{onClick:()=>j(P.id,P.active),children:[o.jsx(Bs,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:P.active?"Desativar":"Ativar"})]}),o.jsxs(Aa,{className:"text-destructive focus:text-destructive",onClick:()=>_(P.id),children:[o.jsx(yn,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:"Excluir"})]})]})]})]})})]},P.id))})]})});return o.jsx(gs,{children:o.jsxs(nt.div,{className:"space-y-4 px-4 sm:px-6 lg:px-8",initial:"hidden",animate:"visible",exit:"exit",variants:Qxt,children:[o.jsxs(nt.div,{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0",variants:_W,children:[o.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[r||c?o.jsx(je,{variant:"outline",size:"icon",onClick:b,className:"mr-2",children:o.jsx(yl,{size:16})}):null,o.jsx("h1",{className:"text-xl sm:text-2xl font-bold truncate",children:r?"Nova Pesquisa de Satisfao":c?"Pesquisa Criada":"Pesquisa de Satisfao"})]}),!r&&!c&&o.jsxs(je,{onClick:x,className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[o.jsx(ms,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Nova Pesquisa"}),o.jsx("span",{className:"sm:hidden",children:"Nova"})]})]}),o.jsx(Gi,{mode:"wait",children:r?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:o.jsx(Uxt,{onSubmit:w,isSubmitting:d})},"create-form"):c?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:o.jsx(SW,{surveyId:c.id,surveyTitle:c.title})},"link-generator"):o.jsx(nt.div,{variants:_W,className:"w-full",children:o.jsxs(ot,{className:"w-full",children:[o.jsx(Ot,{children:o.jsx(It,{children:"Gerenciamento de Pesquisas"})}),o.jsx(lt,{children:o.jsxs(ys,{defaultValue:t,className:"w-full",onValueChange:e,value:t,children:[o.jsxs(Di,{className:"grid w-full grid-cols-2 mb-6",children:[o.jsxs(qt,{value:"surveys",className:"flex items-center justify-center gap-2",children:[o.jsx(dj,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Pesquisas"})]}),o.jsxs(qt,{value:"reports",className:"flex items-center justify-center gap-2",children:[o.jsx(bh,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Relatrios"})]})]}),o.jsx(nr,{value:"surveys",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("p",{className:"text-muted-foreground",children:"Gerencie suas pesquisas de satisfao. Crie, edite e visualize resultados."}),D()]})}),o.jsx(nr,{value:"reports",children:o.jsx("div",{className:"space-y-4",children:v&&m?o.jsx(Zxt,{surveyId:m.id,surveyTitle:m.title,ratingType:m.rating_type,onBack:R}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-muted-foreground",children:"Visualize e analise os resultados das suas pesquisas."}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900 rounded-lg p-4 sm:p-6 text-center",children:[o.jsx(bh,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Selecione uma pesquisa para ver os resultados"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:'Clique no boto "Ver respostas" em uma pesquisa para visualizar seus dados.'}),o.jsx(je,{variant:"outline",onClick:()=>e("surveys"),children:"Ver lista de pesquisas"})]})]})})})]})})]})},"survey-main")})]})})},e1t={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,when:"beforeChildren",staggerChildren:.1}}},D_={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},t1t=()=>{const{id:t}=Eq(),e=Ki(),[r,n]=N.useState(null),[a,i]=N.useState(0),[s,l]=N.useState(""),[c,u]=N.useState(!0),[d,f]=N.useState(!1),[m,h]=N.useState(!1),[v,g]=N.useState(null);N.useEffect(()=>{(async()=>{try{if(u(!0),!t){g("ID da pesquisa no encontrado");return}const{data:b,error:w}=await ye.from("satisfaction_surveys").select("*").eq("id",t).eq("active",!0).single();if(w){console.error("Erro ao buscar pesquisa:",w),g("Pesquisa no encontrada ou indisponvel");return}n(b)}catch(b){console.error("Erro:",b),g("Ocorreu um erro ao carregar a pesquisa")}finally{u(!1)}})()},[t]);const p=x=>{i(x)},y=async()=>{if(a===0){L_({variant:"destructive",title:"Avaliao obrigatria",description:"Por favor, selecione uma avaliao antes de enviar."});return}try{f(!0);const{error:x}=await ye.from("survey_responses").insert({survey_id:t,responses:{rating:a},score:a,feedback:s||null});if(x){console.error("Erro ao enviar resposta:",x),L_({variant:"destructive",title:"Erro ao enviar",description:"No foi possvel registrar sua avaliao. Tente novamente."});return}h(!0),i(0),l("")}catch(x){console.error("Erro:",x),L_({variant:"destructive",title:"Erro ao enviar",description:"Ocorreu um problema ao processar sua avaliao."})}finally{f(!1)}};return c?o.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-slate-50",children:[o.jsx(_a,{className:"h-8 w-8 text-primary animate-spin mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Carregando pesquisa..."})]}):v||!r?o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-slate-50",children:o.jsxs("div",{className:"max-w-md w-full bg-white p-6 rounded-lg shadow-sm text-center",children:[o.jsx("h1",{className:"text-xl font-semibold text-destructive mb-4",children:v||"Pesquisa no encontrada"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"No foi possvel encontrar a pesquisa solicitada. Ela pode ter sido removida ou o link est incorreto."}),o.jsx(je,{variant:"outline",onClick:()=>e("/"),children:"Voltar para a pgina inicial"})]})}):m?o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-slate-50",children:o.jsxs(nt.div,{className:"max-w-md w-full bg-white p-6 rounded-lg shadow-sm text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[o.jsx(nt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},children:o.jsx(Vde,{className:"h-16 w-16 text-green-500 mx-auto mb-4"})}),o.jsx("h1",{className:"text-2xl font-bold text-green-600 mb-2",children:"Obrigado pelo seu feedback!"}),o.jsx("p",{className:"text-muted-foreground mb-6",children:"Sua avaliao  muito importante para melhorarmos nossos servios."}),o.jsxs(je,{className:"w-full",onClick:()=>h(!1),children:[o.jsx(Ade,{className:"mr-2 h-4 w-4"}),"Enviar outra avaliao"]})]})}):o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-slate-50",children:o.jsxs(nt.div,{className:"max-w-md w-full bg-white p-6 rounded-lg shadow-sm",variants:e1t,initial:"hidden",animate:"visible",children:[o.jsx(nt.h1,{className:"text-2xl font-bold text-center mb-6",variants:D_,children:"Pesquisa de Satisfao"}),o.jsxs(nt.div,{className:"text-center mb-8",variants:D_,children:[o.jsx("h2",{className:"text-xl font-medium mb-6",children:r.question}),o.jsx("div",{className:"mb-8",children:r.rating_type==="stars"?o.jsx(Pp,{size:"lg",onRate:p,initialRating:a}):o.jsx(Dp,{size:"lg",onRate:p,initialRating:a})}),o.jsxs(nt.div,{className:"space-y-4",variants:D_,children:[o.jsx("h3",{className:"text-sm font-medium text-left",children:"Comentrios adicionais (opcional):"}),o.jsx(li,{placeholder:"Compartilhe sua experincia ou sugestes...",value:s,onChange:x=>l(x.target.value),className:"w-full min-h-[120px] resize-none"})]})]}),o.jsx(nt.div,{variants:D_,children:o.jsx(je,{className:"w-full",onClick:y,disabled:d||a===0,children:d?o.jsxs(o.Fragment,{children:[o.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(uh,{className:"mr-2 h-4 w-4"}),"Enviar Avaliao"]})})})]})})},r1t=()=>{const t=ac();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center max-w-md px-6 animate-fade-in",children:[o.jsx("h1",{className:"text-9xl font-bold text-primary/20",children:"404"}),o.jsx("h2",{className:"text-2xl font-bold mt-6 mb-2",children:"Pgina no encontrada"}),o.jsx("p",{className:"text-muted-foreground mb-8",children:"A pgina que voc est procurando no existe ou foi movida."}),o.jsxs("a",{href:"/",className:"inline-flex items-center justify-center px-5 py-2.5 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:[o.jsx(yl,{className:"w-4 h-4 mr-2"}),"Voltar para o Incio"]})]})})};function _ce({items:t}){return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden",children:o.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-t border-gray-200 shadow-lg",children:o.jsx("div",{className:"flex justify-around items-center",children:t.map((e,r)=>o.jsxs("button",{onClick:e.onClick,className:Ke("flex flex-col items-center justify-center py-3 px-4 transition-colors",e.isActive?"text-primary":"text-gray-600 hover:text-primary"),children:[e.icon,o.jsx("span",{className:"text-xs mt-1",children:e.label})]},r))})})})}function jW({onToggleMode:t,isRegistrationEnabled:e}){var v,g;const[r,n]=N.useState(""),[a,i]=N.useState(""),[s,l]=N.useState(!1),{login:c}=lu(),u=Ki(),d=ac(),{settings:f}=rd(),m=((g=(v=d.state)==null?void 0:v.from)==null?void 0:g.pathname)||"/dashboard",h=async p=>{p.preventDefault(),l(!0);try{await c(r,a),u(m,{replace:!0})}catch(y){console.error("Login submission error:",y)}finally{l(!1)}};return o.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full",children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-gray-100 shadow-xl",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold",style:{color:f.primaryColor,fontFamily:f.headingFontFamily},children:"Acessar conta"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Insira suas credenciais para continuar"})]}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-700 custom-font",style:{fontFamily:f.fontFamily},children:"E-mail"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:[o.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),o.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),o.jsx("input",{id:"email",type:"email",value:r,onChange:p=>n(p.target.value),className:"flex h-10 w-full rounded-md border border-slate-300 bg-white pl-10 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus:border-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-500 disabled:cursor-not-allowed disabled:opacity-50 custom-font",placeholder:"E-mail",required:!0,style:{fontFamily:f.fontFamily},autoComplete:"email"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-700 custom-font",style:{fontFamily:f.fontFamily},children:"Senha"})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),o.jsx("input",{id:"password",type:"password",value:a,onChange:p=>i(p.target.value),className:"flex h-10 w-full rounded-md border border-slate-300 bg-white pl-10 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus:border-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-500 disabled:cursor-not-allowed disabled:opacity-50 custom-font",placeholder:"Senha",required:!0,style:{fontFamily:f.fontFamily},autoComplete:"current-password"})]})]}),o.jsx("button",{type:"submit",disabled:s,className:Ke("w-full inline-flex items-center justify-center rounded-md px-4 py-2.5 text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 custom-font custom-button-primary",s?"opacity-70":""),style:{fontFamily:f.fontFamily,backgroundColor:f.primaryColor||"#6366f1",borderColor:f.primaryColor||"#6366f1"},children:s?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-r-transparent"}),"Entrando..."]}):"Entrar"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-500",children:["No tem uma conta?"," ",e?o.jsx("button",{type:"button",onClick:t,className:"font-medium hover:opacity-80 transition-opacity",style:{color:f.primaryColor},children:"Criar conta"}):o.jsx("span",{className:"text-gray-400",children:"Registro desativado"})]})})]})})}function NW({onToggleMode:t}){const[e,r]=N.useState(""),[n,a]=N.useState(""),[i,s]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(!1),{signup:f}=lu(),{settings:m}=rd(),h=async v=>{v.preventDefault(),d(!0);try{if(n!==l)throw new Error("As senhas no coincidem");await f(i,e,n),t()}catch(g){console.error("Registro submission error:",g)}finally{d(!1)}};return o.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full",children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-gray-100 shadow-xl",children:[o.jsxs("div",{className:"relative text-center mb-6",children:[o.jsxs("button",{type:"button",onClick:t,className:"absolute top-0 left-0 text-sm font-medium hover:opacity-80 transition-opacity flex items-center gap-2",style:{color:m.primaryColor},"aria-label":"Voltar para Login",children:[o.jsx(yl,{className:"h-5 w-5"}),"Voltar"]}),o.jsx("h2",{className:"text-2xl font-bold",style:{color:m.primaryColor,fontFamily:m.headingFontFamily},children:"Criar uma conta"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Preencha seus dados para comear"})]}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-slate-700 custom-font",style:{fontFamily:m.fontFamily},children:"Nome completo"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),o.jsx("input",{id:"name",type:"text",value:i,onChange:v=>s(v.target.value),className:"flex h-10 w-full rounded-md border border-slate-300 bg-white pl-10 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus:border-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-500 disabled:cursor-not-allowed disabled:opacity-50 custom-font",placeholder:"Seu nome completo",required:!0,style:{fontFamily:m.fontFamily},autoComplete:"name"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-700 custom-font",style:{fontFamily:m.fontFamily},children:"E-mail"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:[o.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),o.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),o.jsx("input",{id:"email",type:"email",value:e,onChange:v=>r(v.target.value),className:"flex h-10 w-full rounded-md border border-slate-300 bg-white pl-10 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus:border-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-500 disabled:cursor-not-allowed disabled:opacity-50 custom-font",placeholder:"E-mail",required:!0,style:{fontFamily:m.fontFamily},autoComplete:"email"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-700 custom-font",style:{fontFamily:m.fontFamily},children:"Senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),o.jsx("input",{id:"password",type:"password",value:n,onChange:v=>a(v.target.value),className:"flex h-10 w-full rounded-md border border-slate-300 bg-white pl-10 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus:border-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-500 disabled:cursor-not-allowed disabled:opacity-50 custom-font",placeholder:"Senha",required:!0,style:{fontFamily:m.fontFamily},autoComplete:"new-password"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-slate-700 custom-font",style:{fontFamily:m.fontFamily},children:"Confirme a senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),o.jsx("input",{id:"confirmPassword",type:"password",value:l,onChange:v=>c(v.target.value),className:"flex h-10 w-full rounded-md border border-slate-300 bg-white pl-10 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-400 focus:border-gray-500 focus:outline-none focus:ring-1 focus:ring-gray-500 disabled:cursor-not-allowed disabled:opacity-50 custom-font",placeholder:"Confirme a senha",required:!0,style:{fontFamily:m.fontFamily},autoComplete:"new-password"})]})]}),o.jsx("button",{type:"submit",disabled:u,className:Ke("w-full inline-flex items-center justify-center rounded-md px-4 py-2.5 text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 custom-font custom-button-primary",u?"opacity-70":""),style:{fontFamily:m.fontFamily,backgroundColor:m.primaryColor||"#6366f1",borderColor:m.primaryColor||"#6366f1"},children:u?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-r-transparent"}),"Criando conta..."]}):"Criar conta"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-500",children:["J tem uma conta?"," ",o.jsx("button",{type:"button",onClick:t,className:"font-medium hover:opacity-80 transition-opacity",style:{color:m.primaryColor},children:"Fazer login"})]})})]})})}const n1t=[{icon:o.jsx(nn,{className:"h-6 w-6"}),title:"Agendamento Simplificado",description:"Gerencie seus horrios de forma eficiente"},{icon:o.jsx(xl,{className:"h-6 w-6"}),title:"Gesto de Clientes",description:"Mantenha seus clientes organizados"},{icon:o.jsx(my,{className:"h-6 w-6"}),title:"Controle de Servios",description:"Administre seus servios facilmente"},{icon:o.jsx(Us,{className:"h-6 w-6"}),title:"Relatrios Detalhados",description:"Acompanhe seu desempenho"}];function AW(){const{settings:t}=rd();return o.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full space-y-8 px-4 mb-20",children:[o.jsxs("div",{className:"md:hidden space-y-4 text-center",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight",style:{color:t.primaryColor,fontFamily:t.headingFontFamily},children:"Bem-vindo ao Sistema"}),o.jsx("p",{className:"text-base text-gray-600",children:"Gerencie seus agendamentos de forma profissional"})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:n1t.map((e,r)=>o.jsx(nt.div,{className:"p-4 rounded-xl bg-white/50 backdrop-blur-sm border border-gray-100 shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${t.primaryColor}15`},children:o.jsx("div",{style:{color:t.primaryColor},children:e.icon})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),o.jsx("p",{className:"text-sm text-gray-500",children:e.description})]})]})},r))})]})}const a1t=()=>{const[t,e]=N.useState(!1),{isRegistrationEnabled:r}=lu(),n=Ki(),{settings:a,isLoading:i,applyCustomStyles:s,settingsLoaded:l}=rd(),[c,u]=N.useState(""),[d,f]=N.useState("benefits"),[m,h]=N.useState("");N.useEffect(()=>{l&&(s(),a.siteTitle&&(document.title=a.siteTitle),document.body.style.fontFamily=a.fontFamily,document.body.style.fontSize=a.fontSize)},[s,a,l]),N.useEffect(()=>{(async()=>{try{const{data:x,error:b}=await ye.from("customization").select("footer_text").single();if(b){console.error("Erro ao buscar texto do footer:",b),u(` ${new Date().getFullYear()} Agenda Pro - Todos os direitos reservados`);return}u((x==null?void 0:x.footer_text)||` ${new Date().getFullYear()} Agenda Pro - Todos os direitos reservados`)}catch(x){console.error("Erro ao carregar texto do footer:",x),u(` ${new Date().getFullYear()} Agenda Pro - Todos os direitos reservados`)}})()},[]),N.useEffect(()=>{const y=()=>{window.innerWidth>=768&&f("benefits")};return window.addEventListener("resize",y),y(),()=>window.removeEventListener("resize",y)},[]),N.useEffect(()=>{(async()=>{try{const{data:x,error:b}=await ye.from("business_data").select("trading_name").single();if(b){console.error("Erro ao buscar nome do estabelecimento:",b);return}x!=null&&x.trading_name&&h(x.trading_name)}catch(x){console.error("Erro ao carregar nome do estabelecimento:",x)}})()},[]);const v=()=>{e(!t),window.innerWidth<768&&f(t?"login":"register")},g={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}},p=()=>{if(typeof window<"u"&&window.innerWidth<768)switch(d){case"login":return o.jsx(jW,{onToggleMode:v,isRegistrationEnabled:r});case"register":return o.jsx(NW,{onToggleMode:v});default:return o.jsx(AW,{})}return o.jsx("div",{className:"w-full max-w-6xl",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-12 items-center justify-center",children:[o.jsxs(nt.div,{className:"w-full lg:w-1/2 space-y-8 text-center lg:text-left",...g,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight",style:{color:a.primaryColor,fontFamily:a.headingFontFamily},children:t?"Comece Agora":"Bem-vindo de Volta"}),o.jsx("p",{className:"text-lg text-gray-600 max-w-lg mx-auto lg:mx-0",children:t?"Crie sua conta e comece a gerenciar seus agendamentos de forma profissional.":"Acesse sua conta para gerenciar seus agendamentos e clientes."})]}),o.jsx(AW,{})]}),o.jsx(nt.div,{className:"w-full lg:w-1/2 max-w-md",...g,children:o.jsx(Gi,{mode:"wait",children:t?o.jsx(NW,{onToggleMode:v}):o.jsx(jW,{onToggleMode:v,isRegistrationEnabled:r})})})]})})};return l?o.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-white via-gray-50 to-primary/5",children:[o.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-sm border-b border-gray-100 shadow-sm hidden md:block",children:o.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>n("/"),children:[o.jsx(nn,{className:"h-6 w-6 mr-2",style:{color:a.primaryColor}}),o.jsx("span",{className:"text-xl font-semibold",style:{color:a.primaryColor,fontFamily:a.headingFontFamily},children:m||"Carregando..."})]})})})}),o.jsx("main",{className:"flex-grow container mx-auto flex items-center justify-center py-8 md:py-16 pb-24 md:pb-16",children:o.jsx(Gi,{mode:"wait",children:p()})}),o.jsx("footer",{className:"w-full bg-white/80 backdrop-blur-sm py-3 border-t border-gray-100 hidden md:block",children:o.jsx("div",{className:"container mx-auto px-4 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",dangerouslySetInnerHTML:{__html:c}})})}),o.jsx(_ce,{items:[{label:"Home",icon:o.jsx(nn,{className:"h-5 w-5"}),onClick:()=>n("/"),isActive:!1},{label:"Entrar",icon:o.jsx(yk,{className:"h-5 w-5"}),onClick:()=>{f("login"),e(!1)},isActive:d==="login"},{label:"Registrar",icon:o.jsx(bv,{className:"h-5 w-5"}),onClick:()=>{f("register"),e(!0)},isActive:d==="register"}]})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"animate-pulse flex flex-col items-center justify-center",children:[o.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-100 flex items-center justify-center",children:o.jsxs("svg",{className:"animate-spin h-10 w-10 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),o.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"Carregando configuraes..."})]})})},i1t=({appointmentData:t,onClose:e})=>{const r=wr(Lme(t.appointmentDate,"yyyy-MM-dd",new Date),"dd 'de' MMMM 'de' yyyy",{locale:Kn}),n=a=>a!=null&&a.trim()?a:"No informado";return o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"fixed inset-0 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm z-50",children:o.jsx(ot,{className:"w-full max-w-lg border-0 shadow-2xl bg-white",children:o.jsxs(lt,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Bs,{className:"h-5 w-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Agendamento Confirmado!"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Seu horrio foi agendado com sucesso"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cliente"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eu,{className:"h-4 w-4 text-gray-500"}),o.jsx("p",{className:"text-sm text-gray-900",children:n(t.clientName)})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Telefone"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ru,{className:"h-4 w-4 text-gray-500"}),o.jsx("p",{className:"text-sm text-gray-900",children:n(t.clientPhone)})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Profissional"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(eu,{className:"h-4 w-4 text-gray-500"}),o.jsx("p",{className:"text-sm text-gray-900",children:t.attendantName})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Servio"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(my,{className:"h-4 w-4 text-gray-500"}),o.jsx("p",{className:"text-sm text-gray-900",children:t.serviceName})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Data"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"h-4 w-4 text-gray-500"}),o.jsx("p",{className:"text-sm text-gray-900",children:r})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Horrio"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pn,{className:"h-4 w-4 text-gray-500"}),o.jsx("p",{className:"text-sm text-gray-900",children:t.appointmentTime})]})]})]}),o.jsx(je,{onClick:e,className:"w-full bg-green-600 hover:bg-green-700 text-white mt-6 h-11",children:"Fechar"})]})})})},s1t=0*60*60*1e3,O_={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:-20,transition:{duration:.2}}},o1t=t=>{const e=t.replace(/\D/g,"");if(e.length!==10&&e.length!==11)return!1;const r=parseInt(e.substring(0,2));return!(r<11||r>99||e.length===11&&e[2]!=="9")},l1t=t=>{const e=t.replace(/\D/g,"");return e.length<=2?e:e.length<=6?`(${e.slice(0,2)}) ${e.slice(2)}`:e.length<=10?`(${e.slice(0,2)}) ${e.slice(2,6)}-${e.slice(6)}`:`(${e.slice(0,2)}) ${e.slice(2,7)}-${e.slice(7,11)}`},jce=({onSuccess:t,onCancel:e,preselectedAttendant:r})=>{const{getAvailableTimeSlots:n}=sm(),{settings:a}=rd(),[i,s]=N.useState(r?1:0),[l,c]=N.useState(!1),[u,d]=N.useState(!1),[f,m]=N.useState([]),[h,v]=N.useState({name:"",phone:""}),[g,p]=N.useState(""),[y,x]=N.useState(void 0),[b,w]=N.useState(""),[_,j]=N.useState(""),[A,E]=N.useState(r),[T,R]=N.useState([]),[D,P]=N.useState([]),[I,L]=N.useState([]),[V,H]=N.useState([]),[q,G]=N.useState(!1),[re,Z]=N.useState(null),[de,k]=N.useState({});N.useEffect(()=>{(async()=>{if(!r){c(!0);try{const{data:X,error:Ae}=await ye.from("attendants").select("*").eq("available",!0);if(Ae)throw Ae;m(X.map(Be=>({id:Be.id,name:Be.name,position:Be.position,workDays:Be.work_days,available:Be.available,phone:Be.phone||"",email:Be.email||"",photoUrl:Be.photo_url||null,shareUrl:Be.share_url||null})))}catch(X){console.error("Error fetching attendants:",X),Oe.error("Erro ao carregar profissionais disponveis")}finally{c(!1)}}})()},[r]),N.useEffect(()=>{if(!(A!=null&&A.id))return;(async()=>{c(!0);try{const{data:X,error:Ae}=await ye.from("service_assignments").select("*").eq("attendant_id",A.id);if(Ae)throw Ae;R(X.map(Be=>({id:Be.id,serviceId:Be.service_id,serviceName:Be.service_name,servicePrice:Be.service_price,serviceDuration:Be.service_duration,attendantId:Be.attendant_id,attendantName:Be.attendant_name,attendantPosition:Be.attendant_position})))}catch(X){console.error("Error fetching services:",X),Oe.error("Erro ao carregar servios")}finally{c(!1)}})()},[A==null?void 0:A.id]),N.useEffect(()=>{(async()=>{c(!0);try{const{data:X,error:Ae}=await ye.from("schedules").select("*").eq("available",!0);if(Ae)throw Ae;L(X.map(Be=>({id:Be.id,day:Be.day,days:Be.days,startTime:Be.start_time,duration:Be.duration,available:Be.available})))}catch(X){console.error("Error fetching schedules:",X),Oe.error("Erro ao carregar horrios")}finally{c(!1)}})()},[]),N.useEffect(()=>{if(!(A!=null&&A.id))return;(async()=>{c(!0);try{const{data:X,error:Ae}=await ye.from("schedule_assignments").select("*").eq("attendant_id",A.id);if(Ae)throw Ae;H(X.map(Be=>({id:Be.id,attendantId:Be.attendant_id,attendantName:Be.attendant_name,scheduleId:Be.schedule_id,scheduleInfo:Be.schedule_info})))}catch(X){console.error("Error fetching schedule assignments:",X),Oe.error("Erro ao carregar atribuies de horrios")}finally{c(!1)}})()},[A==null?void 0:A.id]),N.useEffect(()=>{if(!y||!(A!=null&&A.id)||V.length===0)return;(async()=>{d(!0);try{const X=["Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Domingo"],Ae=X[y.getDay()===0?6:y.getDay()-1],Be=T.find(ue=>ue.serviceId===g);if(!Be)return;console.log("Fetching time slots for date:",y,"day of week:",Ae);const qe=V.filter(ue=>{const Re=ue.scheduleInfo.split(" - ")[0];if(Re===Ae)return!0;if(Re.includes(" a ")){const[Fe,Xe]=Re.split(" a "),it=X.indexOf(Fe),vt=X.indexOf(Xe),Ct=X.indexOf(Ae);return Ct<it?Ct<=vt:vt<it?Ct>=it||Ct<=vt:Ct>=it&&Ct<=vt}return Re.includes(", ")?Re.split(", ").includes(Ae):!1});if(console.log("Matching assignments:",qe),qe.length===0){P([]),d(!1);return}const st=[];qe.forEach(ue=>{const Ne=ue.scheduleInfo.split(" - ");if(Ne.length>=2){const Re=Ne[1];st.push({id:ue.scheduleId,attendantId:A.id,time:Re,isAvailable:!0})}}),st.sort((ue,Ne)=>ue.time.localeCompare(Ne.time));const Pe=wr(y,"yyyy-MM-dd"),ne=await n(A.id,Pe,st,Be.serviceDuration);P(ne),b&&(ne.some(Ne=>Ne.time===b&&Ne.isAvailable)||w(""))}catch(X){console.error("Error generating time slots:",X),Oe.error("Erro ao carregar horrios disponveis")}finally{d(!1)}})()},[y,A==null?void 0:A.id,g,V,T,n]);const F=oe=>{v({...h,[oe.target.name]:oe.target.value})},B=oe=>{const X=l1t(oe.target.value);v(Ae=>({...Ae,phone:X}))},z=oe=>{const X=f.find(Ae=>Ae.id===oe);E(X),s(1)},ee=()=>{switch(i){case 1:pe()?s(2):Oe.error("Preencha seu nome e telefone");break;case 2:ie()?s(3):Oe.error("Selecione um servio");break}},le=()=>{if(r){if(i===1){e();return}s(i-1);return}if(i===0){e();return}s(i-1)},ge=async()=>{if(!we()){Oe.error("Selecione data e horrio");return}c(!0);try{const oe=T.find(vt=>vt.serviceId===g);if(!oe||!y)throw new Error("Dados invlidos para o agendamento");const X=D.find(vt=>vt.time===b);if(!X||!X.isAvailable){Oe.error("Este horrio no est mais disponvel"),c(!1);return}const Ae=Mo(),Be=wr(y,"yyyy-MM-dd"),[qe,st]=b.replace(/:00$/,"").split(":"),Pe=new Date(y);Pe.setHours(parseInt(qe,10)),Pe.setMinutes(parseInt(st,10)),Pe.setSeconds(0),Pe.setMilliseconds(0);const ne=Pe.getTime()+s1t,Ne=new Date(ne).toISOString(),Re=WA(h.phone),Fe={id:Ae,clientName:h.name,clientPhone:Re,attendantId:A.id,attendantName:A.name,serviceId:g,serviceName:oe.serviceName,servicePrice:oe.servicePrice,serviceDuration:oe.serviceDuration,appointmentDate:Be,appointmentTime:b,appointmentDatetime:Ne,notes:_?JSON.stringify({text:_,color:"default"}):null,status:"scheduled"},{error:Xe}=await ye.from("appointments").insert({id:Ae,client_name:h.name,client_phone:Re,attendant_id:A.id,attendant_name:A.name,service_id:g,service_name:oe.serviceName,service_price:oe.servicePrice,service_duration:oe.serviceDuration,appointment_date:Be,appointment_time:b,appointment_datetime:Ne,notes:_?JSON.stringify({text:_,color:"default"}):null,status:"scheduled"});if(Xe)throw console.error("Error creating appointment:",Xe),Xe;const it={clientName:h.name,clientPhone:Re,attendantName:A.name,serviceName:oe.serviceName,appointmentDate:Be,appointmentTime:b};Z(it),G(!0),Oe.success("Agendamento realizado com sucesso!")}catch(oe){console.error("Error creating appointment:",oe),Oe.error("Erro ao criar agendamento")}finally{c(!1)}},se=()=>h.name.trim()!==""&&h.phone.trim()!=="",ie=()=>g!=="",we=()=>y!==void 0&&b!=="",pe=()=>{var X,Ae;const oe={};return(X=h.name)!=null&&X.trim()||(oe.name="Nome  obrigatrio"),(Ae=h.phone)!=null&&Ae.trim()?o1t(h.phone)||(oe.phone="Telefone invlido. Use um nmero vlido com DDD (ex: (11) 99999-9999)"):oe.phone="Telefone  obrigatrio",k(oe),Object.keys(oe).length===0},Me=()=>l?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(_a,{className:"h-8 w-8 animate-spin text-primary"})}):o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:a==null?void 0:a.primaryColor,fontFamily:a==null?void 0:a.headingFontFamily},children:"Selecione o Profissional"}),o.jsx("div",{className:"grid grid-cols-1 gap-4",children:f.map(oe=>o.jsx("div",{className:"p-4 border rounded-lg cursor-pointer transition-colors hover:border-gray-300",style:{borderColor:"#e5e7eb"},onClick:()=>z(oe.id),children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:`${a==null?void 0:a.primaryColor}20`},children:oe.photoUrl?o.jsx("img",{src:oe.photoUrl,alt:oe.name,className:"w-full h-full rounded-full object-cover"}):o.jsx("span",{className:"text-lg font-semibold",style:{color:a==null?void 0:a.primaryColor},children:oe.name.charAt(0)})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium",style:{color:a==null?void 0:a.primaryColor},children:oe.name}),o.jsx("p",{className:"text-sm text-gray-500",children:oe.position})]})]})},oe.id))})]})}),he=()=>{switch(i){case 0:return Me();case 1:return o.jsxs(nt.div,{variants:O_,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4 sm:space-y-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 sm:mb-6",style:{color:a==null?void 0:a.primaryColor,fontFamily:a==null?void 0:a.headingFontFamily},children:"Suas Informaes"}),o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"name",className:"text-gray-700 font-medium",children:"Nome"}),o.jsxs("div",{className:"relative",children:[o.jsx(mt,{id:"name",name:"name",placeholder:"Seu nome completo",value:h.name,onChange:F,required:!0,className:"pl-10 py-5 sm:py-6 border-2 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all shadow-sm"}),o.jsx("div",{className:"absolute left-3 top-3.5 text-gray-400",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),o.jsx("circle",{cx:"12",cy:"7",r:"4"})]})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"phone",className:"text-gray-700 font-medium",children:"Telefone"}),o.jsxs("div",{className:"relative",children:[o.jsx(mt,{id:"phone",name:"phone",placeholder:"(00) 00000-0000",value:h.phone||"",onChange:B,required:!0,className:Ke("pl-10 py-5 sm:py-6 border-2 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all shadow-sm",de.phone?"border-red-500":"")}),o.jsx("div",{className:"absolute left-3 top-3.5 text-gray-400",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})})})]}),de.phone&&o.jsx("p",{className:"text-sm text-red-500 mt-1",children:de.phone})]})]})]},"step1");case 2:return o.jsxs(nt.div,{variants:O_,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4 sm:space-y-6",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4 sm:mb-6",style:{color:a==null?void 0:a.primaryColor,fontFamily:a==null?void 0:a.headingFontFamily},children:"Selecione o Servio"}),l?o.jsx("div",{className:"flex justify-center py-10",children:o.jsx(_a,{className:"h-10 w-10 animate-spin",style:{color:a==null?void 0:a.primaryColor}})}):T.length===0?o.jsx("div",{className:"text-center py-10 bg-gray-50 rounded-xl",children:o.jsx("p",{className:"text-muted-foreground",children:"Nenhum servio disponvel para este atendente"})}):o.jsx("div",{className:"grid gap-3 sm:gap-4 grid-cols-1",children:T.map(oe=>o.jsx("div",{className:Ke("border-2 rounded-xl p-4 sm:p-5 cursor-pointer transition-all hover:shadow-md group",g===oe.serviceId?"shadow":"border-gray-200 hover:border-gray-300"),style:{borderColor:g===oe.serviceId?a==null?void 0:a.primaryColor:"",backgroundColor:g===oe.serviceId?`${a==null?void 0:a.primaryColor}10`:""},onClick:()=>p(oe.serviceId),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold transition-colors",style:{color:g===oe.serviceId?a==null?void 0:a.primaryColor:"#1f2937"},children:oe.serviceName}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[o.jsx("span",{className:"font-medium",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(oe.servicePrice)}),"  ",o.jsxs("span",{className:"inline-flex items-center",children:[o.jsx(pn,{className:"h-3 w-3 mr-1",style:{color:"#9ca3af"}}),oe.serviceDuration," min"]})]})]}),o.jsx("div",{className:Ke("w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all",g===oe.serviceId?"text-white":"border-gray-300 bg-white"),style:{backgroundColor:g===oe.serviceId?a==null?void 0:a.primaryColor:"",borderColor:g===oe.serviceId?a==null?void 0:a.primaryColor:""},children:g===oe.serviceId&&o.jsx(Bs,{className:"h-4 w-4"})})]})},oe.id))})]},"step2");case 3:return o.jsxs(nt.div,{variants:O_,initial:"hidden",animate:"visible",exit:"exit",className:"space-y-4 sm:space-y-6",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4 sm:mb-6",style:{color:a==null?void 0:a.primaryColor,fontFamily:a==null?void 0:a.headingFontFamily},children:"Escolha a Data e Horrio"}),o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{className:"text-gray-700 font-medium",children:"Data"}),o.jsx("div",{className:"grid gap-2",children:o.jsxs(Ev,{children:[o.jsx(Cv,{asChild:!0,children:o.jsxs(je,{variant:"outline",className:"justify-start text-left font-normal py-5 sm:py-6 border rounded-lg shadow-sm w-full transition-all",style:{borderColor:y?a==null?void 0:a.primaryColor:"#e5e7eb",color:y?a==null?void 0:a.primaryColor:"#6b7280",backgroundColor:"white","--hover-color":`${a==null?void 0:a.primaryColor}10`},disabled:l,children:[o.jsx(nn,{className:"mr-3 h-5 w-5",style:{color:y?a==null?void 0:a.primaryColor:"#6b7280"}}),y?wr(y,"dd 'de' MMMM 'de' yyyy",{locale:Kn}):o.jsx("span",{children:"Selecione uma data"})]})}),o.jsx(Lp,{className:"w-auto p-0 border rounded-xl shadow-xl",align:"start",children:o.jsx(Ww,{mode:"single",selected:y,onSelect:x,initialFocus:!0,disabled:[{before:new Date}],className:Ke("p-3 pointer-events-auto rounded-xl"),locale:Kn,style:{"--selected-bg":a==null?void 0:a.primaryColor,"--selected-color":"#fff","--hover-bg":`${a==null?void 0:a.primaryColor}10`,"--hover-color":a==null?void 0:a.primaryColor},classNames:{day_selected:"!bg-[--selected-bg] !text-[--selected-color] hover:!bg-[--selected-bg] hover:!text-[--selected-color] focus:!bg-[--selected-bg] focus:!text-[--selected-color]",day_today:"!bg-[--hover-bg] !text-[--hover-color]",day:"hover:!bg-[--hover-bg] hover:!text-[--hover-color] focus:!bg-[--hover-bg] focus:!text-[--hover-color]"}})})]})})]}),y&&o.jsxs("div",{className:"space-y-3 bg-gradient-to-b from-gray-50 to-white p-3 sm:p-4 rounded-xl border border-gray-100 shadow-sm",children:[o.jsx(pt,{className:"text-gray-700 font-medium",children:"Horrio"}),u?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(_a,{className:"h-8 w-8 animate-spin",style:{color:a==null?void 0:a.primaryColor}})}):D.length===0?o.jsx("div",{className:"text-center py-8 bg-gray-100 rounded-lg",children:o.jsx("p",{className:"text-gray-600",children:"Nenhum horrio disponvel nessa data"})}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 mt-3",children:D.map(oe=>o.jsxs(je,{type:"button",variant:"outline",onClick:()=>w(oe.time),disabled:!oe.isAvailable,className:Ke("h-auto py-3 flex items-center justify-center rounded-lg transition-all text-sm sm:text-base border",oe.isAvailable?"shadow-md":"bg-gray-100 border-gray-200 cursor-not-allowed hover:bg-gray-100 text-gray-400"),style:{backgroundColor:b===oe.time?a==null?void 0:a.primaryColor:"white",borderColor:oe.isAvailable?a==null?void 0:a.primaryColor:void 0,color:oe.isAvailable?b===oe.time?"#fff":a==null?void 0:a.primaryColor:void 0},children:[oe.isAvailable?o.jsx(pn,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}):o.jsx(hs,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 text-gray-400"}),oe.time.substring(0,5)]},`${oe.id}-${oe.time}`))}),D.some(oe=>!oe.isAvailable)&&o.jsxs("p",{className:"text-xs text-gray-500 mt-3 bg-gray-100/80 backdrop-blur-sm rounded-lg p-3 flex items-start",children:[o.jsx(hs,{className:"inline-block h-4 w-4 mr-2 flex-shrink-0 mt-0.5 text-amber-500"}),o.jsx("span",{children:"Horrios indisponveis j possuem agendamentos ativos"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(pt,{htmlFor:"notes",className:"text-gray-700 font-medium",children:"Observaes (opcional)"}),o.jsx(li,{id:"notes",value:_,onChange:oe=>j(oe.target.value),placeholder:"Alguma informao adicional para o atendente?",disabled:l,rows:3,className:"resize-none border-2 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all shadow-sm"})]}),o.jsx("div",{className:"mt-6 sm:mt-8",children:o.jsx(je,{onClick:ge,disabled:l||!we(),className:"w-full py-5 sm:py-6 text-white shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2 text-base hover:opacity-90",style:{backgroundColor:a==null?void 0:a.primaryColor},children:l?o.jsxs(o.Fragment,{children:[o.jsx(_a,{className:"h-5 w-5 animate-spin"}),"Confirmando..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Bs,{className:"h-5 w-5"}),"Confirmar Agendamento"]})})})]})]},"step3");default:return null}};return o.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-100 overflow-hidden",children:o.jsx(Gi,{mode:"wait",children:q&&re?o.jsx(i1t,{appointmentData:re,onClose:()=>{G(!1),t(re)}}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold",style:{color:a==null?void 0:a.primaryColor,fontFamily:a==null?void 0:a.headingFontFamily},children:i===0?"Escolha o Profissional":A?`Agendar com ${A.name}`:"Agendar Horrio"}),o.jsx("div",{className:"text-sm font-medium px-4 py-1.5 rounded-full shadow-sm self-start sm:self-auto",style:{background:`linear-gradient(to right, ${a==null?void 0:a.primaryColor}33, ${a==null?void 0:a.primaryColor}20)`,color:a==null?void 0:a.primaryColor},children:i===0?"Passo 1/4":`Passo ${i}/3`})]}),o.jsx(Gi,{mode:"wait",children:o.jsx(nt.div,{initial:"hidden",animate:"visible",exit:"exit",variants:O_,children:he()},i)})]}),o.jsxs("div",{className:"px-4 sm:px-6 py-4 bg-gray-50 border-t border-gray-100 flex items-center justify-between",children:[o.jsxs(je,{variant:"outline",onClick:le,className:"flex items-center gap-2 border transition-all",style:{borderColor:a==null?void 0:a.primaryColor,color:a==null?void 0:a.primaryColor,backgroundColor:"white","--hover-color":`${a==null?void 0:a.primaryColor}10`},children:[o.jsx(yl,{className:"h-4 w-4"}),i===0?"Cancelar":"Voltar"]}),i<3&&o.jsxs(je,{onClick:ee,disabled:i===1&&!se()||i===2&&!ie()||l,className:"flex items-center gap-2 text-white hover:opacity-90",style:{backgroundColor:a==null?void 0:a.primaryColor},children:["Prximo",o.jsx(_3,{className:"h-4 w-4"})]})]})]})})})},c1t=()=>{const[t,e]=N.useState(!1),[r,n]=N.useState(null),[a,i]=N.useState("main"),s=Ki(),{isAuthenticated:l}=lu(),{settings:c}=rd(),[u,d]=N.useState(""),[f,m]=N.useState(null),[h,v]=N.useState([]),[g,p]=N.useState(!0),[y,x]=N.useState("home"),[b,w]=N.useState(null);N.useEffect(()=>{(async()=>{try{const{data:H,error:q}=await ye.from("customization").select("footer_text").single();if(q){console.error("Erro ao buscar texto do footer:",q),d(` ${new Date().getFullYear()} Agenda Pro - Todos os direitos reservados`);return}d((H==null?void 0:H.footer_text)||` ${new Date().getFullYear()} Agenda Pro - Todos os direitos reservados`)}catch(H){console.error("Erro ao carregar texto do footer:",H),d(` ${new Date().getFullYear()} Agenda Pro - Todos os direitos reservados`)}})()},[]),N.useEffect(()=>{(async()=>{p(!0);const H=localStorage.getItem("businessData"),q=localStorage.getItem("businessHours"),G=localStorage.getItem("businessDataExpiry");if(G&&new Date().getTime()<parseInt(G)&&H&&q){m(JSON.parse(H)),v(JSON.parse(q)),p(!1);return}try{const[Z,de]=await Promise.all([ye.from("business_data").select("*").single(),ye.from("business_hours").select("*")]);Z.error?console.error("Erro ao buscar dados do negcio:",Z.error):(m(Z.data),localStorage.setItem("businessData",JSON.stringify(Z.data))),de.error?console.error("Erro ao buscar horrios de funcionamento:",de.error):(v(de.data),localStorage.setItem("businessHours",JSON.stringify(de.data)));const k=new Date().getTime()+24*60*60*1e3;localStorage.setItem("businessDataExpiry",k.toString())}catch(Z){console.error("Erro ao carregar dados:",Z)}finally{p(!1)}})()},[]),N.useEffect(()=>{const V=()=>{window.innerWidth>=768&&i("main")};return window.addEventListener("resize",V),V(),()=>window.removeEventListener("resize",V)},[]);const _=[{icon:o.jsx(xl,{className:"h-6 w-6",style:{color:c==null?void 0:c.primaryColor}}),title:"Escolha o Profissional",description:"Selecione o profissional que ir te atender."},{icon:o.jsx(my,{className:"h-6 w-6",style:{color:c==null?void 0:c.primaryColor}}),title:"Escolha o Servio",description:"Selecione o servio que deseja agendar."},{icon:o.jsx(nn,{className:"h-6 w-6",style:{color:c==null?void 0:c.primaryColor}}),title:"Selecione o Horrio",description:"Escolha a data e horrio que melhor se encaixa na sua agenda."},{icon:o.jsx(Us,{className:"h-6 w-6",style:{color:c==null?void 0:c.primaryColor}}),title:"Confirme seu Agendamento",description:"Preencha seus dados e confirme sua reserva."}],j=()=>{e(!1),i("main")},A=()=>{e(!1),i("main")},E=()=>f?`${f.address}, ${f.number}${f.complement?`, ${f.complement}`:""} - ${f.neighborhood}, ${f.city}/${f.state}`:"",T=()=>f?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${f.address}, ${f.number} - ${f.neighborhood}, ${f.city} - ${f.state}`)}`:"",R=V=>V?V.substring(0,5):"",D=V=>{n(H=>H===V?null:V)},P=()=>o.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full",children:o.jsxs("div",{className:"p-4",children:[o.jsxs(je,{variant:"ghost",className:"mb-4 -ml-2 md:hidden",onClick:()=>i("main"),children:[o.jsx(yl,{className:"h-5 w-5 mr-2"}),"Voltar"]}),o.jsx(ot,{className:"border border-gray-200 shadow-md hover:shadow-lg transition-shadow bg-white/50 backdrop-blur-sm",children:o.jsx(lt,{className:"p-6 sm:p-8",children:o.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:`${c==null?void 0:c.primaryColor}20`},children:o.jsx(np,{className:"h-8 w-8",style:{color:c==null?void 0:c.primaryColor}})}),o.jsx("h3",{className:"text-2xl font-bold",style:{color:c==null?void 0:c.primaryColor,fontFamily:c==null?void 0:c.headingFontFamily},children:"Nossa Localizao"}),o.jsx("p",{className:"text-gray-600",children:"Venha nos visitar"}),o.jsxs("div",{className:"w-full max-w-md space-y-4 mt-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-lg font-semibold",style:{color:c==null?void 0:c.primaryColor},children:f==null?void 0:f.trading_name}),o.jsx("p",{className:"text-gray-600 mt-1",children:E()})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs(je,{variant:"outline",className:"w-full",onClick:()=>window.open(`tel:${f==null?void 0:f.phone}`,"_blank"),children:[o.jsx(Ru,{className:"h-5 w-5 mr-2",style:{color:c==null?void 0:c.primaryColor}}),f==null?void 0:f.phone]}),o.jsxs(je,{variant:"outline",className:"w-full",onClick:()=>window.open(`mailto:${f==null?void 0:f.email}`,"_blank"),children:[o.jsx(eb,{className:"h-5 w-5 mr-2",style:{color:c==null?void 0:c.primaryColor}}),f==null?void 0:f.email]})]}),o.jsxs(je,{className:"w-full text-white hover:opacity-90",style:{backgroundColor:c==null?void 0:c.primaryColor},onClick:()=>window.open(T(),"_blank"),children:[o.jsx(np,{className:"h-5 w-5 mr-2",style:{color:"#fff"}}),"Abrir no Google Maps"]})]})]})})})]})}),I=()=>o.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full",children:o.jsxs("div",{className:"p-4",children:[o.jsxs(je,{variant:"ghost",className:"mb-4 -ml-2 md:hidden",onClick:()=>i("main"),children:[o.jsx(yl,{className:"h-5 w-5 mr-2"}),"Voltar"]}),o.jsx(ot,{className:"border border-gray-200 shadow-md hover:shadow-lg transition-shadow bg-white/50 backdrop-blur-sm",children:o.jsx(lt,{className:"p-6 sm:p-8",children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:`${c==null?void 0:c.primaryColor}20`},children:o.jsx(nn,{className:"h-8 w-8",style:{color:c==null?void 0:c.primaryColor}})}),o.jsx("h3",{className:"text-2xl font-bold mt-4",style:{color:c==null?void 0:c.primaryColor,fontFamily:c==null?void 0:c.headingFontFamily},children:"Horrios de Funcionamento"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"Estamos disponveis nos seguintes horrios"}),o.jsx("div",{className:"w-full max-w-md space-y-2",children:h.sort((V,H)=>{const q=["Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado","Domingo"];return q.indexOf(V.day_of_week)-q.indexOf(H.day_of_week)}).map(V=>o.jsxs("div",{className:"flex justify-between items-center py-4 px-4 rounded-lg bg-gray-50/80 hover:bg-gray-50",children:[o.jsx("span",{className:"font-medium text-gray-900",children:V.day_of_week}),o.jsx("span",{className:V.is_closed?"text-red-500 font-medium":"text-green-600",children:V.is_closed?"Fechado":`${R(V.open_time)} - ${R(V.close_time)}`})]},V.id))}),o.jsxs(je,{className:"w-full max-w-md mt-8 text-white hover:opacity-90",style:{backgroundColor:c==null?void 0:c.primaryColor},onClick:()=>e(!0),children:[o.jsx(nn,{className:"h-5 w-5 mr-2",style:{color:"#fff"}}),"Agendar um horrio"]})]})})})]})}),L=()=>{if(typeof window<"u"&&window.innerWidth<768)switch(a){case"location":return o.jsx(P,{});case"hours":return o.jsx(I,{});default:return o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.98},transition:{duration:.3},children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16 space-y-6",children:[o.jsx(nt.h1,{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight",style:{color:c==null?void 0:c.primaryColor,fontFamily:c==null?void 0:c.headingFontFamily},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:"Agende seu Horrio"}),o.jsx(nt.p,{className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:"Faa seu agendamento de forma rpida e simples, escolhendo o melhor horrio para voc."}),o.jsxs("div",{className:"mt-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-center mb-8",style:{color:c==null?void 0:c.primaryColor,fontFamily:c==null?void 0:c.headingFontFamily},children:"Como funciona"}),o.jsx("div",{className:"grid grid-cols-1 gap-6 max-w-lg mx-auto",children:_.map((V,H)=>o.jsx(ot,{className:"border-gray-100 shadow-md hover:shadow-lg transition-all duration-300 bg-white/50 backdrop-blur-sm group",children:o.jsx(lt,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center transition-colors flex-shrink-0",style:{backgroundColor:`${c==null?void 0:c.primaryColor}20`},children:V.icon}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-lg font-semibold",style:{color:c==null?void 0:c.primaryColor,fontFamily:c==null?void 0:c.headingFontFamily},children:V.title}),o.jsx("p",{className:"text-sm text-gray-600",children:V.description})]})]})})},H))})]})]})},"landing")}return o.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.98},transition:{duration:.3},children:[o.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16 space-y-6",children:[o.jsx(nt.h1,{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight",style:{color:c==null?void 0:c.primaryColor,fontFamily:c==null?void 0:c.headingFontFamily},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:"Agende seu Horrio"}),o.jsx(nt.p,{className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:"Faa seu agendamento de forma rpida e simples, escolhendo o melhor horrio para voc."}),o.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[o.jsxs(je,{onClick:()=>e(!0),className:"hover:opacity-90",style:{backgroundColor:c==null?void 0:c.primaryColor,color:"#fff"},children:["Agendar Agora",o.jsx(_3,{className:"ml-2 h-4 w-4"})]}),o.jsxs(je,{variant:"outline",onClick:()=>D("location"),className:"hover:bg-primary/5",style:{borderColor:c==null?void 0:c.primaryColor},children:[o.jsx("span",{style:{color:c==null?void 0:c.primaryColor},children:"Ver Localizao"}),o.jsx(np,{className:"ml-2 h-4 w-4",style:{color:c==null?void 0:c.primaryColor}})]}),o.jsxs(je,{variant:"outline",onClick:()=>D("hours"),className:"hover:bg-primary/5",style:{borderColor:c==null?void 0:c.primaryColor},children:[o.jsx("span",{style:{color:c==null?void 0:c.primaryColor},children:"Ver Horrios"}),o.jsx(pn,{className:"ml-2 h-4 w-4",style:{color:c==null?void 0:c.primaryColor}})]})]}),o.jsx("div",{className:"mt-8",children:o.jsxs(Gi,{children:[r==="location"&&o.jsx(nt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:o.jsx(P,{})}),r==="hours"&&o.jsx(nt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:o.jsx(I,{})})]})})]}),o.jsxs("div",{className:"mt-24",children:[o.jsx("h2",{className:"text-3xl font-bold text-center mb-12",style:{color:c==null?void 0:c.primaryColor,fontFamily:c==null?void 0:c.headingFontFamily},children:"Como funciona"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto",children:_.map((V,H)=>o.jsx(ot,{className:"border-gray-100 shadow-md hover:shadow-lg transition-all duration-300 bg-white/50 backdrop-blur-sm group",children:o.jsx(lt,{className:"p-6",children:o.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center transition-colors",style:{backgroundColor:`${c==null?void 0:c.primaryColor}20`},children:V.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",style:{color:c==null?void 0:c.primaryColor,fontFamily:c==null?void 0:c.headingFontFamily},children:V.title}),o.jsx("p",{className:"text-sm text-gray-600 mt-2",children:V.description})]})]})})},H))})]})]},"landing")};return o.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-white via-gray-50 to-primary/5",children:[o.jsx("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-sm border-b border-gray-100 shadow-sm hidden md:block",children:o.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>e(!1),children:[o.jsx(nn,{className:"h-6 w-6 mr-2",style:{color:c==null?void 0:c.primaryColor}}),o.jsx("span",{className:"text-xl font-semibold",style:{color:c==null?void 0:c.primaryColor,fontFamily:c==null?void 0:c.headingFontFamily},children:(f==null?void 0:f.trading_name)||"Carregando..."})]}),o.jsx(je,{variant:"outline",onClick:()=>s(l?"/dashboard":"/login"),className:"flex items-center gap-2 hover:bg-primary/5 transition-colors",style:{borderColor:c==null?void 0:c.primaryColor},children:l?o.jsxs(o.Fragment,{children:[o.jsx(uj,{className:"h-4 w-4",style:{color:c==null?void 0:c.primaryColor}}),o.jsx("span",{style:{color:c==null?void 0:c.primaryColor},children:"Dashboard"})]}):o.jsxs(o.Fragment,{children:[o.jsx(yk,{className:"h-4 w-4",style:{color:c==null?void 0:c.primaryColor}}),o.jsx("span",{style:{color:c==null?void 0:c.primaryColor},children:"Entrar"})]})})]})}),o.jsx("main",{className:"container mx-auto px-4 sm:px-6 py-8 md:py-16 flex-grow pb-20 md:pb-8",children:o.jsx(Gi,{mode:"wait",children:t?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.98},transition:{duration:.3},className:"max-w-3xl mx-auto",children:o.jsx(jce,{onSuccess:j,onCancel:A})},"appointment-form"):L()})}),o.jsx("footer",{className:"w-full bg-white/80 backdrop-blur-sm py-4 border-t border-gray-100 shadow-md mt-auto hidden md:block",children:o.jsx("div",{className:"container mx-auto text-center px-4",children:o.jsx("p",{className:"text-sm text-gray-600",dangerouslySetInnerHTML:{__html:u}})})}),o.jsx(_ce,{items:[{label:"Agendar",icon:o.jsx(nn,{className:"h-5 w-5",style:{color:c==null?void 0:c.primaryColor}}),onClick:()=>{i("main"),e(!0)},isActive:t},{label:"Localizao",icon:o.jsx(np,{className:"h-5 w-5",style:{color:c==null?void 0:c.primaryColor}}),onClick:()=>{i("location"),e(!1)},isActive:a==="location"},{label:"Horrios",icon:o.jsx(pn,{className:"h-5 w-5",style:{color:c==null?void 0:c.primaryColor}}),onClick:()=>{i("hours"),e(!1)},isActive:a==="hours"},{label:l?"Dashboard":"Entrar",icon:l?o.jsx(uj,{className:"h-5 w-5",style:{color:c==null?void 0:c.primaryColor}}):o.jsx(yk,{className:"h-5 w-5",style:{color:c==null?void 0:c.primaryColor}}),onClick:()=>s(l?"/dashboard":"/login"),isActive:!1}]})]})},u1t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},I_=({text:t="Carregando..."})=>o.jsxs(nt.div,{className:"py-8 text-center",initial:"hidden",animate:"visible",variants:u1t,children:[o.jsx(nt.div,{className:"inline-block h-8 w-8 border-4 border-solid border-primary border-t-transparent rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},role:"status",children:o.jsx("span",{className:"sr-only",children:"Carregando..."})}),o.jsx("p",{className:"mt-2 text-muted-foreground",children:t})]}),dk=({attendantId:t,attendantName:e,onSuccess:r,onCancel:n,appointmentId:a})=>{const[i,s]=N.useState(0),[l,c]=N.useState(0),[u,d]=N.useState(""),[f,m]=N.useState(""),[h,v]=N.useState(""),[g,p]=N.useState(!1),[y,x]=N.useState(null),b=async w=>{if(w.preventDefault(),i===0){x("Por favor, selecione uma avaliao antes de enviar.");return}if(!u||!f){x("Por favor, preencha seu nome e telefone.");return}p(!0),x(null);try{const _={attendant_id:t,client_name:u,client_phone:f,rating:i,comment:h||null,appointment_id:a||null,approved:!1},{error:j}=await ye.from("attendant_ratings").insert(_);if(j)throw j;r&&r({clientName:u,clientPhone:f,rating:i,comment:h})}catch(_){console.error("Erro ao enviar avaliao:",_),x("Ocorreu um erro ao enviar sua avaliao. Por favor, tente novamente.")}finally{p(!1)}};return o.jsxs("form",{onSubmit:b,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(pt,{htmlFor:"clientName",children:"Seu nome"}),o.jsx(mt,{id:"clientName",value:u,onChange:w=>d(w.target.value),placeholder:"Digite seu nome",required:!0})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(pt,{htmlFor:"clientPhone",children:"Seu telefone"}),o.jsx(mt,{id:"clientPhone",value:f,onChange:w=>m(w.target.value),placeholder:"(00) 00000-0000",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(pt,{children:["Avaliao para ",e]}),o.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(w=>o.jsx("button",{type:"button",onClick:()=>s(w),onMouseEnter:()=>c(w),onMouseLeave:()=>c(0),className:"p-1 focus:outline-none transition-transform hover:scale-110","aria-label":`Avaliar com ${w} estrelas`,children:o.jsx(Io,{size:32,className:`${w<=(l||i)?"text-yellow-400 fill-yellow-400":"text-gray-300"} transition-colors`})},w))}),o.jsxs("div",{className:"text-sm text-muted-foreground h-5",children:[l===1&&"Ruim",l===2&&"Regular",l===3&&"Bom",l===4&&"Muito bom",l===5&&"Excelente",!l&&i===1&&"Ruim",!l&&i===2&&"Regular",!l&&i===3&&"Bom",!l&&i===4&&"Muito bom",!l&&i===5&&"Excelente"]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(pt,{htmlFor:"comment",children:"Comentrio (opcional)"}),o.jsx(li,{id:"comment",value:h,onChange:w=>v(w.target.value),placeholder:"Compartilhe sua experincia...",rows:4})]}),y&&o.jsx("div",{className:"text-sm text-red-500 font-medium",children:y}),o.jsx("div",{className:"text-sm text-gray-500 p-3 bg-gray-50 rounded-md border border-gray-200",children:o.jsx("p",{children:"Sua avaliao passar por um processo de aprovao antes de ser exibida publicamente. Agradecemos sua compreenso."})}),o.jsxs("div",{className:"flex justify-end gap-2",children:[n&&o.jsx(je,{type:"button",variant:"outline",onClick:n,disabled:g,children:"Cancelar"}),o.jsx(je,{type:"submit",disabled:g,children:g?"Enviando...":"Enviar avaliao"})]})]})},d1t=()=>{const{shareUrl:t}=Eq(),e=Ki(),[r,n]=N.useState(null),[a,i]=N.useState(!0),[s,l]=N.useState("sobre"),[c,u]=N.useState(!1),[d,f]=N.useState([]),[m,h]=N.useState(!1),[v,g]=N.useState([]),[p,y]=N.useState(!1),[x,b]=N.useState(""),[w,_]=N.useState(null),[j,A]=N.useState(!1),[E,T]=N.useState([]),[R,D]=N.useState(0),[P,I]=N.useState(0),[L,V]=N.useState(!1),[H,q]=N.useState(!1);N.useEffect(()=>{(async()=>{try{i(!0);const we=t!=null&&t.includes("/")?t.split("/").pop():t;if(!we){e("/404");return}const{data:pe,error:Me}=await ye.from("attendants").select("*").ilike("share_url",`%${we}%`).single();if(Me||!pe){console.error("Erro ao buscar atendente:",Me),e("/404");return}const he=pe,oe={id:he.id,name:he.name,position:he.position,workDays:he.work_days,available:he.available,phone:he.phone||"",email:he.email||"",photoUrl:he.photo_url||null,shareUrl:he.share_url||null};n(oe)}catch(we){console.error("Erro ao carregar dados do atendente:",we),e("/404")}finally{i(!1)}})()},[t,e]),N.useEffect(()=>{(async()=>{A(!0);try{const{data:we,error:pe}=await ye.from("business_data").select("address, number, complement, neighborhood, city, state, zip_code").single();if(pe){console.error("Erro ao buscar dados de localizao:",pe);return}we&&_({address:we.address,number:we.number,complement:we.complement,neighborhood:we.neighborhood,city:we.city,state:we.state,zipCode:we.zip_code})}catch(we){console.error("Erro ao carregar dados de localizao:",we)}finally{A(!1)}})()},[]),N.useEffect(()=>{(async()=>{try{const{data:we,error:pe}=await ye.from("customization").select("footer_text").single();if(pe){console.error("Erro ao buscar texto do footer:",pe),b(` ${new Date().getFullYear()} Agenda Pro - Todos os direitos reservados`);return}b((we==null?void 0:we.footer_text)||` ${new Date().getFullYear()} Agenda Pro - Todos os direitos reservados`)}catch(we){console.error("Erro ao carregar texto do footer:",we),b(` ${new Date().getFullYear()} Agenda Pro - Todos os direitos reservados`)}})()},[]),N.useEffect(()=>{if(!r)return;(async()=>{h(!0);try{const{data:we,error:pe}=await ye.from("service_assignments").select("*").eq("attendant_id",r.id);if(pe)throw pe;f(we.map(Me=>({id:Me.id,serviceId:Me.service_id,serviceName:Me.service_name,servicePrice:Me.service_price,serviceDuration:Me.service_duration})))}catch(we){console.error("Erro ao carregar servios:",we)}finally{h(!1)}})()},[r]),N.useEffect(()=>{if(!r)return;(async()=>{y(!0);try{const{data:we,error:pe}=await ye.from("schedule_assignments").select("*").eq("attendant_id",r.id);if(pe)throw pe;g(we)}catch(we){console.error("Erro ao carregar horrios:",we),Oe.error("Erro ao carregar horrios do profissional")}finally{y(!1)}})()},[r]),N.useEffect(()=>{r!=null&&r.id&&z(r.id).then(ie=>{if(ie&&(T(ie),I(ie.length),ie.length>0)){const we=ie.reduce((pe,Me)=>pe+Me.rating,0);D(we/ie.length)}})},[r==null?void 0:r.id]);const G=ie=>ie.split(" ").map(we=>we[0]).join("").toUpperCase().substring(0,2),re=ie=>{u(!1)},Z=()=>{u(!1)},de=ie=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ie),k={Segunda:"Segunda-feira",Tera:"Tera-feira",Quarta:"Quarta-feira",Quinta:"Quinta-feira",Sexta:"Sexta-feira",Sbado:"Sbado",Domingo:"Domingo"},F=()=>{if(!w)return"Endereo no disponvel";let ie=`${w.address}, ${w.number}`;return w.complement&&(ie+=` - ${w.complement}`),ie+=`
${w.neighborhood}, ${w.city} - ${w.state}`,ie+=`
CEP: ${w.zipCode.replace(/(\d{5})(\d{3})/,"$1-$2")}`,ie},B=()=>w?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${w.address}, ${w.number}, ${w.city}, ${w.state}, ${w.zipCode}`)}`:"#",z=async ie=>{try{const{data:we,error:pe}=await ye.from("attendant_ratings").select("*").eq("attendant_id",ie).eq("approved",!0).order("created_at",{ascending:!1});return pe?(console.error("Erro ao buscar avaliaes:",pe),null):we.map(Me=>({id:Me.id,attendant_id:Me.attendant_id,client_name:Me.client_name,client_phone:Me.client_phone,rating:Me.rating,comment:Me.comment,appointment_id:Me.appointment_id,approved:Me.approved??!1,created_at:Me.created_at,updated_at:Me.updated_at}))}catch(we){return console.error("Erro ao buscar avaliaes:",we),null}},ee=()=>{V(!1),q(!0),r!=null&&r.id&&z(r.id).then(ie=>{if(ie&&(T(ie),I(ie.length),ie.length>0)){const we=ie.reduce((pe,Me)=>pe+Me.rating,0);D(we/ie.length)}})},le=ie=>Array(5).fill(0).map((we,pe)=>o.jsx(Io,{size:16,className:pe<ie?"text-yellow-400 fill-yellow-400":"text-gray-300"},pe)),ge=()=>{const ie={};return v.forEach(we=>{const[pe,Me]=we.schedule_info.split(" - "),he=oe=>{ie[oe]||(ie[oe]=[]),ie[oe].includes(Me)||ie[oe].push(Me)};pe.includes(" a ")?he(pe):pe.includes(", ")?pe.split(", ").forEach(X=>{he(X)}):he(pe)}),Object.keys(ie).forEach(we=>{ie[we].sort((pe,Me)=>pe.localeCompare(Me))}),ie},se=ie=>{const we={Segunda:1,Tera:2,Quarta:3,Quinta:4,Sexta:5,Sbado:6,Domingo:7};return Object.keys(ie).sort((pe,Me)=>{const he=Ae=>Ae.split(" a ")[0],oe=he(pe),X=he(Me);return(we[oe]||99)-(we[X]||99)})};return a?o.jsx("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"container max-w-4xl mx-auto py-8 px-4",children:o.jsx(I_,{text:"Carregando informaes do profissional..."})})}):r?(le(Math.round(R)),R.toFixed(1),r==null||r.name,r&&(r.id,r.name),E.length>0&&E.slice(0,3).map(ie=>o.jsxs("div",{className:"border rounded-md p-4 bg-white shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:ie.client_name}),o.jsx("div",{className:"flex mt-1",children:le(ie.rating)})]}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(ie.created_at).toLocaleDateString("pt-BR")})]}),ie.comment&&o.jsx("p",{className:"mt-2 text-gray-600",children:ie.comment})]},ie.id)),o.jsxs("div",{className:"bg-gray-50 min-h-screen flex items-center justify-center",children:[o.jsx("div",{className:"container max-w-4xl mx-auto py-8 px-4 my-8 pb-20",children:o.jsx("div",{className:"space-y-6",children:o.jsx(Gi,{mode:"wait",children:c?o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.98},transition:{duration:.3},className:"relative",children:o.jsx(jce,{onSuccess:re,onCancel:Z,preselectedAttendant:r})},"appointment-form"):o.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.98},transition:{duration:.3},children:o.jsxs(ot,{className:"overflow-hidden shadow-sm border-gray-100",children:[o.jsx("div",{className:"bg-white p-4 md:p-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 md:gap-6 items-center md:items-start",children:[o.jsxs(Lh,{className:"h-16 w-16 md:h-20 md:w-20 border-2 border-gray-100 shadow",children:[o.jsx(Fh,{src:r.photoUrl||void 0,alt:r.name}),o.jsx($h,{className:"text-lg md:text-xl bg-gray-100 text-gray-600",children:G(r.name)})]}),o.jsxs("div",{className:"text-center md:text-left space-y-1 flex-1",children:[o.jsx("h1",{className:"text-lg md:text-xl lg:text-2xl font-bold text-gray-800",children:r.name}),o.jsx("p",{className:"text-gray-600 font-medium text-sm md:text-base",children:r.position}),o.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-1 mt-1",children:[o.jsx("div",{className:"flex",children:le(Math.round(R))}),o.jsxs("span",{className:"text-sm text-gray-600",children:[R.toFixed(1)," (",P," ",P===1?"avaliao":"avaliaes",")"]}),o.jsxs(wi,{open:L,onOpenChange:V,children:[o.jsx(wh,{asChild:!0,children:o.jsx(je,{variant:"outline",size:"sm",className:"ml-2 text-xs py-1 h-6 md:h-7 px-2 bg-white hover:bg-gray-50",children:"Avaliar"})}),o.jsxs(ai,{children:[o.jsx(ii,{children:o.jsxs(si,{children:["Avaliar ",r==null?void 0:r.name]})}),r&&o.jsx(dk,{attendantId:r.id,attendantName:r.name,onSuccess:ee,onCancel:()=>V(!1)})]})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2 justify-center md:justify-start my-2",children:r.available?o.jsx(Ur,{variant:"success",className:"bg-green-100 text-green-800 hover:bg-green-200 mt-1 font-normal text-xs md:text-sm",children:"Disponvel para agendamentos"}):o.jsx(Ur,{variant:"destructive",className:"bg-red-100 text-red-800 hover:bg-red-200 mt-1 font-normal text-xs md:text-sm",children:"Indisponvel para agendamentos"})})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[r.phone&&o.jsx(je,{variant:"outline",size:"sm",className:"bg-white border hover:bg-gray-50 text-xs md:text-sm py-1 h-8 md:h-9",asChild:!0,children:o.jsxs("a",{href:`tel:${r.phone}`,className:"flex items-center gap-1 md:gap-2",children:[o.jsx(Ru,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-600"}),o.jsx("span",{children:"Ligar"})]})}),r.email&&o.jsx(je,{variant:"outline",size:"sm",className:"bg-white border hover:bg-gray-50 text-xs md:text-sm py-1 h-8 md:h-9",asChild:!0,children:o.jsxs("a",{href:`mailto:${r.email}`,className:"flex items-center gap-1 md:gap-2",children:[o.jsx(eb,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-600"}),o.jsx("span",{children:"Email"})]})})]})]})}),o.jsxs(ys,{defaultValue:s,onValueChange:l,className:"mt-2",children:[o.jsxs(Di,{className:"w-full justify-between md:justify-start px-4 md:px-6 bg-white border-b border-gray-200",children:[o.jsxs(qt,{value:"sobre",className:"data-[state=active]:text-primary data-[state=active]:border-b-2 border-primary py-2 px-2 md:px-3",children:[o.jsx(Q1,{className:"h-4 w-4 md:hidden"}),o.jsx("span",{className:"hidden md:inline",children:"Sobre"})]}),o.jsxs(qt,{value:"servicos",className:"data-[state=active]:text-primary data-[state=active]:border-b-2 border-primary py-2 px-2 md:px-3",children:[o.jsx(my,{className:"h-4 w-4 md:hidden"}),o.jsx("span",{className:"hidden md:inline",children:"Servios"})]}),o.jsxs(qt,{value:"horarios",className:"data-[state=active]:text-primary data-[state=active]:border-b-2 border-primary py-2 px-2 md:px-3",children:[o.jsx(pn,{className:"h-4 w-4 md:hidden"}),o.jsx("span",{className:"hidden md:inline",children:"Horrios"})]}),o.jsxs(qt,{value:"localizacao",className:"data-[state=active]:text-primary data-[state=active]:border-b-2 border-primary py-2 px-2 md:px-3",children:[o.jsx(np,{className:"h-4 w-4 md:hidden"}),o.jsx("span",{className:"hidden md:inline",children:"Localizao"})]}),o.jsxs(qt,{value:"contato",className:"data-[state=active]:text-primary data-[state=active]:border-b-2 border-primary py-2 px-2 md:px-3",children:[o.jsx(Ru,{className:"h-4 w-4 md:hidden"}),o.jsx("span",{className:"hidden md:inline",children:"Contato"})]}),o.jsxs(qt,{value:"avaliacoes",className:"data-[state=active]:text-primary data-[state=active]:border-b-2 border-primary py-2 px-2 md:px-3",children:[o.jsx(Io,{className:"h-4 w-4 md:hidden"}),o.jsx("span",{className:"hidden md:inline",children:"Avaliaes"})]})]}),o.jsxs("div",{className:"p-4 md:p-6 bg-white",children:[o.jsx(nr,{value:"sobre",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Sobre ",r.name]}),o.jsxs("p",{className:"text-gray-600 text-sm md:text-base",children:[r.position," com experincia em diversos servios e atendimentos personalizados."]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 mt-4",children:[o.jsxs(ot,{className:"border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[o.jsx(Ot,{className:"pb-2",children:o.jsxs(It,{className:"text-sm md:text-md flex items-center gap-2 text-gray-800",children:[o.jsx(nn,{className:"h-4 w-4 text-primary"}),"Dias de Atendimento"]})}),o.jsx(lt,{children:o.jsx("ul",{className:"space-y-1 grid grid-cols-1 md:grid-cols-2",children:r.workDays.map(ie=>o.jsxs("li",{className:"text-xs md:text-sm text-gray-600 flex items-center",children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400 mr-2"}),k[ie]||ie]},ie))})})]}),o.jsxs(ot,{className:"border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[o.jsx(Ot,{className:"pb-2",children:o.jsxs(It,{className:"text-sm md:text-md flex items-center gap-2 text-gray-800",children:[o.jsx(Q1,{className:"h-4 w-4 text-primary"}),"Especialidades"]})}),o.jsx(lt,{children:o.jsxs("ul",{className:"space-y-1",children:[m?o.jsx("li",{className:"text-xs md:text-sm text-gray-500",children:"Carregando..."}):d.length>0?d.slice(0,3).map(ie=>o.jsxs("li",{className:"text-xs md:text-sm flex items-center gap-2 text-gray-600",children:[o.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400 mr-1"}),ie.serviceName]},ie.id)):o.jsx("li",{className:"text-xs md:text-sm text-gray-500",children:"Nenhum servio cadastrado"}),d.length>3&&o.jsxs("li",{className:"text-xs md:text-sm text-primary mt-3 cursor-pointer flex items-center",onClick:()=>l("servicos"),children:["Ver todos os servios",o.jsx(hy,{className:"h-3 w-3 ml-1"})]})]})})]})]}),o.jsxs("div",{className:"mt-6 md:mt-8",children:[r.available&&o.jsxs(je,{onClick:()=>u(!0),className:"w-full shadow-sm bg-primary text-white hover:bg-primary/90 text-sm md:text-base py-2 h-auto",children:[o.jsx(nn,{className:"mr-2 h-4 w-4"}),"Agendar um Horrio"]}),!r.available&&o.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3 md:p-4 text-center",children:o.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:"Este profissional no est disponvel para agendamentos no momento."})})]})]})}),o.jsx(nr,{value:"servicos",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Servios Oferecidos"}),o.jsxs("p",{className:"text-gray-600 text-sm md:text-base",children:["Confira os servios disponveis com ",r.name,":"]}),m?o.jsx("div",{className:"py-6 md:py-8",children:o.jsx(I_,{text:"Carregando servios..."})}):d.length===0?o.jsxs("div",{className:"text-center py-6 md:py-8 border rounded-lg bg-gray-50",children:[o.jsx(Bde,{className:"h-8 w-8 md:h-10 md:w-10 text-gray-400 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Nenhum servio disponvel para este profissional."})]}):o.jsx("div",{className:"grid gap-3 grid-cols-1",children:d.map(ie=>o.jsx(ot,{className:"overflow-hidden border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex flex-col sm:flex-row",children:[o.jsxs("div",{className:"p-3 md:p-4 flex-1",children:[o.jsx("h3",{className:"font-medium text-sm md:text-base text-gray-800 mb-1",children:ie.serviceName}),o.jsx("div",{className:"flex items-center gap-3 text-xs md:text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(bde,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 text-gray-400"}),ie.serviceDuration," minutos"]})})]}),o.jsxs("div",{className:"p-3 md:p-4 bg-gray-50 flex flex-row sm:flex-col justify-between items-center sm:items-end border-t sm:border-t-0 sm:border-l border-gray-100",children:[o.jsx("div",{className:"font-bold text-sm md:text-base text-gray-800",children:de(ie.servicePrice)}),o.jsx(je,{size:"sm",className:"text-xs md:text-sm mt-0 sm:mt-2 ml-3 sm:ml-0",onClick:()=>{u(!0)},disabled:!r.available,children:"Agendar"})]})]})},ie.id))})]})}),o.jsx(nr,{value:"horarios",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Horrios de Atendimento"}),o.jsxs("p",{className:"text-gray-600 text-sm md:text-base",children:[r.name," atende nos seguintes horrios:"]}),o.jsx(ot,{className:"border border-gray-100 shadow-sm",children:o.jsxs(lt,{className:"py-3 md:py-4",children:[p?o.jsx("div",{className:"py-6 text-center",children:o.jsx(I_,{text:"Carregando horrios..."})}):v.length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(pn,{className:"h-8 w-8 text-gray-400 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum horrio disponvel."})]}):o.jsx("div",{className:"space-y-4",children:se(ge()).map(ie=>o.jsxs("div",{className:"py-2 md:py-3",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(pn,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-400"}),o.jsx("span",{className:"text-xs md:text-sm font-medium text-gray-700",children:ie})]}),o.jsx("div",{className:"pl-6 grid grid-cols-2 md:grid-cols-3 gap-2",children:ge()[ie].map(we=>o.jsx(Ur,{variant:"outline",className:"bg-gray-50 text-gray-600 font-normal text-xs md:text-sm justify-center",children:we},`${ie}-${we}`))})]},ie))}),o.jsx("div",{className:"mt-4 bg-gray-50 p-3 rounded-md text-xs md:text-sm text-gray-500 border border-gray-100",children:o.jsx("p",{children:'Os horrios especficos so exibidos durante o processo de agendamento. Clique em "Agendar um Horrio" para ver as opes disponveis.'})})]})})]})}),o.jsx(nr,{value:"localizacao",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Como Chegar"}),o.jsxs("p",{className:"text-gray-600 text-sm md:text-base",children:[r.name," atende no seguinte endereo:"]}),j?o.jsx("div",{className:"py-6 md:py-8",children:o.jsx(I_,{text:"Carregando informaes de localizao..."})}):w?o.jsxs(ot,{className:"border border-gray-100 shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-3 md:p-4 bg-gray-50 border-b border-gray-100",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gde,{className:"h-4 w-4 md:h-5 md:w-5 text-primary"}),o.jsx("h3",{className:"font-medium text-sm md:text-base text-gray-800",children:"Endereo"})]})}),o.jsx(lt,{className:"py-3 md:py-4",children:o.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:o.jsxs("div",{className:"flex-1 space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3 bg-gray-50 p-3 rounded-md",children:[o.jsx("div",{className:"mt-1",children:o.jsx(np,{className:"h-4 w-4 md:h-5 md:w-5 text-primary"})}),o.jsx("div",{children:o.jsx("p",{className:"whitespace-pre-line text-xs md:text-sm text-gray-700",children:F()})})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(je,{variant:"outline",className:"flex items-center gap-2 bg-white hover:bg-gray-50 border-gray-200 text-gray-700 mt-2 text-xs md:text-sm py-1 md:py-2 h-auto",asChild:!0,children:o.jsxs("a",{href:B(),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2",children:[o.jsx(Dde,{className:"h-3 w-3 md:h-4 md:w-4 text-gray-600"}),"Abrir no Google Maps"]})})})]})})})]}):o.jsxs("div",{className:"text-center py-6 md:py-8 border rounded-lg bg-gray-50",children:[o.jsx(np,{className:"h-8 w-8 md:h-10 md:w-10 text-gray-400 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Nenhuma informao de localizao disponvel."})]})]})}),o.jsx(nr,{value:"contato",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Informaes de Contato"}),o.jsx(ot,{className:"border border-gray-100 shadow-sm",children:o.jsxs(lt,{className:"py-3 md:py-4 space-y-3 md:space-y-4",children:[r.phone&&o.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 p-3 rounded-md",children:[o.jsx("div",{className:"bg-white p-1.5 md:p-2 rounded-full shadow-sm",children:o.jsx(Ru,{className:"h-4 w-4 md:h-5 md:w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"Telefone"}),o.jsx("p",{className:"font-medium text-xs md:text-sm text-gray-800",children:r.phone})]})]}),r.email&&o.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 p-3 rounded-md",children:[o.jsx("div",{className:"bg-white p-1.5 md:p-2 rounded-full shadow-sm",children:o.jsx(eb,{className:"h-4 w-4 md:h-5 md:w-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500",children:"E-mail"}),o.jsx("p",{className:"font-medium text-xs md:text-sm text-gray-800",children:r.email})]})]}),!r.phone&&!r.email&&o.jsx("div",{className:"text-center py-5 md:py-6",children:o.jsx("p",{className:"text-xs md:text-sm text-gray-500",children:"Nenhuma informao de contato disponvel."})})]})})]})}),o.jsx(nr,{value:"avaliacoes",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Avaliaes"}),o.jsxs("div",{className:"flex items-center mt-1",children:[o.jsx("div",{className:"flex mr-2",children:le(Math.round(R))}),o.jsxs("span",{className:"text-sm text-gray-600",children:[R.toFixed(1)," (",P," ",P===1?"avaliao":"avaliaes",")"]})]})]}),o.jsxs(wi,{open:L,onOpenChange:V,children:[o.jsx(wh,{asChild:!0,children:o.jsx(je,{children:"Avaliar Atendente"})}),o.jsxs(ai,{children:[o.jsx(ii,{children:o.jsxs(si,{children:["Avaliar ",r==null?void 0:r.name]})}),r&&o.jsx(dk,{attendantId:r.id,attendantName:r.name,onSuccess:ee,onCancel:()=>V(!1)})]})]})]}),H&&o.jsxs("div",{className:"bg-green-50 text-green-700 p-4 rounded-md mb-4",children:[o.jsx("p",{className:"font-medium",children:"Obrigado pela sua avaliao!"}),o.jsx("p",{children:"Seu feedback  muito importante para ns."})]}),o.jsx("div",{className:"space-y-4",children:E.length>0?E.map(ie=>o.jsxs("div",{className:"border rounded-md p-4 bg-white shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:ie.client_name}),o.jsx("div",{className:"flex mt-1",children:le(ie.rating)})]}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(ie.created_at).toLocaleDateString("pt-BR")})]}),ie.comment&&o.jsx("p",{className:"mt-2 text-gray-600",children:ie.comment})]},ie.id)):o.jsxs("div",{className:"text-center py-10 border rounded-lg bg-gray-50",children:[o.jsx(Io,{className:"h-8 w-8 text-gray-400 mx-auto mb-3 opacity-50"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma avaliao ainda. Seja o primeiro a avaliar!"})]})})]})})]})]})]})},"profile")})})}),o.jsx("footer",{className:"fixed bottom-0 left-0 w-full bg-white py-3 border-t border-gray-200 shadow-sm z-10",children:o.jsx("div",{className:"container mx-auto text-center px-4",children:o.jsx("p",{className:"text-xs md:text-sm text-gray-500",dangerouslySetInnerHTML:{__html:x}})})})]})):(e("/404"),null)},f1t=()=>o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-white z-50",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando..."})]})}),As=({children:t})=>{const{isAuthenticated:e,isLoading:r}=lu(),n=ac();return r?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):e?o.jsx(o.Fragment,{children:t}):o.jsx(Fue,{to:"/login",state:{from:n},replace:!0})},Es=({children:t})=>{const[e,r]=N.useState(!0),[n,a]=N.useState(null),{license:i,isLicenseValid:s,checkLicense:l}=V6(),c=Ki(),u=ac();return N.useEffect(()=>{let d=!0;const f=async()=>{try{const m=await l();if(!d)return;!m&&u.pathname!=="/license"&&c("/license",{replace:!0}),r(!1)}catch{console.error("Erro ao verificar licena"),d&&(a("Erro ao verificar licena. Por favor, tente novamente."),r(!1),u.pathname!=="/license"&&c("/license",{replace:!0}))}};return i&&s&&u.pathname!=="/license"?r(!1):f(),()=>{d=!1}},[]),e?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx(_a,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),o.jsx("p",{className:"text-lg",children:"Carregando..."})]})}):n?o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsxs("div",{className:"text-center text-red-600",children:[o.jsx("p",{children:n}),o.jsx("button",{className:"mt-4 px-4 py-2 bg-primary text-white rounded hover:bg-opacity-90",onClick:()=>c("/license",{replace:!0}),children:"Ir para pgina de licena"})]})}):!s&&u.pathname!=="/license"?(c("/license",{replace:!0}),null):o.jsx(o.Fragment,{children:t})};function h1t(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Nce=N,m1t=h1t(Nce);function EW(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p1t(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var g1t=!!(typeof window<"u"&&window.document&&window.document.createElement);function v1t(t,e,r){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],l;function c(){l=t(s.map(function(d){return d.props})),u.canUseDOM?e(l):r&&(l=r(l))}var u=function(d){p1t(f,d);function f(){return d.apply(this,arguments)||this}f.peek=function(){return l},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var v=l;return l=void 0,s=[],v};var m=f.prototype;return m.UNSAFE_componentWillMount=function(){s.push(this),c()},m.componentDidUpdate=function(){c()},m.componentWillUnmount=function(){var v=s.indexOf(this);s.splice(v,1),c()},m.render=function(){return m1t.createElement(i,this.props)},f}(Nce.PureComponent);return EW(u,"displayName","SideEffect("+n(i)+")"),EW(u,"canUseDOM",g1t),u}}var y1t=v1t;const x1t=bn(y1t);var b1t=typeof Element<"u",w1t=typeof Map=="function",S1t=typeof Set=="function",_1t=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function sj(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,a;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!sj(t[n],e[n]))return!1;return!0}var i;if(w1t&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!e.has(n.value[0]))return!1;for(i=t.entries();!(n=i.next()).done;)if(!sj(n.value[1],e.get(n.value[0])))return!1;return!0}if(S1t&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(_1t&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[n]))return!1;if(b1t&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&t.$$typeof)&&!sj(t[a[n]],e[a[n]]))return!1;return!0}return t!==t&&e!==e}var j1t=function(e,r){try{return sj(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const N1t=bn(j1t);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var CW=Object.getOwnPropertySymbols,A1t=Object.prototype.hasOwnProperty,E1t=Object.prototype.propertyIsEnumerable;function C1t(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function T1t(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var k1t=T1t()?Object.assign:function(t,e){for(var r,n=C1t(t),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var s in r)A1t.call(r,s)&&(n[s]=r[s]);if(CW){a=CW(r);for(var l=0;l<a.length;l++)E1t.call(r,a[l])&&(n[a[l]]=r[a[l]])}}return n};const P1t=bn(k1t);var Op={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Br={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Br).map(function(t){return Br[t]});var va={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},MA={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Ew={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},D1t=Object.keys(MA).reduce(function(t,e){return t[MA[e]]=e,t},{}),O1t=[Br.NOSCRIPT,Br.SCRIPT,Br.STYLE],Hc="data-react-helmet",I1t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},R1t=function(){function t(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),jo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L1t=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},TW=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},F1t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},d3=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},$1t=function(e){var r=av(e,Br.TITLE),n=av(e,Ew.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=av(e,Ew.DEFAULT_TITLE);return r||a||void 0},B1t=function(e){return av(e,Ew.ON_CHANGE_CLIENT_STATE)||function(){}},fk=function(e,r){return r.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,a){return jo({},n,a)},{})},U1t=function(e,r){return r.filter(function(n){return typeof n[Br.BASE]<"u"}).map(function(n){return n[Br.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var i=Object.keys(a),s=0;s<i.length;s++){var l=i[s],c=l.toLowerCase();if(e.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},Jx=function(e,r,n){var a={};return n.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&W1t("Helmet: "+e+' should be of type "Array". Instead found type "'+I1t(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,s){var l={};s.filter(function(m){for(var h=void 0,v=Object.keys(m),g=0;g<v.length;g++){var p=v[g],y=p.toLowerCase();r.indexOf(y)!==-1&&!(h===va.REL&&m[h].toLowerCase()==="canonical")&&!(y===va.REL&&m[y].toLowerCase()==="stylesheet")&&(h=y),r.indexOf(p)!==-1&&(p===va.INNER_HTML||p===va.CSS_TEXT||p===va.ITEM_PROP)&&(h=p)}if(!h||!m[h])return!1;var x=m[h].toLowerCase();return a[h]||(a[h]={}),l[h]||(l[h]={}),a[h][x]?!1:(l[h][x]=!0,!0)}).reverse().forEach(function(m){return i.push(m)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=P1t({},a[d],l[d]);a[d]=f}return i},[]).reverse()},av=function(e,r){for(var n=e.length-1;n>=0;n--){var a=e[n];if(a.hasOwnProperty(r))return a[r]}return null},z1t=function(e){return{baseTag:U1t([va.HREF,va.TARGET],e),bodyAttributes:fk(Op.BODY,e),defer:av(e,Ew.DEFER),encode:av(e,Ew.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:fk(Op.HTML,e),linkTags:Jx(Br.LINK,[va.REL,va.HREF],e),metaTags:Jx(Br.META,[va.NAME,va.CHARSET,va.HTTPEQUIV,va.PROPERTY,va.ITEM_PROP],e),noscriptTags:Jx(Br.NOSCRIPT,[va.INNER_HTML],e),onChangeClientState:B1t(e),scriptTags:Jx(Br.SCRIPT,[va.SRC,va.INNER_HTML],e),styleTags:Jx(Br.STYLE,[va.CSS_TEXT],e),title:$1t(e),titleAttributes:fk(Op.TITLE,e)}},f3=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout(function(){f3(e)},0)}}(),kW=function(e){return clearTimeout(e)},V1t=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||f3:global.requestAnimationFrame||f3,H1t=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||kW:global.cancelAnimationFrame||kW,W1t=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},e1=null,q1t=function(e){e1&&H1t(e1),e.defer?e1=V1t(function(){PW(e,function(){e1=null})}):(PW(e),e1=null)},PW=function(e,r){var n=e.baseTag,a=e.bodyAttributes,i=e.htmlAttributes,s=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,m=e.title,h=e.titleAttributes;h3(Br.BODY,a),h3(Br.HTML,i),G1t(m,h);var v={baseTag:d0(Br.BASE,n),linkTags:d0(Br.LINK,s),metaTags:d0(Br.META,l),noscriptTags:d0(Br.NOSCRIPT,c),scriptTags:d0(Br.SCRIPT,d),styleTags:d0(Br.STYLE,f)},g={},p={};Object.keys(v).forEach(function(y){var x=v[y],b=x.newTags,w=x.oldTags;b.length&&(g[y]=b),w.length&&(p[y]=v[y].oldTags)}),r&&r(),u(e,g,p)},Ace=function(e){return Array.isArray(e)?e.join(""):e},G1t=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=Ace(e)),h3(Br.TITLE,r)},h3=function(e,r){var n=document.getElementsByTagName(e)[0];if(n){for(var a=n.getAttribute(Hc),i=a?a.split(","):[],s=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],d=r[u]||"";n.getAttribute(u)!==d&&n.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var f=s.indexOf(u);f!==-1&&s.splice(f,1)}for(var m=s.length-1;m>=0;m--)n.removeAttribute(s[m]);i.length===s.length?n.removeAttribute(Hc):n.getAttribute(Hc)!==l.join(",")&&n.setAttribute(Hc,l.join(","))}},d0=function(e,r){var n=document.head||document.querySelector(Br.HEAD),a=n.querySelectorAll(e+"["+Hc+"]"),i=Array.prototype.slice.call(a),s=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===va.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===va.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(Hc,"true"),i.some(function(m,h){return l=h,u.isEqualNode(m)})?i.splice(l,1):s.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),s.forEach(function(c){return n.appendChild(c)}),{oldTags:i,newTags:s}},Ece=function(e){return Object.keys(e).reduce(function(r,n){var a=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return r?r+" "+a:a},"")},Y1t=function(e,r,n,a){var i=Ece(n),s=Ace(r);return i?"<"+e+" "+Hc+'="true" '+i+">"+d3(s,a)+"</"+e+">":"<"+e+" "+Hc+'="true">'+d3(s,a)+"</"+e+">"},K1t=function(e,r,n){return r.reduce(function(a,i){var s=Object.keys(i).filter(function(u){return!(u===va.INNER_HTML||u===va.CSS_TEXT)}).reduce(function(u,d){var f=typeof i[d]>"u"?d:d+'="'+d3(i[d],n)+'"';return u?u+" "+f:f},""),l=i.innerHTML||i.cssText||"",c=O1t.indexOf(e)===-1;return a+"<"+e+" "+Hc+'="true" '+s+(c?"/>":">"+l+"</"+e+">")},"")},Cce=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[MA[a]||a]=e[a],n},r)},X1t=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[D1t[a]||a]=e[a],n},r)},Z1t=function(e,r,n){var a,i=(a={key:r},a[Hc]=!0,a),s=Cce(n,i);return[W.createElement(Br.TITLE,s,r)]},Q1t=function(e,r){return r.map(function(n,a){var i,s=(i={key:a},i[Hc]=!0,i);return Object.keys(n).forEach(function(l){var c=MA[l]||l;if(c===va.INNER_HTML||c===va.CSS_TEXT){var u=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:u}}else s[c]=n[l]}),W.createElement(e,s)})},Dd=function(e,r,n){switch(e){case Br.TITLE:return{toComponent:function(){return Z1t(e,r.title,r.titleAttributes)},toString:function(){return Y1t(e,r.title,r.titleAttributes,n)}};case Op.BODY:case Op.HTML:return{toComponent:function(){return Cce(r)},toString:function(){return Ece(r)}};default:return{toComponent:function(){return Q1t(e,r)},toString:function(){return K1t(e,r,n)}}}},Tce=function(e){var r=e.baseTag,n=e.bodyAttributes,a=e.encode,i=e.htmlAttributes,s=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,f=e.title,m=f===void 0?"":f,h=e.titleAttributes;return{base:Dd(Br.BASE,r,a),bodyAttributes:Dd(Op.BODY,n,a),htmlAttributes:Dd(Op.HTML,i,a),link:Dd(Br.LINK,s,a),meta:Dd(Br.META,l,a),noscript:Dd(Br.NOSCRIPT,c,a),script:Dd(Br.SCRIPT,u,a),style:Dd(Br.STYLE,d,a),title:Dd(Br.TITLE,{title:m,titleAttributes:h},a)}},J1t=function(e){var r,n;return n=r=function(a){L1t(i,a);function i(){return M1t(this,i),F1t(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!N1t(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Br.SCRIPT:case Br.NOSCRIPT:return{innerHTML:c};case Br.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,m=l.nestedChildren;return jo({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[jo({},f,this.mapNestedChildrenToProps(u,m))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,m=l.newChildProps,h=l.nestedChildren;switch(d.type){case Br.TITLE:return jo({},f,(c={},c[d.type]=h,c.titleAttributes=jo({},m),c));case Br.BODY:return jo({},f,{bodyAttributes:jo({},m)});case Br.HTML:return jo({},f,{htmlAttributes:jo({},m)})}return jo({},f,(u={},u[d.type]=jo({},m),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=jo({},c);return Object.keys(l).forEach(function(d){var f;u=jo({},u,(f={},f[d]=l[d],f))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return W.Children.forEach(l,function(f){if(!(!f||!f.props)){var m=f.props,h=m.children,v=TW(m,["children"]),g=X1t(v);switch(u.warnOnInvalidChildren(f,h),f.type){case Br.LINK:case Br.META:case Br.NOSCRIPT:case Br.SCRIPT:case Br.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:g,nestedChildren:h});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:g,nestedChildren:h});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=TW(l,["children"]),d=jo({},u);return c&&(d=this.mapChildrenToProps(c,d)),W.createElement(e,d)},R1t(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(W.Component),r.propTypes={base:ur.object,bodyAttributes:ur.object,children:ur.oneOfType([ur.arrayOf(ur.node),ur.node]),defaultTitle:ur.string,defer:ur.bool,encodeSpecialCharacters:ur.bool,htmlAttributes:ur.object,link:ur.arrayOf(ur.object),meta:ur.arrayOf(ur.object),noscript:ur.arrayOf(ur.object),onChangeClientState:ur.func,script:ur.arrayOf(ur.object),style:ur.arrayOf(ur.object),title:ur.string,titleAttributes:ur.object,titleTemplate:ur.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var a=e.rewind();return a||(a=Tce({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},ebt=function(){return null},tbt=x1t(z1t,q1t,Tce)(ebt),m3=J1t(tbt);m3.renderStatic=m3.rewind;const rbt=()=>{const[t,e]=N.useState(""),[r,n]=N.useState(null),[a,i]=N.useState(!1),{license:s,isLoading:l,error:c,isLicenseValid:u,activateLicense:d,checkLicense:f,getDaysRemaining:m}=V6(),h=Ki();N.useEffect(()=>{if(s&&s.isActive&&u&&!a){const _=setTimeout(()=>{h("/",{replace:!0})},1500);return()=>clearTimeout(_)}},[s,u,h,a]);const v=async()=>{if(!t.trim())return;n(null),i(!1),await d(t)&&(n("Licena ativada com sucesso!"),e(""),i(!0),await f(),setTimeout(()=>{h("/",{replace:!0})},2e3))},g=()=>!s||!s.expirationDate?!0:!u,p=()=>s?s.licenseType==="enterprise"?"Enterprise":"Standard":"",y=()=>s&&s.licenseType==="enterprise"?365:30,x=()=>s&&s.licenseType==="enterprise"?"text-purple-700":"text-green-700",b=()=>s&&s.licenseType==="enterprise"?"bg-purple-500":"bg-green-500",w=async()=>{await f()};return o.jsxs("div",{className:"space-y-6",children:[c&&o.jsxs(Sl,{variant:"destructive",children:[o.jsx(hs,{className:"h-4 w-4"}),o.jsx(nc,{children:"Erro"}),o.jsxs(_l,{children:[c,c.includes("Formato de chave invlido")&&o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsx("p",{children:o.jsx("strong",{children:"Dicas para resolver:"})}),o.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[o.jsx("li",{children:"Verifique se no h espaos ou caracteres extras"}),o.jsx("li",{children:"A chave deve estar no formato correto com hfens separando os blocos"}),o.jsx("li",{children:"Se o problema persistir, tente gerar uma nova chave"})]})]})]})]}),r&&o.jsxs(Sl,{variant:"default",className:"bg-green-50 border-green-200 text-green-800",children:[o.jsx(Us,{className:"h-4 w-4 text-green-500"}),o.jsx(nc,{children:"Sucesso"}),o.jsxs(_l,{children:[r," ",a?"Redirecionando...":""]})]}),s&&s.isActive&&!g()?o.jsxs(ot,{className:s.licenseType==="enterprise"?"border-purple-200":"border-green-200",children:[o.jsxs(Ot,{className:s.licenseType==="enterprise"?"bg-purple-50 border-b border-purple-100":"bg-green-50 border-b border-green-100",children:[o.jsxs(It,{className:`flex items-center gap-2 ${x()}`,children:[s.licenseType==="enterprise"?o.jsx(Io,{className:"h-5 w-5"}):o.jsx(Us,{className:"h-5 w-5"}),"Licena ",p()," Vlida"]}),o.jsxs(Nn,{children:["Sua licena est ativa e vlida at"," ",wr(new Date(s.expirationDate),"dd/MM/yyyy",{locale:Kn}),".",a&&o.jsx("span",{className:"ml-2",children:"Redirecionando para o dashboard..."})]})]}),o.jsx(lt,{className:"pt-6 pb-2",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Cliente"}),o.jsx("p",{children:s.clientName})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Tipo"}),o.jsxs("p",{className:`flex items-center gap-1 ${x()}`,children:[s.licenseType==="enterprise"&&o.jsx(Io,{className:"h-4 w-4"}),p()]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Validade"}),o.jsxs("div",{className:"flex items-center",children:[o.jsxs("span",{className:"mr-2",children:[m," dias restantes"]}),o.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full",children:o.jsx("div",{className:`${b()} h-2 rounded-full`,style:{width:`${Math.min(100,m/y()*100)}%`}})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Ativao"}),o.jsx("p",{children:s.activationDate?wr(new Date(s.activationDate),"dd/MM/yyyy",{locale:Kn}):"N/A"})]})]})}),o.jsx(Up,{className:"border-t border-gray-100 text-sm text-gray-500 pt-4",children:o.jsxs("div",{className:"flex justify-between w-full",children:[o.jsxs("p",{children:["Durao: ",y()," dias",s.licenseType==="enterprise"&&" (1 ano)"]}),o.jsxs("p",{children:["Expira em:"," ",s.expirationDate?wr(new Date(s.expirationDate),"dd/MM/yyyy",{locale:Kn}):"N/A"]})]})})]}):o.jsxs(ot,{className:"border-red-200",children:[o.jsxs(Ot,{className:"bg-red-50 border-b border-red-100",children:[o.jsxs(It,{className:"flex items-center gap-2 text-red-700",children:[o.jsx(hs,{className:"h-5 w-5"}),"Nenhuma Licena Encontrada"]}),o.jsx(Nn,{children:"No foi encontrada nenhuma licena vlida. Por favor, ative uma licena para utilizar o sistema."})]}),o.jsx(lt,{className:"pt-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"licenseKey",className:"block text-sm font-medium mb-1",children:"Chave de Licena"}),o.jsx(mt,{id:"licenseKey",value:t,onChange:_=>e(_.target.value),placeholder:"Digite sua chave de licena",className:"w-full",autoFocus:!0})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(je,{onClick:v,disabled:l||!t.trim(),className:"flex-1",children:l?"Ativando...":"Ativar Licena"}),o.jsx(je,{onClick:w,variant:"outline",disabled:l,children:"Verificar Novamente"})]})]})}),o.jsxs(Up,{className:"border-t border-gray-100 text-sm text-gray-500 flex flex-col items-start pt-4",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(Jc,{className:"h-4 w-4"}),o.jsx("span",{children:"Sobre o Licenciamento"})]}),o.jsx("p",{children:"O Agenda Pro requer uma licena vlida para funcionar. Existem dois tipos de licena:"}),o.jsxs("ul",{className:"list-disc pl-5 mt-2",children:[o.jsxs("li",{children:[o.jsx("strong",{children:"Standard:"})," Licena com durao de 30 dias"]}),o.jsxs("li",{children:[o.jsx("strong",{children:"Enterprise:"})," Licena com durao de 1 ano (365 dias)"]})]}),o.jsx("p",{className:"mt-2",children:"Para obter uma nova licena, entre na sua rea de membros e gere uma licena atravs do sistema de gerao disponibilizado."})]})]}),s&&s.isActive&&!g()&&o.jsxs(ot,{children:[o.jsxs(Ot,{children:[o.jsx(It,{children:"Ativar Nova Licena"}),o.jsx(Nn,{children:"Se voc deseja substituir sua licena atual, insira a nova chave de licena abaixo."})]}),o.jsx(lt,{children:o.jsxs("div",{className:"flex gap-4",children:[o.jsx(mt,{value:t,onChange:_=>e(_.target.value),placeholder:"Digite sua nova chave de licena",className:"flex-1"}),o.jsx(je,{onClick:v,disabled:l||!t.trim(),children:l?"Ativando...":"Ativar"})]})})]})]})},nbt=()=>o.jsxs("div",{className:"container mx-auto py-8 px-4",children:[o.jsx(m3,{children:o.jsx("title",{children:"Licenciamento - Agenda Pro"})}),o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Licenciamento"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx(rbt,{})}),o.jsx("div",{className:"space-y-6",children:o.jsxs(ot,{children:[o.jsxs(Ot,{children:[o.jsxs(It,{className:"flex items-center gap-2",children:[o.jsx(Jc,{className:"h-5 w-5"}),"Sobre o Licenciamento"]}),o.jsx(Nn,{children:"Informaes importantes sobre o sistema de licenas"})]}),o.jsx(lt,{children:o.jsxs("div",{className:"space-y-4 text-sm",children:[o.jsx("p",{children:"O sistema de licenciamento do Agenda Pro funciona com um modelo de validao centralizada no banco de dados que garante a autenticidade da sua instalao."}),o.jsxs("div",{className:"mt-6",children:[o.jsx("p",{className:"font-medium mb-2",children:o.jsx("strong",{children:"Tipos de Licena"})}),o.jsxs("div",{className:"border rounded-md p-3 mb-3 bg-green-50 border-green-200",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-700 font-medium mb-1",children:[o.jsx(Us,{className:"h-4 w-4"}),"Standard"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Licena bsica com durao de 30 dias. Ideal para usurios que preferem pagamentos mensais."})]}),o.jsxs("div",{className:"border rounded-md p-3 bg-purple-50 border-purple-200",children:[o.jsxs("div",{className:"flex items-center gap-2 text-purple-700 font-medium mb-1",children:[o.jsx(Io,{className:"h-4 w-4"}),"Enterprise"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Licena avanada com durao de 365 dias (1 ano). Oferece o melhor custo-benefcio para uso contnuo."})]})]}),o.jsx("p",{children:"Em caso de problemas com sua licena ou dvidas sobre o sistema de licenciamento, entre em contato com o suporte."})]})})]})})]})]}),abt=new Gge,ibt=()=>{const{settingsLoaded:t}=rd();return t?o.jsxs(pj,{children:[o.jsx(Jpe,{}),o.jsx(Pge,{}),o.jsx($ue,{children:o.jsxs(Bue,{children:[o.jsx(Da,{path:"/",element:o.jsx(c1t,{})}),o.jsx(Da,{path:"/login",element:o.jsx(a1t,{})}),o.jsx(Da,{path:"/license",element:o.jsx(nbt,{})}),o.jsx(Da,{path:"/a/:shareUrl",element:o.jsx(d1t,{})}),o.jsx(Da,{path:"/s/:id",element:o.jsx(t1t,{})}),o.jsx(Da,{path:"/dashboard",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(cRe,{})})})}),o.jsx(Da,{path:"/agendamentos",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(qTe,{})})})}),o.jsx(Da,{path:"/atendentes",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(mRe,{})})})}),o.jsx(Da,{path:"/horarios",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(wRe,{})})})}),o.jsx(Da,{path:"/servicos",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(TRe,{})})})}),o.jsx(Da,{path:"/relatorios",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(t0t,{})})})}),o.jsx(Da,{path:"/financas",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(Txt,{})})})}),o.jsx(Da,{path:"/configuracoes",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(Vvt,{})})})}),o.jsx(Da,{path:"/customizacao",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(lyt,{})})})}),o.jsx(Da,{path:"/evolution-api",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(zyt,{})})})}),o.jsx(Da,{path:"/ia",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(Gyt,{})})})}),o.jsx(Da,{path:"/chatflow",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(Kyt,{})})})}),o.jsx(Da,{path:"/clientes",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(cxt,{})})})}),o.jsx(Da,{path:"/fidelidade",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(xxt,{})})})}),o.jsx(Da,{path:"/avaliacoes",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(Sxt,{})})})}),o.jsx(Da,{path:"/pesquisa",element:o.jsx(Es,{children:o.jsx(As,{children:o.jsx(Jxt,{})})})}),o.jsx(Da,{path:"*",element:o.jsx(r1t,{})})]})})]}):o.jsx(f1t,{})};function sbt(){return N.useEffect(()=>{console.log("Iniciando servio de mensagens agendadas global..."),ef.getInstance().startService()},[]),o.jsx(Qge,{client:abt,children:o.jsx(h2e,{children:o.jsx(m2e,{children:o.jsx(ibt,{})})})})}Cq(document.getElementById("root")).render(o.jsx(sbt,{}));export{lNe as _};
